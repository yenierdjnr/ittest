{
  "description": "This series covers implementing and managing Red Hat Enterprise Linux (RHEL) v7.  RHEL v7 is the leading commercial Linux server software used by corporations around the world.  Topics covered by this series include installation, configuration, troubleshooting, and backup and recovery.  The goal of this series is to prepare any systems administrator to be able to support RHEL v7 in a production environment.",
  "descriptionMD": "",
  "length": "59624",
  "name": "Red Hat Enterprise Linux",
  "practiceExam": false,
  "subtitle": "World's leading enterprise Linux platform",
  "tagUrl": "systems-admin",
  "topics": [
    {
      "episodes": [
        {
          "description": "This series covers implementing and managing Red Hat Enterprise Linux (RHEL) v7. RHEL v7 is the leading commercial Linux server software used by corporations around the world. Topics covered by this series include installation, configuration, troubleshooting, and backup and recovery. The goal of this series is to prepare any systems administrator to be able to support RHEL v7 in a production environment.",
          "length": "239",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-rhel7-0-0-overview-120516-PGM.00_00_03_09.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-rhel7-0-0-overview-120516-PGM.00_00_03_09.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-rhel7-0-0-overview-120516-PGM.00_00_03_09.Still001-sm.jpg",
          "title": "Overview",
          "transcript": "WEBVTT\n\n1\n00:00:00.025 --> 00:00:01.937\n[SOUND] In this series,\n\n2\n00:00:01.937 --> 00:00:07.786\nwe're gonna be taking a look at\nRed Hat Enterprise Linux version 7.\n\n3\n00:00:07.786 --> 00:00:09.660\nNow most of you have\nalready heard of the OS.\n\n4\n00:00:09.660 --> 00:00:12.255\nIt's why you're here, but\nfor those who haven't,\n\n5\n00:00:12.255 --> 00:00:15.320\nRHEL is the largest commercially\nsupported version of Linux.\n\n6\n00:00:15.320 --> 00:00:18.250\nAnd what that means is,\nyou can go and you can pay for it,\n\n7\n00:00:18.250 --> 00:00:19.910\nwhich I know sounds contradictory for\nLinux,\n\n8\n00:00:19.910 --> 00:00:22.160\nthat normally we get it for\nfree from the various providers.\n\n9\n00:00:22.160 --> 00:00:26.110\nBut we can pay for it, and in exchange for\nthat payment, we get support.\n\n10\n00:00:26.110 --> 00:00:29.830\nWe get an actual corporate entity\nsitting behind the distribution that's\n\n11\n00:00:29.830 --> 00:00:32.270\navailable to assist us\nwhen we have problems.\n\n12\n00:00:32.270 --> 00:00:35.734\nAnd that's really something that's\nextremely important if you're using\n\n13\n00:00:35.734 --> 00:00:37.420\nLinux in a production environment.\n\n14\n00:00:37.420 --> 00:00:39.560\nAnd let me tell you, a lot of people are.\n\n15\n00:00:39.560 --> 00:00:40.793\nWhen you go out on the Internet,\n\n16\n00:00:40.793 --> 00:00:43.776\nthe majority of web servers you hit\nthese days are Linux-based web servers.\n\n17\n00:00:43.776 --> 00:00:46.890\nFortune 500 companies rely\non it every single day.\n\n18\n00:00:46.890 --> 00:00:51.137\nAll of the big Tech startups that are out\nthere using on a regular basis, and\n\n19\n00:00:51.137 --> 00:00:53.169\nRed Hat is at the forefront of that.\n\n20\n00:00:53.169 --> 00:00:55.228\nNow, because there's a pay element to it,\n\n21\n00:00:55.228 --> 00:00:57.588\na lot of people don't have\na lot of exposure to it.\n\n22\n00:00:57.588 --> 00:00:59.357\nBut you'd actually be surprised.\n\n23\n00:00:59.357 --> 00:01:02.481\nMany of the free Linux\ndistributions that are out there,\n\n24\n00:01:02.481 --> 00:01:04.890\nare based on the work that Red Hat does.\n\n25\n00:01:04.890 --> 00:01:07.010\nSo if you've run CENTOS,\n\n26\n00:01:07.010 --> 00:01:10.780\nwhich is the Community Enterprise\nOperating System, it is actually build\n\n27\n00:01:10.780 --> 00:01:15.460\nright off of the public open Source\ncode from Red Hat Enterprise Linux.\n\n28\n00:01:15.460 --> 00:01:16.990\nOracle Linux, same thing.\n\n29\n00:01:16.990 --> 00:01:21.900\nBuilt right off of Red Hat's code base,\nand even Amazon's Linux AMI that they\n\n30\n00:01:21.900 --> 00:01:25.170\nuse on Amazon web services that is used\nby millions of virtual machines around\n\n31\n00:01:25.170 --> 00:01:29.200\nthe world also built off of\nRed Hat's open source code base.\n\n32\n00:01:29.200 --> 00:01:31.370\nSo the work that Red Hat\ndoes to improve and\n\n33\n00:01:31.370 --> 00:01:35.140\nsecure their product, gets out there and\nimproves other platforms too.\n\n34\n00:01:35.140 --> 00:01:38.980\nSo if you've worked with CENTOS,\nor the Linux AMI from Amazon, or\n\n35\n00:01:38.980 --> 00:01:42.430\nOracle Linux you've actually already\nworked with Red Hat, and your skillset\n\n36\n00:01:42.430 --> 00:01:46.210\nmoves right into it, and everything's nice\nand the same, and that works out great.\n\n37\n00:01:46.210 --> 00:01:50.240\nBut in addition if something goes\nwrong You can pick up the phone,\n\n38\n00:01:50.240 --> 00:01:51.860\nopen up a support ticket with Red Hat, and\n\n39\n00:01:51.860 --> 00:01:53.710\ntheir engineers will help\nyou through the problems.\n\n40\n00:01:53.710 --> 00:01:56.530\nThat's what makes it\nsuch a robust platform.\n\n41\n00:01:56.530 --> 00:01:59.080\nNow, in this video series, what we're\ngonna do is we're gonna take a look\n\n42\n00:01:59.080 --> 00:02:02.790\nnot just at what Red Hat Enterprise Linux\nis, but how we can use it.\n\n43\n00:02:02.790 --> 00:02:05.450\nAnd we're gonna run through some of\nthe different configuration schemes and\n\n44\n00:02:05.450 --> 00:02:08.800\nsettings, the way that we configure\nthe system and get it online, and\n\n45\n00:02:08.800 --> 00:02:11.920\nmake it where you can get out there\nin a production environment and\n\n46\n00:02:11.920 --> 00:02:13.240\nuse it to its fullest.\n\n47\n00:02:13.240 --> 00:02:16.315\nWe start by taking a look at how to\ninstall Red Hat Enterprise Linux.\n\n48\n00:02:16.315 --> 00:02:18.770\nEither doing it manually or\ndoing it automated.\n\n49\n00:02:18.770 --> 00:02:21.340\nIf you need to roll out to a thousand\nmachines, you don't want to go and\n\n50\n00:02:21.340 --> 00:02:22.310\ndo this by hand.\n\n51\n00:02:22.310 --> 00:02:24.190\nWe'll show you how to create\na custom installer and\n\n52\n00:02:24.190 --> 00:02:25.960\nactually get that installation going.\n\n53\n00:02:25.960 --> 00:02:28.600\nWe'll show how to use\nthe security features inside of\n\n54\n00:02:28.600 --> 00:02:29.750\nRed Hat Enterprise Linux.\n\n55\n00:02:29.750 --> 00:02:31.940\nThere's SE Linux and Firewalld.\n\n56\n00:02:31.940 --> 00:02:35.350\nThere's all sorts of additional\nsecurity sublayers that are in there.\n\n57\n00:02:35.350 --> 00:02:37.460\nAnd we show how they work,\nhow you configure them,\n\n58\n00:02:37.460 --> 00:02:41.560\nand how you can maintain them to maintain\nthe most secure operating system possible.\n\n59\n00:02:41.560 --> 00:02:45.480\nWe also spend a good bit of time looking\nat file systems, choosing the right file\n\n60\n00:02:45.480 --> 00:02:48.950\nsystem really does have a big impact\non how your server performs, and so\n\n61\n00:02:48.950 --> 00:02:52.550\nwe get a chance to see that and how it\nworks inside of the Red Hat environment.\n\n62\n00:02:52.550 --> 00:02:54.287\nAnd then lastly,\nwe throw in some odds and ends.\n\n63\n00:02:54.287 --> 00:02:57.899\nSome other services and things that you\nmight need out there in the real world,\n\n64\n00:02:57.899 --> 00:03:01.507\nlike how to back up the system, how to\ndo snapshots, how to install software,\n\n65\n00:03:01.507 --> 00:03:03.641\nthird-party software, and maintain that,\n\n66\n00:03:03.641 --> 00:03:06.787\nhow to use the graphical user\ninterface as well as the command line.\n\n67\n00:03:06.787 --> 00:03:10.197\nAnd all the other skills that are needed\nfor a systems administrator that's gonna\n\n68\n00:03:10.197 --> 00:03:12.800\nbe supporting\na Red Hat Enterprise Linux environment.\n\n69\n00:03:12.800 --> 00:03:14.320\nSo if you're that kind of person,\n\n70\n00:03:14.320 --> 00:03:17.670\nif you're tasked to the job of supporting\nRed Hat, this is the place for you.\n\n71\n00:03:17.670 --> 00:03:20.480\nIf you just wanna learn more about it,\nif you're a hobbyist and you wanna explore\n\n72\n00:03:20.480 --> 00:03:24.250\nthe world of Red Hat Enterprise Linux,\nagain, another great place to jump in.\n\n73\n00:03:24.250 --> 00:03:26.890\nIf you're just getting started with Linux,\nthough, if you've never really touched\n\n74\n00:03:26.890 --> 00:03:30.150\nthe OS before, this might not be\nthe best place for you to start.\n\n75\n00:03:30.150 --> 00:03:33.237\nYou might wanna check out some of\nthe other shows we have on ITPRO.TV,\n\n76\n00:03:33.237 --> 00:03:36.585\nlike the Linux+ content, where we take\nyou from no Linux skill all the way up\n\n77\n00:03:36.585 --> 00:03:39.015\nto being proficient as\na basic system administrator.\n\n78\n00:03:39.015 --> 00:03:41.240\nThat's a great starting point for you.\n\n79\n00:03:41.240 --> 00:03:42.883\nBut if you've already worked with Linux,\nand\n\n80\n00:03:42.883 --> 00:03:45.455\nyou're more concerned with just\nlearning the differences in Red Hat and\n\n81\n00:03:45.455 --> 00:03:48.002\nhow we can support it in our environment,\nthen this is the show for you.\n\n82\n00:03:48.002 --> 00:03:50.786\nAnd if this sounds interesting,\nwell stay tuned,\n\n83\n00:03:50.786 --> 00:03:55.069\ncuz we've got episodes of Red Hat\nEnterprise Linux version 7 coming up next.\n\n84\n00:03:55.069 --> 00:03:58.539\n[SOUND]\n\n",
          "vimeoId": "197905407"
        },
        {
          "description": "In this episode, Daniel and Don demonstrate installing Red Hat Enterprise Linux; installing both RHEL7 with Graphical User Interface and RHEL7 CLI-Only. They take you through each step from start to finish, including setting the date and time/timezone, security policy settings, network settings, and base-software installation.",
          "length": "2210",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-1-1-installing_rhel7-111416.00_36_35_10.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-1-1-installing_rhel7-111416.00_36_35_10.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-1-1-installing_rhel7-111416.00_36_35_10.Still001-sm.jpg",
          "title": "Installing RHEL7",
          "transcript": "WEBVTT\n\n1\n00:00:00.088 --> 00:00:06.488\nWelcome to ITPro.TV,\nI am your host Don Pezet, [CROSSTALK]\n\n2\n00:00:06.488 --> 00:00:08.367\n[MUSIC]\n\n3\n00:00:08.367 --> 00:00:13.817\n&gt;&gt; You're watch ITPro.TV\n&gt;&gt; All right, greetings everyone\n\n4\n00:00:13.817 --> 00:00:17.950\nwelcome to another exciting episode of\nITPro.TV, I'm your host Daniel Lowrie.\n\n5\n00:00:17.950 --> 00:00:20.550\nIn today's episodes we are kicking off\n\n6\n00:00:20.550 --> 00:00:24.025\nour Red Hat Enterprise Linux\nversion seven series.\n\n7\n00:00:24.025 --> 00:00:27.517\nJoining me in the studio to walk us\nthrough this, to hold us by the hand,\n\n8\n00:00:27.517 --> 00:00:30.895\nto everything we need to know about\nmaking that happen for our lives,\n\n9\n00:00:30.895 --> 00:00:32.600\nis our good friend Mr. Don Pezet.\n\n10\n00:00:32.600 --> 00:00:33.662\nDon, welcome to the show sir.\n\n11\n00:00:33.662 --> 00:00:34.421\nHow's it going today?\n\n12\n00:00:34.421 --> 00:00:36.035\n&gt;&gt; It's going great Daniel,\nthanks for having me.\n\n13\n00:00:36.035 --> 00:00:40.148\nAnd yeah, just kind of excited to dive\nright into Red Hat Enterprise Linux.\n\n14\n00:00:40.148 --> 00:00:42.637\nWe've done a lot of Linux\ntraining on ITPro.TV, and\n\n15\n00:00:42.637 --> 00:00:44.643\nyou guys have probably watched some of it.\n\n16\n00:00:44.643 --> 00:00:48.930\nBut we usually try and\nstay somewhat vendor distribution neutral.\n\n17\n00:00:48.930 --> 00:00:51.982\nBut in this episode I get to throw all\nof that to the winds and just say look,\n\n18\n00:00:51.982 --> 00:00:53.916\nwe're focusing on\nRed Hat Enterprise Linux.\n\n19\n00:00:53.916 --> 00:00:57.699\nAnd if we want to learn it,\nthe first thing we need to do is get it,\n\n20\n00:00:57.699 --> 00:01:02.130\nget a copy of Red Hat Enterprise Linux,\nget it installed, and give it a go.\n\n21\n00:01:02.130 --> 00:01:08.539\nNow in the past, that meant we need to\ngo out and purchase a copy of RATO.\n\n22\n00:01:08.539 --> 00:01:12.542\nIt used to be something like $300\na license for work station side, and\n\n23\n00:01:12.542 --> 00:01:16.170\n$800 a license for the server side,\nsomewhere around there.\n\n24\n00:01:16.170 --> 00:01:18.230\nI mean obviously,\nthere's educational pricing and\n\n25\n00:01:18.230 --> 00:01:19.830\nall these other things that affect it.\n\n26\n00:01:19.830 --> 00:01:23.094\nBut or those of you that are just trying\nto learn Red Hat Enterprise Linux,\n\n27\n00:01:23.094 --> 00:01:25.475\nyou can actually go join\ntheir developer community.\n\n28\n00:01:25.475 --> 00:01:28.494\nWhen you join the developer community,\nyou get a license for free.\n\n29\n00:01:28.494 --> 00:01:31.356\nIt's actually one physical\nmachine licence, and\n\n30\n00:01:31.356 --> 00:01:34.491\nI think it's as many virtual\nmachines as you wanna run.\n\n31\n00:01:34.491 --> 00:01:37.854\nSo you can fire up a bunch of VMs, and\nbuild a lab and have a lot of fun with it.\n\n32\n00:01:37.854 --> 00:01:40.714\nAnd kind of test it, and\nsee how you're gonna use it.\n\n33\n00:01:40.714 --> 00:01:43.147\nNow, obviously that's not suitable for\nin production, and\n\n34\n00:01:43.147 --> 00:01:44.610\nthat's where you need to pay for it.\n\n35\n00:01:44.610 --> 00:01:48.443\nSo if you thought you couldn't\ninstall Red Hat Enterprise Linux,\n\n36\n00:01:48.443 --> 00:01:52.221\nbecause it had a price tag attached to it,\nno, that's the case.\n\n37\n00:01:52.221 --> 00:01:53.998\nActually, let me go and\npull up the website.\n\n38\n00:01:53.998 --> 00:01:58.283\nIf you ever want to do this,\nyou can go to Red Hat's website.\n\n39\n00:01:58.283 --> 00:02:01.469\nIf you just go to the page for\ntheir Linux platforms, here it is,\n\n40\n00:02:01.469 --> 00:02:04.420\nit's gonna require you to reach and\npurchase the license.\n\n41\n00:02:04.420 --> 00:02:07.335\nThey've got all the information on\nhere that you can jump in and do that.\n\n42\n00:02:07.335 --> 00:02:11.625\nAnd it is a great product that I've used\nin a number of different companies over\n\n43\n00:02:11.625 --> 00:02:12.275\nthe years.\n\n44\n00:02:12.275 --> 00:02:15.999\nBut if you go to developers.redhat.com, so\n\n45\n00:02:15.999 --> 00:02:20.230\nthis page right here,\ndevelopers.redhat.com.\n\n46\n00:02:20.230 --> 00:02:24.350\nThis is where you can come in, and\nyou can join the Developer Network.\n\n47\n00:02:24.350 --> 00:02:28.618\nAnd that's how you can get a free license,\nwhich is excellent for learning and\n\n48\n00:02:28.618 --> 00:02:29.919\ntraining and testing.\n\n49\n00:02:29.919 --> 00:02:33.273\nAnd then you purchase to use in\nproduction as needed, all right?\n\n50\n00:02:33.273 --> 00:02:36.953\nSo just a word of advice,\nif you need to get a copy of RHEL.\n\n51\n00:02:36.953 --> 00:02:39.983\nNow to get it installed,\nwhen you join the Dev Program or\n\n52\n00:02:39.983 --> 00:02:43.289\nwhen you purchase a license,\nyou'll receive an ISO image.\n\n53\n00:02:43.289 --> 00:02:45.881\nAnd the ISO image is actually the same,\nwhether you got it for free or\n\n54\n00:02:45.881 --> 00:02:46.848\nwhether you paid for it.\n\n55\n00:02:46.848 --> 00:02:49.298\nThe ISO image is identical,\nwhen we install Red Hat Linux,\n\n56\n00:02:49.298 --> 00:02:52.397\nwhat you're gonna notice is it doesn't\nreally bug us during the install.\n\n57\n00:02:52.397 --> 00:02:57.084\nWe go through, we get it all installed,\nbut once the installation is done,\n\n58\n00:02:57.084 --> 00:03:00.101\nit's going to start asking for\na subscription.\n\n59\n00:03:00.101 --> 00:03:05.403\nAnd the subscription is what you paying\nfor, the subscription includes updates.\n\n60\n00:03:05.403 --> 00:03:09.760\nSo if you just install\nRed Hat Enterprise Linux of the discs,\n\n61\n00:03:09.760 --> 00:03:11.645\nyou don't give updates.\n\n62\n00:03:11.645 --> 00:03:14.121\nYou can't reach out to our repository\nimportant of data files, and\n\n63\n00:03:14.121 --> 00:03:16.859\nthat's a real problem especially,\nif it's an Internet expose machine,\n\n64\n00:03:16.859 --> 00:03:18.320\nwe certainly know what that.\n\n65\n00:03:18.320 --> 00:03:20.405\nBut even just as far as\ncustomizing features,\n\n66\n00:03:20.405 --> 00:03:22.488\nif you wanna add resources\nafter the install,\n\n67\n00:03:22.488 --> 00:03:25.759\nyou really have to struggle to do that,\ncuz it's all kind of turned off.\n\n68\n00:03:25.759 --> 00:03:29.730\nAs soon as you activate a subscription,\nthat's when it all becomes active.\n\n69\n00:03:29.730 --> 00:03:32.640\nSo we're gonna run through\nthe installation here in this episode, and\n\n70\n00:03:32.640 --> 00:03:34.492\nI'm gonna show you each\npoint along the way.\n\n71\n00:03:34.492 --> 00:03:37.343\nAnd we'll kind of get to that point where\nyou have to do the subscription and\n\n72\n00:03:37.343 --> 00:03:39.258\npunch that data in,\nwe'll get a chance to see it.\n\n73\n00:03:39.258 --> 00:03:42.113\nNow if you're gonna install Red Hat Linux,\nstep one, is get it, right?\n\n74\n00:03:42.113 --> 00:03:45.305\nSo that's what I just talked about,\nwe got to get that ISO image and\n\n75\n00:03:45.305 --> 00:03:47.550\nthen we get prepared to do the install.\n\n76\n00:03:47.550 --> 00:03:51.400\nYou can burn the ISO image to\na physical disk, if you're in 1995.\n\n77\n00:03:51.400 --> 00:03:54.310\n&gt;&gt; [LAUGH]\n&gt;&gt; But if you're in today as there,\n\n78\n00:03:54.310 --> 00:03:58.729\nwe normally kind of burn it on to USB\nkey to get that bootable USB media.\n\n79\n00:03:58.729 --> 00:04:02.806\nOnce that's done, it really installs\njust like any other operating system.\n\n80\n00:04:02.806 --> 00:04:05.476\nWe fire it up and\nwe start to run through our processes.\n\n81\n00:04:05.476 --> 00:04:07.723\nNow most of us don't even\nburn to a USB key anymore,\n\n82\n00:04:07.723 --> 00:04:11.490\nbecause the majority of servers deployed\ntoday are virtual machines, right?\n\n83\n00:04:11.490 --> 00:04:16.140\nSo whatever virtualization software you're\nusing, you simply mount the ISO image and\n\n84\n00:04:16.140 --> 00:04:18.240\nfire it up from there to\nget the OS installed.\n\n85\n00:04:18.240 --> 00:04:20.746\n&gt;&gt; Now Don, we were joking before\nthe show started about yeah,\n\n86\n00:04:20.746 --> 00:04:22.414\nit's real easy to get Red Hat installed.\n\n87\n00:04:22.414 --> 00:04:24.509\nYou run the AWS, and\nyou fire up an instance-\n\n88\n00:04:24.509 --> 00:04:25.123\n&gt;&gt; [LAUGH]\n\n89\n00:04:25.123 --> 00:04:26.456\n&gt;&gt; And you say, I want Red Hat Linux, and\n\n90\n00:04:26.456 --> 00:04:27.847\nthere you go, you're up and running.\n\n91\n00:04:27.847 --> 00:04:31.544\nAnd while that is legitimate, you could do\nthat, and you would have Red Hat Linux.\n\n92\n00:04:31.544 --> 00:04:33.531\nYou'd be able to use it as you like, but\n\n93\n00:04:33.531 --> 00:04:37.766\nyou don't get that installation experience\nbecause they kind of did that for you.\n\n94\n00:04:37.766 --> 00:04:40.243\nAnd this is where it is good to\nbe able to walk through this,\n\n95\n00:04:40.243 --> 00:04:42.688\nbecause you might not be doing\nthat in your environment.\n\n96\n00:04:42.688 --> 00:04:43.588\n&gt;&gt; Absolutely, and\n\n97\n00:04:43.588 --> 00:04:46.588\nI do wanna show a couple of\ndifferent ways to do the install.\n\n98\n00:04:46.588 --> 00:04:48.278\nIn this episode,\nwe're gonna do the manual one, right?\n\n99\n00:04:48.278 --> 00:04:50.802\nSo we're gonna manually go through and\ndo the installation.\n\n100\n00:04:50.802 --> 00:04:54.645\nIn another episode, we'll do what's\ncalled the Kickstart process, and\n\n101\n00:04:54.645 --> 00:04:57.521\nKickstart is where you can\nautomate the installation.\n\n102\n00:04:57.521 --> 00:05:01.552\nThat's really handy,\nbecause maybe you're a developer, and\n\n103\n00:05:01.552 --> 00:05:04.101\nyou work with like a LAMP stack, right?\n\n104\n00:05:04.101 --> 00:05:07.446\nLinux, Apache, MySQL, PHP.\n\n105\n00:05:07.446 --> 00:05:09.607\nAnd so you constantly have\nto deploy machines, and\n\n106\n00:05:09.607 --> 00:05:11.324\ngo in an install those four components.\n\n107\n00:05:11.324 --> 00:05:12.921\nWell I guess Linux would\nalready be installed.\n\n108\n00:05:12.921 --> 00:05:16.448\nBut the other components you have to\ninstall, well we could create a kick start\n\n109\n00:05:16.448 --> 00:05:20.670\npackage that just automatically deployed,\nit configured the way that we wanted it.\n\n110\n00:05:20.670 --> 00:05:25.230\nAnd that's what you're getting when you\ngo to a cloud service like Azure or\n\n111\n00:05:25.230 --> 00:05:26.260\nAWS or Rackspace.\n\n112\n00:05:26.260 --> 00:05:28.984\nSomewhere like that where you're deploying\nRed Hat servers very quickly is,\n\n113\n00:05:28.984 --> 00:05:30.388\nthey're basically using Kickstart and\n\n114\n00:05:30.388 --> 00:05:32.833\nother automation tools to be able to\nbring that stuff up really quick.\n\n115\n00:05:32.833 --> 00:05:35.367\nSo we'll see that in another episode.\n\n116\n00:05:35.367 --> 00:05:39.152\nBut as far as the manual process, there's\nreally just one big decision that we have\n\n117\n00:05:39.152 --> 00:05:43.000\nto make, and that's whether or\nnot we want a graphical user interface.\n\n118\n00:05:43.000 --> 00:05:46.518\nWhen we're deploying a server,\nwe typically don't want a GUI.\n\n119\n00:05:46.518 --> 00:05:48.516\nWe want a command line install,\n\n120\n00:05:48.516 --> 00:05:53.630\nbecause we're trying to save as much in\nthe way of resources as possible, right?\n\n121\n00:05:53.630 --> 00:05:56.233\nGraphical user interfaces are nice\nwhen you're standing right in front of\n\n122\n00:05:56.233 --> 00:05:56.737\nthe machine.\n\n123\n00:05:56.737 --> 00:06:00.532\nBut servers, we don't normally stand in\nfront of them, as we're normally gonna\n\n124\n00:06:00.532 --> 00:06:03.732\nleave the GUI off and just have the CLI,\nthe command line interface.\n\n125\n00:06:03.732 --> 00:06:07.515\n&gt;&gt; Is this what's meant by being headless,\nwhen you hear the term bounce around,\n\n126\n00:06:07.515 --> 00:06:08.880\nyou have a headless server?\n\n127\n00:06:08.880 --> 00:06:10.888\n&gt;&gt; Yeah,\nwhen you walk into a modern datacenter,\n\n128\n00:06:10.888 --> 00:06:13.425\nyou might see a thousand servers in wraps.\n\n129\n00:06:13.425 --> 00:06:14.433\nHow many monitors do you see?\n\n130\n00:06:14.433 --> 00:06:16.611\nMaybe none, right?\n\n131\n00:06:16.611 --> 00:06:18.829\nWe deploy these servers and\nwe don't stick monitors on them,\n\n132\n00:06:18.829 --> 00:06:21.590\nbecause nobody's ever standing\nright in front of the server.\n\n133\n00:06:21.590 --> 00:06:24.943\nInstead we'll remotely connecting in,\nso it's considered headless and\n\n134\n00:06:24.943 --> 00:06:26.016\nthat it has no monitor.\n\n135\n00:06:26.016 --> 00:06:30.636\nUsually no keyboard or mouse either, but\nthey might, or there might be a KBM or\n\n136\n00:06:30.636 --> 00:06:32.606\nshared across all the machines.\n\n137\n00:06:32.606 --> 00:06:34.939\nBut the odds are that it's not connected\nto that particular machine at that\n\n138\n00:06:34.939 --> 00:06:35.547\nparticular time.\n\n139\n00:06:35.547 --> 00:06:40.140\nAnd if it's headless, you dont need a GUI,\nyou are just wasting RAM and CPU and\n\n140\n00:06:40.140 --> 00:06:41.260\nhard drive space.\n\n141\n00:06:41.260 --> 00:06:44.740\nEven though hard drive space really not\nis something to worry about anymore, but\n\n142\n00:06:44.740 --> 00:06:46.978\nyou are just wasting those resources.\n\n143\n00:06:46.978 --> 00:06:49.485\nBut if it's something\nthat youre learning on or\n\n144\n00:06:49.485 --> 00:06:53.383\nmaybe even saw it on your laptop to be\nyour daily driver operating system.\n\n145\n00:06:53.383 --> 00:06:55.644\nYou probably want a GUI for\nthat a graph fusion interface.\n\n146\n00:06:55.644 --> 00:06:58.154\nIt makes multi tasking\na little bit easier, and\n\n147\n00:06:58.154 --> 00:07:01.185\nit's kinda hard to browse\nthe web from the command line.\n\n148\n00:07:01.185 --> 00:07:02.220\nYou can certainly do it, right?\n\n149\n00:07:02.220 --> 00:07:04.785\nWe got the trusty old wing, [CROSSTALK]\n&gt;&gt; Right, links baby.\n\n150\n00:07:04.785 --> 00:07:08.374\n&gt;&gt; But it's certainly not ideal,\nand it's hard to log-\n\n151\n00:07:08.374 --> 00:07:08.883\n&gt;&gt; [LAUGH]\n\n152\n00:07:08.883 --> 00:07:09.550\n&gt;&gt; Into your email accounts\n\n153\n00:07:09.550 --> 00:07:10.126\nand things that way.\n\n154\n00:07:10.126 --> 00:07:13.297\nSo that is a decision we have\nto make during the install,\n\n155\n00:07:13.297 --> 00:07:15.594\nnda we will run through both processes.\n\n156\n00:07:15.594 --> 00:07:18.718\nBut what I wanna do is,\nI want to fire up and install,\n\n157\n00:07:18.718 --> 00:07:21.288\nand we are gonna run through that process.\n\n158\n00:07:21.288 --> 00:07:24.003\nSo I got a machine firing up right here,\nand\n\n159\n00:07:24.003 --> 00:07:27.181\nwhen you boot off of\na Red Hat installation media.\n\n160\n00:07:27.181 --> 00:07:30.180\nSo a CD, DVD, or a USB key,\n\n161\n00:07:30.180 --> 00:07:35.278\nI think it's pretty hard\nto do a CD these days.\n\n162\n00:07:35.278 --> 00:07:39.328\nThe ISO image itself is around 4 gigs in\nsize, so you're really looking at a DVD or\n\n163\n00:07:39.328 --> 00:07:39.926\na USB keep.\n\n164\n00:07:39.926 --> 00:07:43.436\nWhen you boot up, you're gonna see this\ninstallation option right here, and\n\n165\n00:07:43.436 --> 00:07:45.390\nyou've got two choices, right?\n\n166\n00:07:45.390 --> 00:07:49.746\nThe first option is install Red Hat\nEnterprise Linux, and I'm doing 7.2,\n\n167\n00:07:49.746 --> 00:07:53.119\nwhich is the most recent one as\nof the taping of this episode.\n\n168\n00:07:53.119 --> 00:07:55.632\nYou might have a newer one\nby the time you watch it.\n\n169\n00:07:55.632 --> 00:07:59.283\nThe other option is test this media and\ninstall Red Hat Enterprise Linux.\n\n170\n00:07:59.283 --> 00:08:01.965\nNow, Why do we have that option?\n\n171\n00:08:01.965 --> 00:08:06.771\nThe reason is during the days of CDs and\nDVDs, the discs they can get scratched,\n\n172\n00:08:06.771 --> 00:08:08.942\nthey can get damaged, it happens.\n\n173\n00:08:08.942 --> 00:08:10.982\nAnd so\nyou get halfway through the install and\n\n174\n00:08:10.982 --> 00:08:13.160\nyou start getting errors on the screen.\n\n175\n00:08:13.160 --> 00:08:15.890\nAnd it's not an error because\nyou've got bad memory, or\n\n176\n00:08:15.890 --> 00:08:18.500\nan error because the people at\nRed Hat don't know what they doing.\n\n177\n00:08:18.500 --> 00:08:22.150\nIt's an error because there's a scratch on\nthe disk and it can't read that content.\n\n178\n00:08:22.150 --> 00:08:24.780\nUSB keys have a limited\nread/write lifetime.\n\n179\n00:08:24.780 --> 00:08:27.600\nIf you write to them enough,\neventually they start to break down.\n\n180\n00:08:27.600 --> 00:08:31.130\nAnd so, again, you might have bad install\nmedia, here's a chance to test it.\n\n181\n00:08:31.130 --> 00:08:34.960\nNow if you're doing a virtual machine,\nlike I am, it's an ISO image.\n\n182\n00:08:34.960 --> 00:08:38.830\nSo it's a binary block of\ndata on the hard drive.\n\n183\n00:08:38.830 --> 00:08:41.420\nI don't have to worry about it being\ndamaged, so I can just skip it.\n\n184\n00:08:41.420 --> 00:08:43.592\nOtherwise the installation's gonna\nbe the same, it's just whether or\n\n185\n00:08:43.592 --> 00:08:44.275\nnot we test the media.\n\n186\n00:08:46.436 --> 00:08:47.151\nAll right, and\n\n187\n00:08:47.151 --> 00:08:50.700\nafter we move past that it's gonna\nkick us into the installation process.\n\n188\n00:08:50.700 --> 00:08:55.460\nNow the installer for Red Hat is actually\na little process called Anaconda.\n\n189\n00:08:55.460 --> 00:09:00.510\nAnd it's going to launch into this and\ngive us a graphical user interface,\n\n190\n00:09:00.510 --> 00:09:03.800\nassuming that your video card\nis a standard video card.\n\n191\n00:09:03.800 --> 00:09:07.470\nIf you've got some really whacked\nout video card in your server or\n\n192\n00:09:07.470 --> 00:09:12.970\nyour virtual machine, then it's possible\nthat the GUI might not be able to load.\n\n193\n00:09:12.970 --> 00:09:16.950\nAnd if that happens, then it takes\nyou to a text-based installer.\n\n194\n00:09:16.950 --> 00:09:18.240\nAnd you see the same menus,\n\n195\n00:09:18.240 --> 00:09:21.980\nyou see the same options, it's just\nbeing rendered in text instead of\n\n196\n00:09:21.980 --> 00:09:25.340\nbeing rendered in a nice graphical\nenvironment like what you're seeing here.\n\n197\n00:09:25.340 --> 00:09:26.230\n&gt;&gt; Now Don if that happens,\n\n198\n00:09:26.230 --> 00:09:28.890\ndoes that mean that you're just dead\nin the water when it comes to a GUI?\n\n199\n00:09:28.890 --> 00:09:32.670\nYou'd have to either replace your graphics\ncard to something more compatible or\n\n200\n00:09:32.670 --> 00:09:35.530\nare you gonna be able to maybe fix\nthat after you get it installed?\n\n201\n00:09:35.530 --> 00:09:36.860\n&gt;&gt; Well, you've got two choices, right?\n\n202\n00:09:36.860 --> 00:09:39.060\nSo, you can certainly fix\nit after it's installed.\n\n203\n00:09:39.060 --> 00:09:42.520\nAfter you get fired up and running,\nit just means whatever driver for\n\n204\n00:09:42.520 --> 00:09:45.890\nyour video card either wasn't recognized,\nso you just need to force it.\n\n205\n00:09:45.890 --> 00:09:50.240\nOr the driver wasn't built in, so you can\ninstall a driver for that video card.\n\n206\n00:09:50.240 --> 00:09:52.600\nSo, that's one route,\nis fixing it afterwards.\n\n207\n00:09:52.600 --> 00:09:53.650\nBut to be honest with you, for\n\n208\n00:09:53.650 --> 00:09:57.530\nme, if I'm doing a headless server anyway,\nwhat do I care?\n\n209\n00:09:57.530 --> 00:10:01.630\nSo you do the text install and,\nbig deal, video card driver's not there.\n\n210\n00:10:01.630 --> 00:10:03.850\nI'm not worried about it cuz I'm\nnot using that anyway, right?\n\n211\n00:10:03.850 --> 00:10:04.960\nSo you might not worry about it.\n\n212\n00:10:04.960 --> 00:10:09.270\nIf it were my network adaptor or my\nstorage controller, I worry about those.\n\n213\n00:10:09.270 --> 00:10:11.030\nThose affect performance.\n\n214\n00:10:11.030 --> 00:10:12.390\nVideo card?\n\n215\n00:10:12.390 --> 00:10:16.050\nIf its a desktop or\na work station laptop then I'd care, but\n\n216\n00:10:16.050 --> 00:10:18.220\notherwise I wouldn't worry about it.\n\n217\n00:10:18.220 --> 00:10:22.036\nAll right, you'll also notice that when I\nstarted the install it's put me into a low\n\n218\n00:10:22.036 --> 00:10:22.800\ngraphics mode.\n\n219\n00:10:22.800 --> 00:10:27.320\nSo see, I've got a 16 by 9 monitor,\nmy monitor's a widescreen monitor.\n\n220\n00:10:27.320 --> 00:10:31.440\nBut in this low graphics mode it's\nactually dropped me down to 4 by 3,\n\n221\n00:10:31.440 --> 00:10:34.450\nso I've got black bars on the left and\nright.\n\n222\n00:10:34.450 --> 00:10:38.212\nAnd during the install it's gonna detect\nmy video card and it'll fix that.\n\n223\n00:10:38.212 --> 00:10:41.190\nAnd it'll block out and\ntake up the whole screen.\n\n224\n00:10:41.190 --> 00:10:42.750\nI'm not too worried about this either.\n\n225\n00:10:42.750 --> 00:10:45.060\nAgain, if it's a server, what do I care?\n\n226\n00:10:45.060 --> 00:10:47.410\nAnd on this one I actually do\nwanna do the CLI install, so\n\n227\n00:10:47.410 --> 00:10:49.670\nI'm really not worried\nabout that here either.\n\n228\n00:10:49.670 --> 00:10:53.510\nSo on my first screen I need to pick\nmy keyboard and my language, right?\n\n229\n00:10:53.510 --> 00:10:56.420\nSo it's defaulting to\nEnglish United States, and\n\n230\n00:10:56.420 --> 00:10:58.890\nthe keyboard is defaulting\nto the US layout.\n\n231\n00:10:58.890 --> 00:11:01.940\nBut you can click on these and\nchange to whatever your language is.\n\n232\n00:11:01.940 --> 00:11:04.520\nThis is setting the localization for\nthe install.\n\n233\n00:11:04.520 --> 00:11:08.445\nAnd Red Hat Enterprise Linux has a ton\nof localizations built right into it.\n\n234\n00:11:11.278 --> 00:11:15.310\nOn the next screen, it's gonna let\nme fine tune some of the options.\n\n235\n00:11:15.310 --> 00:11:19.790\nSo I pick US English, it's assuming\nthat I'm in the eastern time zone,\n\n236\n00:11:19.790 --> 00:11:21.800\nit's got America/New York.\n\n237\n00:11:21.800 --> 00:11:25.950\nBut I can change that,\nyour time zone really should be correct.\n\n238\n00:11:25.950 --> 00:11:29.040\nThe time zone's not as important\nas the clock itself, though.\n\n239\n00:11:29.040 --> 00:11:31.280\nThe clock, we really need to make\nsure we've got that correct or\n\n240\n00:11:31.280 --> 00:11:34.360\nwe can't coordinate logs\nbetween our different installs.\n\n241\n00:11:34.360 --> 00:11:37.930\nBut your clock is actually being\npulled from the BIOS of the system.\n\n242\n00:11:37.930 --> 00:11:40.140\nIf you click on this you can come in and\nadjust it though, and\n\n243\n00:11:40.140 --> 00:11:42.510\nyou can set the time.\n\n244\n00:11:42.510 --> 00:11:46.270\nIf you start adjusting the time,\nmake sure your time zone is right.\n\n245\n00:11:46.270 --> 00:11:48.390\nBecause, if your time zone is wrong and\n\n246\n00:11:48.390 --> 00:11:52.300\nyou set the time to your current time,\nthat causes a lot of problems, right?\n\n247\n00:11:52.300 --> 00:11:55.980\nI'm in the Eastern time zone, so\nthis New York is actually right for me.\n\n248\n00:11:55.980 --> 00:12:00.850\nBut what if, for some reason, it thought\nthat I was in the Pacific time zone?\n\n249\n00:12:00.850 --> 00:12:05.720\nWell, if I look at my watch it is 10:31\nright now and it's showing 2:32, so\n\n250\n00:12:05.720 --> 00:12:09.734\nmaybe I just come in here and\nI adjust this to put it to 10:31.\n\n251\n00:12:09.734 --> 00:12:11.030\n24 hour clock, I guess.\n\n252\n00:12:11.030 --> 00:12:15.080\nWe can get that to 10:32, okay.\n\n253\n00:12:15.080 --> 00:12:19.190\nWhen I look at it, hey, 10:32,\nit just says PM here, but\n\n254\n00:12:19.190 --> 00:12:20.360\nit's on the 24 hour clock.\n\n255\n00:12:20.360 --> 00:12:22.280\nJust let me move it to there.\n\n256\n00:12:22.280 --> 00:12:23.900\nSo it says 10:32 AM, right?\n\n257\n00:12:23.900 --> 00:12:25.590\nLooking at my watch, that's right.\n\n258\n00:12:25.590 --> 00:12:27.770\nBut because it's got me in\nthe Pacific time zone and\n\n259\n00:12:27.770 --> 00:12:32.790\nI'm actually in the Eastern time zone,\nI'm now three hours off.\n\n260\n00:12:32.790 --> 00:12:36.220\nAnd all of my logs are gonna be\nthree hours off in their timestamps.\n\n261\n00:12:36.220 --> 00:12:39.870\nAnd worse, if I do anything\nlike Kerberos authentication,\n\n262\n00:12:39.870 --> 00:12:43.230\nany kind of SSH sessions,\nby having my clock so\n\n263\n00:12:43.230 --> 00:12:47.740\nfar off it's gonna look at them as packet\nreplay attacks and it's gonna block those.\n\n264\n00:12:47.740 --> 00:12:49.590\nIt's really gonna cause a lot of problems,\nall right?\n\n265\n00:12:49.590 --> 00:12:52.410\nSo even though we might not\nnecessarily care about the time zone,\n\n266\n00:12:52.410 --> 00:12:55.250\nmake sure that your clock\nmatches the time zone.\n\n267\n00:12:55.250 --> 00:12:59.760\nAnd for me, if I don't care about\nthe time zone, I'll usually try and\n\n268\n00:12:59.760 --> 00:13:05.240\nset myself to just UTC, the universal\ntime code or Greenwich mean time.\n\n269\n00:13:05.240 --> 00:13:07.380\nSo you can come in and specify that so\n\n270\n00:13:07.380 --> 00:13:12.480\nthat you just don't have an offset, and\nthen you set your time according to that.\n\n271\n00:13:12.480 --> 00:13:15.430\nBut just make sure that it's\nright one way or another.\n\n272\n00:13:15.430 --> 00:13:20.880\nI'll put mine back to, let's see,\nI've got a few different ways.\n\n273\n00:13:20.880 --> 00:13:26.780\nI think under ETC I actually have Eastern\nor you can choose GMT-5, whatever.\n\n274\n00:13:26.780 --> 00:13:32.330\nI'm gonna go back to United States as what\nI need and we'll hunt down my time zone.\n\n275\n00:13:33.730 --> 00:13:37.860\nAll right, so once we get the clock set\nright everything gets kinda put in place.\n\n276\n00:13:37.860 --> 00:13:41.210\nAfter that we have just a couple other\nlittle options that we need to pick.\n\n277\n00:13:41.210 --> 00:13:45.570\nSo I'm gonna come in here and fix this,\nlet me get myself back to 10:30.\n\n278\n00:13:45.570 --> 00:13:48.480\nAnd you set the date as\na query to your system.\n\n279\n00:13:49.490 --> 00:13:51.230\nAll right, I've got my keyboard,\nEnglish US.\n\n280\n00:13:51.230 --> 00:13:54.480\nMy language support, that was all from\nthe last screen that was brought over.\n\n281\n00:13:54.480 --> 00:13:57.220\nThen there's a real easy to\noverlook option right here,\n\n282\n00:13:57.220 --> 00:13:58.390\nwhich is the security policy.\n\n283\n00:13:59.620 --> 00:14:06.410\nRed Hat, when you compare Red Hat to other\ndistributions like Debian and Ubuntu and\n\n284\n00:14:06.410 --> 00:14:11.120\ndistributions like that, those guys are\nalways in a rush to deploy the latest and\n\n285\n00:14:11.120 --> 00:14:13.180\ngreatest features, Red Hat isn't.\n\n286\n00:14:13.180 --> 00:14:17.800\nYou'll notice where frequently a Red\nHat Enterprise Linux distro is several\n\n287\n00:14:17.800 --> 00:14:20.400\nkernel versions behind everybody else.\n\n288\n00:14:20.400 --> 00:14:22.230\nAnd while you might have the latest and\n\n289\n00:14:22.230 --> 00:14:27.150\ngreatest version of PHP on the Debian,\nhere we might be several versions behind.\n\n290\n00:14:27.150 --> 00:14:28.980\nAll right, why is that?\n\n291\n00:14:28.980 --> 00:14:31.558\nIsn't that gonna make me non-secure?\n\n292\n00:14:31.558 --> 00:14:34.960\nWell no,\nRed Hat focuses on stability, right?\n\n293\n00:14:34.960 --> 00:14:38.310\nThis is Enterprise Linux, this is for\nuse in production, this is for\n\n294\n00:14:38.310 --> 00:14:40.530\nuse on machines that are mission critical.\n\n295\n00:14:40.530 --> 00:14:45.780\nSo they verify that everything\nis rock solid stable and secure.\n\n296\n00:14:45.780 --> 00:14:47.311\nThey don't deploy the latest and greatest,\n\n297\n00:14:47.311 --> 00:14:50.500\ncuz there might be exploits in there that\njust haven't been discovered yet, right?\n\n298\n00:14:50.500 --> 00:14:54.160\nOr it might not be stable because of some\nnew features, so they wait on those.\n\n299\n00:14:54.160 --> 00:14:59.090\nAnd they patch and support the older\nversions to keep them stable.\n\n300\n00:14:59.090 --> 00:15:03.270\nSo when we look at features like this,\nthe security policy,\n\n301\n00:15:03.270 --> 00:15:07.940\nRed Hat implements tighter security\ncontrols than any other Linux distro.\n\n302\n00:15:07.940 --> 00:15:12.320\nI mean, there's a few that do the trusted\nLinux, the super hardcore security, but\n\n303\n00:15:12.320 --> 00:15:16.190\nas far as standard distributions,\nRed Hat's really at the top of the heap.\n\n304\n00:15:16.190 --> 00:15:19.780\nAnd the default is that\nthat security's turned off.\n\n305\n00:15:19.780 --> 00:15:25.650\nAnd the reasoning there is if you aren't\naware of Red Hat's increased security,\n\n306\n00:15:25.650 --> 00:15:27.520\nit will break a lot of your applications.\n\n307\n00:15:27.520 --> 00:15:32.280\nAnd you'll think things aren't working\njust because you didn't know about\n\n308\n00:15:32.280 --> 00:15:34.560\nthe security sub-layer, so\nit's actually turned off.\n\n309\n00:15:34.560 --> 00:15:38.860\nIf you click on that you can\nchoose what you want to deploy.\n\n310\n00:15:38.860 --> 00:15:40.807\nAnd when you look at\nthe options that are in here,\n\n311\n00:15:40.807 --> 00:15:42.840\nsee how you've got this default option?\n\n312\n00:15:42.840 --> 00:15:46.900\nIt says it's the implicit profile,\nit's just what's assumed if we\n\n313\n00:15:46.900 --> 00:15:51.671\nchoose nothing and the default contains\nno rules, there's no security rules.\n\n314\n00:15:51.671 --> 00:15:53.904\nBut we can choose the standard\nsecurity profile, and\n\n315\n00:15:53.904 --> 00:15:56.790\nthis is the one provided by Red Hat\nthat is suitable for most systems.\n\n316\n00:15:56.790 --> 00:15:58.945\nThat, hey, most people this\nis gonna meet their needs.\n\n317\n00:15:58.945 --> 00:16:01.470\nAnd it gives us a strong\nlevel of security.\n\n318\n00:16:01.470 --> 00:16:03.038\nIt turns on the IP table's firewall.\n\n319\n00:16:03.038 --> 00:16:04.860\nIt turns on SE Linux.\n\n320\n00:16:04.860 --> 00:16:08.100\nIt turns on a few things that we're\ngoing to cover in other episodes.\n\n321\n00:16:08.100 --> 00:16:09.830\nThen you can start to get\na little more strict.\n\n322\n00:16:10.840 --> 00:16:14.560\nWe can get into the PCIDSS version three.\n\n323\n00:16:14.560 --> 00:16:16.630\nOne of the standards that are out there.\n\n324\n00:16:16.630 --> 00:16:19.908\nWe can do Red Hat's recommendation for\ncloud servers.\n\n325\n00:16:19.908 --> 00:16:22.380\nServers that are out there to the public,\nwhich is even more tight.\n\n326\n00:16:22.380 --> 00:16:24.740\nWe can go with the common profile\nfrom general purpose systems.\n\n327\n00:16:24.740 --> 00:16:27.990\nThis one's a little more vague,\nbut it's designed for desktops.\n\n328\n00:16:27.990 --> 00:16:30.810\nAnd then we get the STIG draft that's out\n\n329\n00:16:30.810 --> 00:16:32.640\nthere that a lot of people\nare starting to move to.\n\n330\n00:16:32.640 --> 00:16:35.480\nYou can pick any of these, and\nyou can even create your own.\n\n331\n00:16:35.480 --> 00:16:37.200\nAlthough we don't see the option here.\n\n332\n00:16:37.200 --> 00:16:39.110\nWhich would be a part of\nthe kickstart process.\n\n333\n00:16:39.110 --> 00:16:41.170\nYou can incorporate your\nown security profile there.\n\n334\n00:16:41.170 --> 00:16:44.330\n&gt;&gt; Now Don,\nwe're playing with this right now.\n\n335\n00:16:44.330 --> 00:16:47.328\nIf we decided to go with the implicit and\nturn nothing on,\n\n336\n00:16:47.328 --> 00:16:50.900\nI assume we're gonna be able to turn in or\nchange these later?\n\n337\n00:16:50.900 --> 00:16:52.450\n&gt;&gt; Absolutely, yup.\n\n338\n00:16:52.450 --> 00:16:54.030\nI don't recommend it but you can it.\n\n339\n00:16:54.030 --> 00:16:57.920\nAnd the reason I don't recommend it is, if\nyou deploy and you get all your software\n\n340\n00:16:57.920 --> 00:17:01.740\nworking and everything's running great,\nand then you apply a security policy to\n\n341\n00:17:01.740 --> 00:17:05.640\nit, you might break all the stuff\nthat you thought you just had set up.\n\n342\n00:17:05.640 --> 00:17:09.350\nSo it is usually better to pick the right\nsecurity policy from the very beginning,\n\n343\n00:17:09.350 --> 00:17:11.680\nbut you can change it down the road.\n\n344\n00:17:11.680 --> 00:17:13.560\nSo I'm gonna choose\nthe standard security profille,\n\n345\n00:17:13.560 --> 00:17:17.040\nthat's usually where I start, and\nI'll go ahead and select that one.\n\n346\n00:17:17.040 --> 00:17:18.830\nDo make sure you click Select.\n\n347\n00:17:18.830 --> 00:17:19.535\nI've done this before.\n\n348\n00:17:19.535 --> 00:17:22.050\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, I highlighted it, it says\n\n349\n00:17:22.050 --> 00:17:25.720\napply and then I hit Done, but it doesn't\nactually do it unless you hit Select.\n\n350\n00:17:25.720 --> 00:17:27.890\nSo, I'm gonna go and\nchoose that, and I'll hit Done.\n\n351\n00:17:27.890 --> 00:17:31.050\nAnd now it shows my Security Policy,\neverything is okay, right?\n\n352\n00:17:31.050 --> 00:17:34.580\nMy installation source is the DVD or\nISO image that I'm mounted to,\n\n353\n00:17:34.580 --> 00:17:38.270\nand then as you scroll down you'll\nsee a few more options, right?\n\n354\n00:17:38.270 --> 00:17:40.370\nI've got Software Selection.\n\n355\n00:17:40.370 --> 00:17:42.820\nThis one's important,\nthe default is a minimal install.\n\n356\n00:17:42.820 --> 00:17:45.830\nIt's gonna install the minimal\ncomponents necessary\n\n357\n00:17:45.830 --> 00:17:48.515\nto run\nthe Red Hat Enterprise Linux Server.\n\n358\n00:17:48.515 --> 00:17:50.620\nAnd minimal means no GUI.\n\n359\n00:17:50.620 --> 00:17:52.730\n&gt;&gt; Yeah,\nthat's a fun one to stumble across, right?\n\n360\n00:17:52.730 --> 00:17:56.210\nI played around with CentOS,\nwhich are CentOS, whatever you call it.\n\n361\n00:17:56.210 --> 00:17:57.330\nWhich is based off of Red Hat.\n\n362\n00:17:57.330 --> 00:18:00.110\nAnd you think yeah,\nI'm just gonna click my way through here,\n\n363\n00:18:00.110 --> 00:18:01.870\nand then where's start x?\n\n364\n00:18:01.870 --> 00:18:02.570\nWhy isn't that working?\n\n365\n00:18:02.570 --> 00:18:04.230\nYou can't get to the graphics at all?\n\n366\n00:18:04.230 --> 00:18:06.310\n&gt;&gt; Yeah.\n&gt;&gt; And there's nothing installed.\n\n367\n00:18:06.310 --> 00:18:07.600\nI wonder where did everything go?\n\n368\n00:18:07.600 --> 00:18:08.850\n&gt;&gt; And it's not just the graphics, right?\n\n369\n00:18:08.850 --> 00:18:11.530\nI mean there's a lot of other utilities\nthat are missing out of the minimal.\n\n370\n00:18:11.530 --> 00:18:15.050\nAnd the idea there is, this is\nthe bare minimum to get it running and\n\n371\n00:18:15.050 --> 00:18:18.370\nthen you add what you need, so\nyou don't have any extraneous stuff,\n\n372\n00:18:18.370 --> 00:18:19.770\nwhich is actually pretty nice.\n\n373\n00:18:19.770 --> 00:18:20.280\nRight.\n\n374\n00:18:20.280 --> 00:18:21.960\n&gt;&gt; The real LINUX philosophy, right?\n\n375\n00:18:21.960 --> 00:18:23.270\nYou build from the ground up.\n\n376\n00:18:23.270 --> 00:18:25.600\nYou use your philosophy of design and\ngo from there.\n\n377\n00:18:25.600 --> 00:18:27.110\n&gt;&gt; Yeah,\nit's customized to meet your needs.\n\n378\n00:18:27.110 --> 00:18:30.430\nBut if we go in to customize the screen,\nwe can choose a lot more.\n\n379\n00:18:30.430 --> 00:18:33.610\nAnd you can specify if this is gonna\nbe an Infrastructure Server, File and\n\n380\n00:18:33.610 --> 00:18:36.450\nPrint Server, Basic Web Server,\nVirtualization Host,\n\n381\n00:18:36.450 --> 00:18:37.870\nthat one's really convenient.\n\n382\n00:18:37.870 --> 00:18:40.810\nIf we choose that you'll see over here\nthe different options we can install or\n\n383\n00:18:40.810 --> 00:18:46.610\nrelate to Virtualization running KVM or\nQEMU or whichever one we want.\n\n384\n00:18:46.610 --> 00:18:48.370\nAnd then right here, Server for\n\n385\n00:18:48.370 --> 00:18:52.660\noperating network infrastructure\nservices with a GUI, okay.\n\n386\n00:18:52.660 --> 00:18:55.490\nThis is the same as choosing\ninfrastructure server up here, but\n\n387\n00:18:55.490 --> 00:18:57.070\nit includes a GUI.\n\n388\n00:18:57.070 --> 00:18:59.560\nNow if I just stop here it is actually\n\n389\n00:18:59.560 --> 00:19:02.820\nreally similar to a minimal\ninstall with a GUI stacked on top.\n\n390\n00:19:02.820 --> 00:19:06.390\nAnd then over here I can start to pick\nthe different server options I want.\n\n391\n00:19:06.390 --> 00:19:09.590\nDo I want it to be a backup,\nDNS, email, and so on.\n\n392\n00:19:09.590 --> 00:19:13.820\nAnd if you choose this now,\ngreat, it will install them.\n\n393\n00:19:13.820 --> 00:19:16.690\nIf you don't choose them,\nyou can add them after the fact.\n\n394\n00:19:16.690 --> 00:19:19.030\nYou can even add the GUI\nafter the fact if you want.\n\n395\n00:19:19.030 --> 00:19:20.110\nIt's a little bit of pain, but\n\n396\n00:19:20.110 --> 00:19:23.530\nyou can certainly do it,\nbetter to choose it right now if you can.\n\n397\n00:19:23.530 --> 00:19:25.670\nThe rest of these are pretty easy to have.\n\n398\n00:19:25.670 --> 00:19:28.200\nAnother thing to point\nout is if you want a GUI,\n\n399\n00:19:28.200 --> 00:19:32.730\nyou can choose between gnome which is\nthe default, kind of my preference.\n\n400\n00:19:32.730 --> 00:19:36.220\nBut then there's KDE also,\nif you wanna switch over to that one.\n\n401\n00:19:36.220 --> 00:19:38.840\nAnd again, you can add KDE after the fact,\nbut it's kind of a pain.\n\n402\n00:19:38.840 --> 00:19:40.450\nHere it's just a check mark.\n\n403\n00:19:40.450 --> 00:19:42.900\nSo always easier to add it now than later.\n\n404\n00:19:42.900 --> 00:19:46.310\nBut in my scenario, I want this one to\nbe a command line interface server,\n\n405\n00:19:46.310 --> 00:19:49.460\nso I'm gonna tell it to just do\na minimal install on this one.\n\n406\n00:19:49.460 --> 00:19:50.860\nI'm gonna go with the minimal.\n\n407\n00:19:50.860 --> 00:19:53.860\nAnd then over here I have just a few\nother options that I can just to add like\n\n408\n00:19:53.860 --> 00:19:57.180\ndev tools and\nsmart card support and so on.\n\n409\n00:19:57.180 --> 00:19:58.470\nDepending on what it is that I want.\n\n410\n00:19:58.470 --> 00:20:00.280\nAll right.\n\n411\n00:20:00.280 --> 00:20:03.400\nActually, you know what, I might go\ninfrastructure server on this one, just so\n\n412\n00:20:03.400 --> 00:20:05.125\nthat's got a few of\nthe extra utilities for me.\n\n413\n00:20:05.125 --> 00:20:07.000\nThat'll make life a little easier.\n\n414\n00:20:07.000 --> 00:20:08.400\nAll right.\nBut still no GY.\n\n415\n00:20:08.400 --> 00:20:10.730\nAll right.\n\n416\n00:20:10.730 --> 00:20:13.230\nNext, I need to pick my\ninstallation destination.\n\n417\n00:20:13.230 --> 00:20:14.540\nNow this is important.\n\n418\n00:20:14.540 --> 00:20:16.680\nIt's going to pick\na hard drive by default.\n\n419\n00:20:16.680 --> 00:20:19.560\nAnd you can see here where it's\npicked my virtual hard drive.\n\n420\n00:20:19.560 --> 00:20:20.640\nThis is a virtual machine.\n\n421\n00:20:20.640 --> 00:20:21.640\nIt's on VMware.\n\n422\n00:20:21.640 --> 00:20:23.830\nSo, it's picked the 64 gig drive.\n\n423\n00:20:23.830 --> 00:20:26.230\nNow, if it picked it,\nwhy did I get a warning?\n\n424\n00:20:26.230 --> 00:20:28.722\nYou got a warning because of\ndoing automatic partitioning.\n\n425\n00:20:28.722 --> 00:20:32.310\nSo it's gonna lay out\nthe partitions on this drive with\n\n426\n00:20:32.310 --> 00:20:35.120\nRed Hat's recommended partition table.\n\n427\n00:20:35.120 --> 00:20:36.760\nIf you have a single drive, that's fine.\n\n428\n00:20:36.760 --> 00:20:41.730\nIf you have multiple drives, though,\nthat might not really be suitable for you.\n\n429\n00:20:41.730 --> 00:20:43.990\nOr different servers might\nhave different needs,\n\n430\n00:20:43.990 --> 00:20:47.310\nif you're planning on CH routing Apache.\n\n431\n00:20:47.310 --> 00:20:50.750\nThen you might wanna have a separate\npartition just for Apache so\n\n432\n00:20:50.750 --> 00:20:52.890\nyou can kinda tailor things\na little differently there and so\n\n433\n00:20:52.890 --> 00:20:55.420\nwe might not wanna go with\nthe default partitioning layout.\n\n434\n00:20:55.420 --> 00:20:58.520\nAnd so if you start to look down\nhere you'll see other storage\n\n435\n00:20:58.520 --> 00:20:59.370\noptions partitioning.\n\n436\n00:20:59.370 --> 00:21:02.910\nAnd mind is set to full disk summary and\nboot loader.\n\n437\n00:21:02.910 --> 00:21:05.210\nAnd if you click on that,\nit will bring it up, and\n\n438\n00:21:05.210 --> 00:21:08.610\nit will show you what that layout is,\nright, how things are setup.\n\n439\n00:21:08.610 --> 00:21:12.250\nAnd you can remove this partition and\nreally start to customize it ahead.\n\n440\n00:21:12.250 --> 00:21:14.150\nWe're gonna take a look at\npartitioning in another episode, so\n\n441\n00:21:14.150 --> 00:21:15.830\nI won't dive into that too deep here.\n\n442\n00:21:15.830 --> 00:21:19.689\nBut you can completely customize that and\neven choose more than one hard drive if\n\n443\n00:21:19.689 --> 00:21:23.329\nneeded and add all sorts of bells and\nwhistles there based on what you want.\n\n444\n00:21:23.329 --> 00:21:27.116\nAll right, so if you just uncheck that and\nrecheck it again,\n\n445\n00:21:27.116 --> 00:21:32.630\nthat confirms that you know, yeah, that's\nwhere we're just going with the default.\n\n446\n00:21:32.630 --> 00:21:36.300\nAnd when we say done, it's gonna\nmake that little warning go away.\n\n447\n00:21:36.300 --> 00:21:40.290\nSo now, it's set to that automatic\npartitioning scheme, all right.\n\n448\n00:21:40.290 --> 00:21:41.870\nK dump is another option you'll see.\n\n449\n00:21:41.870 --> 00:21:43.280\nThat's the kernel dump.\n\n450\n00:21:43.280 --> 00:21:47.720\nIf you have a crash,\nWhen it crashes the last thing it\n\n451\n00:21:47.720 --> 00:21:51.790\ndoes before it completely freaks out and\nbecomes unresponsive is it tries to take\n\n452\n00:21:51.790 --> 00:21:56.100\nall the ram that had to deal with\nthe kernel and write it to a file.\n\n453\n00:21:56.100 --> 00:21:59.110\nAnd that kernel is kind of nice because\nthen you can submit it to Red Hat for\n\n454\n00:21:59.110 --> 00:22:01.430\nsupport, they can look at it and\ntry and figure out why it crashed or\n\n455\n00:22:01.430 --> 00:22:04.660\nyou can use your own debugging\nutilities to try to figure it out.\n\n456\n00:22:04.660 --> 00:22:06.120\nThat's the positive side.\n\n457\n00:22:06.120 --> 00:22:08.730\nOn a negative side,\nit takes a hard drive space.\n\n458\n00:22:08.730 --> 00:22:10.136\nRight.\nSo if you're trying to run a really,\n\n459\n00:22:10.136 --> 00:22:14.640\nreally slim machine on a small amount\nof memory, you might not have enough\n\n460\n00:22:14.640 --> 00:22:17.830\nroom to store the kernel dump, and\nso you might chose to disable that.\n\n461\n00:22:17.830 --> 00:22:19.440\nWe normally want to leave it enabled,\n\n462\n00:22:19.440 --> 00:22:23.160\nbut if you're trying to run things\nreally slim, then you may not want that.\n\n463\n00:22:23.160 --> 00:22:25.621\nOr if you gotta read only media\nthat you're booting off of, and\n\n464\n00:22:25.621 --> 00:22:27.896\nthings that are going into ram,\nyou're using a ram disc,\n\n465\n00:22:27.896 --> 00:22:29.813\nyou don't want to write\nthe kernel dump anyway.\n\n466\n00:22:29.813 --> 00:22:31.857\nCuz as soon as it powers off-\n&gt;&gt; It's gone.\n\n467\n00:22:31.857 --> 00:22:33.405\n&gt;&gt; Yeah, no point saving that.\n\n468\n00:22:33.405 --> 00:22:34.230\n&gt;&gt; [LAUGH]\n&gt;&gt; So you\n\n469\n00:22:34.230 --> 00:22:36.950\ncan turn off the kernel dump if you want,\nall right.\n\n470\n00:22:36.950 --> 00:22:38.270\nIf you do a little\nwarning it will show up,\n\n471\n00:22:38.270 --> 00:22:41.282\nbut you should know what\nyou're doing at that point.\n\n472\n00:22:41.282 --> 00:22:42.578\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] So, all right.\n\n473\n00:22:42.578 --> 00:22:43.430\nThe last one here to the network.\n\n474\n00:22:43.430 --> 00:22:47.320\nAnd this is a funny one because Red Hat\nis a network operating system, and\n\n475\n00:22:47.320 --> 00:22:51.200\nthat's how it was built from\nthe ground up back in day one.\n\n476\n00:22:51.200 --> 00:22:55.050\nBut the network will default to\ndisconnected when it boots up.\n\n477\n00:22:55.050 --> 00:22:57.030\nAnd we can always change\nthat after the fact, but\n\n478\n00:22:57.030 --> 00:22:59.810\nit means editing some config files\nif I do a command line install.\n\n479\n00:22:59.810 --> 00:23:01.300\nSo I'm gonna edit that,\n\n480\n00:23:01.300 --> 00:23:05.750\nand I'm gonna tell it that I want\nthe network adapter to be on by default.\n\n481\n00:23:05.750 --> 00:23:09.210\nIf it's using DHCP it will retry out and\nget an address just like mine just did.\n\n482\n00:23:09.210 --> 00:23:11.270\nIf it's not using DHCP we can go and\n\n483\n00:23:11.270 --> 00:23:14.220\nuse the little configure\nbutton buried down here.\n\n484\n00:23:14.220 --> 00:23:16.980\nAnd we can assign a static\nIP default route,\n\n485\n00:23:16.980 --> 00:23:19.770\nall of that other stuff you can set\nin there manually if you need to.\n\n486\n00:23:20.990 --> 00:23:24.560\nWe can also set a host name down here\nif that's super important to you.\n\n487\n00:23:24.560 --> 00:23:28.190\nSo I might call this one\nrehel7cli.lab.itpro.tv so\n\n488\n00:23:29.450 --> 00:23:34.360\nthat I can remember which server this is.\n\n489\n00:23:34.360 --> 00:23:35.100\nAnd I'll go ahead and hit Done.\n\n490\n00:23:37.150 --> 00:23:39.610\nAll right that's the last of that,\nI'm gonna go ahead and hit Begin now.\n\n491\n00:23:39.610 --> 00:23:42.240\nThe button says, Begin Installation,\nand it's absolutely true.\n\n492\n00:23:42.240 --> 00:23:46.370\nWhen I click on that the installation\nwill begin, but it's not just a matter of\n\n493\n00:23:46.370 --> 00:23:49.635\nsitting here watching the blue\nline crawl across the screen.\n\n494\n00:23:49.635 --> 00:23:54.423\nWhile it's installing, we can set our root\npassword, we can set our default user,\n\n495\n00:23:54.423 --> 00:23:56.750\nwe can start to define these things.\n\n496\n00:23:56.750 --> 00:24:00.213\nSo I'm gonna set what my root\npassword is going to be.\n\n497\n00:24:00.213 --> 00:24:03.949\nAnd I'm going to set it to something\na little bit on the weak side.\n\n498\n00:24:03.949 --> 00:24:05.790\nSo, it's going to complain about that.\n\n499\n00:24:05.790 --> 00:24:09.280\nIf it complains, you probably\nneed to pick a better password.\n\n500\n00:24:09.280 --> 00:24:13.200\nBut if you just click done\ntwice it will accept it anyway.\n\n501\n00:24:13.200 --> 00:24:16.980\nAnd so then I'll create a user for\nme because I feel like I need a user.\n\n502\n00:24:16.980 --> 00:24:21.000\nI'm going to make myself an administrator\nand then we'll set the password.\n\n503\n00:24:22.510 --> 00:24:24.730\nAnd I'll just do the same\nas I did a minute ago.\n\n504\n00:24:24.730 --> 00:24:27.960\nSo it's kinda nice that while\nthe installation is going on,\n\n505\n00:24:27.960 --> 00:24:31.390\nwe can actually be doing something instead\nof just sitting there doing nothing,\n\n506\n00:24:31.390 --> 00:24:32.950\nwhich is our normal installation process.\n\n507\n00:24:32.950 --> 00:24:34.550\n&gt;&gt; Now Don,\nthere was an Advance button there as well.\n\n508\n00:24:34.550 --> 00:24:37.300\nIs there anything important underneath\nthat button that we might want to?\n\n509\n00:24:37.300 --> 00:24:40.870\n&gt;&gt; If you wanna override where your home\ndirectory is, if you wanna override your\n\n510\n00:24:40.870 --> 00:24:44.260\ndefault shell, or\nadd yourself to some other groups, right?\n\n511\n00:24:44.260 --> 00:24:46.720\nMy home directory is /Home/DPezet.\n\n512\n00:24:46.720 --> 00:24:49.812\nMaybe during the partitioning screen I\ndefined a different location where I\n\n513\n00:24:49.812 --> 00:24:53.090\nwanted home directory to be,\nso I could redirect that here.\n\n514\n00:24:53.090 --> 00:24:57.530\nUsually the only time I go in here\nis if I need to specify a user ID.\n\n515\n00:24:57.530 --> 00:25:02.780\nIf you're using NFS, the Network File\nSystem, it's important that your user ID's\n\n516\n00:25:02.780 --> 00:25:07.000\nnumber matches on the local and the remote\nsystems so it'll authenticate properly.\n\n517\n00:25:07.000 --> 00:25:10.230\nYeah, it's like an NFS ping error,\nreally older versions of NFS.\n\n518\n00:25:10.230 --> 00:25:13.580\nBut most of don't worry about that anymore\nso we don't have to override that.\n\n519\n00:25:13.580 --> 00:25:17.840\nI'm in the wheel group, which means\nI'll be able to use the sudo utility.\n\n520\n00:25:17.840 --> 00:25:19.941\nIf I wasn't in wheel I wouldn't\nbe able to do that, so\n\n521\n00:25:19.941 --> 00:25:23.195\nI might choose a custom group or something\nof that nature, you could see it there.\n\n522\n00:25:23.195 --> 00:25:25.418\nBut those are the things\nthat are in advanced,\n\n523\n00:25:25.418 --> 00:25:27.420\nwe don't normally need to adjust those.\n\n524\n00:25:28.745 --> 00:25:33.020\nAll right, so while that install's going\non, this one's doing the CLI install.\n\n525\n00:25:33.020 --> 00:25:35.910\nI'm gonna start a second install in\nthe background on another machine\n\n526\n00:25:35.910 --> 00:25:37.760\nthat's gonna be the GUI install.\n\n527\n00:25:37.760 --> 00:25:41.220\nAnd for the most part we're not gonna\nsee a heck of a lot of differences.\n\n528\n00:25:41.220 --> 00:25:44.660\nSo when I fire this one up and\nstart to run through the same process\n\n529\n00:25:44.660 --> 00:25:47.270\nthe only thing that's really\ngonna be different here is that\n\n530\n00:25:47.270 --> 00:25:51.020\nI'm gonna choose the GUI option, and\nthe install's gonna take a lot longer.\n\n531\n00:25:51.020 --> 00:25:53.510\nOtherwise, all the options are the same,\n\n532\n00:25:53.510 --> 00:25:55.290\nI'm just choosing whether I want a GUI or\nnot.\n\n533\n00:25:55.290 --> 00:25:59.284\n&gt;&gt; That is special about the minimal\ninstallation is, it doesn't take very long\n\n534\n00:25:59.284 --> 00:26:02.560\nbecause it's not installing\na bunch of well, large programs.\n\n535\n00:26:02.560 --> 00:26:05.065\n&gt;&gt; Yeah, the minimal install,\nif I remember right,\n\n536\n00:26:05.065 --> 00:26:08.620\nit's a little less than two gigs\nin disk space that it takes up.\n\n537\n00:26:08.620 --> 00:26:13.050\nThe Graphical User Interface install ends\nup being a little more than like three and\n\n538\n00:26:13.050 --> 00:26:17.430\na half gigs so there is a solid\nchunk of difference between the two,\n\n539\n00:26:17.430 --> 00:26:21.730\nbased on what it is that\nwe choose to install.\n\n540\n00:26:21.730 --> 00:26:24.820\nAnd we can certainly blow it up,\na CLI install down the road too.\n\n541\n00:26:24.820 --> 00:26:29.700\nIt's not immune to that kind of thing,\nbut hopefully we avoid that.\n\n542\n00:26:31.360 --> 00:26:34.160\nAll right, so\nthe nice part about this is we can just\n\n543\n00:26:34.160 --> 00:26:36.570\nkinda churn through the install,\nget this stuff done.\n\n544\n00:26:36.570 --> 00:26:39.770\nIt's a lot faster when you know\nthe options that you wanna pick.\n\n545\n00:26:39.770 --> 00:26:41.730\nNothing is faster than\na Kickstart install though,\n\n546\n00:26:41.730 --> 00:26:43.850\nwhere all this stuff would\nalready be chosen for me.\n\n547\n00:26:43.850 --> 00:26:46.930\nThat certainly would\nmake this a lot nicer.\n\n548\n00:26:46.930 --> 00:26:51.790\nBut I'm just go through here and\nclick these real quick.\n\n549\n00:26:51.790 --> 00:26:54.320\nAnd connect my network adapter.\n\n550\n00:26:54.320 --> 00:26:55.760\nI'll change this one's host name.\n\n551\n00:26:55.760 --> 00:26:58.293\nThis is probably the part\nthat takes the longest.\n\n552\n00:26:58.293 --> 00:27:03.000\nAnd then that should be about\nall I need on this one.\n\n553\n00:27:04.220 --> 00:27:08.680\nAnd we'll set those same passwords,\nwhich will still be weak.\n\n554\n00:27:08.680 --> 00:27:12.570\nIt is nice that it checks your password,\nkind of strength and quality for you.\n\n555\n00:27:12.570 --> 00:27:17.550\nRed Hat does recommend you use a different\nroot password on every single server.\n\n556\n00:27:17.550 --> 00:27:19.630\nAnd that way if one\nserver gets compromised,\n\n557\n00:27:19.630 --> 00:27:21.900\nit's a different root password\non all the other ones.\n\n558\n00:27:21.900 --> 00:27:25.500\nYour user account, you may choose to\nuse the same password everywhere, but\n\n559\n00:27:25.500 --> 00:27:27.960\nknow that these\nare centralized user accounts.\n\n560\n00:27:27.960 --> 00:27:29.780\nIf you got multiple servers, the odds are.\n\n561\n00:27:29.780 --> 00:27:32.030\nI'm sorry,\nthese are decentralized user accounts.\n\n562\n00:27:32.030 --> 00:27:33.780\nThey maintain on each individual machine.\n\n563\n00:27:33.780 --> 00:27:34.860\nIf you got a ton of machines,\n\n564\n00:27:34.860 --> 00:27:37.000\nyou'll probably wanna set up\ncentralized user accounts.\n\n565\n00:27:37.000 --> 00:27:40.730\nLike an LDAP directory, OpenLDAP,\nor Microsoft Active Directory,\n\n566\n00:27:40.730 --> 00:27:41.850\nwhatever it is that you want.\n\n567\n00:27:41.850 --> 00:27:43.110\nRed Hat supports all those.\n\n568\n00:27:43.110 --> 00:27:46.210\nSo, those are certainly things\nthat we can add after the fact.\n\n569\n00:27:47.770 --> 00:27:49.440\nAll right, so let me just get that set.\n\n570\n00:27:49.440 --> 00:27:51.141\nAnd now that installation\nis gonna continue on.\n\n571\n00:27:51.141 --> 00:27:54.330\nSee it's installing 1,242 packages.\n\n572\n00:27:54.330 --> 00:27:57.430\nMy other install was,\nactually I don't remember what it was.\n\n573\n00:27:57.430 --> 00:27:58.730\nSomething like 800 packages.\n\n574\n00:27:58.730 --> 00:28:00.170\nA much lower number.\n\n575\n00:28:00.170 --> 00:28:02.380\nAnd it's actually done\nwith the main install.\n\n576\n00:28:02.380 --> 00:28:04.410\nThere we go,\nit was just finishing up some scripts.\n\n577\n00:28:04.410 --> 00:28:07.660\nAnd the last thing that it does is\nit tells me it needs to reboot.\n\n578\n00:28:07.660 --> 00:28:09.610\nSo I'm gonna go in here and hit reboot.\n\n579\n00:28:09.610 --> 00:28:10.760\nAnd that system is gonna restart.\n\n580\n00:28:10.760 --> 00:28:13.820\nNow, I've been locked in\nthis four by three window,\n\n581\n00:28:13.820 --> 00:28:17.880\nI've had the black bars on the left and\nright, and when this reboots, it's gonna\n\n582\n00:28:17.880 --> 00:28:21.820\ncome in and it's gonna recognize my\nvideo card driver this time, right?\n\n583\n00:28:21.820 --> 00:28:26.340\nIf you've got a standard Intel or\nNVIDIA card, it's gonna recognize those.\n\n584\n00:28:26.340 --> 00:28:27.890\nAMD gets a little bit iffy,\n\n585\n00:28:27.890 --> 00:28:33.198\nAMD cards are flaky under Linux but,\nit'll recognize many of them.\n\n586\n00:28:33.198 --> 00:28:36.870\nWith AMD you'll usually get\nthe full resolution screen,\n\n587\n00:28:36.870 --> 00:28:40.300\nbut you won't get any 3D acceleration,\nthat rarely works.\n\n588\n00:28:40.300 --> 00:28:44.910\nBut once this one boots up, I did\na command line interface install, right?\n\n589\n00:28:44.910 --> 00:28:48.160\nSo, what do I see on my screen?\n\n590\n00:28:48.160 --> 00:28:51.660\nWell, I see the command line interface,\nright?\n\n591\n00:28:51.660 --> 00:28:54.810\nSo I can jump in and I can log in with the\nuser account that I created for myself or\n\n592\n00:28:54.810 --> 00:28:56.140\nI can log in as root, right?\n\n593\n00:28:56.140 --> 00:28:58.000\nWe created both accounts.\n\n594\n00:28:58.000 --> 00:29:01.360\nBut I can get in and\nhere I am on the command line interface.\n\n595\n00:29:01.360 --> 00:29:05.530\nAll right, now, if I'm ready to just start\nworking, jump in here and get things done,\n\n596\n00:29:05.530 --> 00:29:09.530\nI'm gonna run into a little problem,\nand that's with the subscription.\n\n597\n00:29:09.530 --> 00:29:12.080\nOn the GUI install, it's super obvious.\n\n598\n00:29:12.080 --> 00:29:14.440\nThe first time I log in, it's gonna bring\nup the screen, it's gonna say, hey,\n\n599\n00:29:14.440 --> 00:29:16.160\nyou need to activate your subscription,\n\n600\n00:29:16.160 --> 00:29:18.970\nyou need to except the license\nagreement and so on.\n\n601\n00:29:18.970 --> 00:29:21.230\nFrom the command line interface,\nwe don't see it.\n\n602\n00:29:21.230 --> 00:29:28.330\nIn fact, what you'll see is,\nif I do a sudo yum install mysql, right?\n\n603\n00:29:28.330 --> 00:29:30.260\nSo I wanna fire up my SQL.\n\n604\n00:29:30.260 --> 00:29:31.895\nSo I'm gonna go in and install it, right?\n\n605\n00:29:31.895 --> 00:29:36.090\nWell, I did sudo, so I gotta authenticate.\n\n606\n00:29:36.090 --> 00:29:37.440\nSo I'll put in my password.\n\n607\n00:29:37.440 --> 00:29:41.638\nAnd then it's gonna go and\ndo the install and what do I get?\n\n608\n00:29:41.638 --> 00:29:46.920\nWell I get, the system is not registered\nto Red Hat Subscription Management.\n\n609\n00:29:46.920 --> 00:29:49.090\nYou can use subscription\nmanager to register.\n\n610\n00:29:49.090 --> 00:29:52.868\nAnd then its telling me there\nare no enabled repositories, right?\n\n611\n00:29:52.868 --> 00:29:56.520\nSo I'm not able to reach out and\ndo the update and I'm not subscribed for\n\n612\n00:29:56.520 --> 00:29:57.230\nupdates anyway.\n\n613\n00:29:57.230 --> 00:30:00.590\nNow I could force it, there's alternate\nrepositories out there you could specify\n\n614\n00:30:00.590 --> 00:30:02.440\nand you could kinda make it that way.\n\n615\n00:30:02.440 --> 00:30:04.160\nBut you really need to subscribe.\n\n616\n00:30:04.160 --> 00:30:07.778\nAnd the subscription manager is\nbuilt right into the system, so\n\n617\n00:30:07.778 --> 00:30:12.274\nyou can just type subscription-manager,\nin a CLI install you run it this way.\n\n618\n00:30:12.274 --> 00:30:16.025\nIn a GUI install there's actually-oh well\nthat makes sense, it's not installed.\n\n619\n00:30:16.025 --> 00:30:19.990\nBut there's subscription-manager-GUI\non a GUI install.\n\n620\n00:30:19.990 --> 00:30:24.052\nBut when you run that it's going to\nmake sure that you run it as root, and\n\n621\n00:30:24.052 --> 00:30:27.390\nthen it's gonna offer to do\na number of different things.\n\n622\n00:30:27.390 --> 00:30:31.290\nAnd the ones that you're looking for\nare usually list and attach.\n\n623\n00:30:31.290 --> 00:30:34.900\nOkay, list will show the available\nlicenses that you have,\n\n624\n00:30:34.900 --> 00:30:39.400\nand then attach is how you can\nattach a license to the machine.\n\n625\n00:30:39.400 --> 00:30:42.890\nAll that gets rolled together if you\njust jump right over to register, right?\n\n626\n00:30:42.890 --> 00:30:46.090\nThe register option will let you log\nin with your username and password for\n\n627\n00:30:46.090 --> 00:30:47.510\nthe Red Hat website.\n\n628\n00:30:47.510 --> 00:30:50.800\nAnd you can tell it to just automatically\npick the next available licenses\n\n629\n00:30:50.800 --> 00:30:53.330\nappropriate for this type of install and\nit will attach it.\n\n630\n00:30:53.330 --> 00:30:56.160\nSo really easy to get that\nkind of stuck in there and\n\n631\n00:30:56.160 --> 00:30:58.960\nget us kind of put in place and\nup and going.\n\n632\n00:30:58.960 --> 00:31:03.120\nOnce it's registered, then you'll be\nable to start installing packages and\n\n633\n00:31:03.120 --> 00:31:04.000\nyou're actually done.\n\n634\n00:31:04.000 --> 00:31:06.610\nSo this is the final\nstep of the install for\n\n635\n00:31:06.610 --> 00:31:09.948\nthe command line interface before\nwe're ready to start using the system.\n\n636\n00:31:09.948 --> 00:31:14.160\nAll right, well let's take a look at it on\nthe GUI side also to get a chance to see\n\n637\n00:31:14.160 --> 00:31:17.360\nwhat that looks like and then that\nwill pretty much wrap up our install.\n\n638\n00:31:17.360 --> 00:31:19.445\n&gt;&gt; You want to make people feel\na little bit better about this then.\n\n639\n00:31:19.445 --> 00:31:23.810\nBecause I know a lot of people, they\nsee that text and they start to panic.\n\n640\n00:31:23.810 --> 00:31:26.550\nI don't know what to do,\nwhat do I do once I get here?\n\n641\n00:31:26.550 --> 00:31:30.580\nSo I'm sure the graphical installation\nwill aah, breathe easier.\n\n642\n00:31:30.580 --> 00:31:33.235\nYes people there is graphics involved.\n\n643\n00:31:33.235 --> 00:31:35.487\n[LAUGH]\n&gt;&gt; All right so my GUI install is done, so\n\n644\n00:31:35.487 --> 00:31:37.276\nI'm just gonna let it reboot, right?\n\n645\n00:31:37.276 --> 00:31:38.920\nWe gotta do that final reboot.\n\n646\n00:31:38.920 --> 00:31:40.550\nAnd when it comes up it's\ngonna be a little different.\n\n647\n00:31:40.550 --> 00:31:42.795\nInstead of dropping me off\nat a command line interface,\n\n648\n00:31:42.795 --> 00:31:44.291\nit's gonna give me the GUI, right?\n\n649\n00:31:44.291 --> 00:31:45.750\nThe graphical user interface.\n\n650\n00:31:45.750 --> 00:31:49.570\nAnd when I log in,\nit's gonna be a lot more verbal about,\n\n651\n00:31:49.570 --> 00:31:52.050\nhey you kinda need to\ndo that subscription.\n\n652\n00:31:52.050 --> 00:31:53.458\nAnd if you don't,\nyou're not gonna be able to update.\n\n653\n00:31:53.458 --> 00:31:57.497\nSo it's a little more informative for\nme here, as far as what is going on.\n\n654\n00:31:57.497 --> 00:32:01.497\nSo we'll get logged in and\nwe'll get a chance to see that And\n\n655\n00:32:01.497 --> 00:32:03.417\neventually, all right, so\n\n656\n00:32:03.417 --> 00:32:09.100\nwhat I'm seeing here is you see how it\nkind of dropped me to this command line?\n\n657\n00:32:09.100 --> 00:32:12.405\nI'm seeing that this is my initial set\nup of Red Hat Enterprise Linux and\n\n658\n00:32:12.405 --> 00:32:14.565\nit's asking me to agree to a license,\nright?\n\n659\n00:32:14.565 --> 00:32:18.175\nSo option number one is the license\ninformation, and we need to agree to it.\n\n660\n00:32:18.175 --> 00:32:20.225\nSo we'll punch in a number one.\n\n661\n00:32:20.225 --> 00:32:22.545\nAnd I can read the license agreement,\nif you're in to that.\n\n662\n00:32:22.545 --> 00:32:25.045\nOr we can just out right accept\nit by choosing old number two.\n\n663\n00:32:25.045 --> 00:32:26.515\nWhich is what I'm gonna do.\n\n664\n00:32:26.515 --> 00:32:31.585\nAnd then we'll do a c to continue and\nmove past that.\n\n665\n00:32:31.585 --> 00:32:33.080\nSo now it's moving forward.\n\n666\n00:32:33.080 --> 00:32:35.170\nAnd I just have to hit c\nto continue one more time.\n\n667\n00:32:35.170 --> 00:32:38.200\nAnd now it's gonna kick\nme back to the GUI.\n\n668\n00:32:38.200 --> 00:32:40.840\nThere was the license agreement\nthat I needed to sign off on.\n\n669\n00:32:40.840 --> 00:32:45.400\nNow I get my login screen, and so I can\njump in here and punch in my password.\n\n670\n00:32:45.400 --> 00:32:47.630\nAnd it's gonna get me logged in.\n\n671\n00:32:47.630 --> 00:32:51.750\nOnce I'm logged in, I'm gonna see that\nsubscription screen pop up and actually,\n\n672\n00:32:51.750 --> 00:32:53.000\nmy video card driver just loaded.\n\n673\n00:32:53.000 --> 00:32:55.630\nSee how my black bars are gone on\nthe left and right side of the screen, so\n\n674\n00:32:55.630 --> 00:32:58.300\nit did detect my video card properly,\nso we're back in.\n\n675\n00:32:58.300 --> 00:33:03.160\nI can choose that English language which\nI'll stick with, and my English keyboard.\n\n676\n00:33:03.160 --> 00:33:06.050\nI'm gonna skip my cloud stuff.\n\n677\n00:33:06.050 --> 00:33:09.480\nAnd hit Start using\nRed Hat Enterprise Linux Server.\n\n678\n00:33:10.700 --> 00:33:16.420\nAll right, now that that's done, I'm in\nthe Gnome UI, my GUI is up and running.\n\n679\n00:33:16.420 --> 00:33:21.380\nAnd I can go up here to Applications and\nSystem Tools, and\n\n680\n00:33:21.380 --> 00:33:25.220\nthen right here we've got\nRed Hat Subscription Manager.\n\n681\n00:33:25.220 --> 00:33:29.480\nAnd that's where we can jump in and\nI will have to authenticate.\n\n682\n00:33:30.590 --> 00:33:33.240\nAnd once I've authenticated\nthen right here\n\n683\n00:33:33.240 --> 00:33:35.270\nI can see that I'm running\nRed Hat Enterprise Linux Server.\n\n684\n00:33:35.270 --> 00:33:38.630\nI'm not registered,\nI've got no subscription and\n\n685\n00:33:38.630 --> 00:33:39.780\nI need to register, right?\n\n686\n00:33:39.780 --> 00:33:43.500\nAnd when we register it's gonna\nreach out to Red Hat Server.\n\n687\n00:33:43.500 --> 00:33:46.240\nAnd for most us,\nwe'll have a user name and\n\n688\n00:33:46.240 --> 00:33:48.560\na password that we punch\nin to authenticate.\n\n689\n00:33:48.560 --> 00:33:52.130\nBut in Enterprise environment, you might\nactually be issued activation keys.\n\n690\n00:33:52.130 --> 00:33:53.560\nYou know if you got a team of 20 admins,\n\n691\n00:33:53.560 --> 00:33:57.070\nyou don't want them all sharing\none login to Red Hat and\n\n692\n00:33:57.070 --> 00:34:00.540\nsetting up individual user accounts\ncan bit of a pain on Red Hat site.\n\n693\n00:34:00.540 --> 00:34:03.980\nSo the larger customer you are the more\nlikely you are to have activation keys and\n\n694\n00:34:03.980 --> 00:34:05.430\nyou'll be able to punch that in.\n\n695\n00:34:05.430 --> 00:34:08.460\nBut for the rest of us,\nwe're just gonna hit next on that, and\n\n696\n00:34:08.460 --> 00:34:10.190\nit's gonna reach out and\nmake sure you can get to Red Hat.\n\n697\n00:34:10.190 --> 00:34:11.950\nAnd then you're gonna login right here.\n\n698\n00:34:11.950 --> 00:34:13.510\nSpecify user name and password.\n\n699\n00:34:13.510 --> 00:34:15.710\nThe system name is kind of important\nbecause when you look at your\n\n700\n00:34:15.710 --> 00:34:18.870\nsubscriptions you need to know which\nsubscription is tied to which server, and\n\n701\n00:34:18.870 --> 00:34:20.280\nso we want to make sure we've got that.\n\n702\n00:34:20.280 --> 00:34:23.797\nIf you're one of those people that\nleaves everything at localhost.domain.\n\n703\n00:34:23.797 --> 00:34:24.786\nI am, I've been guilty of that myself.\n\n704\n00:34:24.786 --> 00:34:25.627\n&gt;&gt; [LAUGH]\n&gt;&gt; It\n\n705\n00:34:25.627 --> 00:34:28.520\nbecomes really hard to figure out\nwhere you've assigned your licenses.\n\n706\n00:34:28.520 --> 00:34:29.440\nAnd that's gonna reach out.\n\n707\n00:34:29.440 --> 00:34:33.470\nThe default is, it's gonna grab whatever\nlicense and matches this install type.\n\n708\n00:34:33.470 --> 00:34:36.500\nBut you can choose to manually\nattach the subscription and\n\n709\n00:34:36.500 --> 00:34:38.840\npick which license it is that you\nwannna attach to this system.\n\n710\n00:34:38.840 --> 00:34:42.090\nIf you've got some kind of special\nneed for that, so you can do it there.\n\n711\n00:34:42.090 --> 00:34:45.520\nOnce it's registered,\nthen your install is done and\n\n712\n00:34:45.520 --> 00:34:46.537\nyou're ready to use the system, right.\n\n713\n00:34:47.580 --> 00:34:50.430\nCouple extra steps there that we don't\nnormally have in a Linux install.\n\n714\n00:34:50.430 --> 00:34:54.840\nMost people think, Linux, it's free, I can\ninstall CentOS or Debian or Ubuntu and\n\n715\n00:34:54.840 --> 00:34:56.560\nyou just do the install and you're done.\n\n716\n00:34:56.560 --> 00:35:01.750\nBut with Red Hat, remember, you pay for\nit, because you also get support.\n\n717\n00:35:01.750 --> 00:35:04.600\nYou get a couple support tickets\nthat you call in a year, and\n\n718\n00:35:04.600 --> 00:35:06.320\nthere's somebody you can reach out to for\nhelp.\n\n719\n00:35:06.320 --> 00:35:09.110\nAnd they're maintaining the security\nsublayers and all that other stuff.\n\n720\n00:35:09.110 --> 00:35:10.200\nThat's what you're paying for.\n\n721\n00:35:10.200 --> 00:35:11.430\nAnd that comes from a subscription and\n\n722\n00:35:11.430 --> 00:35:14.903\nthat's why we've got that one\nextra step with the install.\n\n723\n00:35:14.903 --> 00:35:18.682\nAll right, so Dana that's probably\na good spot to wrap this one up.\n\n724\n00:35:18.682 --> 00:35:21.691\nWe saw a COI install and\nwe saw a GOI install.\n\n725\n00:35:21.691 --> 00:35:23.280\nNot too terribly different\nbetween the two.\n\n726\n00:35:23.280 --> 00:35:25.960\nAnd I talked a little bit about\nthe subscription process which is\n\n727\n00:35:25.960 --> 00:35:26.970\npretty important.\n\n728\n00:35:26.970 --> 00:35:30.450\nThe whole rest of this year is really\ngonna focus on using this stuff.\n\n729\n00:35:30.450 --> 00:35:33.380\nBut do stay tuned because we got that\nKickstarter episode that we're gonna\n\n730\n00:35:33.380 --> 00:35:34.188\ndo, Kickstarter.\n\n731\n00:35:34.188 --> 00:35:35.090\n[LAUGH]\n&gt;&gt; Kickstarter [LAUGH]\n\n732\n00:35:35.090 --> 00:35:36.550\n&gt;&gt; We're gonna take funding from\n\n733\n00:35:36.550 --> 00:35:37.740\nthe audience.\n\n734\n00:35:37.740 --> 00:35:40.540\nKickstart episode, where we'll\nshow how to automate the install.\n\n735\n00:35:40.540 --> 00:35:43.650\nSo you can create a USB key, you plug\nit into a machine, you power it on and\n\n736\n00:35:43.650 --> 00:35:46.330\njust automatically installs and\ngets everything set the way you want.\n\n737\n00:35:46.330 --> 00:35:50.340\nReally helpful for\ndoing large scale deployments of Red Hat,\n\n738\n00:35:50.340 --> 00:35:52.140\nsomething you'll see in\nan Enterprise environment.\n\n739\n00:35:52.140 --> 00:35:52.680\n&gt;&gt; That's right.\nAnd\n\n740\n00:35:52.680 --> 00:35:55.940\nif you ever expect to get into that\nEnterprise environment, that is gonna be\n\n741\n00:35:55.940 --> 00:36:00.940\na godsend for you, to be able to deploy\nvery rapidly, very quickly and automated.\n\n742\n00:36:00.940 --> 00:36:01.800\nI don't wanna touch it.\n\n743\n00:36:01.800 --> 00:36:04.150\nI just wanna fire it off and\nlet it go, and make it happen.\n\n744\n00:36:04.150 --> 00:36:06.900\nDon, installation pretty\nstraightforward for us.\n\n745\n00:36:06.900 --> 00:36:10.040\nImportant things, the licensing key,\nand the security as well.\n\n746\n00:36:10.040 --> 00:36:11.530\nDon't forget that, that is happening.\n\n747\n00:36:11.530 --> 00:36:15.780\nAnd make sure you understand which type\nof server you're installing as well.\n\n748\n00:36:15.780 --> 00:36:18.848\nCould be crucial for\nyou as you move forward.\n\n749\n00:36:18.848 --> 00:36:21.310\nThat being said, looks like we've\nrun out of time for this episode.\n\n750\n00:36:21.310 --> 00:36:23.780\nWe thank you Don for\nyour demonstration of this.\n\n751\n00:36:23.780 --> 00:36:26.410\nNow we are able to follow\nin your footsteps and\n\n752\n00:36:26.410 --> 00:36:29.880\nhave Red Hat Linux installed and\nready on our systems as well.\n\n753\n00:36:29.880 --> 00:36:33.210\nBut it is time for us to sign off so\nsigning off for ITPro TV,\n\n754\n00:36:33.210 --> 00:36:35.090\nI've been your host Daniel Lowery.\n\n755\n00:36:35.090 --> 00:36:37.033\n&gt;&gt; I'm Don Piset.\n&gt;&gt; We'll see you next time.\n\n756\n00:36:37.033 --> 00:36:43.710\n[MUSIC]\n\n757\n00:36:43.710 --> 00:36:46.617\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "191960399"
        },
        {
          "description": "In this episode, Daniel and Don walk you through using the RHEL7 Graphical User Interface console. They look at some of the GUI system utilities, then introduce you to the task bar and interacting with running applications as well as moving between them. Lastly, they demonstrate the system menu, workspaces, and virtual terminals.",
          "length": "1529",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-1-2-using_the_rhel7_console-111416.00_25_14_27.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-1-2-using_the_rhel7_console-111416.00_25_14_27.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-1-2-using_the_rhel7_console-111416.00_25_14_27.Still001-sm.jpg",
          "title": "Using the RHEL7 Console",
          "transcript": "WEBVTT\n\n1\n00:00:00.120 --> 00:00:06.810\nWelcome to ITProTV.\n\n2\n00:00:06.810 --> 00:00:08.205\n[MUSIC]\n\n3\n00:00:08.205 --> 00:00:12.440\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.440 --> 00:00:13.850\n&gt;&gt; All right, greetings everyone, and\n\n5\n00:00:13.850 --> 00:00:15.900\nwelcome to another great\nepisode of ITProTV.\n\n6\n00:00:15.900 --> 00:00:18.570\nI'm your host, Daniel Lowrie,\nand in today's episode, well,\n\n7\n00:00:18.570 --> 00:00:22.940\nwe're moving on with more on our\nRed Hat Enterprise Linux version 7 series.\n\n8\n00:00:22.940 --> 00:00:26.570\nAnd joining me back in the studio again\ntoday to continue that train rolling,\n\n9\n00:00:26.570 --> 00:00:27.980\nis our good friend, Mr. Don Pezet.\n\n10\n00:00:27.980 --> 00:00:29.680\nDon, welcome back, how's it going today?\n\n11\n00:00:29.680 --> 00:00:31.910\n&gt;&gt; It is going swell, Daniel,\nwe're ready to dive right back in.\n\n12\n00:00:31.910 --> 00:00:35.630\nAnd if you've been watching our series,\nwe saw how to install Red Hat and\n\n13\n00:00:35.630 --> 00:00:36.260\nthat was nice.\n\n14\n00:00:36.260 --> 00:00:37.380\nWe got it, that was great.\n\n15\n00:00:37.380 --> 00:00:38.210\n&gt;&gt; Very special.\n\n16\n00:00:38.210 --> 00:00:39.940\n&gt;&gt; But now we kind of need to use it.\n\n17\n00:00:39.940 --> 00:00:41.360\nSo that's what we're gonna\ntake a look at right here,\n\n18\n00:00:41.360 --> 00:00:44.340\nthe different ways that we can interact\nwith the Red Hat operating system.\n\n19\n00:00:44.340 --> 00:00:48.180\nAnd there's really three key\npoints that I wanna tackle here,\n\n20\n00:00:48.180 --> 00:00:50.590\ndepending on your install you're\ngonna interact with it differently.\n\n21\n00:00:50.590 --> 00:00:53.762\nAnd I wanna start with the GUI side\nof things, if you're installing\n\n22\n00:00:53.762 --> 00:00:57.970\nRed Hat Enterprise Linux as a desktop or\nworkstation, laptop, that kind of\n\n23\n00:00:57.970 --> 00:01:01.820\nenvironment, you're going to usually\ninstall the graphical user interface.\n\n24\n00:01:01.820 --> 00:01:06.100\nOn a server, you're normally not going\nto install the graphical user interface.\n\n25\n00:01:06.100 --> 00:01:08.935\nBut it's up to you,\nyou could have a server with a GUI.\n\n26\n00:01:08.935 --> 00:01:13.250\nIt works just fine,\nyou just give up a few resources for that.\n\n27\n00:01:13.250 --> 00:01:17.820\nWell, the GUI that's packaged with Red Hat\nEnterprise Linux is the GNOME Desktop.\n\n28\n00:01:17.820 --> 00:01:21.630\nAnd I know there's a lot of\nyou out there that love KDE or\n\n29\n00:01:21.630 --> 00:01:24.570\nyou love XFCE, that's my favorite.\n\n30\n00:01:24.570 --> 00:01:26.670\nThere's the Unity and\n\n31\n00:01:26.670 --> 00:01:28.980\nall those other crazy ones that\nare out there that you can deploy.\n\n32\n00:01:28.980 --> 00:01:32.150\nThere's the ones that make your\nwhole desktop a 3D cube and so\n\n33\n00:01:32.150 --> 00:01:34.570\non, I can't remember the name of that one.\n\n34\n00:01:34.570 --> 00:01:37.240\nThose are fine, but the default for\nRed Hat is GNOME and\n\n35\n00:01:37.240 --> 00:01:42.610\nthe reason they do that is GNOME is\ntried and true, it's very stable.\n\n36\n00:01:42.610 --> 00:01:47.990\nAnd they want it so that if you do\na thousand deployments of Red Hat,\n\n37\n00:01:47.990 --> 00:01:51.200\nthat they all look and function the same,\nthat people can move between them, right.\n\n38\n00:01:51.200 --> 00:01:55.770\nThink like Microsoft, where if I\nhave a hundred Windows 7 machines,\n\n39\n00:01:55.770 --> 00:01:59.110\nthey all interact the same way,\nthat's how Red Hat is designed.\n\n40\n00:01:59.110 --> 00:02:00.040\nYou wanna interact the same way,\n\n41\n00:02:00.040 --> 00:02:03.640\nyou create that consistency which\nhelps efficiency, all right.\n\n42\n00:02:03.640 --> 00:02:06.500\nSo when you get logged into Red Hat,\nwhat you’re gonna see for\n\n43\n00:02:06.500 --> 00:02:10.750\nthe first time is like what I'm seeing\nhere, the default GNOME desktop.\n\n44\n00:02:10.750 --> 00:02:12.390\nAnd this is Red Hat Enterprise Linux 7, so\n\n45\n00:02:12.390 --> 00:02:15.163\nyou see the stylized 7\nin the wallpaper there.\n\n46\n00:02:15.163 --> 00:02:16.763\n&gt;&gt; [INAUDIBLE]\n&gt;&gt; Yeah, it's fancypants.\n\n47\n00:02:16.763 --> 00:02:19.210\nYou might have changed the wallpaper but\n\n48\n00:02:19.210 --> 00:02:22.550\notherwise the basic layout of what\nwe're seeing here is gonna be the same.\n\n49\n00:02:22.550 --> 00:02:24.698\nLet's kind of run through each\nof the components of the screen.\n\n50\n00:02:24.698 --> 00:02:28.370\nUp here at the top left we've\ngot our applications menu.\n\n51\n00:02:28.370 --> 00:02:32.180\nAnd the applications menu is our way\nto interact with the programs on\n\n52\n00:02:32.180 --> 00:02:34.380\nour system and\nyou'll see different categories.\n\n53\n00:02:34.380 --> 00:02:36.902\nThe first one is favorites,\nthese are ones that you flagged,\n\n54\n00:02:36.902 --> 00:02:39.170\nit's supposed to be the programs\nyou use all the time, so\n\n55\n00:02:39.170 --> 00:02:42.110\nthe favorites menu may differ\nfrom machine to machine.\n\n56\n00:02:42.110 --> 00:02:45.115\nBut after that we've got categories of\nthe different applications that we've\n\n57\n00:02:45.115 --> 00:02:45.760\ninstalled.\n\n58\n00:02:45.760 --> 00:02:47.580\nAnd you can browse through them,\nand find them, and run them.\n\n59\n00:02:47.580 --> 00:02:50.810\nAs you install applications\nthe majority of them automatically\n\n60\n00:02:50.810 --> 00:02:53.280\nadd their icon right here so\nyou don't have to edit it,\n\n61\n00:02:53.280 --> 00:02:55.914\nthat used to be the horrible\npart of Linux back in the day.\n\n62\n00:02:55.914 --> 00:02:58.020\nBut they get kind of thrown in here and\n\n63\n00:02:58.020 --> 00:03:00.720\nyou'll see each of the different\ncategories, all right.\n\n64\n00:03:00.720 --> 00:03:02.940\nSome of them are uncategorized\nlike the other folder,\n\n65\n00:03:02.940 --> 00:03:05.030\nyou'll have mixed stuff that's in there.\n\n66\n00:03:05.030 --> 00:03:08.040\nBut the important one for\nme usually is system utilities.\n\n67\n00:03:08.040 --> 00:03:11.390\nInside of system utilities is where we\ncan tweak the way our system works and\n\n68\n00:03:11.390 --> 00:03:13.180\nthere's all sorts of\ndifferent programs and\n\n69\n00:03:13.180 --> 00:03:16.780\nthings in here that we can start to\nmanipulate and work with, all right.\n\n70\n00:03:16.780 --> 00:03:20.620\nSo that's kind of the little\nlaunch bar that we have up top.\n\n71\n00:03:20.620 --> 00:03:22.430\nYou've also got places, and\n\n72\n00:03:22.430 --> 00:03:26.440\nwhat places is is actually launching\nthe file manager for Red Hat.\n\n73\n00:03:26.440 --> 00:03:30.325\nBut launching it in a particular folder,\nyour home folder, your documents folder,\n\n74\n00:03:30.325 --> 00:03:32.385\nyour downloads folder and so on, right.\n\n75\n00:03:32.385 --> 00:03:35.215\nAnd these can be customized\ntoo to add in local and\n\n76\n00:03:35.215 --> 00:03:37.725\nremote resources that you\nbrowse to frequently.\n\n77\n00:03:37.725 --> 00:03:40.535\nSo if there's a network attached drive\nthat you're constantly browsing to you can\n\n78\n00:03:40.535 --> 00:03:43.085\nadd it here to places and\nyou can jump right to it.\n\n79\n00:03:43.085 --> 00:03:46.645\nIf I downloaded a file and I wanna find\nit I can go right up here to places,\n\n80\n00:03:46.645 --> 00:03:49.845\nI can go to my downloads folder, and\nit's gonna launch the file manager and\n\n81\n00:03:49.845 --> 00:03:51.790\ntake me right to my downloads folder.\n\n82\n00:03:51.790 --> 00:03:54.440\nI could have just launched the folder\nmyself and clicked the link over here.\n\n83\n00:03:54.440 --> 00:03:56.570\nIt's just designed to\nbe a little bit faster,\n\n84\n00:03:56.570 --> 00:03:58.160\nmake it easier to get to\nthe stuff that you need.\n\n85\n00:03:59.160 --> 00:04:04.260\nAll right, so that's the rest of what\nwe see up there at the top left.\n\n86\n00:04:04.260 --> 00:04:06.110\nAnd as I start launching these programs,\n\n87\n00:04:06.110 --> 00:04:08.150\nyou'll notice that the bar\nkind of changes, right.\n\n88\n00:04:08.150 --> 00:04:14.160\nSo if I go in to launch Firefox and\nstart launching other utilities.\n\n89\n00:04:14.160 --> 00:04:18.115\nAs they launch, notice up here\nat the top the bars expands.\n\n90\n00:04:18.115 --> 00:04:22.910\nI have applications, I have places,\nand now I have Firefox web browser.\n\n91\n00:04:22.910 --> 00:04:24.670\nAnd so I've got a menu item custom for\n\n92\n00:04:24.670 --> 00:04:27.042\nthis application and\nit's not very robust is it?\n\n93\n00:04:27.042 --> 00:04:31.080\nQuit, [LAUGH] so\nnot a whole heck of a lot going on there.\n\n94\n00:04:31.080 --> 00:04:32.295\n&gt;&gt; No one likes a quitter Don.\n\n95\n00:04:32.295 --> 00:04:34.160\n[LAUGH]\n&gt;&gt; Some applications actually load in\n\n96\n00:04:34.160 --> 00:04:36.470\na ton of other stuff and\nit becomes far more useful.\n\n97\n00:04:36.470 --> 00:04:40.190\nI've chosen one that is somewhat lacking,\n\n98\n00:04:40.190 --> 00:04:44.970\nso if I were to flip over to the file\nmanager see how it now says files up here.\n\n99\n00:04:44.970 --> 00:04:49.090\nAnd if I hit that one it's got a lot\nmore stuff in it than just quit, right.\n\n100\n00:04:49.090 --> 00:04:51.687\nYou'll see that frequently with\napplications that have been ported to\n\n101\n00:04:51.687 --> 00:04:53.950\nLinux, some of them might not\npopulate that menu, some may.\n\n102\n00:04:55.500 --> 00:04:58.250\nAll right, you know I quickly\nswitched applications there and\n\n103\n00:04:58.250 --> 00:05:00.930\nI didn't really think about it,\nit's just something that I do.\n\n104\n00:05:00.930 --> 00:05:05.730\nWhen I switch between Firefox and\nthis file browser,\n\n105\n00:05:05.730 --> 00:05:09.200\nto switch between applications\nthere's a few different ways to do it.\n\n106\n00:05:09.200 --> 00:05:10.840\nIf they're on screen, you can just click.\n\n107\n00:05:10.840 --> 00:05:12.360\nI'm looking at my File Manager now.\n\n108\n00:05:12.360 --> 00:05:14.430\nIf I wanna switch over\nto the Firefox browser,\n\n109\n00:05:14.430 --> 00:05:17.620\nI can just click on that window in\nthe background and now I'm in Firefox.\n\n110\n00:05:17.620 --> 00:05:20.310\nBut if I wanna switch\nback to my file manager,\n\n111\n00:05:20.310 --> 00:05:22.770\nI can't click on it cuz\nFirefox is in the way.\n\n112\n00:05:22.770 --> 00:05:28.040\nSo I could move it, find, and click,\nand so on, but that's a lot of work.\n\n113\n00:05:28.040 --> 00:05:29.480\nIf you-\n&gt;&gt; That's the best way to do it.\n\n114\n00:05:29.480 --> 00:05:31.572\n&gt;&gt; I know [LAUGH] This is us whining,\nthat was a lot of work.\n\n115\n00:05:31.572 --> 00:05:32.142\n&gt;&gt; [LAUGH] Yeah.\n\n116\n00:05:32.142 --> 00:05:33.110\n&gt;&gt; It's not like I dug a ditch.\n\n117\n00:05:33.110 --> 00:05:36.040\n&gt;&gt; [LAUGH]\n&gt;&gt; But anyhow it's in the link.\n\n118\n00:05:36.040 --> 00:05:40.070\nSo what you'll notice is down at\nthe bottom, this bar is changing also.\n\n119\n00:05:40.070 --> 00:05:44.180\nAnd unlike the top bar where it's\nreflecting the application that has focus,\n\n120\n00:05:44.180 --> 00:05:46.570\nthe one that's in the foreground\non your system right now.\n\n121\n00:05:46.570 --> 00:05:49.140\nThe one on the bottom shows every program.\n\n122\n00:05:49.140 --> 00:05:52.550\nAnd so I can see my downloads,\nand I can see Firefox.\n\n123\n00:05:52.550 --> 00:05:55.770\nAnd I can switch just by\nclicking on these buttons and\n\n124\n00:05:55.770 --> 00:05:59.020\nbouncing in between the two nice and\neasy, okay.\n\n125\n00:05:59.020 --> 00:06:03.640\nSo if I'm in Firefox and it's covering up\nthe file manager I can just click on that\n\n126\n00:06:03.640 --> 00:06:07.220\nfile manager button and\nnow it pops up and there we go, right.\n\n127\n00:06:07.220 --> 00:06:11.570\nAnd as you start to work with the system,\nyou may come in and\n\n128\n00:06:11.570 --> 00:06:14.050\nopen up more than one\nwindow in an application.\n\n129\n00:06:14.050 --> 00:06:18.190\nAnd as you open up more that one window\nsee how Firefox now has two buttons downs\n\n130\n00:06:18.190 --> 00:06:19.280\nhere, right.\n\n131\n00:06:19.280 --> 00:06:21.340\nFor the two different windows\nof that application, so\n\n132\n00:06:21.340 --> 00:06:23.090\nI can flip between those two.\n\n133\n00:06:23.090 --> 00:06:26.076\nDoesn't work with tabs but\nit does work with separate windows.\n\n134\n00:06:27.220 --> 00:06:29.940\nAll right, but what I did a minute ago\nthough was, I used a keyboard shortcut.\n\n135\n00:06:29.940 --> 00:06:32.020\nThere's a lot of keyboard\nshortcuts inside of GNOME.\n\n136\n00:06:32.020 --> 00:06:35.580\nIt's not a Red Hat thing,\nit's a GNOME thing, that if you do alt\n\n137\n00:06:35.580 --> 00:06:39.620\ntab on your keyboard, alt tab will\nbring up a little program browser.\n\n138\n00:06:39.620 --> 00:06:43.300\nAnd you can just keep holding the alt key\non your keyboard, and hitting tab over and\n\n139\n00:06:43.300 --> 00:06:45.420\nover, and you'll move in between them.\n\n140\n00:06:45.420 --> 00:06:50.750\nIf you have a ton, you can hold Shift, so\nI'm doing Alt-Shift-Tab to go backwards.\n\n141\n00:06:50.750 --> 00:06:53.571\nSo Alt-Tab to go forwards,\nAlt-Shift-Tab to go backwards and\n\n142\n00:06:53.571 --> 00:06:54.760\nyou can navigate through.\n\n143\n00:06:54.760 --> 00:06:57.560\nSo, easy way, again,\njust to move between applications.\n\n144\n00:06:59.970 --> 00:07:03.580\nAt the top right we've got\nanother little menu bar up here.\n\n145\n00:07:03.580 --> 00:07:06.930\nWe've got our date and time, right,\nso you see your date information and\n\n146\n00:07:06.930 --> 00:07:09.340\nyou can click on it to bring\nup a calendar and go in and\n\n147\n00:07:09.340 --> 00:07:11.720\ncustomize those settings if you need to.\n\n148\n00:07:11.720 --> 00:07:14.215\nYou've also got your\ncurrent network status.\n\n149\n00:07:14.215 --> 00:07:17.265\nI'm on a physical network connection here,\nI've got a physical cable plugged in.\n\n150\n00:07:17.265 --> 00:07:20.529\nIf you're on a wireless one it will show\nyour wireless signal strength and so\n\n151\n00:07:20.529 --> 00:07:21.708\nyou'll see it from there.\n\n152\n00:07:21.708 --> 00:07:24.957\nAnd you can click on that to come in and\nchange what you're connected to,\n\n153\n00:07:24.957 --> 00:07:26.525\nturn Bluetooth on and off.\n\n154\n00:07:26.525 --> 00:07:29.675\nYou can even do user switching if\nyou have more than one user account.\n\n155\n00:07:29.675 --> 00:07:31.865\nThis is great for shared computers, right.\n\n156\n00:07:31.865 --> 00:07:35.270\nOn a server not so much but\non a desktop or a laptop.\n\n157\n00:07:35.270 --> 00:07:36.860\nMaybe I was using the computer and\n\n158\n00:07:36.860 --> 00:07:40.400\nnow I wanna let Daniel use it, so\nhe's got an account he can switch over.\n\n159\n00:07:40.400 --> 00:07:43.330\nI stay logged in,\nmy programs stay running, but\n\n160\n00:07:43.330 --> 00:07:46.155\nnow he's able to login and\nstart to run his system.\n\n161\n00:07:46.155 --> 00:07:49.040\nSo you kind of share that system.\n\n162\n00:07:49.040 --> 00:07:51.903\nAnd then there's a couple\nof short-cut buttons and\n\n163\n00:07:51.903 --> 00:07:53.926\nthis is all from me clicking up here.\n\n164\n00:07:53.926 --> 00:07:58.180\nNotice how when I clicked on it see\nhow all three of these things lit up,\n\n165\n00:07:58.180 --> 00:07:59.347\nnot just network.\n\n166\n00:07:59.347 --> 00:08:02.641\nThe first couple option I saw were\nnetwork, but we've also got volume,\n\n167\n00:08:02.641 --> 00:08:05.190\nright here at the top,\nwhich is from the volume button.\n\n168\n00:08:05.190 --> 00:08:07.625\nAnd then at the very bottom here\nwe've got power and system.\n\n169\n00:08:07.625 --> 00:08:08.840\nOkay.\n\n170\n00:08:08.840 --> 00:08:11.710\nThese three buttons are super handy,\nI use them all the time.\n\n171\n00:08:12.880 --> 00:08:16.210\nIf I wanna customize my system,\nI need to get into the settings.\n\n172\n00:08:16.210 --> 00:08:19.400\nWell I can get into the settings by\ngoing up here to applications and\n\n173\n00:08:19.400 --> 00:08:21.760\ngoing down to system tools and\ngoing to settings, right?\n\n174\n00:08:21.760 --> 00:08:23.380\nSo there is the option.\n\n175\n00:08:23.380 --> 00:08:24.570\nRight there.\n\n176\n00:08:24.570 --> 00:08:27.670\nOr, up here at the top right I\ncan bring this menu down and\n\n177\n00:08:27.670 --> 00:08:31.630\nI can just click on the little wrench and\nit takes me right there to settings.\n\n178\n00:08:31.630 --> 00:08:34.420\nSo I can quickly get in and\nstart to customize my system and\n\n179\n00:08:34.420 --> 00:08:37.210\nthat's a little bit faster than using\nthe application menu in my opinion.\n\n180\n00:08:38.210 --> 00:08:39.720\nThe other buttons though,\n\n181\n00:08:39.720 --> 00:08:42.840\nare what you do when you're\nwalking away from the computer.\n\n182\n00:08:42.840 --> 00:08:45.600\nSo if it's the middle of the day and\nI'm taking a lunch break or\n\n183\n00:08:45.600 --> 00:08:47.770\nI'm just gonna walk over to the coffee\nmachine to get some coffee,\n\n184\n00:08:47.770 --> 00:08:51.340\nI don't want somebody to sit down\nat my computer and start to use it.\n\n185\n00:08:51.340 --> 00:08:53.850\nSo I can lock the screen.\n\n186\n00:08:53.850 --> 00:08:55.610\nWhen you click that,\nit's gonna lock the screen.\n\n187\n00:08:55.610 --> 00:08:57.500\nIt will take us right here.\n\n188\n00:08:57.500 --> 00:09:00.680\nAnd now if somebody walks up and\ntries to use the computer,\n\n189\n00:09:00.680 --> 00:09:01.645\nthey're gonna have to log in.\n\n190\n00:09:01.645 --> 00:09:04.274\nRight?\nNow, the first time I installed\n\n191\n00:09:04.274 --> 00:09:08.280\nRed Head Enterprise Linux Seven I\nwas super annoyed.\n\n192\n00:09:08.280 --> 00:09:09.924\nSee the little arrows that are flashing?\n\n193\n00:09:09.924 --> 00:09:12.430\nI think they're gonna stop flashing\nnow that I moved the mouse.\n\n194\n00:09:12.430 --> 00:09:13.840\nBut when I wasn't moving\nthe mouse--there you go.\n\n195\n00:09:13.840 --> 00:09:15.662\nYou see the little arrows\nthat kind of flash there.\n\n196\n00:09:15.662 --> 00:09:19.530\nIf you have a touch screen you can\ntake your finger and swipe up and\n\n197\n00:09:19.530 --> 00:09:20.800\nthere's your login.\n\n198\n00:09:20.800 --> 00:09:22.460\nBut what if you don't have a touch screen?\n\n199\n00:09:22.460 --> 00:09:24.270\n&gt;&gt; Because it's annoying\n&gt;&gt; It is annoying.\n\n200\n00:09:24.270 --> 00:09:25.290\n&gt;&gt; I hate that feature.\n\n201\n00:09:25.290 --> 00:09:27.845\n&gt;&gt; You can take the mouse and\ndrag it up or\n\n202\n00:09:27.845 --> 00:09:30.453\nwhatever but-\n&gt;&gt; If you're using a track pad it's\n\n203\n00:09:30.453 --> 00:09:31.060\nsuch a pain.\n\n204\n00:09:31.060 --> 00:09:32.857\n&gt;&gt; So the secret Space bar.\n\n205\n00:09:32.857 --> 00:09:35.490\nIf is a space bar it advances up.\n\n206\n00:09:35.490 --> 00:09:37.180\nSo just remember to do that.\n\n207\n00:09:37.180 --> 00:09:39.770\nA lot of people don't know that\nbecause it's not very well documented.\n\n208\n00:09:39.770 --> 00:09:41.940\nIt doesn't say that on\nthe screen like press space.\n\n209\n00:09:41.940 --> 00:09:45.920\nBut if you just hit the space bar it\nswipes right up, and now you can log in.\n\n210\n00:09:45.920 --> 00:09:50.140\nSo, yeah the visual cues\nare tied to a touch screen.\n\n211\n00:09:50.140 --> 00:09:51.910\nBut it's still full on keyboard support.\n\n212\n00:09:51.910 --> 00:09:56.270\nJust tap your spacebar, it'll pop right up\nand now I can log in as either myself or\n\n213\n00:09:56.270 --> 00:09:58.440\nif I had other users I can log in as them.\n\n214\n00:09:58.440 --> 00:09:59.860\nSee, I've got that little link right here.\n\n215\n00:09:59.860 --> 00:10:01.230\nLog in as another user.\n\n216\n00:10:01.230 --> 00:10:04.670\nSo, if Daniel had an account, he could\nclick on that and pick somebody else.\n\n217\n00:10:04.670 --> 00:10:06.610\nNow it is showing the screen as locked,\nright.\n\n218\n00:10:06.610 --> 00:10:09.140\nSo I know that I'm logged in right now.\n\n219\n00:10:09.140 --> 00:10:11.850\nIf somebody else logs in,\nit doesn't log me out.\n\n220\n00:10:11.850 --> 00:10:14.990\nIt leaves me in, so\nwe're both active at the same time.\n\n221\n00:10:14.990 --> 00:10:16.780\nWell we're not truly active.\n\n222\n00:10:16.780 --> 00:10:18.960\nMy programs are active but\nI'm not interacting with them.\n\n223\n00:10:20.160 --> 00:10:24.056\nOk, so let me just punch in\nthe Google trustee password and\n\n224\n00:10:24.056 --> 00:10:26.820\nwe'll lock on that desktop jump right\nin and then we're back in business.\n\n225\n00:10:26.820 --> 00:10:28.540\nRight, so we walk away for a little while,\n\n226\n00:10:28.540 --> 00:10:32.470\nwe don't worry about somebody jumping\nin and starting to use our system.\n\n227\n00:10:32.470 --> 00:10:36.140\nThe other option that we had\nwas the power button, right?\n\n228\n00:10:36.140 --> 00:10:39.900\nAnd its not just power off, right if\nyou hit it actually get the power menu.\n\n229\n00:10:39.900 --> 00:10:41.830\nAnd here is where we can choose\nto do a couple of things.\n\n230\n00:10:41.830 --> 00:10:45.220\nWe can install pending software updates if\nthere's some that are waiting to install.\n\n231\n00:10:45.220 --> 00:10:47.700\nYou can restart or you can power off.\n\n232\n00:10:47.700 --> 00:10:49.400\nRight, restart,\nthis is gonna reboot the system.\n\n233\n00:10:49.400 --> 00:10:51.220\nPower off is gonna actually try and\n\n234\n00:10:51.220 --> 00:10:55.070\ndo a hard shutdown where it actually\npowers off, takes the machine cold.\n\n235\n00:10:55.070 --> 00:10:56.790\nI'd say, try.\n\n236\n00:10:56.790 --> 00:11:00.690\nIf your machine is ACPI compliant,\nwith almost every machine is these days.\n\n237\n00:11:00.690 --> 00:11:02.160\nThen yeah it'll power it off.\n\n238\n00:11:02.160 --> 00:11:04.470\nBut if there's something wrong\nwith the motherboard drivers or\n\n239\n00:11:04.470 --> 00:11:06.740\nwhatever it might not be able\nto take it all the way down.\n\n240\n00:11:06.740 --> 00:11:10.670\nAnd so, it will try and\nhalt the system where Linux is stopped.\n\n241\n00:11:10.670 --> 00:11:12.240\nBut the hardware might still be turned on.\n\n242\n00:11:12.240 --> 00:11:15.450\nYou just gotta check and\nmake sure that your system is supported.\n\n243\n00:11:15.450 --> 00:11:18.050\nBut that's basically our power menu.\n\n244\n00:11:18.050 --> 00:11:20.460\nSo when it comes time to shut things down,\nthat's where you're gonna jump over and\n\n245\n00:11:20.460 --> 00:11:21.179\nknock it right out from there.\n\n246\n00:11:22.520 --> 00:11:25.760\nThe only other element that I really\nwanna address here on the GUI,\n\n247\n00:11:25.760 --> 00:11:28.889\ncuz I know a lot of you are thinking\ncome on Don, this is kind of dumb.\n\n248\n00:11:28.889 --> 00:11:33.400\n[LAUGH] Is down at the bottom right,\nlet me get out of all this stuff.\n\n249\n00:11:33.400 --> 00:11:35.040\nDown at the bottom right,\n\n250\n00:11:35.040 --> 00:11:40.000\ncovered by my giant noggin, we're gonna\nsee this little option right here.\n\n251\n00:11:40.000 --> 00:11:44.280\nThe GNOME desktop has four\nvirtual work spaces by default.\n\n252\n00:11:44.280 --> 00:11:46.740\nSome people have a lot of extra monitors,\nand that's nice.\n\n253\n00:11:46.740 --> 00:11:51.240\nBut if you don't, you can use these\nto create virtual monitors, right.\n\n254\n00:11:51.240 --> 00:11:56.380\nSo, remember how I had Firefox open and\nit was covering up my file manager.\n\n255\n00:11:56.380 --> 00:12:01.354\nSo, I might have Firefox open, and that's\nright here in work space number one and\n\n256\n00:12:01.354 --> 00:12:04.598\nthen I hit that little button\nat the bottom-right and\n\n257\n00:12:04.598 --> 00:12:06.850\nI jump over to work space number two.\n\n258\n00:12:07.860 --> 00:12:11.230\nAnd over here, maybe I'll start\nopening up other applications for\n\n259\n00:12:11.230 --> 00:12:14.570\nwhatever it is that I'm doing,\nmaybe working with some videos over here.\n\n260\n00:12:14.570 --> 00:12:18.826\nAnd then I go right back down and I can\njump over to work space number three and\n\n261\n00:12:18.826 --> 00:12:22.510\nover here,\nI start browsing files or whatever.\n\n262\n00:12:22.510 --> 00:12:26.540\nNow I can just quickly flip between the\nwork spaces and as I move from work space\n\n263\n00:12:26.540 --> 00:12:30.330\nto work space, I see the applications\nwhich are tailored to what I want.\n\n264\n00:12:30.330 --> 00:12:33.480\nSo maybe I just I keep my\nemail on work space one, and\n\n265\n00:12:33.480 --> 00:12:37.030\nI keep my network monitoring software\non work space two and so on.\n\n266\n00:12:37.030 --> 00:12:39.240\nSo we can tackle all of that.\n\n267\n00:12:39.240 --> 00:12:40.480\nAnd work with the system that way.\n\n268\n00:12:40.480 --> 00:12:42.920\nIt's kind of a nice little feature,\nif you don't have multiple monitors.\n\n269\n00:12:42.920 --> 00:12:44.210\n&gt;&gt; Yeah, it's a great feature actually.\n\n270\n00:12:44.210 --> 00:12:46.750\nAnd it's one of the features that's\nbeen around for quite some time.\n\n271\n00:12:46.750 --> 00:12:51.620\nAnd has given Linux a little bit of\na difference between its competitors and\n\n272\n00:12:51.620 --> 00:12:53.490\nnow they're starting to play catch up and\nsay,\n\n273\n00:12:53.490 --> 00:12:55.840\nhey that's a smart idea\nwe should do that too.\n\n274\n00:12:55.840 --> 00:12:58.720\n&gt;&gt; Microsoft just added that\nin Windows 10, I think, right?\n\n275\n00:12:58.720 --> 00:13:00.420\n&gt;&gt; Yeah.\n&gt;&gt; Just this year.\n\n276\n00:13:00.420 --> 00:13:01.380\nAll right.\n\n277\n00:13:01.380 --> 00:13:03.980\nThe other thing, though, is, and what\na lot of you are thinking is, hey Don,\n\n278\n00:13:03.980 --> 00:13:06.145\nthat GUI is nice, I never use it.\n\n279\n00:13:06.145 --> 00:13:07.860\n&gt;&gt; [LAUGH]\n&gt;&gt; On a server we're not normally gonna\n\n280\n00:13:07.860 --> 00:13:10.760\nuse the GUI, so this type of access is\nnot what we're typically gonna use.\n\n281\n00:13:10.760 --> 00:13:14.450\nWe're gonna spend most of our time in\nthe command line, in the terminal, right?\n\n282\n00:13:14.450 --> 00:13:16.840\nAnd if you're in the GUI you\nhave access to the terminal.\n\n283\n00:13:16.840 --> 00:13:19.090\nIf we go to our application menu.\n\n284\n00:13:19.090 --> 00:13:20.180\nLet's get out all of this.\n\n285\n00:13:20.180 --> 00:13:23.450\nWe go to applications and\nit's under favorites\n\n286\n00:13:23.450 --> 00:13:26.270\nby default that you can't necessarily\ncount on that always being there.\n\n287\n00:13:26.270 --> 00:13:30.080\nSo if you go under applications utilities\n\n288\n00:13:30.080 --> 00:13:33.710\nit's buried down in the utilities and\nyou can launch the terminal.\n\n289\n00:13:33.710 --> 00:13:36.520\nAnd the terminal comes up as\nthe standard nome terminal.\n\n290\n00:13:36.520 --> 00:13:40.917\nYou can replace it with things like exterm\nand other utilities if you want, but\n\n291\n00:13:40.917 --> 00:13:43.448\nthe default is that it\nis the nome terminal and\n\n292\n00:13:43.448 --> 00:13:45.730\nit certainly serves a purpose, right?\n\n293\n00:13:45.730 --> 00:13:50.280\nI'm now in the command line, and I can\njump in and start issuing commands or\n\n294\n00:13:50.280 --> 00:13:53.650\nwhatever it is I wanna do to come in and\n\n295\n00:13:53.650 --> 00:13:56.100\nverify what I'm running and\nall that stuff.\n\n296\n00:13:56.100 --> 00:13:58.690\nI'm interacting with the system via CLI,\nright?\n\n297\n00:13:58.690 --> 00:14:00.740\nAnd from here,\n\n298\n00:14:00.740 --> 00:14:05.630\nI can do everything that I could do from a\nCLI based install because I'm in the CLI.\n\n299\n00:14:05.630 --> 00:14:08.280\nBut I get the added advantage\nthat I can copy and paste text.\n\n300\n00:14:08.280 --> 00:14:11.880\nI can move, I have a web browser open\non one side telling me what to do and\n\n301\n00:14:11.880 --> 00:14:13.840\nbe typing it on the right side,\nthat kind of stuff.\n\n302\n00:14:13.840 --> 00:14:17.730\nYou really get some advantages by having a\nWindow Manager by having a GUI like this,\n\n303\n00:14:17.730 --> 00:14:18.740\nall right?\n\n304\n00:14:18.740 --> 00:14:22.910\nVersus actually being in the raw CLI but\n\n305\n00:14:22.910 --> 00:14:27.260\ndo be aware that under the hood, under\nall of this, the raw CLI is there, right?\n\n306\n00:14:27.260 --> 00:14:29.640\nI mean this is technically\na remote session into that CLI.\n\n307\n00:14:30.680 --> 00:14:31.940\nNow if you use this terminal,\n\n308\n00:14:31.940 --> 00:14:35.720\none of the things you'll probably\nwant to do is you can customize it.\n\n309\n00:14:35.720 --> 00:14:37.062\nIt maintains what are called profiles.\n\n310\n00:14:37.062 --> 00:14:38.310\nYou get different profiles for\n\n311\n00:14:38.310 --> 00:14:42.470\nthe terminal based on different needs and\nyou can customize the way that it looks.\n\n312\n00:14:42.470 --> 00:14:45.350\nAnd so the way mine looks\nhere is pretty standard.\n\n313\n00:14:45.350 --> 00:14:49.390\nBut, sometimes you might like white\ntext on a black background or\n\n314\n00:14:49.390 --> 00:14:53.140\nother customizations and so\nyou can jump in and tailor all this.\n\n315\n00:14:53.140 --> 00:14:57.210\nIf you go to File, see you've got New\nProfile you can create a custom profile\n\n316\n00:14:57.210 --> 00:14:58.770\nthat matches what you want.\n\n317\n00:14:58.770 --> 00:15:00.820\nAnd so I'm gonna go here to new profile.\n\n318\n00:15:00.820 --> 00:15:03.790\nAnd I can set everything\nup just the way I like it.\n\n319\n00:15:03.790 --> 00:15:05.910\nI'm gonna call it Don's Profile.\n\n320\n00:15:05.910 --> 00:15:09.720\nAnd you can tweak the size,\nthe cursor shape.\n\n321\n00:15:09.720 --> 00:15:11.690\nI usually like to tweak the font.\n\n322\n00:15:11.690 --> 00:15:15.670\nMonospace Regular is a great font, but\nmaybe you wanna bump it up a little bit\n\n323\n00:15:15.670 --> 00:15:18.570\nbigger, because well\nI'm getting old right.\n\n324\n00:15:18.570 --> 00:15:20.820\nSo maybe I wanna go up to 14 for that one.\n\n325\n00:15:20.820 --> 00:15:23.060\nSo I'll go ahead and\nselect a slightly larger font.\n\n326\n00:15:24.130 --> 00:15:26.450\nSo that's one thing we\ncan tweak under Command,\n\n327\n00:15:26.450 --> 00:15:29.890\nyou can change what happens\nwhen you open up the terminal.\n\n328\n00:15:29.890 --> 00:15:32.000\nYou always want to run\na particular command or\n\n329\n00:15:32.000 --> 00:15:35.420\nsomething, you can certainly\ndo that under Colors.\n\n330\n00:15:35.420 --> 00:15:37.260\nThis is where we can tweak that theme.\n\n331\n00:15:37.260 --> 00:15:41.430\nMaybe I want green on black or go old-\n&gt;&gt; Packers style.\n\n332\n00:15:41.430 --> 00:15:44.150\n&gt;&gt; Yeah.\nMonochrome, monitor style.\n\n333\n00:15:44.150 --> 00:15:48.520\nWe can go white on black or black on\nwhite, depending on that, or custom.\n\n334\n00:15:48.520 --> 00:15:52.427\nPersonally, I like to have white\ntext on a dark blue background,\n\n335\n00:15:52.427 --> 00:15:54.567\nit's kind of the one that I prefer.\n\n336\n00:15:54.567 --> 00:16:00.975\nSo for whatever reason I've kind\nof just gravitated to this one.\n\n337\n00:16:00.975 --> 00:16:06.040\nNow their blue is not a great blue, but\ndown here you can do custom colors.\n\n338\n00:16:06.040 --> 00:16:08.520\nAnd so once you're in here you\ncan put whatever you want.\n\n339\n00:16:08.520 --> 00:16:12.748\nSo if I want a nice dark blue,\nI can punch one in myself.\n\n340\n00:16:12.748 --> 00:16:16.372\nAnd then I'll get that dark blue you can\ntell I've used this blue once or twice.\n\n341\n00:16:16.372 --> 00:16:18.573\nI had to remember my\nblue code that I like.\n\n342\n00:16:18.573 --> 00:16:22.012\nSo [CROSSTALK]\n&gt;&gt; Randomly chose a hex value for colors.\n\n343\n00:16:22.012 --> 00:16:23.842\n[LAUGH]\n&gt;&gt; [LAUGH] You know I\n\n344\n00:16:23.842 --> 00:16:24.686\n&gt;&gt; Hey it's blue.\n\n345\n00:16:24.686 --> 00:16:28.000\n&gt;&gt; I am a little specific about something,\n[LAUGH].\n\n346\n00:16:28.000 --> 00:16:31.046\nBut I mean down here in your pallette you\ncan also change it to depict specific\n\n347\n00:16:31.046 --> 00:16:31.640\npalletes.\n\n348\n00:16:31.640 --> 00:16:34.990\nIf you want the XTerm pallette even\nthough you're in the Gnome terminal\n\n349\n00:16:34.990 --> 00:16:38.850\nyou can do that, and the colors do change\nslightly to match what you're doing.\n\n350\n00:16:38.850 --> 00:16:41.470\nOn the scrolling side, you can set\nwhat your scroll back buffer is.\n\n351\n00:16:41.470 --> 00:16:43.210\nThat's a pretty handy thing to have.\n\n352\n00:16:43.210 --> 00:16:47.000\nWhether a scroll bar even shows up,\nand so on, so you can specify that.\n\n353\n00:16:47.000 --> 00:16:48.840\nScroll on keystroke is nice.\n\n354\n00:16:48.840 --> 00:16:51.920\nIf your screen is scrolling by, or you\nscroll back, it kinda freezes, and then if\n\n355\n00:16:51.920 --> 00:16:55.600\nyou tap a key, it'll just automatically\njump to the bottom of the scroll buffer.\n\n356\n00:16:55.600 --> 00:16:59.830\nAnd then lastly you got compatibility\nas far as ANC codes and other things.\n\n357\n00:16:59.830 --> 00:17:04.843\nBut once that's set I've now got Don's\nprofile set just the way I want it and\n\n358\n00:17:04.843 --> 00:17:06.970\nabsolutely nothing happened.\n\n359\n00:17:06.970 --> 00:17:08.775\n&gt;&gt; That's great stuff Don.\n\n360\n00:17:08.775 --> 00:17:12.373\n&gt;&gt; [LAUGH] [CROSSTALK] So\nwhat I did is I created a new profile but\n\n361\n00:17:12.373 --> 00:17:15.009\nI didn't tell the system to use it, right.\n\n362\n00:17:15.009 --> 00:17:19.270\nIf you go under edit, you'll see\nPreferences and Profile Preferences.\n\n363\n00:17:19.270 --> 00:17:21.770\nProfile Preferences is for\nthe current profile that I'm in.\n\n364\n00:17:21.770 --> 00:17:24.367\nI'm just gonna go to Preferences and\n\n365\n00:17:24.367 --> 00:17:28.670\nin the Preferences right\nhere you'll see Profiles.\n\n366\n00:17:28.670 --> 00:17:30.020\nAnd here's the profiles you can pick.\n\n367\n00:17:30.020 --> 00:17:33.280\nAnd right down here Profile used when\nlaunching a new terminal unnamed.\n\n368\n00:17:33.280 --> 00:17:36.510\nI'm going to switch that to\nsay use Don's profile, okay.\n\n369\n00:17:36.510 --> 00:17:41.050\nSo now, every time I launch a terminal\nwindow, so when I go back up here and\n\n370\n00:17:41.050 --> 00:17:44.090\nI go to applications and utilities,\n\n371\n00:17:44.090 --> 00:17:48.062\ngo down to terminal,\nnow it's gonna launch with mine, right?\n\n372\n00:17:48.062 --> 00:17:52.750\nAnd so I've got that larger font size,\nI've got the blue with a white background\n\n373\n00:17:52.750 --> 00:17:59.170\nthat I like and\nwe can jump in here and start to work.\n\n374\n00:17:59.170 --> 00:18:01.400\nRight so, customized to meet your needs.\n\n375\n00:18:01.400 --> 00:18:04.520\nThat's another advantage of using\nthe GUIs we have this ability.\n\n376\n00:18:04.520 --> 00:18:07.390\nWhen we are using the actual CLI.\n\n377\n00:18:07.390 --> 00:18:08.610\nYou're pretty much stuck\nthe way that it's set.\n\n378\n00:18:08.610 --> 00:18:11.540\nThere are ways to tweak but it's kind\nof a pain, it's really not worth it.\n\n379\n00:18:11.540 --> 00:18:15.910\n&gt;&gt; Yeah, and it's funny how this can,\nseeing it the way you'd like to see it can\n\n380\n00:18:15.910 --> 00:18:18.840\nbe very comforting for you especially\nwhen you're working, you're doing stuff.\n\n381\n00:18:18.840 --> 00:18:23.810\nYou sit down to a box that you're not used\nto and it's that white on black text and\n\n382\n00:18:23.810 --> 00:18:29.270\nit's just, you have a hard time visually\nlooking at what it is you're looking at.\n\n383\n00:18:29.270 --> 00:18:30.396\nIt's hard to follow.\n\n384\n00:18:30.396 --> 00:18:31.790\nWhen you get back into\nsomething more comfortable,\n\n385\n00:18:31.790 --> 00:18:34.940\nbeing able to customize it to what\nyou're used to helps you be able to work\n\n386\n00:18:34.940 --> 00:18:35.560\nmore efficiently.\n\n387\n00:18:35.560 --> 00:18:38.720\nIt's a strange phenomenon, but\nI've noticed that with myself.\n\n388\n00:18:38.720 --> 00:18:39.660\n&gt;&gt; Yep, absolutely.\n\n389\n00:18:39.660 --> 00:18:45.580\nAnd I mentioned that behind the scenes\nwe do still have that CLI sitting there.\n\n390\n00:18:45.580 --> 00:18:46.310\nWhen the system booted,\n\n391\n00:18:46.310 --> 00:18:49.930\nit actually booted the CLI OS and\nthen launched the GUI on top of it.\n\n392\n00:18:49.930 --> 00:18:53.100\nWell, there's actually something\ninteresting that happens in\n\n393\n00:18:53.100 --> 00:18:53.660\nthe background.\n\n394\n00:18:53.660 --> 00:18:55.690\nWhat we're looking at here,\nis whats called VTY.\n\n395\n00:18:55.690 --> 00:18:59.710\nIt's a console, right, I'm at the machine\nI'm physically at the machine.\n\n396\n00:18:59.710 --> 00:19:05.418\nBut that console is a virtual\nconsole laid on top of the base CLI.\n\n397\n00:19:05.418 --> 00:19:09.810\nWhen you boot the system it actually\ncreates six of these virtual consoles.\n\n398\n00:19:09.810 --> 00:19:14.040\nAnd the GUI is only\nattached to the first one.\n\n399\n00:19:14.040 --> 00:19:18.380\nSo, when you boot to the GUI\nyou've got one GUI console and\n\n400\n00:19:18.380 --> 00:19:22.170\nfive more text consoles that are kind\nof hidden away in the background.\n\n401\n00:19:22.170 --> 00:19:24.620\nAnd if you're remotely\nconnecting the machine.\n\n402\n00:19:24.620 --> 00:19:27.100\nThat doesn't mean a thing to you,\ncuz you can't use them.\n\n403\n00:19:27.100 --> 00:19:30.895\nBut if you're physically at the machine\nyou can switch between these consoles,\n\n404\n00:19:30.895 --> 00:19:32.520\nthere's a keyboard shortcut for it.\n\n405\n00:19:32.520 --> 00:19:38.580\nOn you keyboard, if you hit control alt,\nso you gotta hold control and\n\n406\n00:19:38.580 --> 00:19:42.500\nalt, and the hit F1 through F6, you gotta\nuse your function keys F1 through F6.\n\n407\n00:19:42.500 --> 00:19:45.550\nThat will let you move\nbetween the six consoles.\n\n408\n00:19:45.550 --> 00:19:49.603\nWhen you're on F1 you'll see\nthe graphical user interface.\n\n409\n00:19:49.603 --> 00:19:55.090\nWhen you're on F2, or F3, F4, F5, or\nF6, you're seeing the straight up CLI.\n\n410\n00:19:55.090 --> 00:19:59.228\nAnd back in the day, that was one\nof the easiest ways to multi-task.\n\n411\n00:19:59.228 --> 00:20:02.200\nWhen you were in the command line\ninterface and you launched a program and\n\n412\n00:20:02.200 --> 00:20:06.940\nit was monopolizing the screen, you can,\nthen, jump over to another console and\n\n413\n00:20:06.940 --> 00:20:08.825\nstart to issue other commands.\n\n414\n00:20:08.825 --> 00:20:10.190\nIt was usually interactive programs.\n\n415\n00:20:10.190 --> 00:20:11.410\nIf there were noninteractive programs,\n\n416\n00:20:11.410 --> 00:20:14.140\nyou could just stick it in the background\nwith the jobs command, right?\n\n417\n00:20:14.140 --> 00:20:16.490\nBut, if you needed to be able\nto see what was going on,\n\n418\n00:20:16.490 --> 00:20:18.180\nthat's where things got tricky.\n\n419\n00:20:18.180 --> 00:20:21.560\nSo, let me show you this.\nSo, I'm in vty 1.\n\n420\n00:20:21.560 --> 00:20:29.670\nI'm gonna hit Ctrl, ALT, F2, and, when I\ndo that it drops me to the command line.\n\n421\n00:20:29.670 --> 00:20:31.564\nI'm now in VTY2, right?\n\n422\n00:20:31.564 --> 00:20:33.540\nAnd I can get logged in.\n\n423\n00:20:33.540 --> 00:20:37.330\nI can just login as myself,\nassuming I can remember my password.\n\n424\n00:20:37.330 --> 00:20:38.180\nThere we go.\n\n425\n00:20:38.180 --> 00:20:39.510\nSo I'm logged in.\n\n426\n00:20:39.510 --> 00:20:40.410\nHere I am.\n\n427\n00:20:40.410 --> 00:20:44.420\nAnd I'm on the console of the machine, so\n\n428\n00:20:44.420 --> 00:20:48.720\nI can start running commands,\nlike I might run top, for example, right?\n\n429\n00:20:48.720 --> 00:20:52.370\nSo top brings me a little output here\nthat shows me the processes that are in\n\n430\n00:20:52.370 --> 00:20:53.160\nmy system up, right?\n\n431\n00:20:53.160 --> 00:20:56.420\nNow, the top command expects to\nbe displayed on your screen.\n\n432\n00:20:56.420 --> 00:20:58.170\nIt's constantly updating.\n\n433\n00:20:58.170 --> 00:21:02.470\nI could run it and\nstick like an ampersand at the end.\n\n434\n00:21:03.490 --> 00:21:07.110\nAnd when I do that, sorry,\nI kinda zoomed out a bit here.\n\n435\n00:21:07.110 --> 00:21:10.180\nSo when I run top of an ampersand,\nthat's gonna say, run it and\n\n436\n00:21:10.180 --> 00:21:12.070\nstick it in the background, okay?\n\n437\n00:21:12.070 --> 00:21:13.250\nWell, see how it stopped?\n\n438\n00:21:14.420 --> 00:21:18.830\nWhat good is it to run that program in the\nbackground if I can't see the output that\n\n439\n00:21:18.830 --> 00:21:19.650\nit's generating for me?\n\n440\n00:21:19.650 --> 00:21:21.800\nThen there is no reason to run it.\n\n441\n00:21:21.800 --> 00:21:27.450\nSo when you run the top\ncommand it's expecting you to,\n\n442\n00:21:27.450 --> 00:21:29.390\nto actually be watching it.\n\n443\n00:21:29.390 --> 00:21:33.390\nSo if I'm trying to figure out how much\nmemory and application it's consuming.\n\n444\n00:21:33.390 --> 00:21:36.510\nI need to be able to run application,\nand I need to be able to run top.\n\n445\n00:21:36.510 --> 00:21:40.760\nSo what I can do is,\nhere in VTY2, I can run top.\n\n446\n00:21:41.870 --> 00:21:49.680\nAnd then I can hit Ctrl Alt F3 and\nI can jump to another CLI.\n\n447\n00:21:49.680 --> 00:21:54.820\nAnd so on this one I can jump, I can try\nand get my mouse to be in the right spot.\n\n448\n00:21:54.820 --> 00:21:55.790\nThere we go.\n\n449\n00:21:55.790 --> 00:22:00.290\nAnd I can login and now I'm in and\nI can start to run other applications.\n\n450\n00:22:00.290 --> 00:22:04.210\nAnd so I can tell it hey I wanna vim and\nI start I don't know,\n\n451\n00:22:04.210 --> 00:22:06.670\nwriting the great\n&gt;&gt; American novel.\n\n452\n00:22:06.670 --> 00:22:08.350\n&gt;&gt; American Novel, yep.\n\n453\n00:22:08.350 --> 00:22:09.860\nYou knew exactly where\nI was going with that.\n\n454\n00:22:09.860 --> 00:22:11.315\nSo, I\n&gt;&gt; you've been writing that for years.\n\n455\n00:22:11.315 --> 00:22:14.324\n[LAUGH]\n&gt;&gt; That's as far as you've ever\n\n456\n00:22:14.324 --> 00:22:17.400\ngotten [LAUGH]\n&gt;&gt; So I start writing, and\n\n457\n00:22:17.400 --> 00:22:22.820\nin the mean time I can just hit control\nalt F2, and jump right back to top.\n\n458\n00:22:22.820 --> 00:22:27.050\nAnd in here I can look and I can find\nthe VIM process that's running for me.\n\n459\n00:22:27.050 --> 00:22:28.850\nIt's buried in here somewhere.\n\n460\n00:22:28.850 --> 00:22:31.890\nAnd I can find out how much\nprocessor utilization is running.\n\n461\n00:22:31.890 --> 00:22:36.100\nAnd I can still hit Control Alt F1 and\njump right back to my GUI.\n\n462\n00:22:36.100 --> 00:22:39.810\nRight, so you have VTY one through six.\n\n463\n00:22:39.810 --> 00:22:43.710\nThe GUI is tied to VTY one and\nit has command line for two, three,\n\n464\n00:22:43.710 --> 00:22:44.670\nfour, five, six.\n\n465\n00:22:44.670 --> 00:22:46.910\nSo you can just dive right\nto that command line and\n\n466\n00:22:46.910 --> 00:22:50.890\nstart to interact with the system\nin its raw format as it is, right.\n\n467\n00:22:50.890 --> 00:22:53.646\nYou'll lose the ability to pick a pretty\nbackground color and stuff like that.\n\n468\n00:22:53.646 --> 00:22:54.510\n&gt;&gt; [LAUGH]\n&gt;&gt; But\n\n469\n00:22:54.510 --> 00:22:56.970\nyou are actually using\nthe straight up CLI at that point.\n\n470\n00:22:56.970 --> 00:23:01.310\n&gt;&gt; And when you couple that with the work\nstation, or the work spaces capabilities.\n\n471\n00:23:01.310 --> 00:23:03.710\nSaying I've got four of those for\nmy graphical,\n\n472\n00:23:03.710 --> 00:23:08.460\nI've got six virtual terminals for\nmy login prompts.\n\n473\n00:23:08.460 --> 00:23:10.340\nMan you can get a lot of work done,\nyou'll be bouncing around.\n\n474\n00:23:10.340 --> 00:23:13.550\nThis is something that's it seems\ntrivial when you think about it.\n\n475\n00:23:13.550 --> 00:23:15.480\nYou think, great you got an extra desktop.\n\n476\n00:23:15.480 --> 00:23:17.720\nOr great you got another\nterminal you can log in.\n\n477\n00:23:17.720 --> 00:23:20.790\nBut it really makes you more\nefficient as an end user\n\n478\n00:23:20.790 --> 00:23:23.070\nto be able to bounce around those\nthings very quickly like that.\n\n479\n00:23:23.070 --> 00:23:26.060\n&gt;&gt; Absolutely and do remember\nthat the title of this episode,\n\n480\n00:23:26.060 --> 00:23:27.470\nthat this is the console.\n\n481\n00:23:27.470 --> 00:23:30.410\nThis means I'm physically\nat the machine right.\n\n482\n00:23:30.410 --> 00:23:32.510\nIf I'm remote none of this helps me.\n\n483\n00:23:32.510 --> 00:23:33.200\nIf I'm remote, and\n\n484\n00:23:33.200 --> 00:23:37.940\nI want more than one CLI window open,\nI just run SSH more than once.\n\n485\n00:23:37.940 --> 00:23:40.220\nI can open five SSH sessions if I want.\n\n486\n00:23:40.220 --> 00:23:41.280\nAnd I can then do it.\n\n487\n00:23:41.280 --> 00:23:43.580\nThere's plenty of tabbed\nSSH utilities out there.\n\n488\n00:23:43.580 --> 00:23:46.980\nAnd you can easily do that,\nworks really well.\n\n489\n00:23:46.980 --> 00:23:52.010\nIf you want to pull up the GUI remotely,\nthen you can use X windows.\n\n490\n00:23:52.010 --> 00:23:54.950\nYou can remotely connect with X windows\nsession and pull it up that way.\n\n491\n00:23:54.950 --> 00:23:57.930\nOr you can use utilities like VNC or\nNX or whatever.\n\n492\n00:23:57.930 --> 00:24:01.260\nThose guys will all let you see\nthe graphical desktop remotely.\n\n493\n00:24:01.260 --> 00:24:04.120\nSo we don't need this kind of\nfunctionality if you're remote.\n\n494\n00:24:04.120 --> 00:24:05.570\nYou've already got other options.\n\n495\n00:24:05.570 --> 00:24:08.860\nBut if you're at the console\nyou can easily flip around.\n\n496\n00:24:08.860 --> 00:24:09.930\nAnd let me tell you it is handy.\n\n497\n00:24:09.930 --> 00:24:14.510\nI have had where X Windows locks up and\nyou're supposed to be\n\n498\n00:24:14.510 --> 00:24:17.780\nable to hit control alt x and it kills, or\nno, control alt backspace, there we go.\n\n499\n00:24:17.780 --> 00:24:20.190\nAnd that's supposed to kill\nyour X Windows session.\n\n500\n00:24:20.190 --> 00:24:21.050\nDoesn't always work.\n\n501\n00:24:21.050 --> 00:24:22.800\nSometimes it locks up and\nyou're just stuck.\n\n502\n00:24:22.800 --> 00:24:26.580\nSo it's nice to be able to Ctrl Alt F2,\njump right over to another shell, and\n\n503\n00:24:26.580 --> 00:24:29.220\nthen kill the X Windows process and\nall those other things.\n\n504\n00:24:29.220 --> 00:24:32.000\nSo it's a great tool for\nbeing able to get around things like\n\n505\n00:24:32.000 --> 00:24:35.390\nthat just to be able to\nhave that available to you.\n\n506\n00:24:35.390 --> 00:24:38.140\nBut that's basically the process there and\nhow that works and\n\n507\n00:24:38.140 --> 00:24:41.170\nit's just a nice little feature to have\nwhen you're sitting right at the machine.\n\n508\n00:24:41.170 --> 00:24:42.070\n&gt;&gt; Yes, very much so.\n\n509\n00:24:42.070 --> 00:24:42.970\nAnd we thank you Don for\n\n510\n00:24:42.970 --> 00:24:47.210\ndemonstrating this to us because it's\ngonna come in handy as we continue and\n\n511\n00:24:47.210 --> 00:24:49.860\nprogress and learn more about\nhow to use our Linux systems.\n\n512\n00:24:49.860 --> 00:24:53.380\nThis is something you'll be doing a lot\nof so all ready having that foundation\n\n513\n00:24:53.380 --> 00:24:56.110\nin Azure instead of going wait,\nDon what did you just do there?\n\n514\n00:24:56.110 --> 00:24:57.590\nHow did you do that?\n\n515\n00:24:57.590 --> 00:24:58.820\nI need to be able to do that.\n\n516\n00:24:58.820 --> 00:25:01.450\nWe'll go ahead and\ngive you that one right out of the gate.\n\n517\n00:25:01.450 --> 00:25:04.510\nWith that being said, looking at our\nclock, we're well out of time for\n\n518\n00:25:04.510 --> 00:25:06.480\nour episode but\nit was a great material, Don.\n\n519\n00:25:06.480 --> 00:25:07.480\nWe thank you for stopping by.\n\n520\n00:25:07.480 --> 00:25:08.080\n&gt;&gt; Absolutely.\n\n521\n00:25:08.080 --> 00:25:11.360\n&gt;&gt; We thank you guys for watching today\nbut we're gonna go ahead and sign off.\n\n522\n00:25:11.360 --> 00:25:13.810\nFor ITProTV,\nI've been your host Daniel Lowrie.\n\n523\n00:25:13.810 --> 00:25:15.138\n&gt;&gt; And I'm Don Pezet.\n&gt;&gt; We'll see you next time.\n\n524\n00:25:15.138 --> 00:25:23.083\n[MUSIC]\n\n525\n00:25:23.083 --> 00:25:25.548\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "191960398"
        },
        {
          "description": "In this episode, Daniel and Don explore the process of updating software on a freshly installed Red Hat server. They start with system registration with Red Hat using the GUI and Subscription Manager then jumping right into software updates using the graphical tools. Next they introduce you to the YUM package management system for installing software through the command line.",
          "length": "1656",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-1-3-software_updates-111516.00_27_21_08.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-1-3-software_updates-111516.00_27_21_08.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-1-3-software_updates-111516.00_27_21_08.Still001-sm.jpg",
          "title": "Software Updates",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:02.506\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:02.506 --> 00:00:06.815\n[CROSSTALK]\n\n3\n00:00:06.815 --> 00:00:08.263\n[MUSIC]\n\n4\n00:00:08.263 --> 00:00:12.440\nYou're watching ITPRO.TV.\n\n5\n00:00:12.440 --> 00:00:13.870\n&gt;&gt; All right, greetings everyone, and\n\n6\n00:00:13.870 --> 00:00:15.880\nwelcome to another great\nepisode of ITProTV.\n\n7\n00:00:15.880 --> 00:00:17.580\nI'm your host, Daniel Larry.\n\n8\n00:00:17.580 --> 00:00:21.970\nToday's episode, we are moving on with\nmore of our Red Hat Linux series.\n\n9\n00:00:21.970 --> 00:00:25.180\nJoining us in the studio today to help us\nout with that very endeavour is our good\n\n10\n00:00:25.180 --> 00:00:26.910\nfriend, Mr. Don Pezet.\n\n11\n00:00:26.910 --> 00:00:28.400\nDon, welcome back sir,\nhow's it going today?\n\n12\n00:00:28.400 --> 00:00:29.870\n&gt;&gt; It is going just swell, Daniel,\n\n13\n00:00:29.870 --> 00:00:31.620\nready to dive right back\ninto the world of Red Hat.\n\n14\n00:00:31.620 --> 00:00:35.060\nIn this episode what we're gonna take\na look at are software updates, right?\n\n15\n00:00:35.060 --> 00:00:37.780\nAnd if you've been watching our episodes\nin order we started with getting\n\n16\n00:00:37.780 --> 00:00:40.950\nRed Hat installed and kind of\nintroducing us to the user interface.\n\n17\n00:00:40.950 --> 00:00:44.380\nThat's really basic stuff that we need to\ndo just to get a system up and running.\n\n18\n00:00:44.380 --> 00:00:47.190\nBut now we need to something\nthat's really important.\n\n19\n00:00:47.190 --> 00:00:50.480\nBefore you dive in and start\ncustomizing and tweaking the system and\n\n20\n00:00:50.480 --> 00:00:54.150\nreally getting it set up the way you want,\nyou really need to update your system.\n\n21\n00:00:54.150 --> 00:00:56.490\nWe need to get it updated\nwith the latest software.\n\n22\n00:00:56.490 --> 00:01:00.220\nOne of the big advantages in going with\nRed Hat, I get this question a lot.\n\n23\n00:01:00.220 --> 00:01:03.330\nIs, Dom, why would I run Red Hat,\nthey charge money?\n\n24\n00:01:03.330 --> 00:01:03.830\n&gt;&gt; Yeah.\n\n25\n00:01:03.830 --> 00:01:04.560\n&gt;&gt; It's Linux.\n\n26\n00:01:04.560 --> 00:01:06.280\nThere's all these other\ncompanies where it's free.\n\n27\n00:01:06.280 --> 00:01:08.235\nI can go get a for free.\n\n28\n00:01:08.235 --> 00:01:09.562\nI can get BM for free.\n\n29\n00:01:09.562 --> 00:01:12.650\nI can get Slackware or Genii, or whatever.\n\n30\n00:01:12.650 --> 00:01:14.820\nThe list of distributions goes on and on.\n\n31\n00:01:14.820 --> 00:01:17.650\nHeck I can get Senta for free.\n\n32\n00:01:17.650 --> 00:01:21.990\nAnd CentOS is effectively the open\nsource code from Red Hat.\n\n33\n00:01:21.990 --> 00:01:24.520\nIt's effectively the same thing isn't it?\n\n34\n00:01:24.520 --> 00:01:26.680\n&gt;&gt; Yeah.\n&gt;&gt; Why wouldn't I just do that?\n\n35\n00:01:26.680 --> 00:01:29.270\nAnd certainly there's a lot of\npeople that do exactly that.\n\n36\n00:01:29.270 --> 00:01:33.940\nBut when you buy Red Hat what\nyou're buying is not Linux,\n\n37\n00:01:33.940 --> 00:01:36.270\nwhat you're buying is support.\n\n38\n00:01:36.270 --> 00:01:40.830\nThat you get somebody you can call on the\nphone with a support agreement to ask for\n\n39\n00:01:40.830 --> 00:01:44.630\nhelp, for troubleshooting, for a\ndiagnosis, for getting things implemented.\n\n40\n00:01:44.630 --> 00:01:47.090\nAnd you're also paying for\nresearch and development.\n\n41\n00:01:47.090 --> 00:01:50.198\nThey're testing every application\nthat goes into the repository for\n\n42\n00:01:50.198 --> 00:01:53.300\nRed Hat to make sure that it's stable and\nsecure, right?\n\n43\n00:01:53.300 --> 00:01:54.280\nThat's what we get.\n\n44\n00:01:54.280 --> 00:01:59.640\nAnd then you're also paying to have\ncurated updates that when there\n\n45\n00:01:59.640 --> 00:02:03.680\nis a security exploit, that the patches\nget written and push out right away.\n\n46\n00:02:04.690 --> 00:02:08.510\nWhen you go CentOS, yes CentOS,\nit's stands for real community,\n\n47\n00:02:08.510 --> 00:02:10.230\nenterprise operating system.\n\n48\n00:02:10.230 --> 00:02:12.220\nIt's the open source version of red hat.\n\n49\n00:02:12.220 --> 00:02:15.560\nWell, they have to strip out\nany closed source binaries.\n\n50\n00:02:15.560 --> 00:02:18.720\nAnd in the Red Hat server, there's several\nclosed source binaries that are things\n\n51\n00:02:18.720 --> 00:02:21.350\nlike SAN management software.\n\n52\n00:02:21.350 --> 00:02:24.570\nAnd things that just aren't a part\nof the open source version.\n\n53\n00:02:24.570 --> 00:02:27.030\nBut there's other things there\nlike updates that come out,\n\n54\n00:02:27.030 --> 00:02:29.900\nthat aren't immediately\navailable on CentOS.\n\n55\n00:02:29.900 --> 00:02:34.720\nFor example, I remember run,\nredhat 7.2 now, right?\n\n56\n00:02:34.720 --> 00:02:40.110\nWell, when Red hat 7.0 came out,\nCentOS didn't get 7.0 right away.\n\n57\n00:02:40.110 --> 00:02:42.820\nIt was actually 7 months,\nI don't know, was almost 6 six months,\n\n58\n00:02:42.820 --> 00:02:43.820\nbefore 7.0 came out.\n\n59\n00:02:43.820 --> 00:02:46.215\nAnd that happen to point releases too.\n\n60\n00:02:46.215 --> 00:02:50.910\nSo, when 6.5 came out It took a while for\nCentOS to get to 6.5,\n\n61\n00:02:50.910 --> 00:02:55.920\nI think that one was over six months so\nwhen updates take a long time to trickle\n\n62\n00:02:55.920 --> 00:02:58.280\ndown that leaves you vulnerable for\na period of time.\n\n63\n00:02:58.280 --> 00:03:01.200\nNow, serious security updates do\nget pushed through pretty quick so\n\n64\n00:03:01.200 --> 00:03:02.680\nI'm not saying that CentOS is bad.\n\n65\n00:03:02.680 --> 00:03:04.690\nI use it myself in a lot of environments.\n\n66\n00:03:04.690 --> 00:03:09.440\nBut with RedHat you're paying to\nget that premium level support.\n\n67\n00:03:09.440 --> 00:03:11.100\nSo what I always tell people, for\n\n68\n00:03:11.100 --> 00:03:14.540\nme personally, that if it's just\na little project that I'm working on,\n\n69\n00:03:14.540 --> 00:03:18.570\nlike standing up a server at home or\nwhatever I'll do CentOS, right?\n\n70\n00:03:18.570 --> 00:03:22.480\nBut if it's a production environment and\nI've got a budget I do RedHat.\n\n71\n00:03:22.480 --> 00:03:23.810\nThat's how I pick.\n\n72\n00:03:23.810 --> 00:03:26.280\nSo when we deploy RedHat we get installed,\nwe get it up,\n\n73\n00:03:26.280 --> 00:03:30.190\nwe get it running step one is looking for\ntaking advantage of what we paid for.\n\n74\n00:03:30.190 --> 00:03:32.400\nLet's get those updates, all right?\n\n75\n00:03:32.400 --> 00:03:34.240\nAnd there's two different\nways to do the updates.\n\n76\n00:03:34.240 --> 00:03:37.120\nWe can do the updates through the\ngraphical user interface if we have it, or\n\n77\n00:03:37.120 --> 00:03:40.510\nwe can do the updates from the command\nline interface if we don't.\n\n78\n00:03:40.510 --> 00:03:44.080\nBut either way, we have to have our\nRed Hat subscription put in and\n\n79\n00:03:44.080 --> 00:03:45.410\nif you watch the installation episode,\n\n80\n00:03:45.410 --> 00:03:49.090\nyou know it never really bugged\nme about whether I had a license.\n\n81\n00:03:49.090 --> 00:03:51.400\nSo when I installed off of that ISO image,\n\n82\n00:03:51.400 --> 00:03:53.940\nI could bring 1,000 Red Hat servers\nright now and it really wouldn't bug me.\n\n83\n00:03:53.940 --> 00:03:56.180\nBut I wouldn't be able\nto do updates either.\n\n84\n00:03:56.180 --> 00:03:57.680\nAnd that's a problem, right.\n\n85\n00:03:57.680 --> 00:03:59.600\nSo before I can do updates,\n\n86\n00:03:59.600 --> 00:04:01.570\nI need to make sure I've got\nmy subscription put in place.\n\n87\n00:04:01.570 --> 00:04:02.990\nSo let's run through that real quick.\n\n88\n00:04:02.990 --> 00:04:04.880\nI'm gonna take my GUI here.\n\n89\n00:04:04.880 --> 00:04:06.310\nThis system's already registered to me.\n\n90\n00:04:06.310 --> 00:04:08.920\nSo I've already got my\nlicense installed on it.\n\n91\n00:04:08.920 --> 00:04:13.000\nAnd if you go under Applications and\nSystem Tools,\n\n92\n00:04:13.000 --> 00:04:17.400\nyou'll see right up here the, oops,\nthe Red Hat Subscription Manager.\n\n93\n00:04:17.400 --> 00:04:19.570\nAnd you can go into that\nsubscription manager, and\n\n94\n00:04:19.570 --> 00:04:21.680\nyou do have to be root to do it.\n\n95\n00:04:21.680 --> 00:04:23.540\nSo let me punch that in.\n\n96\n00:04:23.540 --> 00:04:25.870\nCuz it is a system level change.\n\n97\n00:04:25.870 --> 00:04:27.490\nAnd once it gets logged in,\n\n98\n00:04:27.490 --> 00:04:30.760\nwhat we're going to see Is\ninformation about our subscription.\n\n99\n00:04:30.760 --> 00:04:34.220\nSo you can see where I've got a Red Hat\nEnterprise Linux server version 7.2.\n\n100\n00:04:34.220 --> 00:04:35.590\nIt is subscribed.\n\n101\n00:04:35.590 --> 00:04:38.210\nI just subscribed right before\nthe show started the other day.\n\n102\n00:04:38.210 --> 00:04:39.920\nAnd so it's valid for one year.\n\n103\n00:04:39.920 --> 00:04:43.480\nSo for\nthe next year I can update like crazy.\n\n104\n00:04:43.480 --> 00:04:47.020\nAnd at the end of that year\nthe subscription ends and\n\n105\n00:04:47.020 --> 00:04:48.690\nI won't be able to update anymore.\n\n106\n00:04:48.690 --> 00:04:50.380\nRight?\nAnd if I want to continue to update,\n\n107\n00:04:50.380 --> 00:04:54.170\nI'm either gonna have to maintain my own\nprivate repositories which is a nightmare\n\n108\n00:04:54.170 --> 00:04:57.000\nor I need to renew my subscription and\nkind of continue to go that way.\n\n109\n00:04:57.000 --> 00:05:00.170\nThe nice part about subscription\nis you really get free upgrades,\n\n110\n00:05:00.170 --> 00:05:03.680\nwhich is good, but\nyou do have to pay on an ongoing basis.\n\n111\n00:05:03.680 --> 00:05:07.220\nNow, for those of you that\nare studying at home or practicing,\n\n112\n00:05:07.220 --> 00:05:10.670\nyou're probably thinking, I'm not gonna\npay every year for Linux, it's free.\n\n113\n00:05:10.670 --> 00:05:12.050\n&gt;&gt; [LAUGH]\n&gt;&gt; And that's fine.\n\n114\n00:05:12.050 --> 00:05:15.760\nAt home you can run Fedora,\nyou can run CentOS, it doesn't matter.\n\n115\n00:05:15.760 --> 00:05:20.290\nIn the workplace though, especially on\nyour servers, you want that support.\n\n116\n00:05:20.290 --> 00:05:22.320\nYou wanna know that you've got\nthe latest security updates.\n\n117\n00:05:22.320 --> 00:05:24.840\nYou wanna know that everything\nyou're running is stable and tested,\n\n118\n00:05:24.840 --> 00:05:27.520\nand that if something doesn't work you've\ngot somebody you can call for help.\n\n119\n00:05:27.520 --> 00:05:29.560\nAnd that's where this\nsubscriptions come in.\n\n120\n00:05:29.560 --> 00:05:32.860\n&gt;&gt; Yeah, and I can give an SL anecdote\non why you wanna do exactly what Don is\n\n121\n00:05:32.860 --> 00:05:33.690\ntalking about.\n\n122\n00:05:33.690 --> 00:05:37.506\nWe received the call one time and somebody\nsaid, hey, any guys somebody to say about\n\n123\n00:05:37.506 --> 00:05:40.102\nLinux, we've got a server when our guy,\nour Linux guy.\n\n124\n00:05:40.102 --> 00:05:40.607\nHe quit and\n\n125\n00:05:40.607 --> 00:05:43.930\nwe need somebody to come on here and\ncheck this thing out really quick.\n\n126\n00:05:43.930 --> 00:05:45.200\nWe think there might be a problem.\n\n127\n00:05:45.200 --> 00:05:46.460\nI go in, I take a look.\n\n128\n00:05:46.460 --> 00:05:48.190\nAnd yes, they had been hacked.\n\n129\n00:05:48.190 --> 00:05:51.510\nBecause he had not been doing any\nupdates on their email server.\n\n130\n00:05:51.510 --> 00:05:53.640\nAnd the email server's\ncompletely compromised.\n\n131\n00:05:53.640 --> 00:05:55.210\nWe figured out what was going on.\n\n132\n00:05:55.210 --> 00:05:58.395\nIf you're not running updates,\nthat's what's going to happen, right.\n\n133\n00:05:58.395 --> 00:05:59.400\n&gt;&gt; Mm-hm.\n\n134\n00:05:59.400 --> 00:06:00.630\n&gt;&gt; Exploits come out everyday.\n\n135\n00:06:00.630 --> 00:06:01.610\nThere's zero day exploits.\n\n136\n00:06:01.610 --> 00:06:02.460\nOne day exploits.\n\n137\n00:06:02.460 --> 00:06:04.360\nWe give the whole security issue.\n\n138\n00:06:04.360 --> 00:06:07.900\nAnd all you have to do was make\nsure you're staying on top of\n\n139\n00:06:07.900 --> 00:06:09.530\nsoftware updates right?\n\n140\n00:06:09.530 --> 00:06:10.450\n&gt;&gt; Yeah\n&gt;&gt; Now, Don,\n\n141\n00:06:10.450 --> 00:06:12.010\nwhat we're talking about Red Hat here.\n\n142\n00:06:12.010 --> 00:06:14.820\nI know there are multiple different\nways in which you can update the system.\n\n143\n00:06:14.820 --> 00:06:19.575\nWith Red Hat, does that reach out,\nis that constantly like going to Red Hat,\n\n144\n00:06:19.575 --> 00:06:20.845\ngoing, are there any updates for me?\n\n145\n00:06:20.845 --> 00:06:24.155\nAnd then, and informing ou that there are,\nor do you have to manually push that?\n\n146\n00:06:24.155 --> 00:06:27.515\n&gt;&gt; So\nby default you have to manually do it.\n\n147\n00:06:27.515 --> 00:06:31.995\nBut you can change it to have it\nhappen automatically if you want.\n\n148\n00:06:31.995 --> 00:06:36.480\nRemember when we installed\nRed Hat Enterprise Linux It is\n\n149\n00:06:36.480 --> 00:06:37.460\nbasically trying to be a server.\n\n150\n00:06:37.460 --> 00:06:41.670\nAnd as a server, you don't want it just\nautomatically grabbing updates that could\n\n151\n00:06:41.670 --> 00:06:42.660\npotentially break your software.\n\n152\n00:06:42.660 --> 00:06:45.000\nYou're supposed to test updates and\nmake sure they work and\n\n153\n00:06:45.000 --> 00:06:46.130\neverything is nice and smooth.\n\n154\n00:06:46.130 --> 00:06:47.510\nYou're supposed to do all that.\n\n155\n00:06:47.510 --> 00:06:49.270\nNot every company does,\nbut you're supposed to.\n\n156\n00:06:49.270 --> 00:06:51.970\nSo we don't want automatic\nupdates in that case.\n\n157\n00:06:51.970 --> 00:06:53.880\nBut you can very easily automate it.\n\n158\n00:06:53.880 --> 00:06:56.230\nI'll show you guys how to do it from\nthe command line here in a minute.\n\n159\n00:06:56.230 --> 00:06:58.810\nIn the GUI, what we see is\nsomething a little bit different.\n\n160\n00:06:58.810 --> 00:07:00.490\nSo let me get out of\nthe Subscription Manager.\n\n161\n00:07:00.490 --> 00:07:05.540\nLet me just real quick say, if I wasn't\nsubscribed, what I would see on this page\n\n162\n00:07:05.540 --> 00:07:08.310\ninstead of the My Installed Products\nis I'd see a login.\n\n163\n00:07:08.310 --> 00:07:10.840\nI can put my username and\npassword with Red Hat and\n\n164\n00:07:10.840 --> 00:07:15.110\nonce I logged in, I'd be able to\nsee all my available subscriptions.\n\n165\n00:07:15.110 --> 00:07:18.370\nAnd I could auto attach which would\njust attach a valid subscription to this\n\n166\n00:07:18.370 --> 00:07:21.280\nmachine, or I could manually\npick it from my subscription and\n\n167\n00:07:21.280 --> 00:07:22.120\nthen assign it to the machine.\n\n168\n00:07:22.120 --> 00:07:25.150\nSo we would need to do that to get\nit assigned and get it in place.\n\n169\n00:07:25.150 --> 00:07:26.350\nAnd again, for those of studying and\n\n170\n00:07:26.350 --> 00:07:29.690\npracticing at home go to\ndevelopers.redhat.com and\n\n171\n00:07:29.690 --> 00:07:32.540\nyou can get a red hat developer\nlicense free of charge and\n\n172\n00:07:32.540 --> 00:07:36.440\nyou'll get one physical and unlimited\nvirtual machine installs of red hats.\n\n173\n00:07:36.440 --> 00:07:39.140\nSo, for practicing and\nlearning get that developer account.\n\n174\n00:07:39.140 --> 00:07:40.980\nIt really does work out well.\n\n175\n00:07:40.980 --> 00:07:42.962\nAll right, as far as the updates though,\n\n176\n00:07:42.962 --> 00:07:45.974\nthere's two different places in\nthe GUI we can go for updates.\n\n177\n00:07:45.974 --> 00:07:49.418\nIf you go under application,\nand go down to system tools,\n\n178\n00:07:49.418 --> 00:07:54.128\nthe two things that I'm looking for are,\nbasically, right up here at the top,\n\n179\n00:07:54.128 --> 00:07:58.166\nthe application installer and\nright down here, software update.\n\n180\n00:07:58.166 --> 00:07:58.753\nOkay?\n\n181\n00:07:58.753 --> 00:08:00.845\nThe two overlap a little bit.\n\n182\n00:08:00.845 --> 00:08:04.518\nSoftware update is specifically for\napplying updates.\n\n183\n00:08:04.518 --> 00:08:05.571\nUpdates for Red Hat and\n\n184\n00:08:05.571 --> 00:08:08.910\nthe software that's packaged\nalong with their repositories.\n\n185\n00:08:08.910 --> 00:08:11.520\nSo when I run that,\nit's going to reach out to Red Hat and\n\n186\n00:08:11.520 --> 00:08:12.620\nit's checking for the updates.\n\n187\n00:08:12.620 --> 00:08:15.240\nIf I don't have a subscription,\nit's not going to do that, right?\n\n188\n00:08:15.240 --> 00:08:17.400\nIt won't let me in,\nit'll give me a warning.\n\n189\n00:08:17.400 --> 00:08:22.540\nBut because I have a subscription,\nI can see I've got 589 updates available.\n\n190\n00:08:22.540 --> 00:08:27.010\nNow you all watched me install this\nversion of Linux in episode one.\n\n191\n00:08:27.010 --> 00:08:29.654\nIt's Red Hat 7.2, the latest version.\n\n192\n00:08:29.654 --> 00:08:32.870\nI downloaded it days\nbefore the show started.\n\n193\n00:08:32.870 --> 00:08:35.430\nAnd there's already 589 updates.\n\n194\n00:08:35.430 --> 00:08:38.380\nWhen you download an iso image,\nit's already obsolete.\n\n195\n00:08:38.380 --> 00:08:43.000\nAnd so if I didn't do these updates my\nsystem could potentially be vulnerable to\n\n196\n00:08:43.000 --> 00:08:44.550\nexploits and\nother things that are out there.\n\n197\n00:08:44.550 --> 00:08:48.360\nThat's why it's so important to do updates\nright away on your system, got 589.\n\n198\n00:08:48.360 --> 00:08:49.960\nAnd look at these things,\nthey are all over the place,\n\n199\n00:08:49.960 --> 00:08:52.760\nlike Network Manager, got VPN updates.\n\n200\n00:08:52.760 --> 00:08:55.796\nWe've got other applications\nthat I don't even recognize.\n\n201\n00:08:55.796 --> 00:08:59.607\nThen there's more that are just constant\nthings that we wanna make sure they're\n\n202\n00:08:59.607 --> 00:09:00.176\nup to date.\n\n203\n00:09:00.176 --> 00:09:04.430\nAnd I haven't even installed MySQL or\nApache or anything crazy like that.\n\n204\n00:09:04.430 --> 00:09:09.630\nThis is a basic server plus GUI\ninstall and it's got all this.\n\n205\n00:09:09.630 --> 00:09:12.930\nBut one common element you're gonna notice\nis as I scroll down is that all of this\n\n206\n00:09:12.930 --> 00:09:14.200\nare really system utilities.\n\n207\n00:09:14.200 --> 00:09:18.910\nThis is all part of the Red Hat\ncore Linux environment, right?\n\n208\n00:09:18.910 --> 00:09:20.050\nSo, I'm seeing a ton of stuff there.\n\n209\n00:09:20.050 --> 00:09:21.850\nI'm gonna get some movie player for gnome.\n\n210\n00:09:21.850 --> 00:09:23.330\nIt's not something core but\n\n211\n00:09:23.330 --> 00:09:26.380\nit's part of the GY that I choose\nto install as part of Red Hat.\n\n212\n00:09:27.420 --> 00:09:29.280\nThat's where the other\napplications comes in.\n\n213\n00:09:29.280 --> 00:09:34.470\nIf you go under applications and systems\ntool, you can go to the, darn it [LAUGH].\n\n214\n00:09:34.470 --> 00:09:36.735\nIf you go to applications and\nsystems tools I can do it.\n\n215\n00:09:36.735 --> 00:09:39.030\nThere we go, the applications installer.\n\n216\n00:09:39.030 --> 00:09:45.250\nThis one goes a little beyond just whats\nin the default installer for Red Hat.\n\n217\n00:09:45.250 --> 00:09:49.702\nAnd it pulls from additional repositories\nthat have other softwares things like\n\n218\n00:09:49.702 --> 00:09:52.062\nFirefox or curated software, Inkscape.\n\n219\n00:09:52.062 --> 00:09:53.002\nI don't know what Inkscape is.\n\n220\n00:09:53.002 --> 00:09:55.670\nBut they're recommending here maybe\nI'll allow it It's got two stars,\n\n221\n00:09:55.670 --> 00:09:56.750\nI probably won't.\n\n222\n00:09:56.750 --> 00:09:58.850\nSo you can come through and you can look.\n\n223\n00:09:58.850 --> 00:10:01.660\nNow, this allows you to install\nthird party software that\n\n224\n00:10:01.660 --> 00:10:04.190\nisn't necessarily maintained by Red Hat.\n\n225\n00:10:04.190 --> 00:10:05.910\nThis hasn't gone through\ntheir security reviews.\n\n226\n00:10:05.910 --> 00:10:08.430\nThey're not necessarily\nproviding technical support for\n\n227\n00:10:08.430 --> 00:10:11.220\nthis software because this\nis from other vendors.\n\n228\n00:10:11.220 --> 00:10:13.690\nYou'd have to go to those\nvendors to get support.\n\n229\n00:10:13.690 --> 00:10:17.610\nBut notice up top updates, 27, right?\n\n230\n00:10:17.610 --> 00:10:21.410\nNot 589 because these are just updates for\nthe applications,\n\n231\n00:10:21.410 --> 00:10:23.820\nnot updates for\nthe Red Hat operating system.\n\n232\n00:10:23.820 --> 00:10:25.440\nSo if I click on updates 27 and\n\n233\n00:10:25.440 --> 00:10:29.530\nI take a look at it here,\nI can see I do have some OS updates.\n\n234\n00:10:29.530 --> 00:10:33.130\nBut then I've got archive manager\nautomatic bug reporting boxes.\n\n235\n00:10:33.130 --> 00:10:35.195\nThese are applications that are installed.\n\n236\n00:10:35.195 --> 00:10:38.530\nAnd I don't have many\napplications that are installed.\n\n237\n00:10:38.530 --> 00:10:41.160\nBut these are all just kinda\njust being listed here and\n\n238\n00:10:41.160 --> 00:10:42.180\nthere's Firefox for example.\n\n239\n00:10:42.180 --> 00:10:43.862\nSo there's an update for\nFirefox available.\n\n240\n00:10:43.862 --> 00:10:46.180\nAnd I can go in and\ninstall that right from here.\n\n241\n00:10:46.180 --> 00:10:49.450\nNow, when you look at it\nfrom this other screen,\n\n242\n00:10:49.450 --> 00:10:53.200\nas long as the software came\nfrom a Red Hat Repository,\n\n243\n00:10:53.200 --> 00:10:56.320\neven if it's third-party software\nthere may be updates available here.\n\n244\n00:10:56.320 --> 00:10:57.302\nAnd so Firefox is an example,\n\n245\n00:10:57.302 --> 00:10:59.160\nwhere Firefox will actually\nshow up in both utilities.\n\n246\n00:10:59.160 --> 00:11:00.920\nI can update it in either place.\n\n247\n00:11:00.920 --> 00:11:04.150\nBut if the software didn't\ncome from a Red Hat Repository\n\n248\n00:11:04.150 --> 00:11:06.100\nthen it won't show up in this list, right?\n\n249\n00:11:06.100 --> 00:11:08.280\nThis is just the Red Hat curated stuff.\n\n250\n00:11:08.280 --> 00:11:10.020\nThe other application manager\nmay store some of that.\n\n251\n00:11:10.020 --> 00:11:13.430\nSo two different places in GUI,\nthey're both manual thought, right?\n\n252\n00:11:13.430 --> 00:11:16.220\nNotice if I want to do these updates\nright down here at the bottom,\n\n253\n00:11:16.220 --> 00:11:18.210\nI've got the install updates button.\n\n254\n00:11:18.210 --> 00:11:22.860\nAnd I can manually kick that off, or\nover here I can pull up some details and\n\n255\n00:11:22.860 --> 00:11:25.890\njust kind of see the information\nabout the update and\n\n256\n00:11:25.890 --> 00:11:27.830\nwhether on not it requires a reboot.\n\n257\n00:11:27.830 --> 00:11:29.810\nA lot of updates don't require reboots,\nsome do.\n\n258\n00:11:30.900 --> 00:11:33.370\nBack over in the application installer,\n\n259\n00:11:33.370 --> 00:11:36.900\nwhen I go to that updates tab,\nyou'll just see Restart &amp; Install, right?\n\n260\n00:11:36.900 --> 00:11:40.530\nSo we can update those and restart if\nneeded, and get them all put in place, but\n\n261\n00:11:40.530 --> 00:11:43.340\nit's still manual, right?\n\n262\n00:11:43.340 --> 00:11:46.970\nIf we want to automate it, there's\na few different ways to go about it.\n\n263\n00:11:46.970 --> 00:11:49.540\nMost server admins will tell\nyou not to automate it,\n\n264\n00:11:49.540 --> 00:11:51.370\nthat you need to have\nthis as a manual process.\n\n265\n00:11:51.370 --> 00:11:55.340\nBut we'll see a command line utility\nthat we can use to do the updates also.\n\n266\n00:11:55.340 --> 00:11:56.910\nAnd you can just use Cron,\n\n267\n00:11:56.910 --> 00:12:01.530\nthe scheduling task, to run that\nsoftware update service periodically.\n\n268\n00:12:01.530 --> 00:12:04.380\nHave it run once a night, or\nonce a week, or whatever.\n\n269\n00:12:04.380 --> 00:12:08.130\nBut just know that if you do that,\nyou may need to schedule a reboot also.\n\n270\n00:12:08.130 --> 00:12:10.530\nAnd if you're trying to keep your\nserver as online as possible,\n\n271\n00:12:10.530 --> 00:12:12.049\nthat's not gonna be the ideal solution.\n\n272\n00:12:13.620 --> 00:12:15.930\nAll right, so\nfrom the GUI things are pretty simple.\n\n273\n00:12:15.930 --> 00:12:18.950\nBut what if we're not running the GUI.\n\n274\n00:12:18.950 --> 00:12:23.570\nIf you're not running the GUI,\nwe can do everything from the CLI also,\n\n275\n00:12:23.570 --> 00:12:26.180\nall the updates that we saw\nthere we can do from the CLI.\n\n276\n00:12:26.180 --> 00:12:29.230\nQuick word of caution,\nif you're kind of practicing on this,\n\n277\n00:12:29.230 --> 00:12:33.120\nIf you have the GUI windows open for the\nupdates, and you go to the command line,\n\n278\n00:12:33.120 --> 00:12:35.780\nit kinda locks the database and\nthe command line stuff doesn't work.\n\n279\n00:12:35.780 --> 00:12:38.370\nSo that's why I just closed those windows\nto make sure they were out of the way.\n\n280\n00:12:38.370 --> 00:12:40.815\nSo just a little word of advice there.\n\n281\n00:12:40.815 --> 00:12:43.110\nBut I'm gonna drop into my terminal.\n\n282\n00:12:43.110 --> 00:12:47.190\nAnd I do actually have a command\nline install of Linux in\n\n283\n00:12:47.190 --> 00:12:49.130\nthe background right here.\n\n284\n00:12:49.130 --> 00:12:51.812\nBut in my terminal I can make\nit look nice and pretty and big.\n\n285\n00:12:51.812 --> 00:12:53.690\nSo I'm gonna stick with\nthe terminal here so let's-\n\n286\n00:12:53.690 --> 00:12:56.960\n&gt;&gt; You mean the hardcore window [LAUGH].\n\n287\n00:12:56.960 --> 00:12:58.980\n&gt;&gt; Really, I mean when you jump over here,\n\n288\n00:12:58.980 --> 00:13:03.520\nit is straight up command line and\nall that, which I like.\n\n289\n00:13:03.520 --> 00:13:05.650\nAnd this is how I would\nnormally set up a server.\n\n290\n00:13:05.650 --> 00:13:08.350\nBut because I can't make the font\nvibrant and all that stuff,\n\n291\n00:13:08.350 --> 00:13:09.890\nit's easier to go from here.\n\n292\n00:13:11.030 --> 00:13:14.020\nSo if I wanna manage my\nupdates from the command line\n\n293\n00:13:14.020 --> 00:13:15.420\nthis is the normal way to do it.\n\n294\n00:13:15.420 --> 00:13:16.750\nAnd if you're ever studying for\n\n295\n00:13:16.750 --> 00:13:19.630\na Red Hat exam this is the way it will\nbe on the exam, not the GUI stuff.\n\n296\n00:13:19.630 --> 00:13:22.830\nCuz most of us aren't putting\na GUI on the server anyway.\n\n297\n00:13:22.830 --> 00:13:26.658\nUpdates from the command line\nare managed with a utility called Yum.\n\n298\n00:13:26.658 --> 00:13:31.740\nAnd Yum, Y-U-M, it actually stands for\nYellow Dog Update Manager.\n\n299\n00:13:31.740 --> 00:13:35.070\nAnd Yellow Dog Linux,\nI'm not sure if it's still around.\n\n300\n00:13:35.070 --> 00:13:36.580\nYou know, Daniel, is it still around?\n\n301\n00:13:36.580 --> 00:13:38.990\n&gt;&gt; I want to say it is, I think it is.\n\n302\n00:13:38.990 --> 00:13:40.540\nYou just don't hear about\nit as much anymore.\n\n303\n00:13:40.540 --> 00:13:42.300\nMaybe it is down,\nI haven't looked at it in awhile.\n\n304\n00:13:42.300 --> 00:13:45.960\n&gt;&gt; Their specialty was that they\ngot Linux up and running on a Mac.\n\n305\n00:13:45.960 --> 00:13:50.230\nThat was their focus was hey, if you have\na Mac and you don't want Mac OS on it,\n\n306\n00:13:50.230 --> 00:13:51.620\nyou wanna load Linux.\n\n307\n00:13:51.620 --> 00:13:54.090\nYellow Dog did that, that was their thing.\n\n308\n00:13:54.090 --> 00:13:58.010\nAnd they decided to create this package\nmanager to better help with their updates.\n\n309\n00:13:58.010 --> 00:14:01.100\nAnd it worked really well and\nRed Hat adopted it.\n\n310\n00:14:01.100 --> 00:14:03.680\nAnd now people associate it with Red Hat,\neven though that's not where it came from.\n\n311\n00:14:03.680 --> 00:14:05.950\nSo that's what Yum is all about.\n\n312\n00:14:05.950 --> 00:14:08.260\nSo we've got Yum in the command line.\n\n313\n00:14:08.260 --> 00:14:09.980\nAnd we can dive in and\nwe can do our updates.\n\n314\n00:14:09.980 --> 00:14:12.780\nNow, we still have that subscription\nmanager to worry about, right?\n\n315\n00:14:12.780 --> 00:14:15.800\nIf I jump over to my other system,\nthis guy.\n\n316\n00:14:15.800 --> 00:14:17.520\nThis guy is not subscribed.\n\n317\n00:14:17.520 --> 00:14:20.560\nSo I don't have a valid\nsubscription on this system.\n\n318\n00:14:23.450 --> 00:14:28.242\nWell, from the command line, the utility\nis subscription-manager, right?\n\n319\n00:14:28.242 --> 00:14:30.570\nAnd so\nyou can run subscription-manager--, no,\n\n320\n00:14:30.570 --> 00:14:34.190\nI think it's just list\nif I remember right.\n\n321\n00:14:34.190 --> 00:14:39.900\nSo I'm just gonna do a list, and when I\nrun that, I need to be in admin or route.\n\n322\n00:14:39.900 --> 00:14:46.270\nAnd it's gonna tell me that my product\nstatus or whatever is unknown, right?\n\n323\n00:14:46.270 --> 00:14:48.860\nI'm not logged in,\nI don't have a valid license.\n\n324\n00:14:48.860 --> 00:14:51.440\nI'm not set to be able to do updates.\n\n325\n00:14:52.460 --> 00:14:55.360\nAnd so, if I start to try and\ndo updates, if I try and\n\n326\n00:14:55.360 --> 00:14:58.680\nuse the Yum command, it's there, right?\n\n327\n00:14:58.680 --> 00:15:01.450\nBut it's not gonna function,\nit's not gonna work.\n\n328\n00:15:01.450 --> 00:15:04.690\nSo let's say I wanna check to\nsee what updates are available.\n\n329\n00:15:04.690 --> 00:15:08.790\nI might do a sudo yum update, right?\n\n330\n00:15:08.790 --> 00:15:11.960\nSudo yum update will tell it to look for\nupdates, and if there's any there,\n\n331\n00:15:11.960 --> 00:15:14.260\ngive me the choice of whether\nI wanna update or not.\n\n332\n00:15:14.260 --> 00:15:18.040\nSo let me just get logged in.\n\n333\n00:15:18.040 --> 00:15:20.590\nAnd it's gonna run, and\nthen it's gonna crash.\n\n334\n00:15:20.590 --> 00:15:22.850\nWell, it doesn't crash,\nit just exits, right?\n\n335\n00:15:22.850 --> 00:15:24.320\nAnd the exit's telling me,\n\n336\n00:15:24.320 --> 00:15:27.030\nthe system is not registered to\nRed Hat's subscription management.\n\n337\n00:15:27.030 --> 00:15:29.040\nYou can use the subscription\nmanger to register, right?\n\n338\n00:15:29.040 --> 00:15:32.360\nSo I've got to register\nbefore I can do the updates.\n\n339\n00:15:32.360 --> 00:15:38.190\nBut if I am registered what I'll see is\nsomething a little bit different, right?\n\n340\n00:15:38.190 --> 00:15:45.780\nWhen I run Yum update, let me sudo that\nreally quick and punch in my password.\n\n341\n00:15:45.780 --> 00:15:50.239\nIt's gonna reach out and start talking\nto the servers at Red Hat headquarters.\n\n342\n00:15:50.239 --> 00:15:54.048\nAnd those servers are going to look at\nthe version of the software that I have,\n\n343\n00:15:54.048 --> 00:15:56.745\nlook at the version of\nthe software on the servers, and\n\n344\n00:15:56.745 --> 00:15:58.580\nthen report to me to the difference.\n\n345\n00:15:58.580 --> 00:16:02.857\nAnd so here's the differences coming back,\nThat we need to update.\n\n346\n00:16:02.857 --> 00:16:07.945\nNow when I was in the GUI\nthere were 589 updates.\n\n347\n00:16:07.945 --> 00:16:12.440\nAnd now here in the command\nline there's 587 updates.\n\n348\n00:16:14.000 --> 00:16:15.520\nWhy the discrepancy?\n\n349\n00:16:15.520 --> 00:16:20.284\nWell, if you look right above it,\nwe've actually got install 2 packages,\n\n350\n00:16:20.284 --> 00:16:22.281\nokay, what's that all about?\n\n351\n00:16:22.281 --> 00:16:25.405\nNow, 587 plus 2 is 589,\nso that's good, right.\n\n352\n00:16:25.405 --> 00:16:27.460\nWe got where we wanted to be.\n\n353\n00:16:27.460 --> 00:16:32.680\nOne of Yum's big advantages, Yum was not\nthe first package manager for Red Hat.\n\n354\n00:16:32.680 --> 00:16:33.992\nRPM was the original, right.\n\n355\n00:16:33.992 --> 00:16:35.120\nAnd it's still there.\n\n356\n00:16:35.120 --> 00:16:36.977\nIf you run, whoops, if you spell it right,\nhow do you spell RPM?\n\n357\n00:16:36.977 --> 00:16:40.150\n&gt;&gt; [LAUGH]\n&gt;&gt; RPM is still there.\n\n358\n00:16:40.150 --> 00:16:42.850\nRPM would let you install packages.\n\n359\n00:16:42.850 --> 00:16:47.190\nBut what it didn't do is it\ndidn't track dependencies, right.\n\n360\n00:16:47.190 --> 00:16:50.133\nWhen you install a program there's\nusually dynamic link libraries.\n\n361\n00:16:50.133 --> 00:16:54.450\nThere's other things that go along\nwith that program to make it work.\n\n362\n00:16:56.130 --> 00:16:59.770\nRedistributable C libraries, and things\nof that nature that need to be there for\n\n363\n00:16:59.770 --> 00:17:01.150\nthat application to function.\n\n364\n00:17:01.150 --> 00:17:02.299\nAnd if they're missing,\nthe application doesn't work.\n\n365\n00:17:02.299 --> 00:17:08.430\nWell, RPM didn't track dependencies,\nbut Yum does.\n\n366\n00:17:08.430 --> 00:17:10.530\nAnd so,\nif you're about to install a program and\n\n367\n00:17:10.530 --> 00:17:15.660\nit's dependent on ten other things,\nit'll install the ten other things, too.\n\n368\n00:17:15.660 --> 00:17:20.262\nAnd so what this is telling me is that\nsomething took an update, and when it\n\n369\n00:17:20.262 --> 00:17:25.239\nupdated, they added some new feature\nthat required one or two more libraries,\n\n370\n00:17:25.239 --> 00:17:30.021\nand so they're gonna come along with\nit and that's what get me up to 589.\n\n371\n00:17:30.021 --> 00:17:33.920\nSay we got +14 dependent packages.\n\n372\n00:17:33.920 --> 00:17:37.740\nIt's adding these dependencies in place\nto get it to where we need to be.\n\n373\n00:17:37.740 --> 00:17:41.320\nNow it looks like some of those\npackages are all wrapped together, so\n\n374\n00:17:41.320 --> 00:17:45.640\nit actually ends up just being 2, but that\ndependency tracking is really important.\n\n375\n00:17:45.640 --> 00:17:48.060\nOtherwise, it would be a nightmare\nto get software working in a closed\n\n376\n00:17:48.060 --> 00:17:49.530\nenvironment like this.\n\n377\n00:17:49.530 --> 00:17:53.960\n&gt;&gt; So Don, it does look like Yellow Dog's\nlast release was August of 2012.\n\n378\n00:17:53.960 --> 00:17:54.930\n&gt;&gt; So, it's been a while.\n\n379\n00:17:54.930 --> 00:17:56.716\n&gt;&gt; Yeah, it's been a little while.\n\n380\n00:17:56.716 --> 00:18:02.251\n&gt;&gt; I imagine when Apple moved from\nPowerPC over to Intel processes-\n\n381\n00:18:02.251 --> 00:18:03.000\n&gt;&gt; There was no need.\n\n382\n00:18:03.000 --> 00:18:04.782\n&gt;&gt; Yeah, it probably weakened them a bit.\n\n383\n00:18:04.782 --> 00:18:08.606\nAll right, so basically I'm looking at\nthe updates here in the system, and\n\n384\n00:18:08.606 --> 00:18:11.850\nif I wanna perform those updates\nwell it just asks me, yes or no.\n\n385\n00:18:11.850 --> 00:18:14.346\nDo I wanna do it, right, but\nbefore I do those updates,\n\n386\n00:18:14.346 --> 00:18:16.330\nlet's go a little bit further.\n\n387\n00:18:16.330 --> 00:18:18.260\nThese are updates.\n\n388\n00:18:18.260 --> 00:18:22.250\nSometimes I don't wanna do an update,\nI wanna install something new.\n\n389\n00:18:22.250 --> 00:18:26.460\nAnd when we do an update, we're actually\nreaching out to Red Hat's server and\n\n390\n00:18:26.460 --> 00:18:29.780\nthere's a whole library of software\nup there that we can pick from.\n\n391\n00:18:29.780 --> 00:18:32.850\nWe can add new software that\nisn't even installed if we want.\n\n392\n00:18:32.850 --> 00:18:35.190\nThe Yum command is very powerful.\n\n393\n00:18:35.190 --> 00:18:39.490\nOne of my favorite commands is yum list.\n\n394\n00:18:39.490 --> 00:18:45.150\nAnd with yum list we can see software that\nis available, software that's installed.\n\n395\n00:18:45.150 --> 00:18:46.580\nWe can even search for software.\n\n396\n00:18:46.580 --> 00:18:51.090\nNow, if you just run yum list by itself\nprepare yourself for some output.\n\n397\n00:18:51.090 --> 00:18:53.097\nYou're gonna get a list of every\npackage you've already got installed.\n\n398\n00:18:53.097 --> 00:18:55.122\nI've got 589 updates.\n\n399\n00:18:55.122 --> 00:18:56.671\nThat's just updates.\n\n400\n00:18:56.671 --> 00:19:00.582\nI probably have, well if we remember\nthe installation episode we had over 1,200\n\n401\n00:19:00.582 --> 00:19:02.480\npackages that got installed.\n\n402\n00:19:02.480 --> 00:19:04.250\nSo it's gonna list 1,200 packages.\n\n403\n00:19:04.250 --> 00:19:05.940\nAnd then imagine how many are available.\n\n404\n00:19:06.940 --> 00:19:08.440\nTens of thousands, a lot.\n\n405\n00:19:08.440 --> 00:19:11.530\nSo we don't normally run yum list by\nitself, that can get a little crazy.\n\n406\n00:19:11.530 --> 00:19:15.850\nSo we normally follow it up by what we're\nlooking for, I'm searching for something.\n\n407\n00:19:15.850 --> 00:19:20.280\nI wanna run,\nmaybe I'm setting up a LAMP stack, right.\n\n408\n00:19:20.280 --> 00:19:22.806\nLinux, Apache, MySQL, PHP.\n\n409\n00:19:22.806 --> 00:19:25.560\nWell, I wanna install Apache.\n\n410\n00:19:25.560 --> 00:19:28.370\nOkay, well, if I'm gonna install it,\nI need to know the package name.\n\n411\n00:19:28.370 --> 00:19:30.065\nWhat's the package name?\n\n412\n00:19:30.065 --> 00:19:30.750\nI don't know.\n\n413\n00:19:30.750 --> 00:19:31.890\nMaybe I can find it, right?\n\n414\n00:19:31.890 --> 00:19:35.294\nI'm gonna say yum list and\nI'll just type apache.\n\n415\n00:19:35.294 --> 00:19:38.200\nAll right, so I'm gonna look for Apache.\n\n416\n00:19:38.200 --> 00:19:41.970\nAnd when I run that, I get a bunch of\noutput that comes up on the screen.\n\n417\n00:19:41.970 --> 00:19:45.500\nAnd if you look at this, these are all\nprivate key checks, or public key and\n\n418\n00:19:45.500 --> 00:19:46.340\nprivate key checks.\n\n419\n00:19:46.340 --> 00:19:49.020\nSee that's a PEM file right there, PEM.\n\n420\n00:19:49.020 --> 00:19:55.420\nWhat's happening is you have to have\na subscription to talk to Red Hat servers.\n\n421\n00:19:55.420 --> 00:19:57.080\nAnd when you subscribe,\n\n422\n00:19:57.080 --> 00:20:01.810\nyou're actually getting these keys\nto be able to talk to their system.\n\n423\n00:20:01.810 --> 00:20:04.830\nAnd most people don't need to know it,\nbut they're actually tucked away.\n\n424\n00:20:04.830 --> 00:20:05.452\nLet's see if I can\nremember where they are.\n\n425\n00:20:05.452 --> 00:20:08.439\nI think it's like /etc/pki.\n\n426\n00:20:09.810 --> 00:20:13.500\nYes, yep, and\nif we go in here, there we go.\n\n427\n00:20:13.500 --> 00:20:18.800\nSo if you go into /etc/pki/consumer,\n\n428\n00:20:18.800 --> 00:20:22.050\nyou'll notice that there's\nthis cert.pem and key.pem.\n\n429\n00:20:22.050 --> 00:20:27.520\nThere's also an entitlement folder and\nyou'll see the pem keys right there.\n\n430\n00:20:27.520 --> 00:20:31.060\nThe first two, these are identifying you.\n\n431\n00:20:31.060 --> 00:20:34.901\nThe second two, these are identifying\nyour subscription for this machine.\n\n432\n00:20:34.901 --> 00:20:37.997\nAnd if you don't have those you can't\ntalk to Red Hat's update servers, and\n\n433\n00:20:37.997 --> 00:20:41.120\nthat's what the subscription\nmanager is actually doing.\n\n434\n00:20:41.120 --> 00:20:44.660\nBut once you've got those keys,\nnow you can do the update.\n\n435\n00:20:44.660 --> 00:20:50.180\nAnd when I did that yum list a moment ago\nnotice error no matching packages, right.\n\n436\n00:20:50.180 --> 00:20:51.670\nI looked for Apache and couldn't find it.\n\n437\n00:20:51.670 --> 00:20:55.500\nNow I can't believe that\nRed Hat doesn't have Apache.\n\n438\n00:20:55.500 --> 00:20:59.892\nWell, they do,\nit's just not in the name, right.\n\n439\n00:20:59.892 --> 00:21:03.025\nThe Apache package is\nactually listed as httpd.\n\n440\n00:21:03.025 --> 00:21:07.178\nIf I were to do a yum list httpd,\nright, I can pull it up and\n\n441\n00:21:07.178 --> 00:21:11.609\nI get all my key stuff up here,\nso we just kind of ignore that.\n\n442\n00:21:11.609 --> 00:21:15.767\nAnd then right after that\navailable packages, there's httpd,\n\n443\n00:21:15.767 --> 00:21:18.340\nthat's Apache, right.\n\n444\n00:21:18.340 --> 00:21:21.880\nBut if I didn't know that that was the\nname, well it is actually tucked in there.\n\n445\n00:21:21.880 --> 00:21:27.890\nIf we do a yum info httpd, like that,\nit's gonna show me information about that\n\n446\n00:21:27.890 --> 00:21:32.360\npackage, and I can see in the description\nright here it's the Apache http server.\n\n447\n00:21:32.360 --> 00:21:34.480\n&gt;&gt; A quick question about Yum, Don.\n\n448\n00:21:34.480 --> 00:21:38.990\nWhen you're searching, does it look inside\nof the package, in those attributes maybe,\n\n449\n00:21:38.990 --> 00:21:42.800\nto look for Apache, if you use Apache,\nor do you have to force that?\n\n450\n00:21:42.800 --> 00:21:44.243\n&gt;&gt; The yum list command,\nlike I used it there,\n\n451\n00:21:44.243 --> 00:21:46.082\nit's really just looking\nat the package name, right.\n\n452\n00:21:46.082 --> 00:21:48.211\nAnd the package name wasn't Apache,\nso it didn't find it,\n\n453\n00:21:48.211 --> 00:21:50.340\neven though it's right\nthere in the description.\n\n454\n00:21:50.340 --> 00:21:53.560\nBut instead of yum list,\nwe could use yum search, and\n\n455\n00:21:53.560 --> 00:21:56.270\nthe yum search command will\nactually look in the descriptions.\n\n456\n00:21:56.270 --> 00:21:57.650\nIt'll get you a lot more results normally.\n\n457\n00:21:57.650 --> 00:21:58.890\nSo that's why I don't normally use it.\n\n458\n00:21:58.890 --> 00:22:00.150\nI use yum list,\n\n459\n00:22:00.150 --> 00:22:03.020\nbut I've also kind of memorized\nthe package names so that helps too.\n\n460\n00:22:03.020 --> 00:22:04.186\n&gt;&gt; [LAUGH]\n&gt;&gt; But if you haven't memorized\n\n461\n00:22:04.186 --> 00:22:06.381\nthe package name,\nthen yum search is a little bit better.\n\n462\n00:22:06.381 --> 00:22:07.970\nAnd let me just show you.\n\n463\n00:22:07.970 --> 00:22:09.850\nIf I jump back in here, right, so\n\n464\n00:22:09.850 --> 00:22:14.900\nwhen I did yum list apache,\nit didn't find anything, right?\n\n465\n00:22:14.900 --> 00:22:16.810\nNo matching packages to list.\n\n466\n00:22:16.810 --> 00:22:20.390\nBut if I do a yum search apache,\nand we go and\n\n467\n00:22:20.390 --> 00:22:22.980\nwe do a search,\nit finds all sorts of stuff, right.\n\n468\n00:22:22.980 --> 00:22:25.430\nBecause now it's not just\nlooking at the package name, but\n\n469\n00:22:25.430 --> 00:22:27.350\nit's also looking at the description.\n\n470\n00:22:27.350 --> 00:22:30.970\nAnd it's finding, like here's\nApache Tomcat, which is not what I want.\n\n471\n00:22:30.970 --> 00:22:35.480\nWe've got mod look ups, all the modules\nthat we can add on to Apache.\n\n472\n00:22:35.480 --> 00:22:38.450\nWhoa, if we go a little scroll\ncrazy we can bump up and\n\n473\n00:22:38.450 --> 00:22:40.530\nsee some more, there's OpenSSH.\n\n474\n00:22:40.530 --> 00:22:47.300\nWe've got PCI Utils, open-vm-tools,\nwe got all sorts of junk in here.\n\n475\n00:22:47.300 --> 00:22:51.070\nBut not what I'm looking for so let me-\n&gt;&gt; People like that web service.\n\n476\n00:22:51.070 --> 00:22:55.626\n&gt;&gt; There we go, all right so here's some\npackages that actually have Apache in them\n\n477\n00:22:55.626 --> 00:23:00.390\nexcept they're no architecture, so\nthey're usually documentation and things.\n\n478\n00:23:00.390 --> 00:23:02.574\nActually what it looks like\na lot of these are, but\n\n479\n00:23:02.574 --> 00:23:04.840\nright after that I should\nbe able to find the httpd.\n\n480\n00:23:04.840 --> 00:23:05.920\n&gt;&gt; Http server.\n\n481\n00:23:05.920 --> 00:23:10.800\n&gt;&gt; There it is, now notice how that was\njust one entry in a cloud of other stuff.\n\n482\n00:23:10.800 --> 00:23:14.344\nSo it's a little difficult to\nuse yum search sometimes, but\n\n483\n00:23:14.344 --> 00:23:18.317\nthat is the way you'd find it and\nlook through those descriptions.\n\n484\n00:23:18.317 --> 00:23:21.980\nAll right, so we've seen yum list.\n\n485\n00:23:21.980 --> 00:23:23.760\nWe've see yum search.\n\n486\n00:23:23.760 --> 00:23:28.400\nAnd all this time it's been talking\nto Red Hat and getting that data.\n\n487\n00:23:28.400 --> 00:23:33.170\nIf I wanna install something like\nApache I can say yum install and\n\n488\n00:23:33.170 --> 00:23:37.597\nthe name of the package, right,\nwhich I now know is httpd.\n\n489\n00:23:37.597 --> 00:23:41.440\nI do need to sudo that, so\nthat I have permission to do it.\n\n490\n00:23:41.440 --> 00:23:46.220\nAnd once that's done it's gonna\nreach out to Red Hat's server and\n\n491\n00:23:46.220 --> 00:23:48.700\nit's gonna find that yeah,\nI wanna install Apache.\n\n492\n00:23:48.700 --> 00:23:51.560\nBut Apache depends on some other packages.\n\n493\n00:23:51.560 --> 00:23:53.075\nAnd so it's gonna find those for\n\n494\n00:23:53.075 --> 00:23:55.553\nme, there's four packages\nthat Apache requires.\n\n495\n00:23:55.553 --> 00:24:00.092\nSo I'm installing httpd, but these are\ndependencies that need to come along with\n\n496\n00:24:00.092 --> 00:24:02.480\nit, and it's gonna install those for me.\n\n497\n00:24:02.480 --> 00:24:04.515\nAll right, now it's gonna install it.\n\n498\n00:24:04.515 --> 00:24:08.290\nIt's verifying that key and\nsaying, do you trust the source?\n\n499\n00:24:08.290 --> 00:24:12.060\nBecause, if a hacker compromises your\ndata repository, you can be installing\n\n500\n00:24:12.060 --> 00:24:15.340\na compromised version of Apache,\nso it's validating that for me.\n\n501\n00:24:15.340 --> 00:24:20.340\nSo, I'm okay with that, and I have to\nvalidate each of the entries there.\n\n502\n00:24:20.340 --> 00:24:24.640\nOnce it's done, there it goes installing\nit, downloads first, and then it installs,\n\n503\n00:24:24.640 --> 00:24:26.330\nthat's why you see everything twice.\n\n504\n00:24:26.330 --> 00:24:28.060\nOnce it's done, now we're up and\n\n505\n00:24:28.060 --> 00:24:33.130\ngood, now when I did yum update earlier,\nI had 589 updates.\n\n506\n00:24:34.660 --> 00:24:36.950\nWhen I installed those dependencies and\npackages,\n\n507\n00:24:36.950 --> 00:24:40.230\nit could potentially have updated some\nof those, I doubt it, but let's see.\n\n508\n00:24:40.230 --> 00:24:44.200\nWhoops, let me pseudo that and\nsee if that's changed.\n\n509\n00:24:44.200 --> 00:24:45.810\nIt's probably still the same.\n\n510\n00:24:45.810 --> 00:24:49.400\nIf I were to run a yum update right now,\nit would probably take a good 15 or 20\n\n511\n00:24:49.400 --> 00:24:53.080\nminutes because you've got to download all\nthese packages, and we're still at 589.\n\n512\n00:24:53.080 --> 00:24:58.620\nBut, if I want to update an individual\napplication, I can say yum update.\n\n513\n00:24:59.670 --> 00:25:02.790\nI'm forgetting pseudo httpd, and\n\n514\n00:25:02.790 --> 00:25:07.690\nnow it's just gonna update that one\npackage and its associated dependencies.\n\n515\n00:25:07.690 --> 00:25:11.570\nIt's gonna look, and there's no updates\navailable for httpd, but if I look up\n\n516\n00:25:11.570 --> 00:25:14.770\nhere, I've got things like the Python\nfirewall that is apparently installed.\n\n517\n00:25:14.770 --> 00:25:18.665\nAnd so if I were to do a sudo yum update\n\n518\n00:25:18.665 --> 00:25:24.270\nPython-firewall right if\nwe look at that one package\n\n519\n00:25:24.270 --> 00:25:28.840\nC was needed and updated and It's actually\ntells me that it is not even installed.\n\n520\n00:25:28.840 --> 00:25:32.950\nSo that must be an independent sort\nof adding something else that's\n\n521\n00:25:32.950 --> 00:25:34.510\nnot actually installed that so.\n\n522\n00:25:34.510 --> 00:25:38.110\nIf I pick something that was maybe already\ninstalled that will actually make a big\n\n523\n00:25:38.110 --> 00:25:39.100\ndifference with that.\n\n524\n00:25:39.100 --> 00:25:45.580\nSo if we wanted to update right GNUPG2 So\nwe'll do that one.\n\n525\n00:25:45.580 --> 00:25:48.940\nAnd gnupg2 which is\nthe GNU Privacy Guard or GPG.\n\n526\n00:25:48.940 --> 00:25:51.460\nIf I wanna update just that one,\n\n527\n00:25:51.460 --> 00:25:53.860\nit's gonna look at it as well\nas any other dependencies.\n\n528\n00:25:53.860 --> 00:25:57.350\nThis one has no dependencies, so\nI can update just that one package and\n\n529\n00:25:57.350 --> 00:25:58.610\nnow we're in business.\n\n530\n00:25:58.610 --> 00:26:05.640\nOkay, and if I was in a big hurry, I could\nactually do a sudo yum update -y gnupg2.\n\n531\n00:26:06.830 --> 00:26:08.520\nAnd now it's gonna do the update.\n\n532\n00:26:08.520 --> 00:26:12.060\nIt's going to apply it, and\nI don't have to confirm it,\n\n533\n00:26:12.060 --> 00:26:16.980\nwhich is really handy when you're doing\n589 and you wanna schedule it, right?\n\n534\n00:26:16.980 --> 00:26:21.760\nIf I have a cron job set to run at 1 am in\nthe morning, I just want it to run sudo\n\n535\n00:26:21.760 --> 00:26:27.340\nyum update -y, go find the updates and\napply all of them.\n\n536\n00:26:27.340 --> 00:26:29.080\nAnd then when I come in in\nthe morning it's all updated and\n\n537\n00:26:29.080 --> 00:26:32.790\ndone, with the risk of having\npotentially broken systems or\n\n538\n00:26:32.790 --> 00:26:36.920\nwhatever because we haven't necessarily\ntested all these like we should have.\n\n539\n00:26:36.920 --> 00:26:41.260\nAll right, Daniel, I've got a good\nbit more I need to talk about on\n\n540\n00:26:41.260 --> 00:26:42.470\nwhere all this stuff is coming from.\n\n541\n00:26:42.470 --> 00:26:45.470\nI want to talk about the repositories and\nhow we can even add third party\n\n542\n00:26:45.470 --> 00:26:47.570\nrepositories to manage software\nthat's not even from Red Hat.\n\n543\n00:26:47.570 --> 00:26:50.340\nI want to tackle all that stuff,\nit's really important stuff to know.\n\n544\n00:26:50.340 --> 00:26:51.330\nBut I know we're out of time.\n\n545\n00:26:51.330 --> 00:26:52.950\nSo let's do a part two on this one.\n\n546\n00:26:52.950 --> 00:26:55.300\nAnd we'll get a chance to dive in, and\nsee how to bring in all that other stuff.\n\n547\n00:26:55.300 --> 00:26:56.280\n&gt;&gt; That sounds good, Don.\n\n548\n00:26:56.280 --> 00:26:58.870\nWe're famous for our part twos around\nhere, and we know you guys love them.\n\n549\n00:26:58.870 --> 00:27:00.560\nSo what the heck, we'll do a part two.\n\n550\n00:27:00.560 --> 00:27:04.000\nDon, thanks so much for\nshowing these items for us today.\n\n551\n00:27:04.000 --> 00:27:08.020\nNow we can update our systems a little\nbetter, and get them more secure, right?\n\n552\n00:27:08.020 --> 00:27:09.330\nA little more stable.\n\n553\n00:27:09.330 --> 00:27:11.402\nBut that part two, we're really\ngoing to see some interesting stuff.\n\n554\n00:27:11.402 --> 00:27:12.731\n&gt;&gt; [LAUGH]\n&gt;&gt; So we look forward to seeing you\n\n555\n00:27:12.731 --> 00:27:13.770\nguys there, as well.\n\n556\n00:27:13.770 --> 00:27:16.746\nAs for this episode though,\nwe have run out of time, as Don said.\n\n557\n00:27:16.746 --> 00:27:18.198\n&gt;&gt; [LAUGH].\n&gt;&gt; So, we gonna go and sign off.\n\n558\n00:27:18.198 --> 00:27:20.465\nFor ITProTV I've been\nyour host Daniel Lowrie.\n\n559\n00:27:20.465 --> 00:27:21.388\n&gt;&gt; And I'm Don Pezet.\n\n560\n00:27:21.388 --> 00:27:23.775\n&gt;&gt; We'll see you next time.\n\n561\n00:27:23.775 --> 00:27:29.706\n[MUSIC].\n\n562\n00:27:29.706 --> 00:27:32.884\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "192477065"
        },
        {
          "description": "In this episode, Daniel and Don continue explaining and demonstrating the process of updating and installing software using the command line utility, YUM. They pick back up with YUM groups for \"software type\" bundle installs. Also, they show you how to roll back and/or remove an update, then move on exploring how to modify YUM repositories; even enabling 3rd-Party repositories.",
          "length": "1750",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-rhel7-1-3-2-software_updates_pt2-111516.00_28_55_22.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-rhel7-1-3-2-software_updates_pt2-111516.00_28_55_22.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-rhel7-1-3-2-software_updates_pt2-111516.00_28_55_22.Still001-sm.jpg",
          "title": "Software Updates Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:01.174\nWelcome to IT Pro TV.\n\n2\n00:00:01.174 --> 00:00:08.166\n[CROSSTALK]\n\n3\n00:00:08.166 --> 00:00:12.160\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.160 --> 00:00:17.450\n&gt;&gt; Greetings everyone, welcome back to\nanother exciting episode of ITProTV.\n\n5\n00:00:17.450 --> 00:00:18.750\nI'm your host Daniel Lowrie, and\n\n6\n00:00:18.750 --> 00:00:22.990\ntoday's episode we're continuing\non with more Red Hat Linux series.\n\n7\n00:00:22.990 --> 00:00:27.560\nJoining us back for a part two on updating\nsoftwares, our good friend Don Pezet.\n\n8\n00:00:27.560 --> 00:00:28.840\nDon, welcome back sir, how's it going?\n\n9\n00:00:28.840 --> 00:00:29.900\n&gt;&gt; Thanks for having me back Daniel.\n\n10\n00:00:29.900 --> 00:00:31.800\nYou know in our last episode,\nwe covered YUM.\n\n11\n00:00:31.800 --> 00:00:35.970\nThe Yellowdog Update Manager,\njust the update subsystem in Red Hat.\n\n12\n00:00:35.970 --> 00:00:37.220\nAnd we covered a lot of good stuff,\n\n13\n00:00:37.220 --> 00:00:39.220\nwe really covered the things\nthat you're gonna use everyday.\n\n14\n00:00:39.220 --> 00:00:41.050\nThat was all in part one.\n\n15\n00:00:41.050 --> 00:00:43.760\nHere in part two though,\nI want to address a few other things that\n\n16\n00:00:43.760 --> 00:00:47.330\nare pretty darn useful that you may\ncome across out there in real life land.\n\n17\n00:00:47.330 --> 00:00:51.350\nNow, I showed you guys in the last\nepisode how we can do a yum install, and\n\n18\n00:00:51.350 --> 00:00:52.850\nthen whatever package\nyou wanted to install.\n\n19\n00:00:52.850 --> 00:00:58.110\nAnd I added Apache on mine which is\npretty easy to do, yum install httpd.\n\n20\n00:00:58.110 --> 00:01:02.280\nBut we can also install\ncollections of software.\n\n21\n00:01:02.280 --> 00:01:04.710\nRemember back when you were installing\nRed Hat, you pop in the disk,\n\n22\n00:01:04.710 --> 00:01:06.610\nyou boot off of it,\nyou start going through the GUI, and\n\n23\n00:01:06.610 --> 00:01:08.500\nat one point,\nit asked us what we wanted to install.\n\n24\n00:01:08.500 --> 00:01:12.370\nAnd you could choose minimal server,\nor infrastructure server, or\n\n25\n00:01:12.370 --> 00:01:16.320\nweb server, the server with GUI,\nyou kind of pick.\n\n26\n00:01:16.320 --> 00:01:20.420\nWell, what you're actually\nseeing there are yum groups.\n\n27\n00:01:20.420 --> 00:01:22.860\nThey're groups of software, collections.\n\n28\n00:01:22.860 --> 00:01:26.020\nAnd with the yum command line utility,\nwe can actually do that.\n\n29\n00:01:26.020 --> 00:01:27.650\nWe can work with those groups.\n\n30\n00:01:27.650 --> 00:01:30.890\nSo maybe you installed a command\nline only version of Red Hat,\n\n31\n00:01:30.890 --> 00:01:34.430\nand then you decide down the road,\nI really meant to add the GUI.\n\n32\n00:01:34.430 --> 00:01:36.930\nAnd so you can use the group\ninstall command to do that.\n\n33\n00:01:36.930 --> 00:01:39.060\nLet me show you how it works.\n\n34\n00:01:39.060 --> 00:01:46.470\nFrom the command line, if we do\na sudo yum and instead of doing list,\n\n35\n00:01:46.470 --> 00:01:51.940\nlike we were doing before where it lists\nall the packages, we can say group list.\n\n36\n00:01:51.940 --> 00:01:54.340\nNow, I do wanna point out one thing,\nI'm running Red Hat 7.2 and\n\n37\n00:01:54.340 --> 00:01:58.270\nin Red Hat 7 these commands\nchanged a little bit.\n\n38\n00:01:58.270 --> 00:02:01.010\nSo if you used previous versions\nyou're probably used to\n\n39\n00:02:01.010 --> 00:02:04.650\ngroup list being all one command,\nand now they split it out into two.\n\n40\n00:02:04.650 --> 00:02:08.240\nSo that doesn't work in Red Hat 6 and\nearlier, you gotta take away that space,\n\n41\n00:02:08.240 --> 00:02:10.360\nbut with all the group commands\nI'm about to show you,\n\n42\n00:02:10.360 --> 00:02:12.740\nthat space is a new thing in Red Hat 7.\n\n43\n00:02:12.740 --> 00:02:16.870\nSo if I do group list, it's gonna reach\nout to the Red Hat repositories and\n\n44\n00:02:16.870 --> 00:02:18.330\nit's gonna show me the groups.\n\n45\n00:02:18.330 --> 00:02:22.060\nAnd right here are the things\nthat we saw during the install,\n\n46\n00:02:22.060 --> 00:02:24.580\nit asked us which of these we wanted.\n\n47\n00:02:24.580 --> 00:02:26.720\nAnd I picked server with GUI for this one.\n\n48\n00:02:26.720 --> 00:02:29.330\nBut, maybe I want it to\nbe a virtualization host.\n\n49\n00:02:29.330 --> 00:02:33.840\nWell the virtualization host group\ncontains multiple software packages.\n\n50\n00:02:33.840 --> 00:02:37.410\nAnd there's more groups down here,\ncompatibility libraries,\n\n51\n00:02:37.410 --> 00:02:40.930\nwe've got Legacy UNIX compatabilities,\nsmart card support.\n\n52\n00:02:40.930 --> 00:02:45.130\nAnd then it'll install all the software\nnecessary to provide that functionality.\n\n53\n00:02:45.130 --> 00:02:47.170\nSo it's groups of software,\n\n54\n00:02:47.170 --> 00:02:52.590\nand if you wanna install one it's just\nyum group install, followed by the name.\n\n55\n00:02:52.590 --> 00:02:55.600\nAll the groups have spaces in their names,\nso you're gonna have to put it in quote.\n\n56\n00:02:55.600 --> 00:02:59.438\nWell, I guess maybe not RT but the rest\nof them, so if I wanna come in and\n\n57\n00:02:59.438 --> 00:03:04.030\nadd Development Tools I would\nneed to add it like that right,\n\n58\n00:03:04.030 --> 00:03:06.400\nwell with a little help from sudo.\n\n59\n00:03:06.400 --> 00:03:09.220\nAnd so now it's gonna reach out,\nit's gonna find the group called\n\n60\n00:03:09.220 --> 00:03:14.710\nDevelopment Tools and is grabbing 25\npackages, it's grabbing perl and so on.\n\n61\n00:03:14.710 --> 00:03:18.740\nI know what some of you thinking is well,\nDon, when you get just yum install,\n\n62\n00:03:18.740 --> 00:03:20.700\nit also installed the dependencies too.\n\n63\n00:03:20.700 --> 00:03:22.720\nWell, these aren't\nnecessarily dependencies.\n\n64\n00:03:22.720 --> 00:03:25.670\nThere might be two software packages in\nhere that are completely independent from\n\n65\n00:03:25.670 --> 00:03:28.600\neach other, but they're both wrapped\nup under development tools and\n\n66\n00:03:28.600 --> 00:03:29.910\nyou see that a lot of times.\n\n67\n00:03:29.910 --> 00:03:34.412\nThere might be SDKs for some languages and\nIDEs to actually work with and\n\n68\n00:03:34.412 --> 00:03:38.630\nall that other stuff that gets\nkinda packaged in with developers.\n\n69\n00:03:38.630 --> 00:03:41.484\nSo you'll see a ton of things here that\nare not necessarily dependant on each\n\n70\n00:03:41.484 --> 00:03:43.990\nother, that's the big advantage\nof groups is that we can do that.\n\n71\n00:03:45.060 --> 00:03:49.955\nSo as far as installing packages,\nwe had yum list and yum install,\n\n72\n00:03:49.955 --> 00:03:54.830\nwith groups it's yum group list and\nyum group install.\n\n73\n00:03:54.830 --> 00:03:57.360\nSo we're just adding the word\ngroup to the previous command and\n\n74\n00:03:57.360 --> 00:03:58.790\nthat's why they put that space in there,\n\n75\n00:03:58.790 --> 00:04:02.090\nso it's just a simple way to\ndifferentiate between the two commands.\n\n76\n00:04:04.270 --> 00:04:06.780\nNow getting these things\ninstalled is one thing.\n\n77\n00:04:06.780 --> 00:04:10.470\nWe can also remove them,\nwe can get them back out again.\n\n78\n00:04:10.470 --> 00:04:14.590\nWhen you use the remove command,\nit uninstalls a package.\n\n79\n00:04:14.590 --> 00:04:17.430\nNow there are some little quirks\nwith that in that you might have\n\n80\n00:04:17.430 --> 00:04:18.980\ndependencies in place.\n\n81\n00:04:18.980 --> 00:04:21.850\nAnd when you uninstall a package,\nit may not uninstall the dependencies.\n\n82\n00:04:21.850 --> 00:04:26.210\nSo know that it's not necessarily\na perfect system, but getting a package or\n\n83\n00:04:26.210 --> 00:04:29.420\na group out, is simply a matter of running\nthe same command's we've been running,\n\n84\n00:04:29.420 --> 00:04:33.030\nexcept using the word remove instead\nof install, and off it goes.\n\n85\n00:04:33.030 --> 00:04:37.900\nSo for example, I've got Apache that\nI installed in the episode, HTTPD.\n\n86\n00:04:37.900 --> 00:04:43.020\nI did a yum install HTTPD, if I wanna\nremove it, I can do it like this.\n\n87\n00:04:43.020 --> 00:04:48.040\nI can come in and say,\nyum remove httpd, and\n\n88\n00:04:48.040 --> 00:04:50.350\nwhen I run that it's gonna uninstall it.\n\n89\n00:04:50.350 --> 00:04:54.910\nNow, it’s going to completely stop and\nuninstall httpd.\n\n90\n00:04:54.910 --> 00:04:57.510\nIt's gonna turn it off and\nget it out of there.\n\n91\n00:04:57.510 --> 00:05:01.590\nSo, that’s a pretty hand anything to do,\nif I'm absolutely done with the software.\n\n92\n00:05:01.590 --> 00:05:07.540\nBut maybe I'm not done with it, maybe\nan update applied and it broke something.\n\n93\n00:05:07.540 --> 00:05:11.000\nAnd I'm like no, it's broken, I've got to\nget the server back up as fast as I can,\n\n94\n00:05:11.000 --> 00:05:15.620\nI need to roll back to the previous\nversion that was before this update.\n\n95\n00:05:15.620 --> 00:05:19.570\nWell if I do yum remove it's\ngonna delete it, take it out.\n\n96\n00:05:19.570 --> 00:05:22.630\nAnd if I do a yum install,\nit's gonna install the latest version, and\n\n97\n00:05:22.630 --> 00:05:23.940\nthat's not gonna help me.\n\n98\n00:05:23.940 --> 00:05:27.340\nIf I wanna roll back,\nwe actually do have functionality for\n\n99\n00:05:27.340 --> 00:05:30.870\nthat baked right in using\nthe yum history command.\n\n100\n00:05:30.870 --> 00:05:32.710\nAnd yum history is a pretty neat one.\n\n101\n00:05:32.710 --> 00:05:36.350\nIf you ever run yum history,\n\n102\n00:05:36.350 --> 00:05:41.800\nit'll actually show the updates that have,\nshoot, I don't have access.\n\n103\n00:05:41.800 --> 00:05:42.680\n&gt;&gt; Sudo.\n\n104\n00:05:42.680 --> 00:05:45.590\n&gt;&gt; One of these days I ought\nto just break the rules and\n\n105\n00:05:45.590 --> 00:05:48.560\nopen up a root shell, but I won't.\n\n106\n00:05:48.560 --> 00:05:51.880\nBut when we take a look at it,\nwe can actually see\n\n107\n00:05:51.880 --> 00:05:56.310\nall the different activities that\nwe've performed inside of yum.\n\n108\n00:05:57.410 --> 00:06:02.520\nSo I can see where I just did an erase,\nwhere I removed Apache.\n\n109\n00:06:02.520 --> 00:06:06.327\nAnd then I can see where I did\nthe big update, 600 updates.\n\n110\n00:06:06.327 --> 00:06:09.940\nWe can see where I did an individual\nupdate right here, and\n\n111\n00:06:09.940 --> 00:06:14.141\nI remember what I did that was when\nI updated GNUPG2, and so on, and\n\n112\n00:06:14.141 --> 00:06:18.130\nit goes back and back,\nhere's where I installed stuff.\n\n113\n00:06:18.130 --> 00:06:21.365\nSo this first one,\nthat was the original installation,\n\n114\n00:06:21.365 --> 00:06:24.520\n1,242 packages when I\ndid my initial install.\n\n115\n00:06:24.520 --> 00:06:29.270\nNow, if I want to roll back\nan update I can find it in here,\n\n116\n00:06:29.270 --> 00:06:31.930\nit should be just the last one,\nbecause if it broke something you\n\n117\n00:06:31.930 --> 00:06:35.290\nshould notice it right away,\nand be able to roll that back.\n\n118\n00:06:35.290 --> 00:06:37.570\nWe can come in and\nwe can use yum history to find it,\n\n119\n00:06:37.570 --> 00:06:43.900\nand then we can use yum history\nundo to undo the update.\n\n120\n00:06:43.900 --> 00:06:48.456\nSo right now if I do a sudo yum\n\n121\n00:06:48.456 --> 00:06:54.500\ninfo GNUPG2,\nI can take a look at that package.\n\n122\n00:06:54.500 --> 00:06:57.890\nAnd right now I'm running version 2.0.22.\n\n123\n00:06:57.890 --> 00:07:01.478\nSee how it says, installed package 2.0.22.\n\n124\n00:07:01.478 --> 00:07:08.220\nWell, looking at my history\nthat was update number three.\n\n125\n00:07:08.220 --> 00:07:16.092\nSo I'm gonna go down here and\nI'm gonna say, yum history undo 3.\n\n126\n00:07:16.092 --> 00:07:18.850\nI wanna undo that one update that we did.\n\n127\n00:07:18.850 --> 00:07:21.670\nAnd so it's gonna take a look at it and\ntell me what it's about to do.\n\n128\n00:07:21.670 --> 00:07:26.450\nIt's about to remove 2.0.22,\nit's gonna back that one out.\n\n129\n00:07:26.450 --> 00:07:29.550\nAnd it's kept the previous\nversion in there.\n\n130\n00:07:29.550 --> 00:07:34.990\nAnd actually I, I'm glad I mentioned that\nbecause I'm actually running 2.0.2.22-4.\n\n131\n00:07:34.990 --> 00:07:36.977\nAnd it's gonna rollback to 2.0.22-3,\n\n132\n00:07:36.977 --> 00:07:39.213\nI might not have noticed that\nif I hadn't looked here.\n\n133\n00:07:39.213 --> 00:07:44.751\nSo it shows me what will be erased, and\nwhat will be downgraded right there.\n\n134\n00:07:44.751 --> 00:07:49.395\nAnd so it's gonna roll me back and\nthen I'll end up with -3, so\n\n135\n00:07:49.395 --> 00:07:54.308\nif I say yes to that, it's gonna\nroll back gnupg, so there it goes.\n\n136\n00:07:54.308 --> 00:07:58.799\nI can see it verifies it,\ncleans it up, and now I'm rolled back.\n\n137\n00:07:58.799 --> 00:08:03.963\nAnd if I do a yum info gnupg2 I'll\njump in there and it'll show that I'm\n\n138\n00:08:03.963 --> 00:08:09.044\nrunning 2.0.22 and\nI don't necessarily see it as actually -3\n\n139\n00:08:09.044 --> 00:08:14.230\ninstead of -4 which is kind of annoying,\nnow that you think about it.\n\n140\n00:08:14.230 --> 00:08:16.500\n&gt;&gt; You would be sitting here thinking,\nit didn't work [LAUGH].\n\n141\n00:08:16.500 --> 00:08:18.110\n&gt;&gt; Well, hang on a second,\ncuz actually it does.\n\n142\n00:08:18.110 --> 00:08:21.330\nCuz if we look at our release,\nthis is release four.\n\n143\n00:08:21.330 --> 00:08:25.020\nAnd notice how it says Available Packages,\nnot Installed Packages, right?\n\n144\n00:08:25.020 --> 00:08:27.520\nSo, release four is available.\n\n145\n00:08:27.520 --> 00:08:30.910\nBut if I had taken the time to\njust scroll up a little bit,\n\n146\n00:08:30.910 --> 00:08:33.170\ninstead of being hasty, whoops.\n\n147\n00:08:33.170 --> 00:08:39.580\nThen, what I would've seen is right above\nit, I would see Installed Packages,\n\n148\n00:08:39.580 --> 00:08:42.370\nand that it's version three right,\nrelease three.\n\n149\n00:08:42.370 --> 00:08:47.480\nSo now,\nif I were to do a yum update right, darn\n\n150\n00:08:47.480 --> 00:08:53.380\nit [LAUGH] I'm just gonna screw it all\nup alright so yum update there we go so\n\n151\n00:08:53.380 --> 00:08:57.990\nwhen I run that again what I'm gonna\nsee is I;ve got an update for GDGP2.\n\n152\n00:08:57.990 --> 00:09:00.850\nI didn't kill the update it's not like\nthe update doesn't exist any more.\n\n153\n00:09:00.850 --> 00:09:02.090\nI just rolled it back.\n\n154\n00:09:02.090 --> 00:09:05.440\nAnd so now, hopefully, whatever was\nbroken by that update is squared away,\n\n155\n00:09:05.440 --> 00:09:10.200\nand I can get in there and work, and then\nfind out what that problem was and fix it.\n\n156\n00:09:10.200 --> 00:09:13.683\nSo, yum history, really cool kinda\nfunctionality is built right into it.\n\n157\n00:09:13.683 --> 00:09:16.348\n&gt;&gt; Don, go two quick questions for\nyou when it comes to doing this.\n\n158\n00:09:16.348 --> 00:09:19.120\nIs, when you do a remove.\n\n159\n00:09:19.120 --> 00:09:20.880\nSay we removed a package.\n\n160\n00:09:20.880 --> 00:09:23.510\n&gt;&gt; Does it also remove those\ndependencies if it found any?\n\n161\n00:09:23.510 --> 00:09:26.130\nOr does it leave those and\njust uninstalls the package?\n\n162\n00:09:26.130 --> 00:09:30.250\n&gt;&gt; So the dependencies are almost\nalways left behind, all right?\n\n163\n00:09:30.250 --> 00:09:32.830\nAnd if it were a problem.\n\n164\n00:09:32.830 --> 00:09:35.890\nIf a dependency was updated,\nand were rolling things back.\n\n165\n00:09:35.890 --> 00:09:38.790\nWell, the update to those\ndependencies would have\n\n166\n00:09:38.790 --> 00:09:41.540\nhappened when we updated the original\npackages, so it would roll those back too.\n\n167\n00:09:41.540 --> 00:09:45.000\nSo it would actually roll them at the same\ntime, but it wouldn't remove them.\n\n168\n00:09:45.000 --> 00:09:49.750\nThere is actually a young purge command\nthat we can use to where we roll something\n\n169\n00:09:49.750 --> 00:09:53.010\nback and it purges the cash foreword and\nyou can start to snag dependencies.\n\n170\n00:09:53.010 --> 00:09:56.750\nMost people don't worry about that though,\nbecause a dependency is not being called.\n\n171\n00:09:56.750 --> 00:09:58.590\nDoesn't really-\n&gt;&gt; Effect the system.\n\n172\n00:09:58.590 --> 00:10:01.180\n&gt;&gt; Yeah, it just doesn't effect anything\nand so we don't sweat that so much.\n\n173\n00:10:01.180 --> 00:10:03.040\n&gt;&gt; All right, so my second question is,\n\n174\n00:10:03.040 --> 00:10:05.270\nhow the heck did we do this before\nwe had [LAUGH] package management?\n\n175\n00:10:05.270 --> 00:10:06.920\nIt would have a been brutal.\n\n176\n00:10:06.920 --> 00:10:07.790\n&gt;&gt; It was a nightmare.\n\n177\n00:10:07.790 --> 00:10:09.370\nIt has really been an evolving thing so,\n\n178\n00:10:09.370 --> 00:10:12.570\npackage management the way we're seeing\nit here, has really only been around.\n\n179\n00:10:12.570 --> 00:10:13.360\nEight years maybe?\n\n180\n00:10:13.360 --> 00:10:17.460\nNot a terribly long time, and\nit's making it really convenient.\n\n181\n00:10:17.460 --> 00:10:19.860\nJust to give you an example,\nwhen you didn't have dependencies,\n\n182\n00:10:19.860 --> 00:10:23.830\nyou had to go to the vendor's website,\nyou had to find all the stuff you needed.\n\n183\n00:10:23.830 --> 00:10:26.490\nAnd usually find the right version\nof it too, which was a nightmare,\n\n184\n00:10:26.490 --> 00:10:27.650\nand then get that all installed.\n\n185\n00:10:27.650 --> 00:10:30.750\nAnd you had to make sure you were getting\nall those files from a trusted source,\n\n186\n00:10:30.750 --> 00:10:32.900\nwhich Is really hard to do these days.\n\n187\n00:10:32.900 --> 00:10:36.400\nSo, they've evolved it quite a bit,\nand we have the dependency tracking.\n\n188\n00:10:36.400 --> 00:10:41.190\nOn the group side, groups, they really\nchanged a lot in red hat seven.\n\n189\n00:10:41.190 --> 00:10:43.500\nIn red hat six, a group was just a name.\n\n190\n00:10:43.500 --> 00:10:48.100\nAnd so, when I installed\nthe developer tools group,\n\n191\n00:10:48.100 --> 00:10:50.700\nonce they were installed,\nthey're basically treat like packages.\n\n192\n00:10:50.700 --> 00:10:52.300\nI could update one package verse another.\n\n193\n00:10:52.300 --> 00:10:56.250\nI can remove one piece and have all the\nothers still be there that's how it was.\n\n194\n00:10:56.250 --> 00:11:01.870\nBut when I install a group in Red Hat 7,\nit actually tracks the whole group.\n\n195\n00:11:01.870 --> 00:11:04.520\nAnd if I update one thing in\nthe group it will try and\n\n196\n00:11:04.520 --> 00:11:09.980\nupdate the whole group or if Red Hat adds\nnew software to the group after the fact.\n\n197\n00:11:09.980 --> 00:11:13.640\nThen the next time I update, my group will\nupdate to reflect that new software, so\n\n198\n00:11:13.640 --> 00:11:15.650\nyou can actually inject\nnew software into it.\n\n199\n00:11:15.650 --> 00:11:16.690\nDouble edged sword on that, right?\n\n200\n00:11:16.690 --> 00:11:17.640\nWe get extra tracking but\n\n201\n00:11:17.640 --> 00:11:19.980\nat the same time we have new software\npop up that we don't know about,\n\n202\n00:11:19.980 --> 00:11:23.050\nwhich again is why you need to test\nyour updates before you roll them out.\n\n203\n00:11:23.050 --> 00:11:25.002\nBut it is a very powerful thing.\n\n204\n00:11:25.002 --> 00:11:28.046\nIt's really nice to have\nthat functionality, and\n\n205\n00:11:28.046 --> 00:11:29.896\nit's baked right into the OS.\n\n206\n00:11:29.896 --> 00:11:32.432\n&gt;&gt; Very nice.\n\n207\n00:11:32.432 --> 00:11:36.650\nAll right, the other thing I want to talk\nabout is everything I've done up to this\n\n208\n00:11:36.650 --> 00:11:40.140\npoint, in part 1, and in, here we\nare almost halfway through this episode,\n\n209\n00:11:40.140 --> 00:11:44.350\nhas all been with official\nRed Hat repositories.\n\n210\n00:11:44.350 --> 00:11:47.320\nThat means that at Red Hat headquarters\nthey've got servers set up\n\n211\n00:11:47.320 --> 00:11:50.080\nthat have all these official files,\nand that's what we're referencing.\n\n212\n00:11:50.080 --> 00:11:53.330\nAnd you can trust those services,\nbecause red hat manages them, right?\n\n213\n00:11:53.330 --> 00:11:55.950\nYou can trust them at least as\nmuch as you can trust red hat.\n\n214\n00:11:55.950 --> 00:11:59.540\nSo, we've got those available,\nand that's great, but\n\n215\n00:11:59.540 --> 00:12:03.700\nsometimes you might want software\nthat's outside of their repositories.\n\n216\n00:12:03.700 --> 00:12:07.150\nAnd you can actually customize\nthe repositories available on your system.\n\n217\n00:12:07.150 --> 00:12:11.230\nThey're all stored in a simple config file\nthat we can jump in and take a look at.\n\n218\n00:12:11.230 --> 00:12:12.250\nIt's actually more than one file.\n\n219\n00:12:12.250 --> 00:12:13.590\nIt is stored in a single location, though.\n\n220\n00:12:13.590 --> 00:12:17.260\nSo, let me show you where that is and\nwe'll see the official repositories first,\n\n221\n00:12:17.260 --> 00:12:19.950\nthen, we're go unofficial after that.\n\n222\n00:12:19.950 --> 00:12:27.948\nSo, I'm gonna switch into\nthe /etc/yam.repost.dfolder, right?\n\n223\n00:12:27.948 --> 00:12:30.470\nSo, the yam.repos.d\n\n224\n00:12:30.470 --> 00:12:34.070\nis you're referring to the service\ndean that runs in the background.\n\n225\n00:12:34.070 --> 00:12:38.620\nAnd when it does it searches,\nwe run yam list to yam search,\n\n226\n00:12:38.620 --> 00:12:42.290\nwe go to do a yam update,\nit's coming to this files.\n\n227\n00:12:42.290 --> 00:12:44.070\nAnd it's saying, where do I need to look?\n\n228\n00:12:44.070 --> 00:12:46.700\nWho's gonna tell me about\nupdates that are out there?\n\n229\n00:12:46.700 --> 00:12:51.240\nAnd in this folder, will be files\nthat identify who to talk to.\n\n230\n00:12:51.240 --> 00:12:55.900\nAnd by default,\nyou only have one, redhat.repo.\n\n231\n00:12:55.900 --> 00:12:58.470\nAnd if we take a look at that file,\n\n232\n00:12:58.470 --> 00:13:03.090\nwhat you're gonna see are entries in\nhere for several different repositories.\n\n233\n00:13:03.090 --> 00:13:04.400\nThe very first one.\n\n234\n00:13:04.400 --> 00:13:06.030\nRed Hat Enterprise Linux 7.\n\n235\n00:13:06.030 --> 00:13:08.070\nServer.net debug RPM's.\n\n236\n00:13:09.510 --> 00:13:11.580\nRPM is the old Red Hat package manager and\n\n237\n00:13:11.580 --> 00:13:14.640\nwhen you download packages\nthey're still RPM packages.\n\n238\n00:13:14.640 --> 00:13:17.460\nIt's just now we track all\nthe dependencies on top of it with yam.\n\n239\n00:13:17.460 --> 00:13:22.410\nSo, these are RPM's from Microsoft dot\nnet which is in the Linux world still\n\n240\n00:13:22.410 --> 00:13:26.200\npretty I think they call it beta,\nbut it's really kind of alpha.\n\n241\n00:13:26.200 --> 00:13:29.120\nIt's not something we want to use in\nproduction, but here's a repository.\n\n242\n00:13:29.120 --> 00:13:32.790\nIf we wanted to reach out and install\nthat, they've got it available for us.\n\n243\n00:13:32.790 --> 00:13:37.300\nAnd you're gonna see beneath it,\nwhere it's got the cell client cert.\n\n244\n00:13:37.300 --> 00:13:42.150\nThe certificate that I need to have in\norder to talk to that server and validate.\n\n245\n00:13:42.150 --> 00:13:44.320\nIf that server cert\ndoesn't match this cert,\n\n246\n00:13:44.320 --> 00:13:47.050\nI know that I connected to a fraudulent\nserver and I won't take the update, right.\n\n247\n00:13:47.050 --> 00:13:49.040\nThere's that level of security.\n\n248\n00:13:49.040 --> 00:13:51.030\nThe base URL is what we're\nactually reaching out to.\n\n249\n00:13:51.030 --> 00:13:55.830\nAnd see how we're reaching out to CDN,\nContentDistributionNetwork.redhat.com.\n\n250\n00:13:55.830 --> 00:13:59.050\nAnd this huge path that points us\nall the way into that debug folder,\n\n251\n00:13:59.050 --> 00:14:00.740\nwhere we can get that data.\n\n252\n00:14:00.740 --> 00:14:02.990\nAnd as you keep looking down,\n\n253\n00:14:02.990 --> 00:14:06.790\nyou'll see information about\nthe GNU privacy guard and the key.\n\n254\n00:14:06.790 --> 00:14:10.560\nI'm glad I didn't uninstall GNU PG2 or\nwe wouldn't be able to update.\n\n255\n00:14:10.560 --> 00:14:14.360\nAnd then this line is kind of\nimportant enable equals 0.\n\n256\n00:14:14.360 --> 00:14:16.420\nThis repository is here.\n\n257\n00:14:16.420 --> 00:14:21.810\nRed Hat to find it, but it's disabled,\n0 is turned off, 1 is turned on.\n\n258\n00:14:21.810 --> 00:14:25.410\nSo, if I try and install .NET right now,\nit's actually not available, and\n\n259\n00:14:25.410 --> 00:14:28.420\nthat's because Red Hat says, hey,\nthis is not ready for primetime yet.\n\n260\n00:14:28.420 --> 00:14:31.420\nBut, if you wanna test it, if you wanna\nget involved, you wanna try and work on\n\n261\n00:14:31.420 --> 00:14:35.870\nsome development projects, you need to\nedit this file and change that to a 1.\n\n262\n00:14:35.870 --> 00:14:38.880\nAnd now, you can install\nsoftware from that repository and\n\n263\n00:14:38.880 --> 00:14:42.090\nit'll have the .NET libraries and\nthings that Microsoft has been pushing.\n\n264\n00:14:42.090 --> 00:14:44.730\nAnd you'll see that with several of\nthese as we start to look through,\n\n265\n00:14:44.730 --> 00:14:48.000\nmany of them are entered in with a 0.\n\n266\n00:14:48.000 --> 00:14:51.220\nAnd the idea there is that\nyou shouldn't be using these.\n\n267\n00:14:51.220 --> 00:14:54.060\nAnd last, you have a specific reason to.\n\n268\n00:14:54.060 --> 00:14:57.750\nAnd it's not we get a little bit lower\nthat we start bumping into the ones that\n\n269\n00:14:57.750 --> 00:14:59.878\nare enabled since most\nof these are disabled.\n\n270\n00:14:59.878 --> 00:15:01.360\nSo enabled = 0.\n\n271\n00:15:01.360 --> 00:15:04.330\nIn fact, I don't think I've\nencountered enabled 1 yet.\n\n272\n00:15:04.330 --> 00:15:05.180\n&gt;&gt; There it is.\n\n273\n00:15:05.180 --> 00:15:07.180\n&gt;&gt; There's our first one.\n\n274\n00:15:08.440 --> 00:15:11.480\nSo our first one is rhel-rs-for-rhel.\n\n275\n00:15:11.480 --> 00:15:17.070\nI'm not sure what that one\nis our release version base.\n\n276\n00:15:18.120 --> 00:15:19.860\nUsually it gives us, right here.\n\n277\n00:15:19.860 --> 00:15:22.330\nThis is the resilience storage,\nthat's what RS is.\n\n278\n00:15:22.330 --> 00:15:26.050\nSo this is a closed storage application\nthey have, the resilience storage.\n\n279\n00:15:26.050 --> 00:15:29.370\nIt lets you distribute a file\nsystem across multiple servers and\n\n280\n00:15:29.370 --> 00:15:32.380\nthis is the repository that\nhas the updates for it.\n\n281\n00:15:32.380 --> 00:15:35.660\nIf you're not running resilience storage,\nyou might not need updates from this,\n\n282\n00:15:35.660 --> 00:15:39.450\nyou could come and disable this repo and\nyour yam utilities will run just a hair\n\n283\n00:15:39.450 --> 00:15:43.090\nfaster, right, it all runs pretty quick\nanyways we don't normally go in and\n\n284\n00:15:43.090 --> 00:15:45.030\ndisable things we don't have to.\n\n285\n00:15:45.030 --> 00:15:51.220\nHere is the ceph storage tools, we have\ngot extended update support and so on.\n\n286\n00:15:51.220 --> 00:15:54.450\nEach one of these kind of\nproviding a different purpose.\n\n287\n00:15:54.450 --> 00:15:56.910\nBut the main ones that we care about,\nthe production ones,\n\n288\n00:15:56.910 --> 00:15:59.590\nthose are enabled by default and\nthat's usually good enough for us, right?\n\n289\n00:15:59.590 --> 00:16:02.557\nAll of these debugs are off by default,\nthe betas are off by default but\n\n290\n00:16:02.557 --> 00:16:03.624\nthey are all right here.\n\n291\n00:16:03.624 --> 00:16:05.424\nYes, see it's a pretty big list and\n\n292\n00:16:05.424 --> 00:16:08.670\nI'm kinda getting bored\njust scrolling through it.\n\n293\n00:16:08.670 --> 00:16:09.577\nIt's not small.\n\n294\n00:16:09.577 --> 00:16:10.999\nI didn't realize there were this many.\n\n295\n00:16:10.999 --> 00:16:13.450\nSo, apparently there are quite a ton.\n\n296\n00:16:13.450 --> 00:16:16.430\nIf you want, we can do something\na little bit different.\n\n297\n00:16:16.430 --> 00:16:18.060\nWe can say.\n\n298\n00:16:18.060 --> 00:16:22.475\nYum repolist and if I do yum repolist,\nI can do all and\n\n299\n00:16:22.475 --> 00:16:26.820\nit'll show me all the repos and so, there\nthey go kind of getting output for me.\n\n300\n00:16:26.820 --> 00:16:30.780\nIt's checking, so it kind of\nstalls a little bit but there's.\n\n301\n00:16:31.930 --> 00:16:34.630\nThere, so we can kind of see it here and\nwe get this little output,\n\n302\n00:16:34.630 --> 00:16:36.700\nthere is a little kind of quickly to see.\n\n303\n00:16:36.700 --> 00:16:38.991\nAs far as, which ones are enabled and\nwhich ones are disabled.\n\n304\n00:16:38.991 --> 00:16:43.447\nAnd then those are the command\nline tags that I cant remember,\n\n305\n00:16:43.447 --> 00:16:45.168\nI think it's enabled.\n\n306\n00:16:45.168 --> 00:16:46.010\nThere we are.\n\n307\n00:16:46.010 --> 00:16:48.950\nSo, now I just see the enabled ones and\nso we can spot it right here.\n\n308\n00:16:48.950 --> 00:16:51.160\nThese are the ones that are actually,\nturned on.\n\n309\n00:16:51.160 --> 00:16:53.360\nAnd we can start to see,\nkinda what's going on there.\n\n310\n00:16:53.360 --> 00:16:56.040\nSo, these repost,\nwe don't normally mess with.\n\n311\n00:16:56.040 --> 00:16:56.850\nThey're the ones from Red Hat.\n\n312\n00:16:56.850 --> 00:16:59.490\nThey're the ones that we're paying to use,\nso might as well have them.\n\n313\n00:16:59.490 --> 00:17:02.660\nBut sometimes,\nyou use third-party software.\n\n314\n00:17:02.660 --> 00:17:04.083\nSoftwares from another company.\n\n315\n00:17:04.083 --> 00:17:07.707\nAnd if you get software from\nanother company and you install it,\n\n316\n00:17:07.707 --> 00:17:09.396\nit's not on Red Hat servers.\n\n317\n00:17:09.396 --> 00:17:10.990\nSo you can't update it automatic.\n\n318\n00:17:10.990 --> 00:17:13.370\nAnd now, you gotta would\nupdate that software manually.\n\n319\n00:17:13.370 --> 00:17:17.214\nso wouldn't it be nice, if we get\nattached to other people's repository.\n\n320\n00:17:17.214 --> 00:17:18.345\nAnd the short answer, is that yes.\n\n321\n00:17:18.345 --> 00:17:19.660\nYou absolutely can.\n\n322\n00:17:19.660 --> 00:17:22.230\nYou can add, someone else's repository.\n\n323\n00:17:22.230 --> 00:17:23.900\nSo just to give you an example.\n\n324\n00:17:23.900 --> 00:17:27.844\nI'm gonna take a utility call,\ncalled Webmin.\n\n325\n00:17:27.844 --> 00:17:34.388\nSo if you've ever run a colocated server,\na lot of ISPs will run.\n\n326\n00:17:34.388 --> 00:17:37.006\nCPanel or Plesk or Webmin,\nsomething like that, so\n\n327\n00:17:37.006 --> 00:17:41.115\nthat you have a web based administration\ninterface for your server.\n\n328\n00:17:41.115 --> 00:17:43.675\nBut not the most terribly secure things\nin the world, some people hate them, but\n\n329\n00:17:43.675 --> 00:17:44.745\nthey are convenient.\n\n330\n00:17:44.745 --> 00:17:50.540\nAnd if I wanna add Webmin to this system,\nWebmin is not in the Red Hat repositories.\n\n331\n00:17:50.540 --> 00:17:54.230\nSo I need to add Webmin's repository,\nhere so that I can install it.\n\n332\n00:17:54.230 --> 00:17:59.280\nSo I can verify that really quick,\nif I do a sudo yum\n\n333\n00:17:59.280 --> 00:18:03.985\nlist webmin and\nI look to see if it's in there.\n\n334\n00:18:03.985 --> 00:18:07.230\nI should get a response back,\ntelling me that it is not.\n\n335\n00:18:07.230 --> 00:18:09.250\nThere, no matching packages in the list.\n\n336\n00:18:09.250 --> 00:18:10.820\nSo Webmin does not exist.\n\n337\n00:18:10.820 --> 00:18:14.820\nAnd while I'm thinking about it,\nWebmin obviously runs on a web server.\n\n338\n00:18:14.820 --> 00:18:15.570\nSo I kind of need one.\n\n339\n00:18:15.570 --> 00:18:17.540\nAnd I can't remember if I\nleft Apache installed or not.\n\n340\n00:18:17.540 --> 00:18:18.540\nSo.\n&gt;&gt; I think you uninstalled it.\n\n341\n00:18:18.540 --> 00:18:19.103\n&gt;&gt; I uninstalled it?\n\n342\n00:18:19.103 --> 00:18:21.310\nJust let me,\nI'll just put that back real quick.\n\n343\n00:18:21.310 --> 00:18:22.320\nTechnically, it's a dependency.\n\n344\n00:18:22.320 --> 00:18:23.590\nSo it would have figured it out for me.\n\n345\n00:18:23.590 --> 00:18:25.400\nSo we would have gotten there eventually.\n\n346\n00:18:25.400 --> 00:18:26.990\nBut anyhow.\nSo I'm just putting that back.\n\n347\n00:18:26.990 --> 00:18:29.660\nAll right, so\nI want Webmin on this system.\n\n348\n00:18:29.660 --> 00:18:32.360\nIf I want it there,\nI need to add it to my repo file.\n\n349\n00:18:32.360 --> 00:18:36.470\nA lot of these third party software\ncompanies, they'll actually give you\n\n350\n00:18:36.470 --> 00:18:40.276\nthe repos file, and you just copy it right\ninto the folder, and you're done, okay?\n\n351\n00:18:40.276 --> 00:18:42.420\nOr, they'll tell you what to put in there,\nand you manually edit, and\n\n352\n00:18:42.420 --> 00:18:44.010\nyou put it in there.\n\n353\n00:18:44.010 --> 00:18:47.570\nOr some of them have auto-detection and\nyou can just use a single command here,\n\n354\n00:18:47.570 --> 00:18:49.030\nin the Command Line to add it.\n\n355\n00:18:49.030 --> 00:18:50.085\nThey've kind of moved away from that,\n\n356\n00:18:50.085 --> 00:18:54.100\ncuz it's hard to safely exchange,\nsecurity keys that way.\n\n357\n00:18:54.100 --> 00:18:59.800\nSo, you may or may not be able to do it,\nbut assuming that somebody's got one.\n\n358\n00:18:59.800 --> 00:19:06.350\nThat is ready for you to throw in, you\ncan actually use the yum.config.manager.\n\n359\n00:19:06.350 --> 00:19:12.030\nAnd that utility has several different\noptions, in it that let you enable,\n\n360\n00:19:12.030 --> 00:19:16.400\ndisable and even add,\nnew repository to the command line.\n\n361\n00:19:16.400 --> 00:19:18.840\nBut I'll tell you the add,\nis really basic.\n\n362\n00:19:18.840 --> 00:19:20.090\nAnd so very few people use it.\n\n363\n00:19:20.090 --> 00:19:21.870\nYou normally get to edit or\nreprofile, it yourself.\n\n364\n00:19:21.870 --> 00:19:24.680\nBut if you wanna quickly enable or\ndisable repositories.\n\n365\n00:19:24.680 --> 00:19:28.150\nIt's just the yum.config.manager and\n\n366\n00:19:28.150 --> 00:19:33.650\nthen you do, dash enable or dash disable\nand then the name of the repository and.\n\n367\n00:19:33.650 --> 00:19:36.320\nYou can turn them on and\noff, as you need it.\n\n368\n00:19:36.320 --> 00:19:39.440\nBut for me, I want to add webmin and\nso I'm gonna get back,\n\n369\n00:19:39.440 --> 00:19:44.930\ninto my /etc/yum.repos.d.\n\n370\n00:19:44.930 --> 00:19:48.320\nAnd right now I've just got that Red Hat\nrepos, I'm gonna add a webmin repos.\n\n371\n00:19:48.320 --> 00:19:55.150\nSo I will do a, just use vi or nano or\nwhatever, text editor it is that you like.\n\n372\n00:19:55.150 --> 00:19:59.606\nAnd I'm gonna create a webmin.repo\nfile and when I jump in here,\n\n373\n00:19:59.606 --> 00:20:02.370\nthe syntax is pretty straight forward.\n\n374\n00:20:02.370 --> 00:20:05.820\nFirst off, we need to give the repo the\nname and that way, we can turn it on and\n\n375\n00:20:05.820 --> 00:20:07.480\noff with the yum.config.manager.\n\n376\n00:20:07.480 --> 00:20:09.940\nSo I'm gonna give it a name,\nI'm just gonna be called Webmin.\n\n377\n00:20:09.940 --> 00:20:15.810\nAnd then after that, we need to\nspecify the full descriptive name and\n\n378\n00:20:15.810 --> 00:20:18.710\nso I'm just gonna call mine Webmin.\n\n379\n00:20:18.710 --> 00:20:23.458\nDistribution neutral and these are the\nrecommended values from the Webmin guys,\n\n380\n00:20:23.458 --> 00:20:25.885\nyou can really name it whatever you want.\n\n381\n00:20:25.885 --> 00:20:30.621\nBut, Webmin is really just web software,\nthat runs on Apache so it doesn't care.\n\n382\n00:20:30.621 --> 00:20:32.162\nWhich distro Of Linux you're using, so\n\n383\n00:20:32.162 --> 00:20:34.030\nthat's why they call it\ndistribution neutral.\n\n384\n00:20:35.100 --> 00:20:38.020\nThen I need to do the base URL and\nthis is the most, important line.\n\n385\n00:20:38.020 --> 00:20:41.587\nThis is the server that we're going\nto talk to, when we do the updates.\n\n386\n00:20:41.587 --> 00:20:43.611\nSo I'm gonna set my base URL.\n\n387\n00:20:43.611 --> 00:20:45.664\nAnd I'm gonna point it to the server.\n\n388\n00:20:45.664 --> 00:20:50.441\nNow, notice that their particular server,\nisn't using SSL.\n\n389\n00:20:50.441 --> 00:20:53.805\nIt's just http:// If this\nis third party software,\n\n390\n00:20:53.805 --> 00:20:57.309\na lot of times, if it's pay software,\nthey'll use SSL,\n\n391\n00:20:57.309 --> 00:21:00.972\ncuz they want to secure\nthe contents while it's in transit.\n\n392\n00:21:00.972 --> 00:21:05.935\nAnd so, I'm gonna point to\ndownload.wittman.com/download/yum.\n\n393\n00:21:05.935 --> 00:21:08.140\nThat's their yum repository.\n\n394\n00:21:08.140 --> 00:21:10.510\nAnd then, you may have a mirror list.\n\n395\n00:21:10.510 --> 00:21:13.810\nSome servers do,\nsome don't and the mirror list.\n\n396\n00:21:13.810 --> 00:21:16.680\nIs basically alternate servers,\nthat we can reach out to.\n\n397\n00:21:17.730 --> 00:21:21.220\nIf you just have one server, everybody\nin the world is hitting that one server.\n\n398\n00:21:21.220 --> 00:21:22.514\nIt's not necessarily great for\nperformance.\n\n399\n00:21:22.514 --> 00:21:26.022\nSo there may be a mirror list that says,\nreach out to this location.\n\n400\n00:21:26.022 --> 00:21:28.352\nAnd there will be a file that will\ntell you all the other servers,\n\n401\n00:21:28.352 --> 00:21:30.010\nthat are out there that\nyou can reach out to.\n\n402\n00:21:30.010 --> 00:21:32.850\nSo, I'm just gonna point\nto that real quick.\n\n403\n00:21:32.850 --> 00:21:37.831\nAnd again, this is an optional line,\nso you may or may not have this one,\n\n404\n00:21:37.831 --> 00:21:39.475\non the ones that you do.\n\n405\n00:21:39.475 --> 00:21:40.948\nAnd that's the URL for that.\n\n406\n00:21:40.948 --> 00:21:43.953\nAnd then the last thing I'm gonna put is,\nenabled=one.\n\n407\n00:21:43.953 --> 00:21:46.100\nI want this one to be enabled.\n\n408\n00:21:46.100 --> 00:21:47.280\nNow you saw on the Red Hat ones,\n\n409\n00:21:47.280 --> 00:21:51.590\nthey had a lot more in there as far as\nlike the security key and all that other.\n\n410\n00:21:51.590 --> 00:21:54.420\nYou can put that in here certainly,\na lot of that is optional.\n\n411\n00:21:54.420 --> 00:21:55.890\nThis server will actually require it, but\n\n412\n00:21:55.890 --> 00:21:57.330\nI need to add the key\na slightly different way.\n\n413\n00:21:57.330 --> 00:21:59.330\nSo I'm gonna add that key here,\nin just a minute.\n\n414\n00:21:59.330 --> 00:22:02.070\nSo I'm gonna go ahead and save that file.\n\n415\n00:22:02.070 --> 00:22:06.480\nAnd assuming I didn't have any typo's,\nI've now got a second repository.\n\n416\n00:22:06.480 --> 00:22:07.701\nAnd if I do a.\n\n417\n00:22:09.959 --> 00:22:13.770\nYum and then do a repo list.\n\n418\n00:22:14.870 --> 00:22:17.770\nEnabled and I take a look at it.\n\n419\n00:22:17.770 --> 00:22:21.630\nI should see Webmin in the list now,\nright there at the top.\n\n420\n00:22:23.050 --> 00:22:27.100\nNow if I try and use it, I mentioned that\nit is gonna require a certificate and\n\n421\n00:22:27.100 --> 00:22:28.190\nit’s not going to be to terrible happy.\n\n422\n00:22:28.190 --> 00:22:30.580\nSo it’s actually not gonna work right now,\nif I try and use it.\n\n423\n00:22:30.580 --> 00:22:32.990\nI need to add, a little security key.\n\n424\n00:22:32.990 --> 00:22:35.040\nSo let me see, if I have W get on here.\n\n425\n00:22:36.120 --> 00:22:37.090\nAnd I do, good.\n\n426\n00:22:37.090 --> 00:22:40.540\nSo, they've posted their key right on\ntheir website, and I can reach out, and\n\n427\n00:22:40.540 --> 00:22:42.050\nI can grab the key, and bring it down.\n\n428\n00:22:42.050 --> 00:22:44.780\nIt's a public key, not a private key,\nso it's not like it's super weak.\n\n429\n00:22:44.780 --> 00:22:46.560\nBut then I can use that\nto validate their repo,\n\n430\n00:22:46.560 --> 00:22:50.560\nto make sure that I'm actually talking\nto their repo and not somebody else.\n\n431\n00:22:50.560 --> 00:22:54.720\nSo I just need to grab that key\nreal quick, so I'm gonna do a wget.\n\n432\n00:22:54.720 --> 00:22:56.100\nAnd I'm gonna pull their key down.\n\n433\n00:22:56.100 --> 00:22:58.180\nNow, I switched to my home directory,\n\n434\n00:22:58.180 --> 00:23:00.350\nbecause I'm gonna attach this\nkey to the repo in a moment.\n\n435\n00:23:00.350 --> 00:23:03.620\nI don't wanna download it\ninto the repo's directory,\n\n436\n00:23:03.620 --> 00:23:06.080\ninside the /etc that's not a great\nplace to put these things.\n\n437\n00:23:06.080 --> 00:23:08.490\nSo, I'm gonna reach back\nout to that server.\n\n438\n00:23:08.490 --> 00:23:14.410\nAnd, on their server, the author is\njcameron so he just calls it jcameron key.\n\n439\n00:23:14.410 --> 00:23:18.560\n&gt;&gt; You need some awesome movies [LAUGH]\n&gt;&gt; There's like blue monkeys.\n\n440\n00:23:18.560 --> 00:23:21.830\nSo, all right, so I'm gonna go there and\nreach out and pull those down.\n\n441\n00:23:21.830 --> 00:23:25.090\nAnd once I've got it,\nI just need to add that key.\n\n442\n00:23:25.090 --> 00:23:27.960\nSo I need to do and use RPM for this.\n\n443\n00:23:27.960 --> 00:23:28.505\nThe old tool.\n\n444\n00:23:28.505 --> 00:23:32.260\nRpm--import.\n\n445\n00:23:32.260 --> 00:23:34.138\nAnd then I can import his key.\n\n446\n00:23:34.138 --> 00:23:37.580\nSo now that'll be a valid key,\nwhen I reach out to that server.\n\n447\n00:23:37.580 --> 00:23:40.960\nI'll know it's the right server and\nthat it's trusted, so this is kind of a.\n\n448\n00:23:40.960 --> 00:23:43.124\nIt's using the older command to do it, but\n\n449\n00:23:43.124 --> 00:23:46.503\nit's easier that putting all the key\ndata inside of the repo file.\n\n450\n00:23:46.503 --> 00:23:50.696\nBut now when I start to do yum list,\nwhen I ran yum list earlier,\n\n451\n00:23:50.696 --> 00:23:55.780\nIt didn't find Webmin, but\nnow it's got a new repository to look at.\n\n452\n00:23:55.780 --> 00:24:02.008\nAnd so if I do suedo yum List webmin,\nit's gonna search all the Red Hat servers.\n\n453\n00:24:02.008 --> 00:24:06.755\nBut it's also going to search,\nthe Webmin repository and there it is,\n\n454\n00:24:06.755 --> 00:24:09.690\nwebmin.noarch, it finds it.\n\n455\n00:24:09.690 --> 00:24:10.545\nAnd I can install it.\n\n456\n00:24:10.545 --> 00:24:14.700\nSo I can do a sudo yum install webmin.\n\n457\n00:24:14.700 --> 00:24:17.080\nAnd it's gonna reach out and do it, right?\n\n458\n00:24:17.080 --> 00:24:21.020\nThis allows vendors to quickly\ndistribute software and\n\n459\n00:24:21.020 --> 00:24:22.760\nsee how it still tracks dependencies?\n\n460\n00:24:22.760 --> 00:24:24.950\nAnd look where that\ndependency is coming from.\n\n461\n00:24:24.950 --> 00:24:28.210\nWebmin is coming from\nthe webmin repository.\n\n462\n00:24:28.210 --> 00:24:33.500\nBut perl-Net-SSL-eay, that one is\ncoming from actual Red Hat, right?\n\n463\n00:24:33.500 --> 00:24:35.000\nThe dependency is there.\n\n464\n00:24:35.000 --> 00:24:37.610\nBut we get the dependency\nfrom the Red Hat server.\n\n465\n00:24:37.610 --> 00:24:40.060\nSo it's basically integrating\nthe two together.\n\n466\n00:24:40.060 --> 00:24:41.760\n&gt;&gt; Yeah, because they work together now.\n\n467\n00:24:41.760 --> 00:24:44.750\n&gt;&gt; And once that's installed, so\nhere I'm just gonna install it real quick.\n\n468\n00:24:44.750 --> 00:24:49.950\nFrom now on,\nif I run yum update -y, it's gonna\n\n469\n00:24:49.950 --> 00:24:54.350\nupdate all of my stuff, from Redhat, as\nwell as my stuff from Webmin, all in one.\n\n470\n00:24:54.350 --> 00:24:55.620\nIt's now integrated into yum.\n\n471\n00:24:55.620 --> 00:24:57.630\nIt goes back to how great\npackage management is.\n\n472\n00:24:57.630 --> 00:24:58.820\nDoesn't that make life so\n\n473\n00:24:58.820 --> 00:25:02.790\nmuch easier that I don't have to mess\naround with all these different providers.\n\n474\n00:25:02.790 --> 00:25:07.666\nNow, one negative, you'll notice how when\nI download Redhat packages they download\n\n475\n00:25:07.666 --> 00:25:10.494\npretty fast,\ncuz they got some awesome servers.\n\n476\n00:25:10.494 --> 00:25:14.548\nWebmin is like an open source, low\nbudget thing that has a couple of rrors\n\n477\n00:25:14.548 --> 00:25:17.184\nthat are out there and-\n&gt;&gt; They don't get to flush their toilets\n\n478\n00:25:17.184 --> 00:25:18.894\nhalf the week because they\ndon't have the money.\n\n479\n00:25:18.894 --> 00:25:20.819\n[LAUGH]\n&gt;&gt; Yeah [LAUGH] I'm getting less than 100\n\n480\n00:25:20.819 --> 00:25:24.344\nkilobytes per second, which is not exactly\nthe greatest speed that we're looking for\n\n481\n00:25:24.344 --> 00:25:24.888\nthese days.\n\n482\n00:25:24.888 --> 00:25:28.331\nIt seems to be going down,\nIt's cuz I made fun of it.\n\n483\n00:25:28.331 --> 00:25:29.433\n&gt;&gt; Yeah.\n&gt;&gt; I shouldn't have done that.\n\n484\n00:25:29.433 --> 00:25:32.296\nSo, anyhow, some of your other\nrepositories might be a little slower.\n\n485\n00:25:32.296 --> 00:25:34.183\n[LAUGH]\n&gt;&gt; Still better than doing it manually\n\n486\n00:25:34.183 --> 00:25:34.788\nthere, right?\n\n487\n00:25:34.788 --> 00:25:35.828\n&gt;&gt; Absolutely true, right?\n\n488\n00:25:35.828 --> 00:25:37.098\nCuz we could schedule this.\n\n489\n00:25:37.098 --> 00:25:37.898\n&gt;&gt; Right.\n&gt;&gt; This could be\n\n490\n00:25:37.898 --> 00:25:42.260\nhappening in the middle of the night, and\nI wouldn't have to sit here and wait.\n\n491\n00:25:42.260 --> 00:25:43.960\nBut anyhow, so\nit's gonna do that update and there it is.\n\n492\n00:25:43.960 --> 00:25:48.610\nSo having a third-party repository\nbrought in is really handy.\n\n493\n00:25:48.610 --> 00:25:50.280\nJust go to that vendor's website.\n\n494\n00:25:50.280 --> 00:25:51.710\nThey'll usually have instructions for\nadding it.\n\n495\n00:25:51.710 --> 00:25:53.720\nNot every vendor has a repository.\n\n496\n00:25:53.720 --> 00:25:56.000\nAnd the other thing is you\ncould set up your own.\n\n497\n00:25:56.000 --> 00:25:58.800\nA repository is really just a webserver.\n\n498\n00:25:58.800 --> 00:26:00.610\nIt's really not anything special.\n\n499\n00:26:00.610 --> 00:26:03.023\nIt's got a particular file\nstructure that it follows, and\n\n500\n00:26:03.023 --> 00:26:06.016\nyou've gotta define the database so\nthat people can look up against it and\n\n501\n00:26:06.016 --> 00:26:07.800\nsee what the current versions are.\n\n502\n00:26:07.800 --> 00:26:09.947\nBut you could build your\nown internal repository and\n\n503\n00:26:09.947 --> 00:26:13.181\nthat's really handy especially if you\nwant to control conversions, right?\n\n504\n00:26:13.181 --> 00:26:18.568\nMaybe Firefox version 44 is out,\nbut it breaks something.\n\n505\n00:26:18.568 --> 00:26:21.150\nSo you need Firefox version\n43 on everybody's computer.\n\n506\n00:26:21.150 --> 00:26:26.740\nSo you create your own repository, and\nyou only have Firefox version 43 in there.\n\n507\n00:26:26.740 --> 00:26:29.600\nAnd then when you approve 44, you wait for\n\n508\n00:26:29.600 --> 00:26:32.710\n45 to come out,\nthen you just go to your repository as is.\n\n509\n00:26:32.710 --> 00:26:34.690\nSo you can manage your\nown repositories and\n\n510\n00:26:34.690 --> 00:26:38.000\nset all of your intro machines up to\nuse them, makes life a lot easier.\n\n511\n00:26:38.000 --> 00:26:41.420\n&gt;&gt; Becomes your own little update server\nthat you have locally for that lovely,\n\n512\n00:26:41.420 --> 00:26:42.010\nlovely speed.\n\n513\n00:26:42.010 --> 00:26:43.201\nHopefully gig, right?\n\n514\n00:26:43.201 --> 00:26:45.648\n&gt;&gt; [LAUGH] and\nthat's certainly a handy thing.\n\n515\n00:26:45.648 --> 00:26:49.760\nBut now that we've got the repository in\nplace, we do our installs, our upgrades,\n\n516\n00:26:49.760 --> 00:26:54.770\nour rollbacks, like the history command,\nour removes, where we uninstall things,\n\n517\n00:26:54.770 --> 00:26:58.700\nall of that's handled the same as any\nkind of native package right from Redhat.\n\n518\n00:26:58.700 --> 00:27:03.170\nJust remember that whatever software you\njust installed is not being security\n\n519\n00:27:03.170 --> 00:27:03.890\nchecked by Redhat.\n\n520\n00:27:03.890 --> 00:27:07.060\nAnd they're not gonna provide phone\nsupport for, and all that other stuff.\n\n521\n00:27:07.060 --> 00:27:08.980\nSo you do lose a little bit.\n\n522\n00:27:08.980 --> 00:27:11.940\nBut for the most part,\nit's a good trade-off.\n\n523\n00:27:11.940 --> 00:27:14.210\nYou trust that software that you're\ninstalling anyway, hopefully.\n\n524\n00:27:14.210 --> 00:27:16.380\nAnd now you know it can stay\nup to date nice and easy.\n\n525\n00:27:16.380 --> 00:27:17.400\n&gt;&gt; Awesome stuff, Don.\n\n526\n00:27:17.400 --> 00:27:20.850\nWell, now we know we can do a lot\nwhen it comes to using Yum, and\n\n527\n00:27:20.850 --> 00:27:24.400\nwe need to update out software,\nhow we can do that if we need to rollback,\n\n528\n00:27:24.400 --> 00:27:27.880\nwe can do that as well, adding the\nrepositories, that was a great features so\n\n529\n00:27:27.880 --> 00:27:31.980\nwe can implement third-party software,\nand it all works together in one lovely\n\n530\n00:27:31.980 --> 00:27:37.310\nhomogenized little environment that we've\ncreated inside of our own environments.\n\n531\n00:27:37.310 --> 00:27:40.320\nThat being said and done is there\nanything we need to add to this\n\n532\n00:27:40.320 --> 00:27:42.130\ncool little episodes that we've done so\nfar.\n\n533\n00:27:42.130 --> 00:27:43.596\n&gt;&gt; Not really, it did actually finish-\n&gt;&gt; [CROSSTALK]\n\n534\n00:27:43.596 --> 00:27:44.130\n&gt;&gt; [INAUDIBLE] [LAUGH]\n\n535\n00:27:44.130 --> 00:27:46.470\n&gt;&gt; It just took a little while, but\n\n536\n00:27:46.470 --> 00:27:49.070\njust be aware,\nthere's tons of software out there.\n\n537\n00:27:49.070 --> 00:27:50.430\nObviously you want to test, right,\n\n538\n00:27:50.430 --> 00:27:53.370\nI guess that's the lesson I really need to\nstress here is always test software, and\n\n539\n00:27:53.370 --> 00:27:55.910\nalways test updates before you\nroll them out in their production.\n\n540\n00:27:55.910 --> 00:27:59.120\nBut otherwise, as far as the basic\nupdates, pretty straightforward system.\n\n541\n00:27:59.120 --> 00:28:00.660\nThe GUI's nice if you have it.\n\n542\n00:28:00.660 --> 00:28:02.870\nThe command line's not\nvery hard if you don't.\n\n543\n00:28:02.870 --> 00:28:04.790\nYum is a very powerful utility.\n\n544\n00:28:04.790 --> 00:28:08.530\nThere are some new package\nmanagers that are on the horizon.\n\n545\n00:28:08.530 --> 00:28:11.500\nRed Hat is currently\ntesting one called DNF, and\n\n546\n00:28:11.500 --> 00:28:14.070\nDNF is supposed to be the replacement\nto Yum down the road.\n\n547\n00:28:14.070 --> 00:28:16.430\nIt'll provide the same functionality and\nsome additional things.\n\n548\n00:28:16.430 --> 00:28:19.600\nBut it's still very beta.\n\n549\n00:28:19.600 --> 00:28:24.600\nIt's actually in Fedora, but\nit's not the main package manager yet.\n\n550\n00:28:24.600 --> 00:28:26.760\nSo we'll see that change in a few years.\n\n551\n00:28:26.760 --> 00:28:30.830\nBut for now, Yum is like the bees\nknees for updates on Redhat.\n\n552\n00:28:30.830 --> 00:28:31.440\n&gt;&gt; Awesome stuff.\n\n553\n00:28:31.440 --> 00:28:33.070\nWell now you guys know how to use Yum.\n\n554\n00:28:33.070 --> 00:28:36.430\nGo out there, play with your\ninstallations, play with Yum, see what you\n\n555\n00:28:36.430 --> 00:28:40.680\ncan do with it, work with some packages,\nmaybe install a new repository or two.\n\n556\n00:28:40.680 --> 00:28:42.870\nThat being said, I'm looking at\nthe clock for this episode and\n\n557\n00:28:42.870 --> 00:28:44.640\nit looks like we've run out of time.\n\n558\n00:28:44.640 --> 00:28:47.590\nSo now we'll leave you to\ngo do that very thing.\n\n559\n00:28:47.590 --> 00:28:50.192\nDon, thanks for joining us today,\nwe thank you guys for watching.\n\n560\n00:28:50.192 --> 00:28:52.970\nWe're gonna go ahead and sign off,\nfor ITPRO.TV I've been your host,\n\n561\n00:28:52.970 --> 00:28:54.590\nDaniel Lawry,\n&gt;&gt; And I'm Don Pizzazz.\n\n562\n00:28:54.590 --> 00:28:56.629\n&gt;&gt; We'll see you next time.\n\n563\n00:28:56.629 --> 00:29:02.636\n[MUSIC]\n\n564\n00:29:02.636 --> 00:29:04.565\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "192477066"
        },
        {
          "description": "In this episode, Daniel and Don discuss and demonstrate how to perform an unattended installation of RHEL7 using Kickstart. They begin by explaining the basics of Kickstart and how to create a ks.cfg file which provides the answers an admin would normally have to enter manually during installation. Then they show you a quick and easy way of using Kickstart with the default RHEL7 installation media.",
          "length": "1994",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-1-4-1-deploying_with_kickstart-111616.00_33_21_23.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-1-4-1-deploying_with_kickstart-111616.00_33_21_23.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-1-4-1-deploying_with_kickstart-111616.00_33_21_23.Still001-sm.jpg",
          "title": "Deploying with Kickstart",
          "transcript": "WEBVTT\n\n1\n00:00:00.003 --> 00:00:02.601\nWelcome to ITPRO.TV,\nI'm your host Don Pezet.\n\n2\n00:00:02.601 --> 00:00:06.624\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.624 --> 00:00:08.278\n[MUSIC]\n\n4\n00:00:08.278 --> 00:00:12.250\n&gt;&gt; You're watching ITPRO.TV.\n\n5\n00:00:12.250 --> 00:00:14.010\n&gt;&gt; All right, greetings everyone and\n\n6\n00:00:14.010 --> 00:00:16.422\nwelcome to another great\nepisode of ITPRO.TV.\n\n7\n00:00:16.422 --> 00:00:19.625\nI'm your host Daniel Lowrie and\nin today's episode well you know,\n\n8\n00:00:19.625 --> 00:00:23.470\nit's more back for our Red Hat\nenterprise Linux version seven series.\n\n9\n00:00:23.470 --> 00:00:25.920\nJoining us again is our good friend Mr.\nDon Pezet.\n\n10\n00:00:25.920 --> 00:00:26.997\nDon welcome back sir, how's it going?\n\n11\n00:00:26.997 --> 00:00:28.887\n&gt;&gt; It is going great Daniel thanks for\nhaving me back.\n\n12\n00:00:28.887 --> 00:00:32.309\nAnd in this episode we're gonna be\ntackling a pretty neat topic which\n\n13\n00:00:32.309 --> 00:00:34.970\nis the Red Hat kickstart for\nthe Anaconda installer.\n\n14\n00:00:34.970 --> 00:00:39.510\nNow if you think back to episode number\none, the very first episode of the series.\n\n15\n00:00:39.510 --> 00:00:42.210\nI showed you guys how to install\nRed Hat enterprise Linux and\n\n16\n00:00:42.210 --> 00:00:44.040\nwe went through\nthe graphical installer and\n\n17\n00:00:44.040 --> 00:00:46.730\nwe put in a bunch of options,\nclicked next a bunch of times.\n\n18\n00:00:46.730 --> 00:00:49.570\nA very exciting,\nthrilling adventure filled episode.\n\n19\n00:00:49.570 --> 00:00:53.370\nAnd at the end of the day we had\nRed Hat Enterprise Linux installed.\n\n20\n00:00:53.370 --> 00:00:57.348\nAnd that system works out great if\nyou're installing one machine or\n\n21\n00:00:57.348 --> 00:00:58.828\nmaybe in five machines.\n\n22\n00:00:58.828 --> 00:01:02.052\nBut what if you need to\ninstall a thousand machines?\n\n23\n00:01:02.052 --> 00:01:03.995\nThat system gets pretty old pretty fast.\n\n24\n00:01:03.995 --> 00:01:05.316\n&gt;&gt; Now your just making up numbers, Don.\n\n25\n00:01:05.316 --> 00:01:09.067\n&gt;&gt; At that point,that's when you start\ngetting the disgruntled employee and\n\n26\n00:01:09.067 --> 00:01:11.773\nnow you've got to do background\nchecks on everybody.\n\n27\n00:01:11.773 --> 00:01:14.060\nI hate to say that stuff.\n\n28\n00:01:14.060 --> 00:01:17.470\nWhat redhat has is a system\ncalled the kickstart.\n\n29\n00:01:17.470 --> 00:01:21.280\nWhat kickstart does is that it lets\nus create a configuration file\n\n30\n00:01:21.280 --> 00:01:24.480\nthat tells the system what\nto do during the install.\n\n31\n00:01:24.480 --> 00:01:26.270\nSo that when we actually\ngo to perform that install,\n\n32\n00:01:26.270 --> 00:01:28.180\nIt doesn't ask us anything\nit just gets to work.\n\n33\n00:01:28.180 --> 00:01:31.300\nIt just starts doing it, turning through\nand putting all the settings in place and\n\n34\n00:01:31.300 --> 00:01:34.090\ngetting the system configured\nthe way that we want it.\n\n35\n00:01:34.090 --> 00:01:38.760\nAnd that's really handy if you've\ngot a lot of machine to deploy.\n\n36\n00:01:38.760 --> 00:01:42.600\nIn fact you can take kickstart all\nthe way to the next level, right?\n\n37\n00:01:42.600 --> 00:01:44.720\nIt goes to 11 we can turn it to 11.\n\n38\n00:01:44.720 --> 00:01:47.890\nIf we couple it with\nsomething like pixie booting,\n\n39\n00:01:47.890 --> 00:01:53.060\nyou can have a completely blank system,\nyou power it on.\n\n40\n00:01:53.060 --> 00:01:55.390\nThe network adapter fires up,\nlooks at the network,\n\n41\n00:01:55.390 --> 00:02:00.500\nfinds a pixie server,\ngrabs the redhat kickstart.\n\n42\n00:02:00.500 --> 00:02:04.350\nStarts to boot up, grabs all the files and\ninstalls it and completely populates and\n\n43\n00:02:04.350 --> 00:02:06.020\nbuilds a server and brings it online.\n\n44\n00:02:06.020 --> 00:02:09.480\nAnd all you had to do,\nwas push the power button, right?\n\n45\n00:02:09.480 --> 00:02:12.120\nThey call that a zero touch install.\n\n46\n00:02:12.120 --> 00:02:14.550\nTechnically you got one touch you\ngot to push the power button.\n\n47\n00:02:14.550 --> 00:02:17.080\nBut once the power button is pushed\nthat's it, you don't do anything else.\n\n48\n00:02:17.080 --> 00:02:17.909\nIt does the full install.\n\n49\n00:02:19.000 --> 00:02:20.740\nNormally we don't do it that way.\n\n50\n00:02:20.740 --> 00:02:23.528\nNormally we do what's called an LTI,\nor a light touch install,\n\n51\n00:02:23.528 --> 00:02:25.091\nwhere you do have to do a few things.\n\n52\n00:02:25.091 --> 00:02:26.330\nJust a few little things.\n\n53\n00:02:26.330 --> 00:02:30.270\nAnd the reason is, we probably have\nmore than one configuration file, right.\n\n54\n00:02:30.270 --> 00:02:33.060\nThe more configuration files you have,\nyou gotta pick which one you want.\n\n55\n00:02:33.060 --> 00:02:36.260\nSo there's at least a menu that you pick\nand go through, and you do your install.\n\n56\n00:02:36.260 --> 00:02:39.920\nSo that's what we can do with kickstart\nand if you're coming from the Windows\n\n57\n00:02:39.920 --> 00:02:43.770\nworld this is very similar to doing\nthings like an unattended install or\n\n58\n00:02:43.770 --> 00:02:47.820\nauto install,\nwhatever Microsoft calls it but\n\n59\n00:02:47.820 --> 00:02:52.350\nin the Red Hat world it's kickstart and\nactually works in a very similar method.\n\n60\n00:02:52.350 --> 00:02:55.400\nNow I mentioned Pixie Boot, that's\nprobably the hardest way to deploy it.\n\n61\n00:02:55.400 --> 00:02:56.820\nKind of fun but it's hard.\n\n62\n00:02:56.820 --> 00:03:01.020\nAn easier way is,\nwe can create bootable USB media.\n\n63\n00:03:01.020 --> 00:03:05.430\nOr a bootable CD that already has the kick\nstart right on the disk, all right?\n\n64\n00:03:05.430 --> 00:03:08.350\nAnd when you do that,\nnow you can boot off of that disk.\n\n65\n00:03:08.350 --> 00:03:10.090\nAnd it just automatically installs.\n\n66\n00:03:10.090 --> 00:03:13.982\nThe negative of that method is, what if\nyou want to change the kick start file?\n\n67\n00:03:13.982 --> 00:03:15.600\nYou want to modify\nthe configuration a little bit.\n\n68\n00:03:15.600 --> 00:03:17.720\nNow you've got to go and\nreburn your installation media.\n\n69\n00:03:17.720 --> 00:03:19.000\nIt's kind of a hassle.\n\n70\n00:03:19.000 --> 00:03:22.720\nSo what I usually do Is\nfind a healthy medium.\n\n71\n00:03:22.720 --> 00:03:27.710\nWhat I like to do is place the kick\nstart file in a network location.\n\n72\n00:03:27.710 --> 00:03:31.020\nAnd then just use the regular,\nold, red hat bootable media.\n\n73\n00:03:31.020 --> 00:03:35.766\nI might have RHEL 7.1 and\nthen RHEL 7.2 comes out.\n\n74\n00:03:35.766 --> 00:03:39.430\nWell that's okay, I get my 7.2 media or\n7.3, or whatever.\n\n75\n00:03:39.430 --> 00:03:43.270\nAnd I can just boot off\nthe regular old disk and\n\n76\n00:03:43.270 --> 00:03:47.870\nduring the boot process I can point\nit to a network kick start file.\n\n77\n00:03:47.870 --> 00:03:51.330\nAnd then after that it does everything\nelse unattended, so it's light touch.\n\n78\n00:03:51.330 --> 00:03:55.290\nI just have to get involved enough to tell\nit where to get the kick start file from,\n\n79\n00:03:55.290 --> 00:03:56.870\nand after that it runs nice and smooth.\n\n80\n00:03:56.870 --> 00:04:00.434\nAnd by storing the kick start file on\nthe network, anytime I need to change it,\n\n81\n00:04:00.434 --> 00:04:01.406\nI just go and edit it.\n\n82\n00:04:01.406 --> 00:04:03.752\nI don't have to change any\nof my installation media and\n\n83\n00:04:03.752 --> 00:04:04.930\nit makes life a lot easier.\n\n84\n00:04:04.930 --> 00:04:06.640\nThat's one of the best methods for\n\n85\n00:04:06.640 --> 00:04:09.630\nactually deploying a Kickstart cuz\nit gives you the most flexibility.\n\n86\n00:04:09.630 --> 00:04:12.310\n&gt;&gt; Anyway,\nwe have to do that a thousand times\n\n87\n00:04:12.310 --> 00:04:14.610\ninstead of [LAUGH] the entirety\nof the installation.\n\n88\n00:04:14.610 --> 00:04:18.100\n&gt;&gt; And servers are usually unique\nenough that you can't reuse Kickstart\n\n89\n00:04:18.100 --> 00:04:19.160\nfiles too much.\n\n90\n00:04:19.160 --> 00:04:20.359\nBut workstations, you might be deploying.\n\n91\n00:04:20.359 --> 00:04:21.865\n&gt;&gt; That's fantastic.\n\n92\n00:04:21.865 --> 00:04:23.510\n&gt;&gt; Yeah,\nthousands of them that are identical.\n\n93\n00:04:23.510 --> 00:04:25.610\nAnd in that scenario it's not even\na bad idea to just go ahead and\n\n94\n00:04:25.610 --> 00:04:27.810\nburn the kickstarter file right\nonto the installed media.\n\n95\n00:04:27.810 --> 00:04:29.300\nNow you don't even need a network.\n\n96\n00:04:29.300 --> 00:04:32.864\nYou just, hey this computer's acting up,\nlet me put this CD in and boot from\n\n97\n00:04:32.864 --> 00:04:36.724\nthe CD, and look, it automatically\nformats, it automatically partitions.\n\n98\n00:04:36.724 --> 00:04:40.172\nIt copies the operating system,\nit installs the applications,\n\n99\n00:04:40.172 --> 00:04:44.250\nit sets the IP address, and everything,\nand all I had to do was boot it up.\n\n100\n00:04:44.250 --> 00:04:45.155\n&gt;&gt; Yeah.\n&gt;&gt; And it's done.\n\n101\n00:04:45.155 --> 00:04:46.690\nYeah, that's instant tech support.\n\n102\n00:04:46.690 --> 00:04:48.690\nSystem's reformatted and\nyou're in business.\n\n103\n00:04:48.690 --> 00:04:50.490\nThat's kinda nice to have.\n\n104\n00:04:50.490 --> 00:04:52.010\nAll right, so enough talking about it.\n\n105\n00:04:52.010 --> 00:04:53.570\nLet's see how this works.\n\n106\n00:04:53.570 --> 00:04:56.000\nFirst thing we need to do is we\nneed to create a kick start file,\n\n107\n00:04:56.000 --> 00:04:58.250\nand a kick start file is just a text file.\n\n108\n00:04:58.250 --> 00:05:00.870\nIt's a text file that has instructions for\nthe system,\n\n109\n00:05:00.870 --> 00:05:03.540\nand the instructions are broken\nup into sections, all right.\n\n110\n00:05:03.540 --> 00:05:06.557\nAnd most of it centers around\nyour system configuration.\n\n111\n00:05:06.557 --> 00:05:08.860\nWhat network adapters do you have?\n\n112\n00:05:08.860 --> 00:05:10.400\nWhat IP address do you want?\n\n113\n00:05:10.400 --> 00:05:12.460\nWhat's the root password?\n\n114\n00:05:12.460 --> 00:05:15.550\nThink of any question that\nhappens during the installer and\n\n115\n00:05:15.550 --> 00:05:17.590\nthat's something that\ncan go in the kickstart.\n\n116\n00:05:17.590 --> 00:05:20.860\nBut then there's things beyond it,\nlike there's a pre and a post section.\n\n117\n00:05:20.860 --> 00:05:25.731\nThere's a pre install and a post install\nsection where you can put scripts I might\n\n118\n00:05:25.731 --> 00:05:28.680\nsay, all right I need a preinstall script.\n\n119\n00:05:28.680 --> 00:05:31.680\nBecause there's different hard\ndrive configurations out there, and\n\n120\n00:05:31.680 --> 00:05:35.290\nI need to be able to configure raid first.\n\n121\n00:05:35.290 --> 00:05:38.030\nAnd so I might have some commands\nthat run before the installer starts.\n\n122\n00:05:38.030 --> 00:05:42.740\nOr post-configuration, hey this machine\nis now in place, but I didn't put\n\n123\n00:05:42.740 --> 00:05:46.610\na host name in the config file because I'm\ngonna use this on many different machines.\n\n124\n00:05:46.610 --> 00:05:50.050\nSo in my script, it's going to look for\nsome kind of information to generate and\n\n125\n00:05:50.050 --> 00:05:51.090\nassign a host name.\n\n126\n00:05:51.090 --> 00:05:52.600\nI do that after the fact right.\n\n127\n00:05:52.600 --> 00:05:56.190\nSo the pre and post scripts,\nthey allow you to do whatever you want.\n\n128\n00:05:56.190 --> 00:05:59.780\nAnd now you've got the ultimate\nflexibility with your deployment.\n\n129\n00:05:59.780 --> 00:06:02.610\nNow creating a kickstart\nfile,it's not exactly easy if\n\n130\n00:06:02.610 --> 00:06:03.870\nyou've never done it before.\n\n131\n00:06:03.870 --> 00:06:05.067\nBecause you've got to know the syntax.\n\n132\n00:06:05.067 --> 00:06:06.976\nAnd the syntax is a little bit tricky and\nif you make a mistake,\n\n133\n00:06:06.976 --> 00:06:08.390\nthe whole thing doesn't work.\n\n134\n00:06:08.390 --> 00:06:09.820\nAnd you get all sorts of weird errors and\n\n135\n00:06:09.820 --> 00:06:13.680\nstuff so we need to create\na consistent kickstart file.\n\n136\n00:06:13.680 --> 00:06:17.280\nAnd to help us with that,\nredhat has a nice little utility for\n\n137\n00:06:17.280 --> 00:06:19.810\nit called the kickstart configurator.\n\n138\n00:06:19.810 --> 00:06:23.030\nOr they call it system config kickstart.\n\n139\n00:06:23.030 --> 00:06:26.066\nNow you may already have it\non your system you may not.\n\n140\n00:06:26.066 --> 00:06:28.960\nA lot of systems don't include\nit in the default install.\n\n141\n00:06:28.960 --> 00:06:34.940\nSo if you don't have it,\nyou can add it in real quick just\n\n142\n00:06:34.940 --> 00:06:40.686\nby doing a yum install\nsystem-config-kickstart.\n\n143\n00:06:40.686 --> 00:06:44.490\nI've already got it on my system so\nit's not gonna complain for me here.\n\n144\n00:06:44.490 --> 00:06:49.390\nBut if you don't have it, that'll install\nit, right, system-config-kickstart.\n\n145\n00:06:49.390 --> 00:06:52.060\nIf you just have\nthe command line interface,\n\n146\n00:06:52.060 --> 00:06:55.250\nthen you now have a tool you\ncan run that's going to let you\n\n147\n00:06:55.250 --> 00:06:58.080\ndo your Kickstart file that's\nall command line based.\n\n148\n00:06:58.080 --> 00:07:01.840\nBut if you have a GUI really you should\nbe creating these on your work station,\n\n149\n00:07:01.840 --> 00:07:03.160\nnot on a server anyway.\n\n150\n00:07:03.160 --> 00:07:04.989\nSo you probably do have a GUI.\n\n151\n00:07:04.989 --> 00:07:09.176\nIf you have a GUI, you can go up under\napplications and go down to system tools,\n\n152\n00:07:09.176 --> 00:07:11.720\nand you'll now have a new entry for\nKickstart.\n\n153\n00:07:12.870 --> 00:07:17.720\nThe kickstart gui and the kickstart\ncommand line have the same functionality.\n\n154\n00:07:17.720 --> 00:07:21.830\nSo if I have the choice I\ngenerally use the gui, right?\n\n155\n00:07:21.830 --> 00:07:23.990\nThat's going to be the easiest one to use.\n\n156\n00:07:23.990 --> 00:07:26.460\nDoing it from the command line\nis really about the same thing.\n\n157\n00:07:26.460 --> 00:07:30.020\nYou see on the left side all\nof these different categories.\n\n158\n00:07:30.020 --> 00:07:32.170\nAnd on the right side,\nthe setting that are inside of it.\n\n159\n00:07:32.170 --> 00:07:35.030\nAnd we're basically providing\nthe answers to all the installation\n\n160\n00:07:35.030 --> 00:07:36.450\nquestions, all right?\n\n161\n00:07:36.450 --> 00:07:40.990\nIf we answer every single question,\nwe now have an unattended install,\n\n162\n00:07:40.990 --> 00:07:43.350\nit will do the install\nwithout interaction.\n\n163\n00:07:43.350 --> 00:07:47.490\nIf you leave one or two questions off,\nIt will prompt for those.\n\n164\n00:07:47.490 --> 00:07:48.887\nAnd now it is interactive, but\n\n165\n00:07:48.887 --> 00:07:52.561\nyou could at least shrink the amount of\nquestions that people get asked, right?\n\n166\n00:07:52.561 --> 00:07:55.676\nAn end user might know enough to\npick what language they speak.\n\n167\n00:07:55.676 --> 00:07:57.118\nSome end users are that smart.\n\n168\n00:07:57.118 --> 00:07:58.048\n[LAUGH] And so, But\n\n169\n00:07:58.048 --> 00:08:02.389\nan end user probably doesn't know how you\nwanna partition the hard drive, right?\n\n170\n00:08:02.389 --> 00:08:03.610\nThey don't normally know that.\n\n171\n00:08:03.610 --> 00:08:05.490\nSo maybe I just go in here and\n\n172\n00:08:05.490 --> 00:08:09.400\nset the partition information and\nI let them pick their language.\n\n173\n00:08:09.400 --> 00:08:10.910\nRight, I don't wanna force that on them.\n\n174\n00:08:10.910 --> 00:08:11.570\nThey can pick.\n\n175\n00:08:11.570 --> 00:08:15.300\nSo it's up to you what you wanna provide\nand what you don't wanna provide.\n\n176\n00:08:15.300 --> 00:08:19.910\nYou might choose not to provide a root\npassword, because you wanna have a unique\n\n177\n00:08:19.910 --> 00:08:22.310\nroot password on every\nsingle machine you deploy.\n\n178\n00:08:22.310 --> 00:08:26.270\nSo if I leave that blank,\nit is gonna prompt me for that, all right?\n\n179\n00:08:26.270 --> 00:08:28.810\nBut if I have a consistent root\npassword I'm gonna use everywhere,\n\n180\n00:08:28.810 --> 00:08:30.330\nI can come in and I can put that.\n\n181\n00:08:30.330 --> 00:08:33.236\nSo let me just kind of run through this\nfile here, and we'll see to those options.\n\n182\n00:08:33.236 --> 00:08:37.060\nMy default language, English USA is fine,\nUSA English for my keyboard.\n\n183\n00:08:37.060 --> 00:08:40.850\nMy time zone, I am not in Africa,\nat least not right now.\n\n184\n00:08:40.850 --> 00:08:45.880\nSo let me go down to America/New York\ncuz it's the time zone that\n\n185\n00:08:45.880 --> 00:08:49.046\nwe use which is almost there, there we go.\n\n186\n00:08:49.046 --> 00:08:53.470\nI can chose to use UTC if I want to, I'm\nnot going to, I can set my password, so\n\n187\n00:08:53.470 --> 00:08:59.920\nI'll specify a password and by default,\nthis password is getting encrypted.\n\n188\n00:08:59.920 --> 00:09:05.401\nI think it uses SHA-256 if I remember\nright to, it might be SHA-512.\n\n189\n00:09:05.401 --> 00:09:07.951\nI'm pretty sure it's SHA-256,\nand it encrypts it and\n\n190\n00:09:07.951 --> 00:09:11.215\nstores it in Kickstart file so you don't\nhave to worry about having your root\n\n191\n00:09:11.215 --> 00:09:13.279\npassword in plain text stored somewhere.\n\n192\n00:09:13.279 --> 00:09:16.985\nWell and I guess you got the whole encrypt\nroot password check box right there.\n\n193\n00:09:16.985 --> 00:09:17.769\n&gt;&gt; Make sure that that's checked.\n\n194\n00:09:17.769 --> 00:09:20.675\n[LAUGH]\n&gt;&gt; If you do uncheck it it will store it\n\n195\n00:09:20.675 --> 00:09:21.515\nin plain text.\n\n196\n00:09:21.515 --> 00:09:22.540\nSo maybe you want that,\n\n197\n00:09:22.540 --> 00:09:25.834\nmaybe you want people to be able to\neasily modify that value, I don't know.\n\n198\n00:09:25.834 --> 00:09:29.880\nThen the Target Architecture, the default\nis what we normally want, right?\n\n199\n00:09:29.880 --> 00:09:34.580\nAnd this is gonna include 64-bit\nmachines and 32-bit machines so\n\n200\n00:09:34.580 --> 00:09:36.600\nit's got those in here Intel MD whatever.\n\n201\n00:09:36.600 --> 00:09:37.684\nIf you drop it down though,\n\n202\n00:09:37.684 --> 00:09:40.763\nyou'll see where you can do Itanium as\nwell some of the IBM mainframe series.\n\n203\n00:09:40.763 --> 00:09:46.040\nSo you can specify those but\nthis is the one we're normally going with.\n\n204\n00:09:46.040 --> 00:09:50.030\nYou can choose to reboot the system after\ninstallation, not always required, right?\n\n205\n00:09:50.030 --> 00:09:53.850\nThe installer completes, the system boots\nup, and you're pretty much in business.\n\n206\n00:09:53.850 --> 00:09:56.370\nYou don't have to reboot\nwhen the install is done.\n\n207\n00:09:56.370 --> 00:09:58.360\nBut some people do prefer that and\n\n208\n00:09:58.360 --> 00:10:02.400\nthe reason is, you booted off of\nan installation media to get booted, so\n\n209\n00:10:02.400 --> 00:10:05.830\nyou haven't really tested the boot\nrecords on the hard drive.\n\n210\n00:10:05.830 --> 00:10:08.420\nAnd you might find that it reboots and\n\n211\n00:10:08.420 --> 00:10:11.570\nsomething like EFI doesn't detect\nthe boot partitions right, and so\n\n212\n00:10:11.570 --> 00:10:14.640\nthe system is just waiting to fail\nfrom the next time it reboots.\n\n213\n00:10:14.640 --> 00:10:16.770\nSo by forcing that reboot\nafter the install,\n\n214\n00:10:16.770 --> 00:10:19.510\nit makes sure that you\nknow it's a good system.\n\n215\n00:10:19.510 --> 00:10:22.040\nAnd then perform\ninstallation in text mode.\n\n216\n00:10:22.040 --> 00:10:26.280\nThe default is graphical, and we wouldn't\nnormally care about that, because it's all\n\n217\n00:10:26.280 --> 00:10:30.820\nautomated at this point, but If the system\nhas to prompt for something, and we don't\n\n218\n00:10:30.820 --> 00:10:34.360\nknow what video cards people are gonna\nhave, then that can be a problem right?\n\n219\n00:10:34.360 --> 00:10:38.140\nI don't the video card they're gonna have,\nand so that can cause it to interrupt.\n\n220\n00:10:38.140 --> 00:10:43.080\nIf I do text, now I know that it's\ngoing to be straightforward, and\n\n221\n00:10:43.080 --> 00:10:45.040\nit's gonna work no matter\nwhat the video card is.\n\n222\n00:10:45.040 --> 00:10:46.660\nThe other thing is if they get prompted,\n\n223\n00:10:46.660 --> 00:10:49.270\nit's pretty clear on the screen what they\nneed to do, it's not like the normal\n\n224\n00:10:49.270 --> 00:10:51.510\ntext mode where they have to\nmove through all these menus and\n\n225\n00:10:51.510 --> 00:10:55.352\nit's hard, here is a little bit easier so\nyou can choose how you want to go on that.\n\n226\n00:10:55.352 --> 00:11:00.202\nAll right, I'm gonna ahead and stick with\nGUI on mine but you can certainly do text.\n\n227\n00:11:00.202 --> 00:11:01.550\n&gt;&gt; You are a gambling man, are you Don?\n\n228\n00:11:01.550 --> 00:11:04.620\n&gt;&gt; I know it works on this system so\nI can get away with that, but\n\n229\n00:11:04.620 --> 00:11:08.050\nif you don't know you will obviously want\nto test all this stuff out so you do know.\n\n230\n00:11:09.300 --> 00:11:11.210\nAll right, after that I got my\ninstallation method, right?\n\n231\n00:11:11.210 --> 00:11:13.710\nAm I doing a new installation or\neven an upgrade, right?\n\n232\n00:11:13.710 --> 00:11:16.350\nSo we could package an upgrade this way\nwith the Kickstart file, and make it\n\n233\n00:11:16.350 --> 00:11:20.130\nsuper easy to go out and upgrade hundreds\nof thousands of machines very quickly.\n\n234\n00:11:20.130 --> 00:11:22.060\nI'm doing a new install.\n\n235\n00:11:22.060 --> 00:11:24.230\nAnd then it needs to know\nthe installation's source.\n\n236\n00:11:24.230 --> 00:11:26.430\nWhere am I getting my\ninstallation files from?\n\n237\n00:11:26.430 --> 00:11:30.030\nIf I'm doing Pixie Boot, my installation\nneeds to be on the network.\n\n238\n00:11:30.030 --> 00:11:31.658\nNFS, FTP, HTTP.\n\n239\n00:11:31.658 --> 00:11:33.920\nIt needs to be one of those three.\n\n240\n00:11:33.920 --> 00:11:39.280\nIf I'm doing some kind of local boot, then\nit may be CD-ROM or Hard Drive, right.\n\n241\n00:11:39.280 --> 00:11:43.300\nI'm gonna do CD media, I'm just gonna boot\nup, the regular Red Hat CD installers.\n\n242\n00:11:43.300 --> 00:11:44.390\nThat's what I want.\n\n243\n00:11:44.390 --> 00:11:47.790\nIf we're using a USB drive,\nthat USB drive's gonna get mounted and\n\n244\n00:11:47.790 --> 00:11:49.160\nit's gonna show up as a Hard Drive.\n\n245\n00:11:49.160 --> 00:11:53.180\nAnd so we've got that option too, or\nyou might maintain a second hard drive in\n\n246\n00:11:53.180 --> 00:11:55.520\neverybody's computer that has\na default system on it and so\n\n247\n00:11:55.520 --> 00:11:56.690\nthat might be where this comes from too.\n\n248\n00:11:56.690 --> 00:11:58.960\nYou can, specify different ways all right.\n\n249\n00:11:58.960 --> 00:12:01.010\nI'm going to choose CDROM though because\nthat's how I'm going to do my install.\n\n250\n00:12:02.310 --> 00:12:03.680\nMy bootloader options.\n\n251\n00:12:03.680 --> 00:12:05.610\nNotice the default here,\ndo not install a bootloader.\n\n252\n00:12:06.750 --> 00:12:09.922\nIf I install RedHat and\nI don't install a bootloader and\n\n253\n00:12:09.922 --> 00:12:12.298\nthe system reboots It's not gonna boot.\n\n254\n00:12:12.298 --> 00:12:13.290\nIt's not gonna be able to find Red Hat.\n\n255\n00:12:13.290 --> 00:12:14.720\nIt's gonna freak out, right?\n\n256\n00:12:14.720 --> 00:12:17.700\nSo I usually do need to\ninstall a boot loader.\n\n257\n00:12:17.700 --> 00:12:21.220\nWell, if somebody has a previous\noperating system and wanna dual boot,\n\n258\n00:12:21.220 --> 00:12:24.830\ninstalling a new boot loader will\noverwrite it and that's a problem.\n\n259\n00:12:24.830 --> 00:12:29.390\nIf I'm doing a dual boot, I would need\nto say don't install a boot loader.\n\n260\n00:12:29.390 --> 00:12:32.540\nAnd in my post install script I would\nneed to have commands that went and\n\n261\n00:12:32.540 --> 00:12:35.050\nmodified the existing bootloader\nto put that in place.\n\n262\n00:12:35.050 --> 00:12:38.370\nIt defaults to this just to be on the safe\nside but it can render your system where\n\n263\n00:12:38.370 --> 00:12:40.480\nit's not gonna boot and\nit's not gonna be a problem.\n\n264\n00:12:40.480 --> 00:12:43.730\nI'm doing new systems so\nI'll choose to install a new boot loader.\n\n265\n00:12:43.730 --> 00:12:47.110\nThe boot loader is GRUB and so\nif i I want I can assign a GRUB password.\n\n266\n00:12:47.110 --> 00:12:47.728\nYou can do it right here.\n\n267\n00:12:47.728 --> 00:12:50.020\nI don't normally do those.\n\n268\n00:12:50.020 --> 00:12:54.096\nAnd then down here at the bottom, if we're\ninstalling the boot loader in the MBR,\n\n269\n00:12:54.096 --> 00:12:58.294\nwhich is normal, or if we're installing it\non the first sector of the boot partition\n\n270\n00:12:58.294 --> 00:13:02.697\nwhich we're starting to see more common on\nEFI systems, which most systems have UEFI.\n\n271\n00:13:02.697 --> 00:13:05.940\nBut I'm just gonna install\nthe boot loader right here.\n\n272\n00:13:05.940 --> 00:13:08.780\nIf I have any kernel parameters I\nwant to pass, I can pass those here.\n\n273\n00:13:08.780 --> 00:13:10.390\nSometimes we need to specify those.\n\n274\n00:13:10.390 --> 00:13:15.350\nSome people like to hard set what kernel\nthey point to or where their other\n\n275\n00:13:16.500 --> 00:13:18.970\nimages or things are pulled from,\nyou might want to enable debugging.\n\n276\n00:13:18.970 --> 00:13:22.435\nThere's all sorts of things you\ncould pass as kernel parameters.\n\n277\n00:13:23.558 --> 00:13:25.550\nThen we get to partitioning, right?\n\n278\n00:13:25.550 --> 00:13:28.890\nNow the default is that it's not gonna\nclear the Master Boot Record if it's\n\n279\n00:13:28.890 --> 00:13:29.920\nalready got one.\n\n280\n00:13:29.920 --> 00:13:33.310\nAnd it's going to remove\nall existing partitions.\n\n281\n00:13:33.310 --> 00:13:36.750\nAnd it's going to initialize the disk and\ndo an automatic layout.\n\n282\n00:13:36.750 --> 00:13:38.450\nI may wanna clear the Master Boot Record.\n\n283\n00:13:38.450 --> 00:13:42.200\nHey, if there's already an OS there,\nlet's just get rid of it right.\n\n284\n00:13:42.200 --> 00:13:45.163\nProbably don't want to do that\nif we've got an upgrade but\n\n285\n00:13:45.163 --> 00:13:48.190\nif I'm doing a clean install I\nwant it as clean as we can get.\n\n286\n00:13:48.190 --> 00:13:50.350\nI'm going to remove any\nexisting partitions.\n\n287\n00:13:50.350 --> 00:13:52.350\nI'm going to clear\nthe masterboot record and\n\n288\n00:13:52.350 --> 00:13:56.620\nthen down here at the bottom you've got\nwhether it initialize the disk label.\n\n289\n00:13:56.620 --> 00:13:59.530\nEvery disk has a name and\nit will preserve the name by default.\n\n290\n00:13:59.530 --> 00:14:01.430\nBut I might want to reset that too.\n\n291\n00:14:01.430 --> 00:14:02.780\nAnd then the layout.\n\n292\n00:14:02.780 --> 00:14:05.330\nIf I leave the layout empty,\n\n293\n00:14:05.330 --> 00:14:09.040\nit's gonna do the automatic partitioning\nof a default install, okay?\n\n294\n00:14:09.040 --> 00:14:13.925\nBut if I wanna define it, maybe I want\nthe /home directory to be on one drive and\n\n295\n00:14:13.925 --> 00:14:17.190\n/var to be on another drive,\nI can start to define that and\n\n296\n00:14:17.190 --> 00:14:18.290\nseparate the partitions.\n\n297\n00:14:18.290 --> 00:14:20.820\nIt's helpful for\nperformance monitoring and other things.\n\n298\n00:14:20.820 --> 00:14:23.060\nBut if I leave it blank,\nit's gonna auto do it.\n\n299\n00:14:23.060 --> 00:14:27.330\nNotice I do have a RAID button here,\nso I can hit that RAID button, and\n\n300\n00:14:27.330 --> 00:14:29.150\nconfigure RAID.\n\n301\n00:14:29.150 --> 00:14:33.390\nIt's really talking about hardware RAID,\nand if you look,\n\n302\n00:14:33.390 --> 00:14:36.120\nit's got the option to do software RAID,\ntoo, right.\n\n303\n00:14:36.120 --> 00:14:40.780\nBut one of the things that it won't do\nis LVM, the Logical Volume Manager.\n\n304\n00:14:40.780 --> 00:14:43.690\nMost of you know that as of Red Hat,\nreally Red Hat 6,\n\n305\n00:14:43.690 --> 00:14:47.880\nthat you're supposed to be using LVM for\neverything, even RAID.\n\n306\n00:14:47.880 --> 00:14:50.420\nThis is the older style software RAID.\n\n307\n00:14:50.420 --> 00:14:50.971\nIt's not using LVM.\n\n308\n00:14:50.971 --> 00:14:54.847\nIf you wanna use LVM, you're either gonna\nhave to write your kickstarter file by\n\n309\n00:14:54.847 --> 00:14:59.236\nhand or I\"ll show you another way here in\nfew minutes that'll let you do all the so\n\n310\n00:14:59.236 --> 00:15:01.573\nthere are a few different ways but\nnot from here.\n\n311\n00:15:03.232 --> 00:15:05.210\nAll right, and on the left side we\ncan go to network configuration.\n\n312\n00:15:05.210 --> 00:15:08.476\nIf you've got a network adapter,\nwe can come in here and configure it,\n\n313\n00:15:08.476 --> 00:15:11.416\nyou can add in a device,\nwhat you want it to be called, you know so\n\n314\n00:15:11.416 --> 00:15:14.642\nmaybe I'm just planning on eno1\nbeing there and setting it for DHCP.\n\n315\n00:15:14.642 --> 00:15:17.630\nIf that network adapter doesn't exist,\nthat can be a problem.\n\n316\n00:15:17.630 --> 00:15:19.490\nI need to understand\nthe network configuration.\n\n317\n00:15:19.490 --> 00:15:24.384\nIf I'm rolling up to a thousand desktops\nthen they're all gonna have an eno1 or\n\n318\n00:15:24.384 --> 00:15:29.204\nlaptops maybe I wanna configure a WL01\nthere is a wireless adapter in there In\n\n319\n00:15:29.204 --> 00:15:31.412\nmight come in and specify that too.\n\n320\n00:15:31.412 --> 00:15:35.490\nI'll go in and say eno1 and\nI'll leave it DHP that's fine.\n\n321\n00:15:36.930 --> 00:15:39.150\nAll right authentication all right.\n\n322\n00:15:39.150 --> 00:15:40.734\nIt's gonna use shadow password for\n\n323\n00:15:40.734 --> 00:15:44.177\nauthentication any the local user\naccount is being encrypted to SHA512.\n\n324\n00:15:44.177 --> 00:15:48.651\nI can do NIS, LDAP, Kerberos, so\nit can automatically join in to whatever\n\n325\n00:15:48.651 --> 00:15:53.408\ndirectory service that I'm using, which\nis really handy on a work station cuz I\n\n326\n00:15:53.408 --> 00:15:57.046\ndon't wanna put user accounts\nright here in my config file.\n\n327\n00:15:57.046 --> 00:15:58.243\nI want those to be in a central directory.\n\n328\n00:15:58.243 --> 00:16:02.896\nSo now, Bob in accounting is able\nto log in on his brand new work\n\n329\n00:16:02.896 --> 00:16:05.683\nstation the moment that it's done.\n\n330\n00:16:05.683 --> 00:16:07.860\nWhich I don't have a directory,\nso I'll skip that.\n\n331\n00:16:07.860 --> 00:16:09.440\nMy firewall configuration.\n\n332\n00:16:09.440 --> 00:16:13.693\nLet's pretend here that this configuration\nis being used for a web server, right.\n\n333\n00:16:13.693 --> 00:16:17.102\nI'd want to come in here and\nturn that firewall on and\n\n334\n00:16:17.102 --> 00:16:19.200\nenable HTTP to pass through it.\n\n335\n00:16:19.200 --> 00:16:22.057\nAnd you can set other ports right\ndown here and add them to the list.\n\n336\n00:16:22.057 --> 00:16:27.044\nWe can turn on SELinux, the security sub\nlayer in Red Hat which is really powerful.\n\n337\n00:16:27.044 --> 00:16:30.020\nAnd a lot of people don't understand it,\nso they turn it off.\n\n338\n00:16:30.020 --> 00:16:32.720\nBut we can leave it active here,\nyou have that option to change it.\n\n339\n00:16:33.760 --> 00:16:35.950\nWe can do our display configuration.\n\n340\n00:16:35.950 --> 00:16:38.980\nNow, the main thing we're choosing here\nis whether we install a GUI or not.\n\n341\n00:16:38.980 --> 00:16:41.370\nIf this is for a workstation,\nwe want that GUI.\n\n342\n00:16:41.370 --> 00:16:45.835\nBut when it boots up,\nwe may want to customize things a bit.\n\n343\n00:16:45.835 --> 00:16:48.560\nThere's normally that setup\nagent that runs the first time.\n\n344\n00:16:48.560 --> 00:16:52.420\nAnd so you could choose to enable it, or\nto enable it in reconfiguration mode, and\n\n345\n00:16:52.420 --> 00:16:55.300\nit's gonna ask the people a bunch\nof questions about the UI and\n\n346\n00:16:55.300 --> 00:16:56.430\ngetting that set up.\n\n347\n00:16:56.430 --> 00:16:57.465\nWe may not want that though.\n\n348\n00:16:57.465 --> 00:17:00.740\nIf we want it to be truly\na touchless install,\n\n349\n00:17:00.740 --> 00:17:04.140\nthen we can just leave\nthat setup agent disabled.\n\n350\n00:17:04.140 --> 00:17:07.310\nThe packages,\nwhat software do I want installed?\n\n351\n00:17:07.310 --> 00:17:10.290\nAnd I've got a little problem right now,\nmy package selection is not showing up,\n\n352\n00:17:10.290 --> 00:17:11.600\nI'll get around that in a minute.\n\n353\n00:17:11.600 --> 00:17:13.750\nBut you can choose all the different\npackages you wanna install.\n\n354\n00:17:13.750 --> 00:17:16.570\nSo if you wanna install Apache, or MySQL,\n\n355\n00:17:16.570 --> 00:17:20.800\nor LibreOffice or whatever,\nyou can pick all the different things.\n\n356\n00:17:20.800 --> 00:17:23.300\nAnd the groups, the groups are in there,\ntoo, so you can pick software groups.\n\n357\n00:17:23.300 --> 00:17:26.320\n&gt;&gt; Don, does that come from\nthe installation media, itself, or\n\n358\n00:17:26.320 --> 00:17:28.870\nare we able to put in third\nparty software that's not there.\n\n359\n00:17:28.870 --> 00:17:32.110\n&gt;&gt; So that's actually why mine's\nerroring is cuz I chose a CD, and\n\n360\n00:17:32.110 --> 00:17:35.520\nso the CD's not actually in the system.\n\n361\n00:17:35.520 --> 00:17:38.800\nIf I had chosen http or somewhere else and\nprovided the right URL,\n\n362\n00:17:38.800 --> 00:17:39.930\nthen this would have populated.\n\n363\n00:17:39.930 --> 00:17:41.375\nSo that's why it's all angry with me.\n\n364\n00:17:41.375 --> 00:17:42.760\n&gt;&gt; [LAUGH]\n&gt;&gt; I'll get around that in a minute.\n\n365\n00:17:42.760 --> 00:17:46.800\nAll right, and then, lastly, we got the\npre- and the post-installation scripts.\n\n366\n00:17:46.800 --> 00:17:50.290\nSo if I wanna run these scripts,\nI can come in and punch them in.\n\n367\n00:17:50.290 --> 00:17:54.170\nIt supports Bash scripts, Perl,\nand a few others right here, but\n\n368\n00:17:54.170 --> 00:17:57.700\nyou can use an interpreter, too,\nto specify any other scripting language.\n\n369\n00:17:57.700 --> 00:18:00.090\nAnd it can do whatever\nyour mind can think of.\n\n370\n00:18:00.090 --> 00:18:03.180\nSo whatever you're capable of writing,\nit can do, pre-installation\n\n371\n00:18:03.180 --> 00:18:07.820\nas well as post installation, and\nreally kind of customize things.\n\n372\n00:18:07.820 --> 00:18:10.010\nWhen you get everything\nset the way you want,\n\n373\n00:18:10.010 --> 00:18:13.010\nyou just go right up here to File and\nSave.\n\n374\n00:18:13.010 --> 00:18:14.700\nAnd it saves as a text file, and\n\n375\n00:18:14.700 --> 00:18:16.426\nthat's going to be your\nkickstarter configuration.\n\n376\n00:18:17.550 --> 00:18:20.154\nI could have done all of\nthis from the terminal.\n\n377\n00:18:20.154 --> 00:18:26.403\nIf I had jumped down to the terminal and\nrun the actual system-config-kickstart,\n\n378\n00:18:26.403 --> 00:18:30.631\nright, it actually does have\na command line interface.\n\n379\n00:18:30.631 --> 00:18:32.480\nAnd on mine, I think it's actually,\nis that gonna launch?\n\n380\n00:18:32.480 --> 00:18:33.610\nYeah, it launched the GUI.\n\n381\n00:18:33.610 --> 00:18:36.685\nBut it does actually have a command line\nthat you can use, it's super annoying.\n\n382\n00:18:36.685 --> 00:18:39.370\n&gt;&gt; [LAUGH]\n&gt;&gt; And, yeah, I'm not a big fan of it.\n\n383\n00:18:39.370 --> 00:18:42.574\nBut you can run through it that way,\nand actually get through and\n\n384\n00:18:42.574 --> 00:18:43.830\ngenerate things there.\n\n385\n00:18:43.830 --> 00:18:46.130\nThe other thing is when\nyou write a file this way,\n\n386\n00:18:46.130 --> 00:18:49.140\nthere's a lot of spots where\nyou can make a mistake.\n\n387\n00:18:49.140 --> 00:18:52.830\nAnd if you make a mistake,\nwhen you install that kickstart utility,\n\n388\n00:18:52.830 --> 00:18:58.150\nit also installs another\nutility called the ksvalidator.\n\n389\n00:18:58.150 --> 00:19:02.400\nAnd you can point that at your file that\nyou generated, and it'll check it for\n\n390\n00:19:02.400 --> 00:19:06.010\nerrors to see if there's any mistakes\nin there, or any other problems.\n\n391\n00:19:06.010 --> 00:19:09.800\nOkay, so it'll just look and let you\nknow if there's anything wrong with it.\n\n392\n00:19:09.800 --> 00:19:12.990\nNow, I'm talking about this stuff\nkind of like, you could do this,\n\n393\n00:19:12.990 --> 00:19:16.840\nyou could do that, so\nobviously I have something else in mind.\n\n394\n00:19:16.840 --> 00:19:19.960\nThe problem with the kickstart,\nthat's a part of\n\n395\n00:19:19.960 --> 00:19:23.950\nthe installation media in here that I've\ngot, is that it does have some quirks.\n\n396\n00:19:23.950 --> 00:19:28.240\nLike the packages not showing up, or not\nbeing able to do LVM and stuff like that.\n\n397\n00:19:28.240 --> 00:19:31.180\nSo there is an alternative,\nand I like it better.\n\n398\n00:19:31.180 --> 00:19:35.160\nIf you go to Red Hat's website,\nright on Red Hat's website,\n\n399\n00:19:35.160 --> 00:19:37.490\nthey have a Kickstart Generator.\n\n400\n00:19:37.490 --> 00:19:40.240\nYou do need an account,\nit's a free account, but once you login,\n\n401\n00:19:40.240 --> 00:19:41.920\nyou've got a Kickstart Generator.\n\n402\n00:19:41.920 --> 00:19:45.880\nAnd you can generate files for\nRed Hat Enterprise Linux 5, 6 or 7.\n\n403\n00:19:45.880 --> 00:19:46.990\nWe're doing 7.\n\n404\n00:19:46.990 --> 00:19:49.910\nAnd then you get all those same\noptions over here on the left side.\n\n405\n00:19:49.910 --> 00:19:53.320\nThe Installation, Partition,\nBootLoader, and so on, all right.\n\n406\n00:19:53.320 --> 00:19:57.180\nBut it does a much better job of making\nsure you don't have any errors, and\n\n407\n00:19:57.180 --> 00:20:00.950\nmaking sure that things show up\nregardless of what your medium is.\n\n408\n00:20:00.950 --> 00:20:06.063\nSo, for example, on my installation,\nI chose to do a CD-ROM install, right.\n\n409\n00:20:06.063 --> 00:20:10.648\nSo I've got that chosen, but it's not\ngonna be mad at me if I go to Packages.\n\n410\n00:20:10.648 --> 00:20:13.379\nAnd when I go to Packages here,\nI can see all the different packages and\n\n411\n00:20:13.379 --> 00:20:14.660\nI can pick from them.\n\n412\n00:20:14.660 --> 00:20:17.440\nSo if I want to get something set up,\nI can do it right from here, right.\n\n413\n00:20:17.440 --> 00:20:21.020\nSo let's run through a basic\nconfiguration type, right.\n\n414\n00:20:21.020 --> 00:20:25.540\nSo if I wanna do a,\nlet me get up to my basic configs.\n\n415\n00:20:25.540 --> 00:20:26.340\nI'm gonna come in here,\n\n416\n00:20:26.340 --> 00:20:30.420\nit even defaulted to the right time\nzone cuz it can see my browser settings.\n\n417\n00:20:30.420 --> 00:20:32.880\nI can specify the password that I want.\n\n418\n00:20:32.880 --> 00:20:36.110\nAnd it's checking to make\nsure the syntax is correct.\n\n419\n00:20:36.110 --> 00:20:37.370\nThere we go.\n\n420\n00:20:37.370 --> 00:20:39.919\nI can pick whether I wanna reboot or not.\n\n421\n00:20:41.730 --> 00:20:45.840\nI can go into my installation and\ntell it that I'm installing from a CD-ROM.\n\n422\n00:20:45.840 --> 00:20:47.540\nMy partitioning scheme.\n\n423\n00:20:47.540 --> 00:20:48.680\nClear the Master Boot Record.\n\n424\n00:20:48.680 --> 00:20:49.730\nRemove all partitions.\n\n425\n00:20:49.730 --> 00:20:50.620\nInitialize the Disk Label.\n\n426\n00:20:50.620 --> 00:20:51.600\nUse automatic partitioning.\n\n427\n00:20:51.600 --> 00:20:53.360\nThat's all the stuff that I want.\n\n428\n00:20:53.360 --> 00:20:56.260\nIf I uncheck one of these,\nsee how the UI changes, and\n\n429\n00:20:56.260 --> 00:20:57.760\nnow I can start adding in partitions.\n\n430\n00:20:57.760 --> 00:21:00.280\nAnd so\nI can define the partitioning how I want.\n\n431\n00:21:00.280 --> 00:21:03.540\nIn my case, I don't want to, all right.\n\n432\n00:21:03.540 --> 00:21:07.360\nIf I get down to BootLoader, we can choose\nwhether we want to do a GRUB password or\n\n433\n00:21:07.360 --> 00:21:10.800\nif we're going to use UEFI\ninstead of a BootLoader, right?\n\n434\n00:21:10.800 --> 00:21:13.390\nIf you have that system,\nyou can choose to do it.\n\n435\n00:21:13.390 --> 00:21:15.870\nWe have our kernel parameters\ndefined right here.\n\n436\n00:21:15.870 --> 00:21:19.000\nAnd they've got some of the default\nones kind of already put in.\n\n437\n00:21:19.000 --> 00:21:20.556\nAnd then I get down to my packages.\n\n438\n00:21:20.556 --> 00:21:25.920\nOn my packages,\nif this going to be a web server, right?\n\n439\n00:21:25.920 --> 00:21:29.870\nUnder my category I'm gonna choose\nWeb Services, and here's Web Server.\n\n440\n00:21:29.870 --> 00:21:33.210\nAnd then I can pick and choose from\nthe individual packages inside of it.\n\n441\n00:21:33.210 --> 00:21:37.200\nIf I'm doing LAMP, right,\nLinux Apache, so there's my Apache.\n\n442\n00:21:37.200 --> 00:21:39.960\nI need MySQL, so\nlet me gonna go to Databases.\n\n443\n00:21:39.960 --> 00:21:41.870\nAnd I'll do MariaDB client and server.\n\n444\n00:21:41.870 --> 00:21:45.620\nAnd then I need PHP, which I think\nis actually back under Web Services.\n\n445\n00:21:45.620 --> 00:21:49.110\nYep, PHP Support, so there,\nthere's my LAMP stack, right?\n\n446\n00:21:49.110 --> 00:21:51.610\nAnd any other things that I might\nchoose to install that I want,\n\n447\n00:21:51.610 --> 00:21:54.400\nI can come through and\ncheck off those packages to have them.\n\n448\n00:21:55.870 --> 00:21:57.130\nAfter that's my authentication.\n\n449\n00:21:57.130 --> 00:22:00.860\nSo, again, if I wanna tie up to LDAP or\nNIS+ or whoever,\n\n450\n00:22:00.860 --> 00:22:03.630\nI can set those on my network.\n\n451\n00:22:03.630 --> 00:22:06.010\nNow, notice it's not asking me to put\nin device names, it's just saying,\n\n452\n00:22:06.010 --> 00:22:08.910\nhey, pickup any adapter and\nset it for DHCP.\n\n453\n00:22:08.910 --> 00:22:12.730\nI kind of like that default option there,\nso that's what I'm gonna stick with.\n\n454\n00:22:12.730 --> 00:22:13.573\nAnd then here's SE Linux.\n\n455\n00:22:13.573 --> 00:22:15.729\nAnd I am doing a web server,\nso I'm going enable that, and\n\n456\n00:22:15.729 --> 00:22:17.415\nI'm going to allow SSH\nto be able to connect.\n\n457\n00:22:19.473 --> 00:22:21.754\nAnd then whether I want\na graphical environment.\n\n458\n00:22:21.754 --> 00:22:24.542\nThis is a server so technically I don't\nneed it, but just for the sake of\n\n459\n00:22:24.542 --> 00:22:28.490\nthe show, I'm gonna choose to have\nthat graphical environment, all right.\n\n460\n00:22:28.490 --> 00:22:31.060\nAfter that, I can do my pre- and\npost-install scripts.\n\n461\n00:22:31.060 --> 00:22:34.430\nAnd assuming everything is set the way\nthat I want it, I can go up here and\n\n462\n00:22:34.430 --> 00:22:35.600\nhit DOWNLOAD.\n\n463\n00:22:35.600 --> 00:22:36.760\nAnd I'm gonna download that file.\n\n464\n00:22:36.760 --> 00:22:39.149\nSo here it goes, I'm gonna save the file.\n\n465\n00:22:39.149 --> 00:22:41.224\nAnd that's gonna save right\ninto my downloads, and\n\n466\n00:22:41.224 --> 00:22:42.506\nnow I've got a kickstart file.\n\n467\n00:22:42.506 --> 00:22:45.730\nLet's go take a look at that file.\n\n468\n00:22:45.730 --> 00:22:48.800\nIn my home directory, that should have\ngone into my downloads folder, whoops.\n\n469\n00:22:50.010 --> 00:22:52.140\nIf I can get my mouse to\nstay in the right spot.\n\n470\n00:22:52.140 --> 00:22:54.830\nSo if I go to my Downloads folder,\nit downloaded it.\n\n471\n00:22:54.830 --> 00:22:58.370\nAnd for whatever reason Firefox\nlikes to give it a .bin extension,\n\n472\n00:22:58.370 --> 00:23:01.420\nlike it's a binary, but\nit's not, it's just a text file.\n\n473\n00:23:01.420 --> 00:23:05.490\nAnd people normally call their\nkickstarter files ks.cfg.\n\n474\n00:23:05.490 --> 00:23:10.410\nSo I'm just going to copy that\nfile to my home directory,\n\n475\n00:23:10.410 --> 00:23:12.560\nand I'm gonna call it ks.cfg.\n\n476\n00:23:12.560 --> 00:23:14.980\nRight, that's just the normal\nname people give it.\n\n477\n00:23:14.980 --> 00:23:16.757\nAnd there's a reason why\nthere's that name, but\n\n478\n00:23:16.757 --> 00:23:18.464\nyou can technically call\nit whatever you want.\n\n479\n00:23:18.464 --> 00:23:23.353\nYou can call it don.txt and\nit'll work just fine.\n\n480\n00:23:23.353 --> 00:23:29.486\nAll right, so if we take a look at ks.cfg,\nthis is an example of a kickstart file.\n\n481\n00:23:29.486 --> 00:23:32.283\nAnd mine's pretty small cuz\nI took most of the defaults.\n\n482\n00:23:32.283 --> 00:23:35.990\nBut what you're gonna notice is\nthe general setting's right here.\n\n483\n00:23:35.990 --> 00:23:39.090\nAnd then we start to get into our other\nslightly more specific settings about\n\n484\n00:23:39.090 --> 00:23:40.760\nthe configuration.\n\n485\n00:23:40.760 --> 00:23:42.930\nAnd then we start getting\ninto what are called labels.\n\n486\n00:23:42.930 --> 00:23:44.730\nSee this %packages?\n\n487\n00:23:44.730 --> 00:23:48.840\nYou'll have sections like %packages,\n%pre, %post.\n\n488\n00:23:48.840 --> 00:23:50.340\nThat's the start of the section.\n\n489\n00:23:50.340 --> 00:23:52.760\nAnd at the end of the section,\nyou'll see %end.\n\n490\n00:23:52.760 --> 00:23:56.523\nSo this is one section right here,\nthis is the packages section.\n\n491\n00:23:56.523 --> 00:23:58.201\nAnd here's all the packages\nI'm installing.\n\n492\n00:23:58.201 --> 00:24:03.211\nWeb-server, php, mariadb, right, those are\nones that I checked off, all right here.\n\n493\n00:24:03.211 --> 00:24:06.253\nAnd then we've got all the other\ndifferent options that were specified.\n\n494\n00:24:06.253 --> 00:24:10.757\nYou'll notice the network adapter,\nwhere I said I wanted it to just use DHTP,\n\n495\n00:24:10.757 --> 00:24:12.130\ndo you see that in here?\n\n496\n00:24:13.420 --> 00:24:16.770\nNo, that's one that if we don't\nspecify it, it's actually the default.\n\n497\n00:24:16.770 --> 00:24:18.430\nSo, if it's a default option,\nit just doesn't show up,\n\n498\n00:24:18.430 --> 00:24:20.140\nthat's why my file is so small.\n\n499\n00:24:20.140 --> 00:24:22.940\nThe more you customize those settings,\nthe bigger your file is gonna get.\n\n500\n00:24:22.940 --> 00:24:25.710\nAnd I've seen some Kickstart\nfiles that were pretty massive.\n\n501\n00:24:25.710 --> 00:24:26.805\nYou can have some really large ones.\n\n502\n00:24:28.550 --> 00:24:30.647\nAll right, so\nI've got a Kickstart file now.\n\n503\n00:24:30.647 --> 00:24:33.030\nI've got the answers to the install.\n\n504\n00:24:33.030 --> 00:24:33.710\n&gt;&gt; Let's do it.\n\n505\n00:24:33.710 --> 00:24:34.380\n&gt;&gt; How do we use it?\n\n506\n00:24:34.380 --> 00:24:35.170\n&gt;&gt; Yeah.\n&gt;&gt; Yeah.\n\n507\n00:24:35.170 --> 00:24:39.808\nSo, if you wanna use this, well,\nthere's a few different ways.\n\n508\n00:24:39.808 --> 00:24:43.092\nNow I'm running low on time, so I'm going\nto show you the quick and easy way right\n\n509\n00:24:43.092 --> 00:24:46.390\nnow, and we'll do a part two and\nI'll show you the way that takes longer.\n\n510\n00:24:46.390 --> 00:24:49.940\nThe longer way is,\nif I wanna create a custom CD that\n\n511\n00:24:49.940 --> 00:24:52.770\nhas my Kickstart as part of the CD,\nyou can do it.\n\n512\n00:24:52.770 --> 00:24:55.060\nIt just takes a little bit of time, right?\n\n513\n00:24:55.060 --> 00:24:58.850\nOr if I wanna create just a simple\nbootable disk that doesn't have\n\n514\n00:24:58.850 --> 00:25:01.680\nthe installation files on it, but instead\nlooks to the network for the installer,\n\n515\n00:25:01.680 --> 00:25:04.360\nthat's what you'd use with Pixie,\nthen we can do that too.\n\n516\n00:25:04.360 --> 00:25:06.700\nBut again it just takes more time,\nso we'll do that in part two.\n\n517\n00:25:06.700 --> 00:25:09.090\nBut right here,\nif I wanna spin up a machine and\n\n518\n00:25:09.090 --> 00:25:11.990\nhave it boot from this,\nI'll show you a quick and easy way.\n\n519\n00:25:11.990 --> 00:25:15.273\nWe can boot off of the regular\nRed Hat installation media,\n\n520\n00:25:15.273 --> 00:25:19.860\njust whatever we downloaded from\nRed Hat and you've got on USB and CD.\n\n521\n00:25:19.860 --> 00:25:23.870\nAnd at boot time I can tell it to look for\nthis Kickstart file.\n\n522\n00:25:23.870 --> 00:25:28.800\nAll I have to do is put that Kickstart\nfile on a network location somewhere,\n\n523\n00:25:28.800 --> 00:25:31.600\nand I can point the systems to it, right?\n\n524\n00:25:31.600 --> 00:25:34.030\nSo let me copy this up\nto a network location.\n\n525\n00:25:34.030 --> 00:25:38.100\nI'm going to FTP to\na server on my network.\n\n526\n00:25:38.100 --> 00:25:42.410\nActually I need to know my server's\nIP address, and I don't know it.\n\n527\n00:25:42.410 --> 00:25:46.540\nIt is, let's see,\nI thought it was on that screen.\n\n528\n00:25:46.540 --> 00:25:49.500\nLet me just figure out what\nmy IP address is real quick.\n\n529\n00:25:49.500 --> 00:25:55.250\nAnd then, whoops,\nMac's always missing commands.\n\n530\n00:25:55.250 --> 00:26:00.240\nAll right, so I am 10.0.14.69,\nso I'm gonna connect to that.\n\n531\n00:26:02.940 --> 00:26:07.540\nAnd I'll just get logged in, all right.\n\n532\n00:26:07.540 --> 00:26:11.820\nAnd, when you do FTP, a lot of times\nit defaults to a binary transfer.\n\n533\n00:26:11.820 --> 00:26:14.270\nI'm moving a text file,\nwhich is technically an ASCII transfer, so\n\n534\n00:26:14.270 --> 00:26:15.500\nI'm gonna switch to that.\n\n535\n00:26:15.500 --> 00:26:19.760\nAnd I'm just gonna put my ks.cfg,\nright on there.\n\n536\n00:26:19.760 --> 00:26:23.050\nOkay, so I just sent my ks.cfg\nfile up to this FTP server.\n\n537\n00:26:23.050 --> 00:26:26.613\nNow I can go to any machine, boot off\nthe Red Hat installation media, and\n\n538\n00:26:26.613 --> 00:26:28.024\npoint it to that FTP server.\n\n539\n00:26:28.024 --> 00:26:30.910\nIt'll get the Kickstarter file and\nit'll do my install.\n\n540\n00:26:30.910 --> 00:26:35.270\nI guess I did skip one step, which is,\nI should have done the ksvalidator\n\n541\n00:26:35.270 --> 00:26:39.310\non that Kickstart file,\njust to make sure that it was fine.\n\n542\n00:26:39.310 --> 00:26:42.413\nIf you run it and you get nothing back,\nthat means your syntax passed.\n\n543\n00:26:42.413 --> 00:26:43.849\nAnd that makes sense,\nI used the web generator,\n\n544\n00:26:43.849 --> 00:26:45.250\nit's kinda hard to make a mistake.\n\n545\n00:26:45.250 --> 00:26:47.840\nBut if I had an error in there, it would\ntell me the error and I could go and\n\n546\n00:26:47.840 --> 00:26:49.970\ntroubleshoot and fix that, right?\n\n547\n00:26:49.970 --> 00:26:54.230\nBut now that I've got it up on an FTP\nserver, all I need to do is use it, right?\n\n548\n00:26:54.230 --> 00:26:57.570\nSo let's jump over to another machine, and\nit's a brand new machine which I'll boot\n\n549\n00:26:57.570 --> 00:27:00.150\noff the Red Hat disk, and\nwe'll point it over to it.\n\n550\n00:27:00.150 --> 00:27:02.230\nAll right, let me just switch\nover to this new machine, and\n\n551\n00:27:02.230 --> 00:27:05.440\nthis guy is gonna boot right up off\nof that Red Hat installation media.\n\n552\n00:27:05.440 --> 00:27:07.630\nSo here it goes, it's firing up.\n\n553\n00:27:07.630 --> 00:27:08.390\nAnd on the main screen,\n\n554\n00:27:08.390 --> 00:27:11.730\nyou get that little message that I've\ngot 60 seconds to make up my mind.\n\n555\n00:27:11.730 --> 00:27:14.630\nBut there's this little blue\nmessage that says press Tab for\n\n556\n00:27:14.630 --> 00:27:16.340\nfull configuration options.\n\n557\n00:27:16.340 --> 00:27:22.000\nAnd if I hit Tab, it's gonna show all the\nkernel settings that are being applied.\n\n558\n00:27:22.000 --> 00:27:28.140\nAnd most of it is vmlinuz, or whatever\nthe z, that's initializing the kernel and\n\n559\n00:27:28.140 --> 00:27:30.810\nthen pointing to the boot image and\nall that other good stuff.\n\n560\n00:27:30.810 --> 00:27:36.120\nI'm gonna add to the end of it ks=,\nand then, I'm gonna point.\n\n561\n00:27:36.120 --> 00:27:38.974\nOr I'm sorry, ks, it is ks=,\nokay, I had it right.\n\n562\n00:27:38.974 --> 00:27:43.120\nks=, and I'm gonna tell it where\nto find the Kickstart file, right?\n\n563\n00:27:43.120 --> 00:27:47.570\nAnd where it finds it,\nit can be different places, right?\n\n564\n00:27:47.570 --> 00:27:52.930\nSo you could say, for example, cdrom: and\nthen the path to see the CD ROM.\n\n565\n00:27:52.930 --> 00:27:57.460\nOr you could hd: and\nthe path to the hard drive or USB key.\n\n566\n00:27:57.460 --> 00:28:01.830\nYou can also do nfs:, http:,\nor what I'm gonna do,\n\n567\n00:28:01.830 --> 00:28:07.000\nftp://, and then just the URL\nthat is gonna point to it.\n\n568\n00:28:07.000 --> 00:28:10.575\nNow, my FTP server is not allowing\nanonymous connections, so\n\n569\n00:28:10.575 --> 00:28:13.078\nI need to provide a username and\na password.\n\n570\n00:28:14.606 --> 00:28:17.612\nYou see my super-secure password,\nso I'm gonna point to that one.\n\n571\n00:28:17.612 --> 00:28:18.203\n&gt;&gt; Never would've guessed.\n\n572\n00:28:18.203 --> 00:28:19.449\n[LAUGH]\n&gt;&gt; Yeah, I know.\n\n573\n00:28:19.449 --> 00:28:26.340\nAnd then that's at\n10.0.14.69/ks.cfg right?\n\n574\n00:28:26.340 --> 00:28:28.441\n&gt;&gt; My brute force tool on\nthe other hand would've got that.\n\n575\n00:28:28.441 --> 00:28:29.330\n[LAUGH]\n&gt;&gt; [LAUGH] Yeah,\n\n576\n00:28:29.330 --> 00:28:32.100\nif you're brute force tool was\nsimply you typing on the keyboard,\n\n577\n00:28:32.100 --> 00:28:33.470\nyeah you would have nailed it.\n\n578\n00:28:33.470 --> 00:28:36.880\nSo, basically, I'm just pointing\nto where that Kickstart file is.\n\n579\n00:28:36.880 --> 00:28:39.530\nSo now it knows where to look, and\nsee how I'm giving it that file name,\n\n580\n00:28:39.530 --> 00:28:41.840\ncuz I might have more than\none Kickstart file, right?\n\n581\n00:28:41.840 --> 00:28:45.360\nSo I'm just telling it, hey look to\nthe network, find this Kickstart file.\n\n582\n00:28:45.360 --> 00:28:47.520\nAnd in that Kickstart file,\n\n583\n00:28:47.520 --> 00:28:52.640\nI might have a network location that says\nwhere to find all the installation media,\n\n584\n00:28:52.640 --> 00:28:56.160\nand that might be all I use the CD for\nis just this part right here.\n\n585\n00:28:56.160 --> 00:28:57.630\nThe rest of it all comes from the network.\n\n586\n00:28:57.630 --> 00:29:00.340\nBut in my case,\nI said do the installation from the CD.\n\n587\n00:29:00.340 --> 00:29:03.290\nSo it's gonna grab the Kickstart\nfile from FTP, and\n\n588\n00:29:03.290 --> 00:29:07.250\nthen it's gonna come back the CD and\nfinish the install with that, all right?\n\n589\n00:29:07.250 --> 00:29:09.740\nSo I've got all my options set,\nI'm just gonna press Enter,\n\n590\n00:29:09.740 --> 00:29:13.540\nand assuming I didn't screw it up,\nthen it's gonna come up here and fire up.\n\n591\n00:29:13.540 --> 00:29:16.070\nNow, if there's an error\nin your Kickstarter file,\n\n592\n00:29:16.070 --> 00:29:17.940\nyou're gonna see it right here.\n\n593\n00:29:17.940 --> 00:29:20.140\nIt says press Enter to begin\nthe installation process, but\n\n594\n00:29:20.140 --> 00:29:21.110\nI've already done that.\n\n595\n00:29:21.110 --> 00:29:25.340\nAnd usually it's right after this assuming\ndrive cache that, if there's an error in\n\n596\n00:29:25.340 --> 00:29:28.230\nyour kick start file, you start to\nsee just a ton of errors, all right?\n\n597\n00:29:29.260 --> 00:29:33.440\nMine got past it, if you get past\nit you're normally okay, all right?\n\n598\n00:29:33.440 --> 00:29:36.730\nNow, when I do an install,\nit actually gave me two options,\n\n599\n00:29:36.730 --> 00:29:40.140\none to test the media and\nthen install, and one to just install.\n\n600\n00:29:40.140 --> 00:29:42.762\nWhen you use a Kickstart,\nthe default is that it's gonna test, and\n\n601\n00:29:42.762 --> 00:29:43.778\nit's gonna take a while.\n\n602\n00:29:43.778 --> 00:29:45.290\nActually mine is almost done.\n\n603\n00:29:45.290 --> 00:29:48.440\nYou can hit Escape to skip it, but\nremember this is supposed to be automated,\n\n604\n00:29:48.440 --> 00:29:50.670\nso I'm trying to not touch anything.\n\n605\n00:29:50.670 --> 00:29:53.730\nSo it's booting,\nit's gonna go into the Anaconda install,\n\n606\n00:29:53.730 --> 00:29:56.920\nyou'll actually see the Anaconda\ninstaller on the screen.\n\n607\n00:29:56.920 --> 00:30:01.480\nIt's just gonna advance through\nthe questions without us clicking, right?\n\n608\n00:30:01.480 --> 00:30:03.480\nSo it's able to move through nice and\nfast.\n\n609\n00:30:03.480 --> 00:30:06.110\nAnd let me just get my\ncursor out of the way.\n\n610\n00:30:06.110 --> 00:30:08.330\nSo it's gonna churn through,\nand here's all these options.\n\n611\n00:30:08.330 --> 00:30:10.940\nAnd see how they all just\nkinda lit up one by one?\n\n612\n00:30:10.940 --> 00:30:14.950\nAnd then root password is set, it's\nalready got the root password defined,\n\n613\n00:30:14.950 --> 00:30:15.700\nI don't have to provide it.\n\n614\n00:30:15.700 --> 00:30:19.920\nNow, I didn't put a user account\nin my Kickstart file, so\n\n615\n00:30:19.920 --> 00:30:21.500\nthere's no user account created.\n\n616\n00:30:21.500 --> 00:30:22.760\nBut it's already installing.\n\n617\n00:30:22.760 --> 00:30:26.080\nRight down there at the bottom, I can see\nstarting package installation process, and\n\n618\n00:30:26.080 --> 00:30:28.190\nit's going to start\nchurning through on that.\n\n619\n00:30:28.190 --> 00:30:33.810\nAnd when it's done, it's gonna reboot, and\nI'll now have a Red Hat Enterprise Linux\n\n620\n00:30:33.810 --> 00:30:38.930\n7 install with MySQL and Apache,\nwith the root password set,\n\n621\n00:30:38.930 --> 00:30:41.590\nwith DHCP for the network adapter,\nmaybe that's not so cool.\n\n622\n00:30:41.590 --> 00:30:44.070\nBut it has all that set, and it's done.\n\n623\n00:30:44.070 --> 00:30:49.319\nAnd all I had to do was boot off\nof the Red Hat disk, hit Tab and\n\n624\n00:30:49.319 --> 00:30:53.220\nadd that little note that pointed it\nto the Kickstart file, and I was done.\n\n625\n00:30:53.220 --> 00:30:55.070\nOkay, so that's light touch.\n\n626\n00:30:55.070 --> 00:30:57.970\nAnd I like that method,\nit's really the method I use,\n\n627\n00:30:57.970 --> 00:31:01.670\nbecause you're installing from the CD so\nit's fairly fast, or USB.\n\n628\n00:31:01.670 --> 00:31:04.760\nBut you can point to any\nnumber of Kickstart files.\n\n629\n00:31:04.760 --> 00:31:10.711\nI might have a server Kickstart file, I\nmight have a work station Kickstart file,\n\n630\n00:31:10.711 --> 00:31:15.897\nI might have a accounting workstation\nKickstart file and a sales file.\n\n631\n00:31:15.897 --> 00:31:17.403\nYou point to different ones for\ndifferent things.\n\n632\n00:31:17.403 --> 00:31:20.861\nOr maybe there's three different types\nof workstations in my environment, so\n\n633\n00:31:20.861 --> 00:31:22.780\nI have three different Kickstarter files.\n\n634\n00:31:22.780 --> 00:31:24.560\nSo I can do the appropriate\ndriver settings for\n\n635\n00:31:24.560 --> 00:31:27.000\nthem, and\nyou can really customize it here.\n\n636\n00:31:27.000 --> 00:31:28.805\nThere is another way to do it though,\n\n637\n00:31:28.805 --> 00:31:30.914\nwhich is where we can\ncreate a custom menu.\n\n638\n00:31:30.914 --> 00:31:33.903\nYou can add menu options, so\nwhen you go to do the install,\n\n639\n00:31:33.903 --> 00:31:38.330\nremember the two menu options I had,\ninstall Red Hat or test the media install?\n\n640\n00:31:38.330 --> 00:31:43.450\nWe can add more to that list and say,\nperform a sales work station install.\n\n641\n00:31:43.450 --> 00:31:47.710\nPerform a whatever, and each one of them\nis tied to a separate Kickstart file.\n\n642\n00:31:47.710 --> 00:31:49.160\nAnd that's what I wanna show you guys, and\n\n643\n00:31:49.160 --> 00:31:50.750\nthat's what we're gonna\nhave to do in part two.\n\n644\n00:31:50.750 --> 00:31:51.873\nThis installation is\ngoing to churn through,\n\n645\n00:31:51.873 --> 00:31:53.502\nit's actually almost done I'm\nkinda tempted to just wait it out.\n\n646\n00:31:53.502 --> 00:31:54.396\n&gt;&gt; Yeah, [INAUDIBLE].\n\n647\n00:31:54.396 --> 00:31:55.258\n[LAUGH]\n&gt;&gt; But\n\n648\n00:31:55.258 --> 00:31:58.321\nwhen it's done it's going to reboot,\nand I didn't have to do anything\n\n649\n00:31:58.321 --> 00:32:01.298\nbeyond providing the information\nto where that Kickstart file was.\n\n650\n00:32:01.298 --> 00:32:04.224\n&gt;&gt; Well,\nI certainly love the unattended installs.\n\n651\n00:32:04.224 --> 00:32:06.940\nThey're very very nice, especially when\nyou're working in a large environment.\n\n652\n00:32:06.940 --> 00:32:08.680\nRemember, if you're look at this going,\nwow,\n\n653\n00:32:08.680 --> 00:32:11.350\nwhy did we do all that for\njust one machine?\n\n654\n00:32:11.350 --> 00:32:14.980\nProbably you wouldn't, other than to\nsay what Don was just mentioning.\n\n655\n00:32:14.980 --> 00:32:18.140\nI might have a ton of machines out there,\nand every now and then I've gotta go and\n\n656\n00:32:18.140 --> 00:32:18.710\nsay, you know what?\n\n657\n00:32:18.710 --> 00:32:21.820\nI'm just gonna point to the Kickstart\nfile, let it reinstall, and\n\n658\n00:32:21.820 --> 00:32:23.980\neverything went back to gravy,\nand that's what I want.\n\n659\n00:32:23.980 --> 00:32:28.870\nSo that's where you start seeing the\nbenefit of doing that work beforehand, and\n\n660\n00:32:28.870 --> 00:32:30.430\nit really pays off in the long run.\n\n661\n00:32:30.430 --> 00:32:31.550\nThat's where we're looking at.\n\n662\n00:32:31.550 --> 00:32:33.140\nOr if you just have a bunch of machines,\n\n663\n00:32:33.140 --> 00:32:36.360\nI gotta get them imaged,\nwe're going Kickstart file style.\n\n664\n00:32:36.360 --> 00:32:40.650\nThat being said Don, I know you want\nto do those the more difficult ways.\n\n665\n00:32:40.650 --> 00:32:43.881\nThe time over here though, we're going for\nlongest episode ever than yeah.\n\n666\n00:32:43.881 --> 00:32:45.584\n&gt;&gt; Absolutely.\n&gt;&gt; We'll go ahead and do that, but\n\n667\n00:32:45.584 --> 00:32:47.610\npart two looks like in our future.\n\n668\n00:32:47.610 --> 00:32:50.530\nThanks for stopping by, thanks for\nshowing us how to do Kickstart files,\n\n669\n00:32:50.530 --> 00:32:51.906\nlooking forward to that part two.\n\n670\n00:32:51.906 --> 00:32:54.078\nHopefully you are as well,\nwe thank you for joining us, but\n\n671\n00:32:54.078 --> 00:32:55.348\nwe are gonna go ahead and sign off.\n\n672\n00:32:55.348 --> 00:32:57.642\nFor ITProTV,\nI've been your host Daniel Lowrie.\n\n673\n00:32:57.642 --> 00:32:58.490\n&gt;&gt; And I'm Don Pezet.\n\n674\n00:32:58.490 --> 00:33:00.835\n&gt;&gt; We'll see you next time.\n\n675\n00:33:00.835 --> 00:33:06.827\n[MUSIC]\n\n676\n00:33:06.827 --> 00:33:09.902\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "192652779"
        },
        {
          "description": "In this episode, Daniel and Don continue their exploration of Kickstart, this time creating a standard Kickstart install ISO. Then they create a custom Kickstart ISO and show you how to edit the boot screen to give you the option of choosing any number of custom Kickstart installations. They also show you how to employ Kickstart with network based connections.",
          "length": "1994",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-1-4-2-deploying_with_kickstart_pt2-111716.00_32_57_10.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-1-4-2-deploying_with_kickstart_pt2-111716.00_32_57_10.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-1-4-2-deploying_with_kickstart_pt2-111716.00_32_57_10.Still001-sm.jpg",
          "title": "Deploying with Kickstart Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:01.230\nWelcome to ITProTV.\n\n2\n00:00:01.230 --> 00:00:02.074\nI'm your host.\n\n3\n00:00:02.074 --> 00:00:06.422\n&gt;&gt; [CROSSTALK]\n\n4\n00:00:06.422 --> 00:00:08.219\n[MUSIC]\n\n5\n00:00:08.219 --> 00:00:12.640\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.640 --> 00:00:13.780\n&gt;&gt; All right, greetings everyone.\n\n7\n00:00:13.780 --> 00:00:16.130\nAnd welcome to another\ngreat episode of ITProTV.\n\n8\n00:00:16.130 --> 00:00:17.630\nI'm your host, Daniel Lowrie.\n\n9\n00:00:17.630 --> 00:00:20.660\nAnd in today's episode we are moving\nforward more on our Linux,\n\n10\n00:00:20.660 --> 00:00:22.750\nour Red Hat Linux Enterprise.\n\n11\n00:00:22.750 --> 00:00:23.360\nI can't even say it.\n\n12\n00:00:23.360 --> 00:00:25.520\nIt's Red Hat Enterprise Linux series.\n\n13\n00:00:25.520 --> 00:00:27.080\nThere's the words we're looking for.\n\n14\n00:00:27.080 --> 00:00:30.750\nJoining us back in the studio to kick\nstart things off is our good friend Mr.\n\n15\n00:00:30.750 --> 00:00:31.340\nDon Pezet.\n\n16\n00:00:31.340 --> 00:00:32.770\nDon, welcome back, how's it going?\n\n17\n00:00:32.770 --> 00:00:36.195\n&gt;&gt; Hey, I'm doing great, ready to get\ninto some Linux Enterprise Hat Red.\n\n18\n00:00:36.195 --> 00:00:37.880\n&gt;&gt; [LAUGH]\n&gt;&gt; And the [LAUGH],\n\n19\n00:00:37.880 --> 00:00:40.880\n&gt;&gt; Hey, I see what you did there.\n\n20\n00:00:40.880 --> 00:00:42.625\n&gt;&gt; I got to keep up with Daniel here.\n\n21\n00:00:42.625 --> 00:00:44.310\nSo in part one,\n&gt;&gt; [LAUGH]\n\n22\n00:00:44.310 --> 00:00:45.330\n&gt;&gt; We got a chance to take a look\n\n23\n00:00:45.330 --> 00:00:49.600\nat kickstart and\nwe saw it automate the install of our HEL.\n\n24\n00:00:49.600 --> 00:00:50.880\nIt's easier to do it that way.\n\n25\n00:00:50.880 --> 00:00:52.190\n&gt;&gt; Yeah, it is [LAUGH].\n\n26\n00:00:52.190 --> 00:00:53.740\n&gt;&gt; By the end of the episode,\nwe saw it, right?\n\n27\n00:00:53.740 --> 00:00:55.950\nWe saw how to create a kickstart,\nwe saw how to use one.\n\n28\n00:00:55.950 --> 00:00:58.680\nWe pulled a config off the network and\nwe did an automated install.\n\n29\n00:00:58.680 --> 00:01:02.510\nIt was miraculous and magic and all that\nstuff Steve Jobs would say if he were\n\n30\n00:01:02.510 --> 00:01:03.100\nhere,\n&gt;&gt; [LAUGH]\n\n31\n00:01:03.100 --> 00:01:04.540\n&gt;&gt; And not talking about Linux.\n\n32\n00:01:04.540 --> 00:01:08.900\nBut one of the things I want to show you\nthat I didn't get to in the last episode,\n\n33\n00:01:08.900 --> 00:01:12.702\nwas how to build a bootable\nimage with a kickstart,\n\n34\n00:01:12.702 --> 00:01:16.230\nself contained or\neven pulling from the network or whatever.\n\n35\n00:01:16.230 --> 00:01:20.630\nWhen I showed kickstart in the last\nepisode, I booted off a regular Red Hat\n\n36\n00:01:20.630 --> 00:01:25.660\ninstall disc and I had to press\ntab when it got to the boot menu.\n\n37\n00:01:25.660 --> 00:01:30.870\nAnd then I had a little bit to the kernel\nparameters to say here's my kickstart and\n\n38\n00:01:30.870 --> 00:01:34.410\nI pointed to an FTP server where it was\nand then everything else went fine,\n\n39\n00:01:34.410 --> 00:01:36.470\nbut I had to do some stuff.\n\n40\n00:01:36.470 --> 00:01:37.710\nWhat if I don't wanna do stuff?\n\n41\n00:01:37.710 --> 00:01:41.020\nWhat if I want this to be so\neasy a caveman could do it?\n\n42\n00:01:41.020 --> 00:01:43.250\nNow we gotta pay royalty to GEICO.\n\n43\n00:01:43.250 --> 00:01:43.790\n&gt;&gt; Not cool [LAUGH].\n\n44\n00:01:43.790 --> 00:01:47.990\n&gt;&gt; So I wanna pop a CD in the drive,\npress the power button and just walk away.\n\n45\n00:01:47.990 --> 00:01:50.570\nWhich would be bad because\nif you boot off the CD again\n\n46\n00:01:50.570 --> 00:01:51.701\nin the future you lose all your stuff.\n\n47\n00:01:51.701 --> 00:01:53.210\n&gt;&gt; [LAUGH]\n&gt;&gt; But if you remember to take the CD out\n\n48\n00:01:53.210 --> 00:01:56.300\nthen it works just fine or\na USB key or whatever.\n\n49\n00:01:56.300 --> 00:01:58.190\nSo that's what we're gonna\ndo here in this episode.\n\n50\n00:01:58.190 --> 00:02:01.800\nI'm gonna show you guys how to create\nthose alternate install media to make it\n\n51\n00:02:01.800 --> 00:02:03.800\nkinda match up what you want.\n\n52\n00:02:03.800 --> 00:02:06.130\nAll right, so step one,\n\n53\n00:02:06.130 --> 00:02:11.050\nwhat we need to do is we need to kind\nof figure out what we want to achieve.\n\n54\n00:02:11.050 --> 00:02:14.670\nAnd the reason is there's actually\na few different ways to do this.\n\n55\n00:02:14.670 --> 00:02:18.820\nIf I just wanna make a CD,\nthat has everything self contained.\n\n56\n00:02:18.820 --> 00:02:20.380\nI don't need a network adapter,\n\n57\n00:02:20.380 --> 00:02:23.930\nI just want everything to\nhappen right from the CD.\n\n58\n00:02:23.930 --> 00:02:25.800\nIt's actually not every hard at all.\n\n59\n00:02:25.800 --> 00:02:29.580\nWhat you do, is you take\nthe Red Hat installation disk and\n\n60\n00:02:29.580 --> 00:02:31.870\nyou copy it to your computer.\n\n61\n00:02:31.870 --> 00:02:35.750\nAnd then you take your kickstart file\nthat we made in the last episode\n\n62\n00:02:35.750 --> 00:02:36.900\nand you rename it.\n\n63\n00:02:36.900 --> 00:02:40.610\nYou name it ks.cfg or\nI named mine that in the last episode.\n\n64\n00:02:40.610 --> 00:02:44.330\nAnyway, but if you didn't,\nit needs to be named ks.cfg.\n\n65\n00:02:44.330 --> 00:02:48.810\nAnd if you put it in\nthe root of the CD and\n\n66\n00:02:48.810 --> 00:02:52.240\nthen make that into an ISO and\nburn it to a disk.\n\n67\n00:02:52.240 --> 00:02:55.470\nWhen you boot the regular Red Hat\ninstaller, it will look for\n\n68\n00:02:55.470 --> 00:02:58.530\nthat ks.cfg in the root\nof the install media.\n\n69\n00:02:58.530 --> 00:03:03.100\nAnd if it's there, off you go,\nyou boot and you install and\n\n70\n00:03:03.100 --> 00:03:04.670\nit's all automated and that's it.\n\n71\n00:03:04.670 --> 00:03:05.696\nSo, it's actually not that hard.\n\n72\n00:03:05.696 --> 00:03:08.530\n&gt;&gt; It's pretty lame actually [LAUGH].\n\n73\n00:03:08.530 --> 00:03:12.600\n&gt;&gt; The hardest part is building\nthe ISO [CROSSTALK] 10,000 lines long.\n\n74\n00:03:12.600 --> 00:03:14.498\nLet me,\n&gt;&gt; 10,000 lines\n\n75\n00:03:14.498 --> 00:03:15.950\n&gt;&gt; Show you the.\n\n76\n00:03:15.950 --> 00:03:17.167\nYeah, I know.\n\n77\n00:03:17.167 --> 00:03:18.790\n&gt;&gt; It's a little hyperbole\non your part [LAUGH].\n\n78\n00:03:18.790 --> 00:03:22.877\n&gt;&gt; No, that's a factual statement,\nscientifically analyzed\n\n79\n00:03:22.877 --> 00:03:23.939\n&gt;&gt; [LAUGH]\n\n80\n00:03:23.939 --> 00:03:24.643\n&gt;&gt; [LAUGH]\n\n81\n00:03:24.643 --> 00:03:25.863\n&gt;&gt; All right, so\n\n82\n00:03:25.863 --> 00:03:31.070\nwhat you do is basically you pop\nthat Red Hat disk in, right.\n\n83\n00:03:31.070 --> 00:03:33.030\nBecause if we want it to be self\ncontained, we need to have everything.\n\n84\n00:03:33.030 --> 00:03:35.690\nWe need to have all the packages,\neverything that we want needs to be on\n\n85\n00:03:35.690 --> 00:03:39.040\nthat disk, we can't rely on\nthe network for this piece, right.\n\n86\n00:03:39.040 --> 00:03:44.980\nSo I've got the CD inserted\nin my system here so\n\n87\n00:03:44.980 --> 00:03:50.540\nme, let me just do a quick mount cuz\nI don't think I left it mounted and\n\n88\n00:03:50.540 --> 00:03:56.970\nonce I've got that, I will kind\nof browse into it, there we go.\n\n89\n00:03:56.970 --> 00:04:02.030\nAnd when you look at the CD,\nthe CD has a bunch of stuff in it, right.\n\n90\n00:04:02.030 --> 00:04:03.432\nAs CDs often do.\n\n91\n00:04:03.432 --> 00:04:06.140\nAnd what I'm concerned about\nare a few different things.\n\n92\n00:04:06.140 --> 00:04:11.090\nThere's the packages folder, the packages\nfolder has all the stuff that I need for\n\n93\n00:04:11.090 --> 00:04:11.830\nthe install.\n\n94\n00:04:11.830 --> 00:04:15.700\nIf I want GNOME,\nif I want MySQL or Apache or\n\n95\n00:04:15.700 --> 00:04:18.600\nall these other different components,\nthey're right there on the packages.\n\n96\n00:04:18.600 --> 00:04:22.620\nIf I want this to be a self contained\ninstall, I need all that, right.\n\n97\n00:04:22.620 --> 00:04:25.140\nI also need this ISO Linux folder\n\n98\n00:04:26.290 --> 00:04:29.070\nbecause that's where the bootable\npart of the bootable disc is, right.\n\n99\n00:04:29.070 --> 00:04:31.600\nSo that's kind of important,\nthose two folders.\n\n100\n00:04:31.600 --> 00:04:35.330\nThe rest of the stuff here is pretty\nimportant too but a little less so.\n\n101\n00:04:35.330 --> 00:04:40.070\nYou've got your repositories here,\nyour release notes, the EFI folder.\n\n102\n00:04:40.070 --> 00:04:43.380\nIf you've got a system that's using new\nEFI that's where it's gonna boot from and\n\n103\n00:04:43.380 --> 00:04:44.410\npull information.\n\n104\n00:04:44.410 --> 00:04:46.658\nSo those are all important too.\n\n105\n00:04:46.658 --> 00:04:48.240\nIf we wanna create a self contained disk,\n\n106\n00:04:48.240 --> 00:04:50.710\nwe usually don't mess with this\nstuff we keep it all, right.\n\n107\n00:04:50.710 --> 00:04:53.190\nSo we keep it all,\nwe leave it the way it is and\n\n108\n00:04:53.190 --> 00:04:57.900\nwe just add our ks.cfg file\nright here in the root.\n\n109\n00:04:57.900 --> 00:05:02.310\nAnd by doing, that now we boot up\nthe disc and we start the install,\n\n110\n00:05:02.310 --> 00:05:05.750\nit automatically sees the kickstart\nfile and off we go, not so bad right.\n\n111\n00:05:05.750 --> 00:05:10.810\nSo just copy this to your hard drive,\nadd the file and you're done.\n\n112\n00:05:10.810 --> 00:05:14.990\nBut where things get a little tricky,\nis if we wanna go beyond that, right.\n\n113\n00:05:14.990 --> 00:05:19.490\nMaybe, I wanna have more than\none kickstart file, right.\n\n114\n00:05:19.490 --> 00:05:22.822\nMaybe I've got one kickstart file for,\nI wanna make web servers and\n\n115\n00:05:22.822 --> 00:05:25.290\nanother kickstart file for,\nI wanna make database servers.\n\n116\n00:05:25.290 --> 00:05:26.630\nBut I just wanna have one disk.\n\n117\n00:05:26.630 --> 00:05:30.550\nSo I pop in a disk and I get a menu\nwhere I pick, is this a web server or\n\n118\n00:05:30.550 --> 00:05:31.720\nis this a database server?\n\n119\n00:05:31.720 --> 00:05:34.340\nAnd now I can pick and\nuse the appropriate file.\n\n120\n00:05:34.340 --> 00:05:37.700\nSo now I wanna customize it a bit and\nthings get a little harder.\n\n121\n00:05:37.700 --> 00:05:40.200\nIt's not just sticking ks.cfg in the root.\n\n122\n00:05:40.200 --> 00:05:43.749\nNow we've gotta kind of pick from our\ndifferent kickstart files and options.\n\n123\n00:05:44.990 --> 00:05:47.310\nWhat if I wanna go even further than that?\n\n124\n00:05:47.310 --> 00:05:49.880\nWhat if I don't want\nthe packages here on the disk?\n\n125\n00:05:49.880 --> 00:05:52.230\nBecause the disk is gonna get\noutta date pretty fast, isn't it?\n\n126\n00:05:52.230 --> 00:05:55.170\nAnytime I deploy a server, I'm gonna have\nto immediately turn around and do updates.\n\n127\n00:05:55.170 --> 00:05:58.190\nWhich is going to prolong the amount of\ntime it takes to bring a server online.\n\n128\n00:05:58.190 --> 00:06:03.000\nIf I'm deploying in the cloud and I want\nservers to come up as fast as possible.\n\n129\n00:06:03.000 --> 00:06:07.190\nMaybe I want those packages,\nto be on a network location.\n\n130\n00:06:07.190 --> 00:06:11.110\nSo yeah, I'm booting off some media but\nwhen I boot off the media,\n\n131\n00:06:11.110 --> 00:06:14.660\nI want it to [INAUDIBLE] out to the\nnetwork to get on my kickstart packages.\n\n132\n00:06:14.660 --> 00:06:16.730\nAnd really I probably wanted\nto go the network for\n\n133\n00:06:16.730 --> 00:06:18.940\nthe kickstart file itself, right.\n\n134\n00:06:18.940 --> 00:06:23.810\nSo when I go to make a disk like this,\nthere's just so many different choices for\n\n135\n00:06:23.810 --> 00:06:25.270\nhow we want to make it.\n\n136\n00:06:25.270 --> 00:06:26.760\nAnd Daniel said, the easiest one,\n\n137\n00:06:26.760 --> 00:06:29.350\nyou just stick ks.cfg right\nin the root of the disk.\n\n138\n00:06:29.350 --> 00:06:32.430\nYou burn it back and\nyou're in business, right.\n\n139\n00:06:32.430 --> 00:06:34.240\nSo if we take a look at this,\n\n140\n00:06:34.240 --> 00:06:37.980\nI've actually already copied the disk\nto my home folders to save some time.\n\n141\n00:06:37.980 --> 00:06:40.000\nI created a folder called rhel7 custom.\n\n142\n00:06:41.090 --> 00:06:45.779\nAnd all it has is a straight up copy\nof that disk and you don't get this\n\n143\n00:06:45.779 --> 00:06:50.657\nblue background here which is gonna\nmake it a little bit harder to see.\n\n144\n00:06:50.657 --> 00:06:56.471\nLet me change my background,\nso it's not blue background,\n\n145\n00:06:56.471 --> 00:07:02.741\nso we can actually see what we're\nlooking at here and there we go.\n\n146\n00:07:02.741 --> 00:07:06.040\nAll right [COUGH], blue on black is\na little easier to see than blue on blue,\n\n147\n00:07:06.040 --> 00:07:09.447\nI guess but what we're looking at here\nis really just that straight up copy of\n\n148\n00:07:09.447 --> 00:07:11.860\nthe disk, that I haven't modified at all.\n\n149\n00:07:11.860 --> 00:07:19.220\nNow if I were to copy my ks.cfg file from\nyesterday and copy it right in here,\n\n150\n00:07:19.220 --> 00:07:24.270\nso now I've copy it right here,\nI'm pretty much good to go.\n\n151\n00:07:24.270 --> 00:07:26.970\nPretty much to build this disk and\ngive it a go.\n\n152\n00:07:26.970 --> 00:07:31.450\nI do maybe want to worry about\nthe permission just a little bit.\n\n153\n00:07:31.450 --> 00:07:32.780\nThis is all in my home folder, so\n\n154\n00:07:32.780 --> 00:07:36.830\nthe permissions are pretty much all\nthe same right, I own all of these stuff.\n\n155\n00:07:36.830 --> 00:07:39.830\nAnd when you burn it to a disk,\nyou're actually burning it\n\n156\n00:07:39.830 --> 00:07:44.780\nin a ISO 9660 format or\nsomething crazy like that.\n\n157\n00:07:44.780 --> 00:07:47.110\nAnd so\na lot of these permissions go away anyway.\n\n158\n00:07:47.110 --> 00:07:51.430\nSo if you notice, I've got it here\nas read write, read write and read.\n\n159\n00:07:51.430 --> 00:07:54.922\nAnd everything else here is read write\nexecute, read execute, read execute.\n\n160\n00:07:54.922 --> 00:07:58.162\nIt's just a text file, so we don't\nneed the execute permission on it.\n\n161\n00:07:58.162 --> 00:08:01.198\nI usually don't bother changing the\npermissions but if you're a stickler for\n\n162\n00:08:01.198 --> 00:08:02.599\nthat kind of thing,\n&gt;&gt; [LAUGH]\n\n163\n00:08:02.599 --> 00:08:05.440\n&gt;&gt; And you really want it to be the same,\n\n164\n00:08:05.440 --> 00:08:08.566\nyou can do a quick chmod 755 ks.cfg.\n\n165\n00:08:08.566 --> 00:08:12.066\nAnd now it matches the permissions and\neverything else.\n\n166\n00:08:12.066 --> 00:08:13.966\nAgain, I don't normally\nworry about that but\n\n167\n00:08:13.966 --> 00:08:17.420\nyou can certainly do it if you're\na stickler for that stuff.\n\n168\n00:08:17.420 --> 00:08:19.500\nBut now that it's there I just\nneed to make an iso image and\n\n169\n00:08:19.500 --> 00:08:20.520\nI'm in business, right?\n\n170\n00:08:20.520 --> 00:08:24.083\nAnd making the iso image is actually\nkind of annoying because it's not just-\n\n171\n00:08:24.083 --> 00:08:24.988\n&gt;&gt; 10,000 lines.\n\n172\n00:08:24.988 --> 00:08:28.230\n&gt;&gt; I know,\nit's not just a regular iso image.\n\n173\n00:08:28.230 --> 00:08:30.840\nIt's a bootable ISO image.\n\n174\n00:08:30.840 --> 00:08:36.360\nAnd bootable disks have to have files that\nare in the bootable area of that disk.\n\n175\n00:08:36.360 --> 00:08:37.364\nAnd so we've gotta do a few extra things.\n\n176\n00:08:37.364 --> 00:08:38.641\nThat's what makes this hard.\n\n177\n00:08:38.641 --> 00:08:41.350\nIf you have an EFI system,\nit's actually not hard.\n\n178\n00:08:41.350 --> 00:08:44.260\nWith EFI, it just looks for\na folder called EFI and\n\n179\n00:08:44.260 --> 00:08:45.270\nit boots from right in there.\n\n180\n00:08:45.270 --> 00:08:48.620\nSo that's easy but for legacy systems or\n\n181\n00:08:48.620 --> 00:08:51.940\ntraditional BIOS systems which\na lot of server still are,\n\n182\n00:08:51.940 --> 00:08:56.340\nyou don't see UEFI on every server\nthese days or virtual machines.\n\n183\n00:08:56.340 --> 00:09:01.020\nA lot of virtual machines don't have UEFI\nsupport so yeah that legacy BIOS boot.\n\n184\n00:09:01.020 --> 00:09:02.660\nWe have to go a step further.\n\n185\n00:09:02.660 --> 00:09:05.540\nSo if I want to make this into an ISO.\n\n186\n00:09:05.540 --> 00:09:08.390\nSo this is a self contained\n\n187\n00:09:08.390 --> 00:09:11.920\nfully automated install It's\ngot kickstart right here.\n\n188\n00:09:11.920 --> 00:09:14.770\nIt's got all the packages,\neverything it needs on this one disk.\n\n189\n00:09:15.890 --> 00:09:18.790\nI just need to burn this into an ISO.\n\n190\n00:09:18.790 --> 00:09:23.290\nSo if I wanna do that, the command to\ndo it, and this is a nice long command,\n\n191\n00:09:23.290 --> 00:09:26.680\nwe're gonna use the MK ISO FS, right?\n\n192\n00:09:26.680 --> 00:09:29.660\nSo we're gonna make an ISO file system.\n\n193\n00:09:29.660 --> 00:09:33.740\nAnd [COUGH] we need to tell it,\nwhat we're gonna call it, right?\n\n194\n00:09:33.740 --> 00:09:40.215\nSo I'll call this my custom-rhel7.iso.\n\n195\n00:09:40.215 --> 00:09:42.629\nSo that's the file that\nI'm gonna be outputting.\n\n196\n00:09:42.629 --> 00:09:47.220\nAnd then I need to tell it\nabout that boot sector.\n\n197\n00:09:47.220 --> 00:09:53.140\nI need this to be bootable, otherwise it's\nnot really gonna do me much good, okay?\n\n198\n00:09:53.140 --> 00:09:57.360\nSo if I wanna make that bootable and I'm\njust trying to resize my window a bit cuz\n\n199\n00:09:57.360 --> 00:09:59.920\nthis command's definitely\ngoing to word wrap on me.\n\n200\n00:09:59.920 --> 00:10:01.250\nSo I need to make it bootable.\n\n201\n00:10:01.250 --> 00:10:05.380\nAnd the boot files are in\nthat iso Linux folder.\n\n202\n00:10:05.380 --> 00:10:11.815\nSo when I specify this, the way the path\nkind of works is a little bit odd.\n\n203\n00:10:11.815 --> 00:10:17.270\nI'm just gonna type isolinux/isolinux.bin.\n\n204\n00:10:17.270 --> 00:10:20.290\nNow, I didn't put a path before it and\n\n205\n00:10:20.290 --> 00:10:23.490\nthat's because at the end of this command,\nI'm gonna say where all the files are and\n\n206\n00:10:23.490 --> 00:10:26.230\nit will know to look inside\nthat folder for ISO Linux.\n\n207\n00:10:26.230 --> 00:10:29.160\nSo that's why that path is kinda strange,\nit's how we have to do it.\n\n208\n00:10:29.160 --> 00:10:34.090\nSo that's the bootable binary that needs\nto be in the boot record of the CD.\n\n209\n00:10:34.090 --> 00:10:38.620\nAnd I do have to go\na little bit further and\n\n210\n00:10:38.620 --> 00:10:44.490\nadd the boot.cat file also,\nwhich is the catalog.\n\n211\n00:10:44.490 --> 00:10:48.341\nSo it's kinda like when you\nstore data on a hard drive,\n\n212\n00:10:48.341 --> 00:10:52.633\nlet's say it's FAT32, right,\nfile allocation table.\n\n213\n00:10:52.633 --> 00:10:55.668\nSo there's a note in the file allocation\ntable that says a file exists and\n\n214\n00:10:55.668 --> 00:10:59.120\nthen there's the actual binary data that's\nlocated on the disk somewhere else.\n\n215\n00:10:59.120 --> 00:11:01.900\nAnd the note in the table just\npoints to the binary data.\n\n216\n00:11:01.900 --> 00:11:06.020\nSo this isoLinux.bin,\nthat's the binary data that's on the disk.\n\n217\n00:11:06.020 --> 00:11:09.700\nAnd then the boot.cat is the table\nentry that's gonna point to it.\n\n218\n00:11:09.700 --> 00:11:11.130\nSo you have to have both of those pieces.\n\n219\n00:11:12.740 --> 00:11:16.200\nAfter that, we just have a few\nother commands for compatibility.\n\n220\n00:11:16.200 --> 00:11:19.340\nSome CDs, when you boot them up,\nthey'll actually emulate a hard drive or\n\n221\n00:11:19.340 --> 00:11:21.210\nthey'll emulate like\na bootable floppy disk.\n\n222\n00:11:22.230 --> 00:11:24.830\nThat was the original way when\nsystems didn't have a bootable CD,\n\n223\n00:11:24.830 --> 00:11:27.860\nif you put a regular CD in there,\nit would emulate a floppy disk.\n\n224\n00:11:27.860 --> 00:11:29.300\nSo we need to turn that off.\n\n225\n00:11:29.300 --> 00:11:33.920\nSo, I'm going to say no EMUL boot,\nand there's my word wrap.\n\n226\n00:11:33.920 --> 00:11:35.640\nSo, we're going to turn that off.\n\n227\n00:11:35.640 --> 00:11:41.550\nThen we need to do a boot\nload size of four and,\n\n228\n00:11:41.550 --> 00:11:45.500\nif you're wondering why I would limit\nthat, its because Red Hat said so.\n\n229\n00:11:45.500 --> 00:11:47.900\nI actually don't know\nthe engineering behind that piece.\n\n230\n00:11:47.900 --> 00:11:51.585\nThere's a few things in here that Red Hat\njust tells us are the best practices for\n\n231\n00:11:51.585 --> 00:11:55.007\nmaking the disk and if you don't do them,\noddly enough it doesn't work.\n\n232\n00:11:55.007 --> 00:11:57.354\nSo you know we follow what they tell us.\n\n233\n00:11:57.354 --> 00:11:58.619\n&gt;&gt; [LAUGH] That's right.\n\n234\n00:11:58.619 --> 00:12:01.683\n&gt;&gt; So we're gonna set that aside and\nsame for the boot info table.\n\n235\n00:12:01.683 --> 00:12:04.390\nWe'll designate that.\n\n236\n00:12:04.390 --> 00:12:07.513\nAnd then that after that, just the\ncommands for outputting the disk, right?\n\n237\n00:12:07.513 --> 00:12:12.342\nSo we need to make sure that it\nsupports the format and all of that.\n\n238\n00:12:12.342 --> 00:12:14.822\nWe're gonna set a label on this,\n\n239\n00:12:14.822 --> 00:12:19.437\nI'm gonna call mine rhel7-ks\ncuz it's my kick start disk.\n\n240\n00:12:19.437 --> 00:12:24.280\nWhen you put a CD in the drive the label\nis what shows up for that disk.\n\n241\n00:12:24.280 --> 00:12:25.740\nAnd so this is just the name of it.\n\n242\n00:12:25.740 --> 00:12:29.160\nIf you leave that out it actually\nsets the file name as the label,\n\n243\n00:12:29.160 --> 00:12:30.470\nwhich is a little weird.\n\n244\n00:12:30.470 --> 00:12:33.240\nBut it's up to you if you wanna do that or\nnot.\n\n245\n00:12:33.240 --> 00:12:36.002\nAnd now I need to point to where\nthe actual install files are.\n\n246\n00:12:36.002 --> 00:12:40.920\nAnd so mine are in that RHEL7\ncustom folder in my home folder.\n\n247\n00:12:42.030 --> 00:12:43.200\nNice long command.\n\n248\n00:12:43.200 --> 00:12:47.080\nThat whole command is what it takes\nto make this bootable disk, and\n\n249\n00:12:47.080 --> 00:12:49.750\nwhen I run that,\nit's gonna go and start building.\n\n250\n00:12:49.750 --> 00:12:51.000\nAnd so there it goes.\n\n251\n00:12:51.000 --> 00:12:53.850\nAnd it's building an ISO image for me.\n\n252\n00:12:53.850 --> 00:12:56.710\nThat is really the same as\nthe Red Hat 7 installer\n\n253\n00:12:56.710 --> 00:13:01.330\nthat I downloaded from their website\nexcept it's got ks.cfg right in the root.\n\n254\n00:13:01.330 --> 00:13:05.440\nAnd so now, I can burn this to a disk,\nor I can burn it to a USB key,\n\n255\n00:13:05.440 --> 00:13:09.760\nright, there's plenty of ways\nto send an ISO to a USB key.\n\n256\n00:13:09.760 --> 00:13:14.130\nAnd then once you've got that, you can\njust go and plug that into a computer, or\n\n257\n00:13:14.130 --> 00:13:16.070\nstick the disk in, boot it up.\n\n258\n00:13:16.070 --> 00:13:19.828\nStart the install like normal and\nit's gonna read that KS.CFG and\n\n259\n00:13:19.828 --> 00:13:21.581\nit's gonna do the kickstart.\n\n260\n00:13:21.581 --> 00:13:26.018\nThe only problem here is we\ndon't have any variation.\n\n261\n00:13:26.018 --> 00:13:30.205\nRight, we've got one kickstart file,\neverything's self contained so\n\n262\n00:13:30.205 --> 00:13:35.520\nthat's nice, but beyond that, if I wanna\ndo anything crazy, I'm kind of limited.\n\n263\n00:13:35.520 --> 00:13:40.407\nAll right, but my ISO is done and\nit is in here somewhere.\n\n264\n00:13:40.407 --> 00:13:45.795\nRight here, custom ISO and\n4.1 GB and that's it.\n\n265\n00:13:45.795 --> 00:13:47.800\nThat wasn't so hard.\n\n266\n00:13:47.800 --> 00:13:50.400\nBut let's go a little more advanced,\nlet's go custom, okay?\n\n267\n00:13:50.400 --> 00:13:53.720\nLet's say that I wanna have\nmore than one Kickstart file.\n\n268\n00:13:53.720 --> 00:13:56.860\nAnd so when this thing boots up,\nI wanna show a menu.\n\n269\n00:13:56.860 --> 00:14:01.130\nWhere I can pick which Kickstart file I\nwanna use, right, that'd be kinda nice.\n\n270\n00:14:01.130 --> 00:14:05.520\nSo what we can do is in\nthat RHGL7 customer folder,\n\n271\n00:14:07.330 --> 00:14:11.170\nthat's just my CD that\nI copied from RedHat.\n\n272\n00:14:11.170 --> 00:14:15.340\nI did put KS.CFG right here,\nin the root, right.\n\n273\n00:14:15.340 --> 00:14:18.140\nSo maybe I don't just have that one.\n\n274\n00:14:18.140 --> 00:14:20.710\nMaybe I've got several\ndifferent configurations or\n\n275\n00:14:20.710 --> 00:14:21.980\nwhatever that are in here.\n\n276\n00:14:21.980 --> 00:14:25.480\nSo what I can do is I can,\nwell I'll just rename it, right?\n\n277\n00:14:25.480 --> 00:14:27.770\nSo I'm gonna move ks.cfg.\n\n278\n00:14:27.770 --> 00:14:33.967\nAnd so maybe I've got server.ks.cfg.\n\n279\n00:14:33.967 --> 00:14:38.235\nAnd I'll do a workstation\n\n280\n00:14:38.235 --> 00:14:43.660\n.ks.cfg all right.\n\n281\n00:14:43.660 --> 00:14:47.790\nAnd I always end them in ks.cfg but\nyou can call them whatever you want.\n\n282\n00:14:47.790 --> 00:14:49.300\nThe name doesn't actually matter.\n\n283\n00:14:49.300 --> 00:14:53.560\nThe system doesn't really care, except\nif you want it to automatically do it.\n\n284\n00:14:53.560 --> 00:14:55.006\nThat's when it has to be ks.cfg.\n\n285\n00:14:55.006 --> 00:14:58.204\nAnd so I've just gotten into the habit\nof always making it ks.cfg and so\n\n286\n00:14:58.204 --> 00:15:01.850\nin this case I'm just kind of preserving\nit with my little name at the beginning.\n\n287\n00:15:01.850 --> 00:15:05.270\nSo now I've got a server one and a work\nstation one and for me they're the same,\n\n288\n00:15:05.270 --> 00:15:09.190\nbut maybe in the work station when\nwe choose to install the GUI and\n\n289\n00:15:09.190 --> 00:15:10.860\nin the server one we don't.\n\n290\n00:15:10.860 --> 00:15:13.319\nHeck, I could have just called\nthese GUI and no GUI, right?\n\n291\n00:15:13.319 --> 00:15:15.245\nAnd that's the pick that I make, but\n\n292\n00:15:15.245 --> 00:15:19.970\nwe might customize this even more with\nthe workstation install libre office.\n\n293\n00:15:19.970 --> 00:15:24.340\nBut with the server one we don't,\nwith the server one we might install\n\n294\n00:15:24.340 --> 00:15:28.640\nthe MySQL Server and on the work station\nwe install the MySQL Client, right?\n\n295\n00:15:28.640 --> 00:15:31.720\nSo you customize it based on your needs.\n\n296\n00:15:31.720 --> 00:15:33.960\nNow, if I were to burn this to a disk\n\n297\n00:15:35.000 --> 00:15:37.910\nI would still have to hit\ntab at the boot menu and\n\n298\n00:15:37.910 --> 00:15:41.990\nI would have to point it at the kickstart\nfile that I wanted to use, right?\n\n299\n00:15:41.990 --> 00:15:43.077\nSo, it would be still be manual.\n\n300\n00:15:43.077 --> 00:15:47.320\nIf I want it in a menu that's where\nthe ISO Linux folder comes in.\n\n301\n00:15:47.320 --> 00:15:50.890\nThat ISO Linux folder I mentioned\nhad all the boot stuff in it.\n\n302\n00:15:50.890 --> 00:15:52.780\nIf you take a look in there,\nyou'll see a bunch of files.\n\n303\n00:15:52.780 --> 00:15:54.407\nLike there's grub.com, the bootloader.\n\n304\n00:15:54.407 --> 00:15:59.651\nThere's the boot.cat file that I used\nas part of the setup in isolinux.bin,\n\n305\n00:15:59.651 --> 00:16:01.485\nto make the bootable disk.\n\n306\n00:16:01.485 --> 00:16:04.097\nBut the file I'm interested in,\nis this guy right here.\n\n307\n00:16:04.097 --> 00:16:06.558\nIsolinux, .cfg, all right?\n\n308\n00:16:06.558 --> 00:16:08.752\nI'm gonna edit that.\n\n309\n00:16:08.752 --> 00:16:11.179\nWhoops [LAUGH].\n\n310\n00:16:11.179 --> 00:16:12.143\n&gt;&gt; Created a new file [LAUGH].\n\n311\n00:16:12.143 --> 00:16:13.484\n&gt;&gt; There we go.\n\n312\n00:16:13.484 --> 00:16:16.540\nAll right, so\nlet's take a look at what's in this file.\n\n313\n00:16:16.540 --> 00:16:20.360\nInside of the file is information\nabout the boot process.\n\n314\n00:16:20.360 --> 00:16:25.920\nAnd what we're seeing here\nis [LAUGH] let's see-\n\n315\n00:16:25.920 --> 00:16:28.130\n&gt;&gt; Is Don not being able to use vi.\n\n316\n00:16:28.130 --> 00:16:28.630\n&gt;&gt; I know.\n\n317\n00:16:32.021 --> 00:16:34.437\nWell here, let's just get it to\nhighlight default, there we go.\n\n318\n00:16:34.437 --> 00:16:38.789\nAll right, so what we're seeing here\nis Is basically what's in this file,\n\n319\n00:16:38.789 --> 00:16:40.421\nstraight from the factory,\n\n320\n00:16:40.421 --> 00:16:44.655\nI haven't really modified it this\nis just what's in it, right?\n\n321\n00:16:44.655 --> 00:16:46.529\nAnd it starts out with an entry here,\n\n322\n00:16:46.529 --> 00:16:49.437\nwhich that yellow highlight's\nkind of covering for me.\n\n323\n00:16:49.437 --> 00:16:52.893\nBut it says default vasa menu.c32, and\n\n324\n00:16:52.893 --> 00:16:58.260\nwhat that means is hey when you\nboot up show a menu, all right?\n\n325\n00:16:58.260 --> 00:17:03.690\nAnd when that menu comes up it's\ngot a time out of 600 seconds,\n\n326\n00:17:03.690 --> 00:17:07.280\nor not 600 seconds actually-\n&gt;&gt; It's in milliseconds or something.\n\n327\n00:17:07.280 --> 00:17:10.140\n&gt;&gt; Yeah, cuz it's 60 seconds is how long\nit stays up, so it stays up for 1 minute.\n\n328\n00:17:10.140 --> 00:17:13.650\nBut basically it's got that\ntime out of one minute.\n\n329\n00:17:13.650 --> 00:17:16.840\nAnd then after that,\nit's got display the boot message.\n\n330\n00:17:16.840 --> 00:17:21.200\nAnd here's what it does, menu clear,\ndisplay a background splash,\n\n331\n00:17:21.200 --> 00:17:24.370\nshow a title of Red Hat Enterprise Linux\n7.2, and so on.\n\n332\n00:17:24.370 --> 00:17:28.132\nThis is all the stuff we see on the screen\nwhen we boot up before we actually get to\n\n333\n00:17:28.132 --> 00:17:30.476\nthe login screen, or\nthe GUI if we've got that.\n\n334\n00:17:30.476 --> 00:17:35.699\nWell, if you scroll down in this file,\nwhat you'll find is that\n\n335\n00:17:35.699 --> 00:17:41.030\nthere's labels, and\neach label represents a menu option.\n\n336\n00:17:41.030 --> 00:17:44.670\nSo here's\nInstall Red Hat Enterprise Linux 7.2.\n\n337\n00:17:44.670 --> 00:17:48.450\nAnd here's Test this Media and\nInstall, right?\n\n338\n00:17:48.450 --> 00:17:52.480\nThose are the two menu options I see\nwhen I boot off of the disk, okay?\n\n339\n00:17:52.480 --> 00:17:55.400\nWhat you can do is you\ncan add more labels.\n\n340\n00:17:55.400 --> 00:17:57.570\nI can add as many labels as I want.\n\n341\n00:17:57.570 --> 00:18:03.130\nSo I might come in here and\nadd another label.\n\n342\n00:18:03.130 --> 00:18:07.920\nAnd so I might create a label\ncalled Kickstart Server.\n\n343\n00:18:07.920 --> 00:18:09.090\nActually this is the label.\n\n344\n00:18:09.090 --> 00:18:15.380\nIt needs to be all one word, so\nI'll just call it ks server, right?\n\n345\n00:18:15.380 --> 00:18:19.790\nAnd I'll have another label\nthat will ks workstation.\n\n346\n00:18:19.790 --> 00:18:22.750\nAll right, so\nthese are my two labels that I'm making.\n\n347\n00:18:22.750 --> 00:18:25.830\nAnd inside of the label,\nyou can give it a name.\n\n348\n00:18:27.020 --> 00:18:30.658\nAnd so I'll come in and\nI'll call this one.\n\n349\n00:18:30.658 --> 00:18:33.886\n&gt;&gt; Misspelled label there, Don.\n\n350\n00:18:33.886 --> 00:18:34.556\n&gt;&gt; Did I?\n\n351\n00:18:34.556 --> 00:18:35.505\n&gt;&gt; You sure did.\n\n352\n00:18:35.505 --> 00:18:38.107\n&gt;&gt; L-A-B-E sorry right there, got it.\n\n353\n00:18:38.107 --> 00:18:41.572\n&gt;&gt; [LAUGH]\n&gt;&gt; So I'm gonna come in and\n\n354\n00:18:41.572 --> 00:18:47.193\nI'll just call this one\nautomated server install.\n\n355\n00:18:47.193 --> 00:18:49.200\nMy typing skills are immaculate today.\n\n356\n00:18:50.260 --> 00:18:59.363\nAnd the other one, I will call\nAutomated Workstation, Install.\n\n357\n00:18:59.363 --> 00:19:02.580\nAll right, so\nthere's my two labels that I'm making.\n\n358\n00:19:02.580 --> 00:19:06.420\nAnd you can kind of just copy what these\nother guys already have cuz they've\n\n359\n00:19:06.420 --> 00:19:08.220\npretty much got what we want.\n\n360\n00:19:08.220 --> 00:19:10.112\nSo we can take what's here.\n\n361\n00:19:10.112 --> 00:19:14.410\nAnd I'm just gonna take that data,\n\n362\n00:19:14.410 --> 00:19:19.138\nwhoops, and I'm gonna come in here and\n\n363\n00:19:19.138 --> 00:19:22.878\njust paste that right back in.\n\n364\n00:19:22.878 --> 00:19:26.390\nAnd I'll do the same thing down here for\nmy workstation.\n\n365\n00:19:28.600 --> 00:19:31.580\nI was trying to do some keyboard shortcuts\nthat my virtual machine is not taking,\n\n366\n00:19:31.580 --> 00:19:33.460\nso I'll do that the old fashioned way.\n\n367\n00:19:33.460 --> 00:19:34.590\nAll right, so\n\n368\n00:19:34.590 --> 00:19:38.290\nnow these two menu options are basically\nthe same as the first one, right.\n\n369\n00:19:38.290 --> 00:19:39.320\nBut I'm gonna change it a little bit.\n\n370\n00:19:39.320 --> 00:19:41.110\nAnd notice this append section.\n\n371\n00:19:41.110 --> 00:19:43.250\nThe append is where we're\nsending kernel options.\n\n372\n00:19:43.250 --> 00:19:47.070\nWhen I boot it off the Red Hat installer,\nI hit Tab.\n\n373\n00:19:47.070 --> 00:19:50.140\nAnd then I added it to it\nthe kickstart information.\n\n374\n00:19:50.140 --> 00:19:52.360\nWell, I can just do it\nright here in the menu.\n\n375\n00:19:52.360 --> 00:19:54.890\nI can come in right to\nthe end of this append line.\n\n376\n00:19:54.890 --> 00:19:56.370\nSo I'll just go to the end of it.\n\n377\n00:19:57.650 --> 00:20:01.860\nAnd we can add right to it.\n\n378\n00:20:03.400 --> 00:20:08.960\nAnd so I'm just gonna add ks= and\nthen the kickstart information, right?\n\n379\n00:20:08.960 --> 00:20:14.370\nSo I can say that it's right here on\nthe CD-ROM and this one is going to be\n\n380\n00:20:14.370 --> 00:20:19.255\nin the root of the CD-ROM we're\nlooking for, what did I call them?\n\n381\n00:20:19.255 --> 00:20:24.269\nKS, no I did server.ks.cfg,\n\n382\n00:20:24.269 --> 00:20:28.354\nand with the other one I did\n\n383\n00:20:28.354 --> 00:20:33.754\nworkstation.ks.cfg, right?\n\n384\n00:20:33.754 --> 00:20:39.480\nSo now if I choose the first label it's\njust gonna install Red Hat normal style.\n\n385\n00:20:39.480 --> 00:20:43.700\nIf I choose the second label, it's gonna\ndo the media test and then do the install.\n\n386\n00:20:43.700 --> 00:20:46.460\nIf I choose the third label,\nit'll do the automated server install.\n\n387\n00:20:46.460 --> 00:20:48.217\nIt'll use the kickstart\nright there from the CD.\n\n388\n00:20:48.217 --> 00:20:53.203\nAnd if I do the fourth label, it's gonna\ngo ahead and do the workstation one,\n\n389\n00:20:53.203 --> 00:20:53.760\nright?\n\n390\n00:20:53.760 --> 00:20:57.290\nSo I'm telling it which kickstart\nfile to use right there in the menu.\n\n391\n00:20:57.290 --> 00:21:00.880\nSo this is a little more advanced\nthan just dropping a ks.cfg in there.\n\n392\n00:21:00.880 --> 00:21:02.410\nBut now I get choices, okay?\n\n393\n00:21:02.410 --> 00:21:04.710\nSo I can pick and choose what I want.\n\n394\n00:21:04.710 --> 00:21:07.968\nAnd now I might have 20 different\nkickstart files on there.\n\n395\n00:21:07.968 --> 00:21:10.830\nOne for workstations for the sales team,\none for workstations for\n\n396\n00:21:10.830 --> 00:21:12.650\nthe accounting team, and so on.\n\n397\n00:21:12.650 --> 00:21:15.260\nI just pick the appropriate one and\nthen I walk away.\n\n398\n00:21:15.260 --> 00:21:15.859\nAnd I know that when\n\n399\n00:21:15.859 --> 00:21:18.070\nit's done that workstation will be\nset up the way that I want it to be.\n\n400\n00:21:18.070 --> 00:21:22.887\n&gt;&gt; Now Don, do we have to make\nsure that there is no ks.cfg?\n\n401\n00:21:22.887 --> 00:21:27.351\nBecause if I'm remembering correctly, you\nsaid that if that file is in that bootable\n\n402\n00:21:27.351 --> 00:21:29.410\nmedia, that's what it's gonna run.\n\n403\n00:21:29.410 --> 00:21:30.900\nAnd it's gonna bypass all the others?\n\n404\n00:21:30.900 --> 00:21:33.257\n&gt;&gt; All right, so that's true for\nthe default menu options.\n\n405\n00:21:33.257 --> 00:21:34.060\n&gt;&gt; Okay.\n&gt;&gt; Okay,\n\n406\n00:21:34.060 --> 00:21:38.600\nso if I have a ks.cfg that's there,\nthe default menu options will have it.\n\n407\n00:21:38.600 --> 00:21:41.730\nBut on these new menu options that\nI created, the moment you put that\n\n408\n00:21:41.730 --> 00:21:46.148\nks parameter in there, that would override\nit automatically finding the ks.cfg.\n\n409\n00:21:46.148 --> 00:21:49.780\nSo I could safely leave it there, but\nI would just need to remember that hey,\n\n410\n00:21:49.780 --> 00:21:51.760\nthat applies to the normal install too.\n\n411\n00:21:51.760 --> 00:21:53.370\nSo that's going to apply in each.\n\n412\n00:21:53.370 --> 00:21:58.100\nNow there's one more thing that I might\nwanna do is if I wanna change the default.\n\n413\n00:21:58.100 --> 00:22:01.370\nI know I don't normally\nneed to test my media.\n\n414\n00:22:01.370 --> 00:22:04.650\nIf you're using a USB key or\nsomething, your media is pretty safe.\n\n415\n00:22:04.650 --> 00:22:06.180\nIf it's a CD, it's a good idea to have it.\n\n416\n00:22:06.180 --> 00:22:07.220\nThat's why it's the default.\n\n417\n00:22:07.220 --> 00:22:10.510\nAnd so there's this menu\ndefault option right here.\n\n418\n00:22:10.510 --> 00:22:12.830\nWell, I can take that and change it.\n\n419\n00:22:12.830 --> 00:22:16.781\nSo instead of having the test\nthe media one be the default,\n\n420\n00:22:16.781 --> 00:22:22.034\nI can get rid of that, and move the menu\ndefault to one of these other options.\n\n421\n00:22:22.034 --> 00:22:25.140\nAnd then that way it'll\ndefault to a different one.\n\n422\n00:22:25.140 --> 00:22:29.960\nSo if I want it to be one\nof the ones where it's\n\n423\n00:22:32.620 --> 00:22:36.118\nlike one of my kickstart ones,\nthen I can set that one as the default.\n\n424\n00:22:36.118 --> 00:22:38.620\nAnd it would pick it after 60 seconds\nif I didn't pick anything else.\n\n425\n00:22:38.620 --> 00:22:40.490\nSo you might have a standard workstation,\nwhatever.\n\n426\n00:22:41.980 --> 00:22:45.560\nAll right, so this is a slightly more\nadvanced variation of the last one.\n\n427\n00:22:45.560 --> 00:22:48.170\nAll I need to do is save this file,\nand then make an ISO image,\n\n428\n00:22:48.170 --> 00:22:49.400\njust like I did a minute ago.\n\n429\n00:22:49.400 --> 00:22:51.920\nAll right, but it's the same process,\nso I won't bore you with that.\n\n430\n00:22:51.920 --> 00:22:54.210\nBut if you save this now,\nwe've modified the menus.\n\n431\n00:22:54.210 --> 00:22:55.539\nAnd I'm doing it for kickstart,\n\n432\n00:22:55.539 --> 00:22:58.760\nthis is the same process you'd do it\nto modify it for just about anything.\n\n433\n00:22:58.760 --> 00:23:02.650\nSome people add a safe graphics boot,\nwhere you say like boot without using\n\n434\n00:23:02.650 --> 00:23:06.890\nthe video card drivers, or other different\noptions like that, that you can throw in.\n\n435\n00:23:06.890 --> 00:23:08.638\nSome people like to make one\nthat disables SELinux, so\n\n436\n00:23:08.638 --> 00:23:11.224\nyou'd boot up without that security\nsubsystem when you're troubleshooting.\n\n437\n00:23:11.224 --> 00:23:12.747\nOr enable a debug kernel,\n\n438\n00:23:12.747 --> 00:23:17.050\nthere's all sorts of reasons\npeople might add menu items.\n\n439\n00:23:17.050 --> 00:23:21.240\nAnd menu items get added for you too,\nwhenever RedHat upgrades versions,\n\n440\n00:23:21.240 --> 00:23:23.878\nyou'll see where it'll jump,\nand it'll have 7.2 and 7.3, so\n\n441\n00:23:23.878 --> 00:23:27.510\nthat you can boot to the old\nversion in case there's an issue.\n\n442\n00:23:27.510 --> 00:23:28.490\nSo you'll see those pop up.\n\n443\n00:23:28.490 --> 00:23:32.158\nAll right, but let's go even further.\n\n444\n00:23:32.158 --> 00:23:34.050\nWe're gonna turn this up to 11.\n\n445\n00:23:34.050 --> 00:23:38.230\nI mentioned in the last episode one of the\nproblems with burning everything to a CD\n\n446\n00:23:38.230 --> 00:23:39.610\nis what happens if you need to change it.\n\n447\n00:23:40.670 --> 00:23:42.670\nYou gotta go and burn the CD again.\n\n448\n00:23:42.670 --> 00:23:45.170\nSo a great option,\n\n449\n00:23:45.170 --> 00:23:50.500\nif you want the most flexibility, is to\nhave your kickstart file live online.\n\n450\n00:23:50.500 --> 00:23:53.779\nHave it on an FTP server, or some other\nnetwork server, NFS, or whatever,\n\n451\n00:23:53.779 --> 00:23:54.562\non your network.\n\n452\n00:23:54.562 --> 00:23:59.550\nAnd if you can have all your packages\nreside online, on a web server,\n\n453\n00:23:59.550 --> 00:24:02.562\nan NFS server, FTP, whatever, right.\n\n454\n00:24:02.562 --> 00:24:05.376\nAnd now when you make that bootable media,\n\n455\n00:24:05.376 --> 00:24:10.250\nIt doesn't need all the packages,\nit doesn't need to be 4 gigs in size.\n\n456\n00:24:10.250 --> 00:24:13.950\nIt can actually be really, really small.\n\n457\n00:24:13.950 --> 00:24:20.450\nAnd everything it needs can be\nright there in that one spot.\n\n458\n00:24:20.450 --> 00:24:23.239\nSo, for example, let me save this.\n\n459\n00:24:25.120 --> 00:24:32.298\nAnd looking at my folder here,\nthis folder if we do a look at it here.\n\n460\n00:24:32.298 --> 00:24:36.770\nLet's see,\n\n461\n00:24:36.770 --> 00:24:41.890\nso if I take a look at my\nRed Hat Enterprise Linux custom folder.\n\n462\n00:24:41.890 --> 00:24:46.660\nAll the data that's in there,\nit adds up to about 4 gigs in size, right?\n\n463\n00:24:46.660 --> 00:24:49.738\nSo, what is it, df-\n&gt;&gt; Actually, it says 4096,\n\n464\n00:24:49.738 --> 00:24:50.467\nlike dead on 4 gigs.\n\n465\n00:24:50.467 --> 00:24:53.144\n[LAUGH]\n&gt;&gt; That's not gigs, though, that's-\n\n466\n00:24:53.144 --> 00:24:55.130\n&gt;&gt; That's gigabytes, right?\n\n467\n00:24:55.130 --> 00:24:57.853\n&gt;&gt; Yeah, it's just that it's a folder.\n\n468\n00:24:57.853 --> 00:24:59.559\n&gt;&gt; Got you.\n\n469\n00:24:59.559 --> 00:25:01.980\n&gt;&gt; I forgot the command to actually\npull it up for an individual folder.\n\n470\n00:25:01.980 --> 00:25:06.710\nIt's like du or\nsomething [LAUGH] I should remember.\n\n471\n00:25:06.710 --> 00:25:10.776\nHere's du, so anyhow,\nit's about 4 gigs in size right there.\n\n472\n00:25:10.776 --> 00:25:13.430\nSo we got 4 gigs in size in\nthat folder because of all of\n\n473\n00:25:13.430 --> 00:25:15.120\nthe packages that are on it.\n\n474\n00:25:15.120 --> 00:25:18.485\nSo if I wanna build something\nthat's entirely online,\n\n475\n00:25:18.485 --> 00:25:20.860\nI can get rid of the packages.\n\n476\n00:25:20.860 --> 00:25:23.929\nI can go into the folder.\n\n477\n00:25:23.929 --> 00:25:30.096\nAnd I can do an rm -rf and\nget rid of the packages folder.\n\n478\n00:25:30.096 --> 00:25:31.585\nActually, I should have left that off,\nthere.\n\n479\n00:25:31.585 --> 00:25:35.290\nAnd that's gonna make this\nsignificantly smaller.\n\n480\n00:25:35.290 --> 00:25:38.650\nBecause the bulk of the size\nis coming from the-\n\n481\n00:25:40.690 --> 00:25:42.001\n&gt;&gt; Installation packages?\n\n482\n00:25:42.001 --> 00:25:45.810\n&gt;&gt; Yeah, so when I look at it now,\nI'm at 524 megs.\n\n483\n00:25:46.940 --> 00:25:49.450\nI just lopped off 3.5 gigs right there.\n\n484\n00:25:49.450 --> 00:25:51.728\nI can have a 1 gig USB key,\n\n485\n00:25:51.728 --> 00:25:56.502\nwhich you get at any trade show\nyou go [LAUGH] to for free.\n\n486\n00:25:56.502 --> 00:25:57.073\n&gt;&gt; Get that at a gas station.\n\n487\n00:25:57.073 --> 00:25:59.182\n[LAUGH]\n&gt;&gt; Yeah, find laying on the ground.\n\n488\n00:25:59.182 --> 00:26:00.682\n&gt;&gt; Yeah [LAUGH].\n&gt;&gt; Not a good idea to use those.\n\n489\n00:26:00.682 --> 00:26:01.212\n&gt;&gt; No, don't use that.\n\n490\n00:26:01.212 --> 00:26:04.210\n&gt;&gt; So you can take something like that and\nthrow this on here.\n\n491\n00:26:04.210 --> 00:26:06.060\nNow it becomes super simple to work with.\n\n492\n00:26:06.060 --> 00:26:08.530\nIt also means making the ISOs\nhappen a lot faster, too.\n\n493\n00:26:08.530 --> 00:26:10.070\nCuz it's just such a small one.\n\n494\n00:26:10.070 --> 00:26:11.903\nSo now I've really shrunk that down.\n\n495\n00:26:11.903 --> 00:26:13.550\nI got rid of the packages.\n\n496\n00:26:13.550 --> 00:26:17.740\nAnd what I can do now is I can\nget back into that folder, and\n\n497\n00:26:17.740 --> 00:26:19.310\nget back into the isolinux folder.\n\n498\n00:26:19.310 --> 00:26:26.712\nAnd I'm gonna go back into\nthe isolinux.cfg file.\n\n499\n00:26:26.712 --> 00:26:30.470\nAnd all this stuff that I added a minute\nago, these other layables and so on.\n\n500\n00:26:30.470 --> 00:26:33.210\nIf I want my system to be super simple and\nall online,\n\n501\n00:26:33.210 --> 00:26:37.570\nwhat I would do is I would come in here\nand I would take each of these menu items.\n\n502\n00:26:37.570 --> 00:26:41.410\nAnd for the Kickstart,\nI would point to a network location.\n\n503\n00:26:42.500 --> 00:26:46.670\nAnd that's what I did yesterday\nin the show where I hit Tab\n\n504\n00:26:46.670 --> 00:26:49.890\nto get the menu items and\nthen I put in an FTP server.\n\n505\n00:26:49.890 --> 00:26:56.445\nSo I can just jump right in here and\nsay, the server Kickstart is actually\n\n506\n00:26:56.445 --> 00:27:01.724\nat ftp://dpu laptop or\nwhatever your server's IP is.\n\n507\n00:27:01.724 --> 00:27:06.581\nSo for me, it's 1.1.1.1/server.ks.cfg.\n\n508\n00:27:06.581 --> 00:27:08.570\nAnd so now it knows, when I go to boot,\n\n509\n00:27:08.570 --> 00:27:11.750\nthat's where my Kickstart\nfile is going to be.\n\n510\n00:27:11.750 --> 00:27:13.360\nAnd then I can go to the workstation one.\n\n511\n00:27:13.360 --> 00:27:15.040\nAnd I can modify it the same way.\n\n512\n00:27:15.040 --> 00:27:17.824\nInstead of looking to a cd,\nwhich actually I left out.\n\n513\n00:27:17.824 --> 00:27:20.169\nLet's cover it up on ahead, here we go.\n\n514\n00:27:20.169 --> 00:27:24.360\nI left out cdrom:/ at\nthe beginning of that.\n\n515\n00:27:24.360 --> 00:27:27.030\nSo, sorry guys, I had a mistake in there.\n\n516\n00:27:27.030 --> 00:27:29.821\nHad I booted off this, it wouldn't\nhave worked, but I'll add that.\n\n517\n00:27:29.821 --> 00:27:32.102\nYou always have to put\nin what the protocol is.\n\n518\n00:27:32.102 --> 00:27:36.566\ncdrom:, hd:, nfs:, ftp:, or\n\n519\n00:27:36.566 --> 00:27:40.590\nhttp:, and then the URL.\n\n520\n00:27:40.590 --> 00:27:45.680\nSo I can point to that same FTP server or\nwherever this one is stored.\n\n521\n00:27:45.680 --> 00:27:47.660\nAnd now I know to get that\nKickstart from there.\n\n522\n00:27:48.780 --> 00:27:50.430\nSo I'm gonna boot off the disk.\n\n523\n00:27:50.430 --> 00:27:52.070\nIt's gonna look into the isolinux folder.\n\n524\n00:27:52.070 --> 00:27:53.386\nIt's gonna show me this menu.\n\n525\n00:27:53.386 --> 00:27:55.466\nI'm gonna call the menu and\n\n526\n00:27:55.466 --> 00:28:01.040\nit's going to point to a network\nlocation for the Kickstart.\n\n527\n00:28:01.040 --> 00:28:03.460\nThen it reaches out to the Kickstart file.\n\n528\n00:28:03.460 --> 00:28:05.920\nAnd when we set up that Kickstart file,\n\n529\n00:28:05.920 --> 00:28:10.160\nI'm just gonna pull up the web\nconfigurator for that again.\n\n530\n00:28:10.160 --> 00:28:14.730\nUnder Installation, in every example\nI did yesterday, I chose CD-ROM.\n\n531\n00:28:14.730 --> 00:28:18.930\nBut you can choose NFS,\nFTP, HTTP, and so on.\n\n532\n00:28:18.930 --> 00:28:21.530\nSo I might have an FTP server set up.\n\n533\n00:28:21.530 --> 00:28:25.850\nAnd I can specify the server\nthat I'm connecting to,\n\n534\n00:28:25.850 --> 00:28:28.449\nlike that, and the directory.\n\n535\n00:28:28.449 --> 00:28:35.267\nBecause I might have some particular\nlocation that this is gonna be in.\n\n536\n00:28:35.267 --> 00:28:42.442\nSo maybe it's in /pubs/rhel/7 or 7.2.\n\n537\n00:28:42.442 --> 00:28:47.930\nOr some people just do a current folder or\nwhatever, /Packages.\n\n538\n00:28:47.930 --> 00:28:53.170\nAnd so I'm telling it where it can\nfind the information that it needs.\n\n539\n00:28:53.170 --> 00:28:54.650\nAnd by doing that, it's gonna boot up.\n\n540\n00:28:54.650 --> 00:28:58.671\nIt's gonna look to the network for\nthe Kickstart file.\n\n541\n00:28:58.671 --> 00:29:02.129\nAnd then the Kickstart file is gonna\ntell it another place on the network.\n\n542\n00:29:02.129 --> 00:29:03.814\nMaybe on the same server,\nmaybe somewhere else,\n\n543\n00:29:03.814 --> 00:29:06.430\nwhere it can get the files\nto actually do the install.\n\n544\n00:29:06.430 --> 00:29:08.490\nEverything is being\npulled from the network.\n\n545\n00:29:08.490 --> 00:29:13.620\nSo the advantage of doing it this way is\nthat once I make that bootable media,\n\n546\n00:29:13.620 --> 00:29:15.960\nI never have to reburn the bootable media.\n\n547\n00:29:15.960 --> 00:29:19.400\nIf I need to change my Kickstart file,\nI just go to the network location and\n\n548\n00:29:19.400 --> 00:29:22.090\nedit the Kickstart file.\n\n549\n00:29:22.090 --> 00:29:26.980\nIf I did Red Hat 7.2 and\nRed Hat 7.3 comes out, I just go and\n\n550\n00:29:26.980 --> 00:29:30.630\nI update this location in the Kickstart\nfile and I point to the new location.\n\n551\n00:29:30.630 --> 00:29:33.480\nSo maybe this was pointing to 7.2.\n\n552\n00:29:33.480 --> 00:29:37.980\nAnd now I come in and\nI change it to 7.3, or even better.\n\n553\n00:29:37.980 --> 00:29:42.156\nIf you do a current folder,\nthat's our link to 7.2 and\n\n554\n00:29:42.156 --> 00:29:46.080\n7.3 comes out,\nyou just relink it over to 7.3.\n\n555\n00:29:46.080 --> 00:29:48.120\nSo now you don't even have to\nupdate the Kickstart file.\n\n556\n00:29:48.120 --> 00:29:51.150\nEvery time the new version comes out,\nyou test it, you certify it.\n\n557\n00:29:51.150 --> 00:29:52.410\nYou put it up on the FTP server and\n\n558\n00:29:52.410 --> 00:29:54.430\nyou relink the current to\npoint to the new version.\n\n559\n00:29:54.430 --> 00:29:58.015\nAnd now when you boot off that media,\nbecause the Kickstart's online,\n\n560\n00:29:58.015 --> 00:30:01.800\nbecause the packages are online,\nit gets the latest version and off you go.\n\n561\n00:30:01.800 --> 00:30:05.440\nThat's really the best solution,\nand it's small.\n\n562\n00:30:05.440 --> 00:30:07.000\nThat was a small installation.\n\n563\n00:30:07.000 --> 00:30:08.833\nYou can actually get it\neven lower than 500 megs.\n\n564\n00:30:08.833 --> 00:30:10.910\nThere's stuff on there that\nyou don't necessarily need.\n\n565\n00:30:10.910 --> 00:30:15.564\nAnd so once we get that down super small,\nwe can take that.\n\n566\n00:30:15.564 --> 00:30:18.850\nAnd we can boot off of a USB key,\nboot off of a CD if you want.\n\n567\n00:30:18.850 --> 00:30:22.710\nYou can put it on a PXE boot server,\nthe pre-execution environment.\n\n568\n00:30:22.710 --> 00:30:24.648\nSo now you boot up a computer.\n\n569\n00:30:24.648 --> 00:30:27.600\nAnd if it's got a blank hard drive,\nit tries to boot from the network adapter.\n\n570\n00:30:27.600 --> 00:30:31.320\nOr most computers just press F11, or\nF12, or whatever to get to boot menu.\n\n571\n00:30:31.320 --> 00:30:32.560\nAnd you pick the network.\n\n572\n00:30:32.560 --> 00:30:34.750\nIt looks on the network,\nit finds the PXE server.\n\n573\n00:30:34.750 --> 00:30:38.230\nAnd it hits this,\nit boots this up and it gets a menu.\n\n574\n00:30:38.230 --> 00:30:42.299\nAnd in the menu,\nI might have 12 different Kickstarts.\n\n575\n00:30:42.299 --> 00:30:45.770\nAnd I pick the one I want, and\neverything else happens over the network.\n\n576\n00:30:45.770 --> 00:30:46.450\nI walk away and\n\n577\n00:30:46.450 --> 00:30:50.920\nwhen I come back 30 minutes later,\nthe machine is all set up and it's done.\n\n578\n00:30:50.920 --> 00:30:53.500\nAnd I never have to\nre-burn that boot media.\n\n579\n00:30:53.500 --> 00:30:57.440\nWell, I didn't burn it in the first place\nif it's on a PXE server, and off we go.\n\n580\n00:30:57.440 --> 00:31:01.230\nThat's really a great way to quickly and\nrapidly deploy Red Hat systems.\n\n581\n00:31:01.230 --> 00:31:04.100\nAnd it gives you a lot more freedom\nthan just burning it all onto one disk.\n\n582\n00:31:04.100 --> 00:31:05.530\n&gt;&gt; Well done, Kickstart is a very,\n\n583\n00:31:05.530 --> 00:31:08.290\nvery flexible utility that we\nhave at our fingertips there.\n\n584\n00:31:08.290 --> 00:31:11.760\nI don't see any reason why\nwe should not be using that,\n\n585\n00:31:11.760 --> 00:31:13.970\nespecially if you're inside\nof a larger environment.\n\n586\n00:31:13.970 --> 00:31:17.190\nThis is gonna save you so\nmuch time and effort administrative,\n\n587\n00:31:17.190 --> 00:31:18.600\nheadache, which we hate.\n\n588\n00:31:18.600 --> 00:31:20.544\n&gt;&gt; [LAUGH]\n&gt;&gt; We've got better things to do than be\n\n589\n00:31:20.544 --> 00:31:22.600\ntrying to install servers all day long.\n\n590\n00:31:22.600 --> 00:31:24.150\nLet Kickstart handle it for you.\n\n591\n00:31:24.150 --> 00:31:26.441\nYou build it once,\nyou drop it in your FTP server.\n\n592\n00:31:26.441 --> 00:31:29.093\nYou put it on your web server,\nwhatever the case may be, and\n\n593\n00:31:29.093 --> 00:31:30.270\nlet that thing take over.\n\n594\n00:31:30.270 --> 00:31:33.560\nJust walk up to the server,\nboot it up to PXE, pick the one you want.\n\n595\n00:31:33.560 --> 00:31:37.030\nWalk away, go get your cup of coffee,\ndo something actually productive.\n\n596\n00:31:37.030 --> 00:31:39.711\nOther than that, Don, anything else\nwe need to know about Kickstart?\n\n597\n00:31:39.711 --> 00:31:40.980\n&gt;&gt; I think that's about it.\n\n598\n00:31:40.980 --> 00:31:44.210\nIf you come from the Windows world,\nthere's a similar technology for Windows,\n\n599\n00:31:44.210 --> 00:31:45.028\nand it's a pain.\n\n600\n00:31:45.028 --> 00:31:48.934\nBecause you've gotta write\nthe answer file, which is hard.\n\n601\n00:31:48.934 --> 00:31:52.268\nBut then you've gotta do all\nthe sysprep and the SID changing and\n\n602\n00:31:52.268 --> 00:31:54.020\nstuff that makes it a nightmare.\n\n603\n00:31:54.020 --> 00:31:56.220\nSo I usually won't mess with\nthat in the Windows world,\n\n604\n00:31:56.220 --> 00:31:58.740\nunless I'm talking about\na huge amount of computers.\n\n605\n00:31:58.740 --> 00:32:03.250\nBut Red Hat Kickstart is so easy that\nI'll do it if I have to install three or\n\n606\n00:32:03.250 --> 00:32:03.930\nmore servers.\n\n607\n00:32:03.930 --> 00:32:06.450\nSo a really low threshold for\nentry on this one.\n\n608\n00:32:06.450 --> 00:32:07.940\nDefinitely take advantage of it.\n\n609\n00:32:07.940 --> 00:32:10.740\nIt also works on CentOS,\nit uses the same files.\n\n610\n00:32:10.740 --> 00:32:14.770\nSo if you write a Kickstart for Red Hat,\nyou can use the same Kickstart for\n\n611\n00:32:14.770 --> 00:32:17.590\nCentOS, and get the deployments there.\n\n612\n00:32:17.590 --> 00:32:19.350\nThey work for Fedora, too.\n\n613\n00:32:19.350 --> 00:32:23.603\nBut you gotta be careful cuz there's a lot\nof new features that get rolled out in\n\n614\n00:32:23.603 --> 00:32:24.130\nFedora.\n\n615\n00:32:24.130 --> 00:32:25.748\nSo a Red Hat Kickstart file or\n\n616\n00:32:25.748 --> 00:32:29.220\nan RHEL Kickstart file will\nusually work on Fedora.\n\n617\n00:32:29.220 --> 00:32:32.320\nBut a Fedora Kickstart file won't\nalways work on RHEL cuz sometimes,\n\n618\n00:32:32.320 --> 00:32:33.500\nthere's new features implemented.\n\n619\n00:32:33.500 --> 00:32:34.784\nSo just be aware of that.\n\n620\n00:32:34.784 --> 00:32:37.675\n&gt;&gt; All right, well that is\nKickstart wrapped up in a ball.\n\n621\n00:32:37.675 --> 00:32:41.345\nI know it took two parts, but\nit was two parts totally worth it.\n\n622\n00:32:41.345 --> 00:32:43.920\nLet's give a big thanks to Don for\nshowing us how to do that.\n\n623\n00:32:43.920 --> 00:32:47.963\nAnd we will now be installing our\nservers at a much easier pace,\n\n624\n00:32:47.963 --> 00:32:49.500\nwhich we all love to do.\n\n625\n00:32:49.500 --> 00:32:52.900\nWith that being said, look at the clock,\nwe've run out of time for today.\n\n626\n00:32:52.900 --> 00:32:54.250\nWe thank you guys for joining us.\n\n627\n00:32:54.250 --> 00:32:56.358\nBut we are gonna sign off for ITProTV.\n\n628\n00:32:56.358 --> 00:32:57.880\nI've been your host, Daniel Lowrie.\n\n629\n00:32:57.880 --> 00:32:58.780\n&gt;&gt; And I'm Don Pezet.\n\n630\n00:32:58.780 --> 00:33:00.941\n&gt;&gt; We'll see you next time.\n\n631\n00:33:00.941 --> 00:33:06.919\n[MUSIC]\n\n632\n00:33:06.919 --> 00:33:13.829\n&gt;&gt; Thank you for watching ITPRO.TV\n\n",
          "vimeoId": "193564204"
        },
        {
          "description": "In this episode, Daniel and Don attempt to dispel some of the mystery and even controversy that is Systemd. They explain what systemd is and what it does. They then introduce you to some key terms like Unit and Target. Finally they show you how to manage services, run-levels, and system power with the `systemctl` command.",
          "length": "2085",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-1-5-systemd-111716.00_34_29_00.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-1-5-systemd-111716.00_34_29_00.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-1-5-systemd-111716.00_34_29_00.Still001-sm.jpg",
          "title": "systemd",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:01.519\nWelcome to ITProTV.\n\n2\n00:00:01.519 --> 00:00:02.617\nI'm your host Don Pezet.\n\n3\n00:00:02.617 --> 00:00:05.636\n[CROSSTALK]\n&gt;&gt; Live from San Francisco, California.\n\n4\n00:00:05.636 --> 00:00:12.277\n[CROSSTALK]\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.277 --> 00:00:13.090\n&gt;&gt; All right.\n\n6\n00:00:13.090 --> 00:00:15.930\nGreetings everyone and welcome to\nanother great episode of ITProTV.\n\n7\n00:00:15.930 --> 00:00:17.710\nI'm your host Daniel Lowrie.\n\n8\n00:00:17.710 --> 00:00:20.800\nIn today's episode we\nare moving on with more on our\n\n9\n00:00:20.800 --> 00:00:23.100\nRed Hat Enterprise Linux version 7 series.\n\n10\n00:00:23.100 --> 00:00:25.270\nThat's right I can say it correctly.\n\n11\n00:00:25.270 --> 00:00:26.880\nAnd joining us back in the studio for\n\n12\n00:00:26.880 --> 00:00:30.740\nsomething about system D is our\ngood friend, Mr Don Pizzet.\n\n13\n00:00:30.740 --> 00:00:33.420\nDon, welcome back Sir,\nwhat is the system D and how are you?\n\n14\n00:00:33.420 --> 00:00:34.720\n&gt;&gt; Boy let me tell you,\nI'm doing great Daniel.\n\n15\n00:00:34.720 --> 00:00:37.620\nAnd I'm entering into this episode\nwith a little bit of trepidation,\n\n16\n00:00:37.620 --> 00:00:41.920\nbecause, System D is a bit\nof a controversial subject.\n\n17\n00:00:41.920 --> 00:00:43.070\n&gt;&gt; It is.\n\n18\n00:00:43.070 --> 00:00:44.725\n&gt;&gt; If your ever bored-\n&gt;&gt; Google that.\n\n19\n00:00:44.725 --> 00:00:48.530\n&gt;&gt; -go onto any Linux forum on\nthe internet and just push the questions.\n\n20\n00:00:48.530 --> 00:00:53.094\nPunch in there, what do you guys\nthink is wrong with SystemD.\n\n21\n00:00:53.094 --> 00:00:54.143\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n22\n00:00:54.143 --> 00:00:55.670\n&gt;&gt; And just proceed to-\n\n23\n00:00:55.670 --> 00:00:56.870\n&gt;&gt; Get the popcorn out.\n\n24\n00:00:56.870 --> 00:00:58.152\n&gt;&gt; Yeah, yeah, it's amazing.\n\n25\n00:00:58.152 --> 00:01:04.350\nSo systemD is the new boot system that\nis a part of Red Hat enterprise Linux.\n\n26\n00:01:04.350 --> 00:01:07.720\nIt was rolled in with Red Hat 7 and\n\n27\n00:01:07.720 --> 00:01:12.070\nit was fully tested over in Fedora and all\nthat stuff before it made it into Red Hat.\n\n28\n00:01:12.070 --> 00:01:13.600\nBut it's a big change.\n\n29\n00:01:13.600 --> 00:01:16.750\nIt's a change to the way the system boots\nup, and the way that we interact with\n\n30\n00:01:16.750 --> 00:01:21.110\nthe system, and so on, that's just\ndifferent from what we had before.\n\n31\n00:01:21.110 --> 00:01:24.310\nAnd in a way,\ngives us a lot more power and flexibility.\n\n32\n00:01:24.310 --> 00:01:29.500\nBut there's a lot of people that\nare true to the Unix ideal that was\n\n33\n00:01:29.500 --> 00:01:32.530\nestablished back in the 1970s\nthat just don't want to let go.\n\n34\n00:01:32.530 --> 00:01:33.970\nAnd so it is a big change.\n\n35\n00:01:33.970 --> 00:01:35.760\nAnd a lot of people\nare not happy about it.\n\n36\n00:01:35.760 --> 00:01:36.790\nNow, I say a lot of people.\n\n37\n00:01:36.790 --> 00:01:39.470\nIt's actually like\na really vocal minority.\n\n38\n00:01:39.470 --> 00:01:42.350\nObviously, Red Hat wouldn't\nroll out a technology if most\n\n39\n00:01:42.350 --> 00:01:43.234\neverybody hated it right?\n\n40\n00:01:43.234 --> 00:01:43.920\n&gt;&gt; [LAUGH] Yeah.\n\n41\n00:01:43.920 --> 00:01:45.630\n&gt;&gt; So\nit is something that people have adopted.\n\n42\n00:01:45.630 --> 00:01:46.980\nAnd I personally like it.\n\n43\n00:01:46.980 --> 00:01:49.160\nIt's a little easier to work with,\nin my opinion.\n\n44\n00:01:49.160 --> 00:01:50.310\nBut who am I, right?\n\n45\n00:01:50.310 --> 00:01:53.470\nI'm not some operating system engineer or\nanything.\n\n46\n00:01:53.470 --> 00:01:56.690\nBut, there are people that have\nsome very divided opinions on it.\n\n47\n00:01:56.690 --> 00:02:00.340\nBut it doesn't matter because if you're\nusing Red Hat, when you go to Red Hat 7,\n\n48\n00:02:00.340 --> 00:02:03.250\nyou will be using systemD,\nthere's no choice to turn it off.\n\n49\n00:02:03.250 --> 00:02:06.430\nSo we need to understand what it is,\nwhat it does, and\n\n50\n00:02:06.430 --> 00:02:09.170\nhow we work with it in order to\nbe happy and maintain Red Hats.\n\n51\n00:02:09.170 --> 00:02:11.820\nThat's what we're gonna take a look\nat right here in this episode.\n\n52\n00:02:11.820 --> 00:02:14.360\n&gt;&gt; So Don\n&gt;&gt; What is systemd?\n\n53\n00:02:14.360 --> 00:02:16.910\n&gt;&gt; All right.\nSo when you boot Linux up,\n\n54\n00:02:16.910 --> 00:02:19.380\nyou push the power\nbutton on your computer.\n\n55\n00:02:19.380 --> 00:02:23.100\nAnd your BIOS or UEFI kicks in.\n\n56\n00:02:23.100 --> 00:02:25.610\nIt finds the operating\nsystem on the hard drive.\n\n57\n00:02:25.610 --> 00:02:27.290\nIt reaches out to the hard drive.\n\n58\n00:02:27.290 --> 00:02:29.200\nIt looks in there and\nfinds the boot loader.\n\n59\n00:02:29.200 --> 00:02:31.400\nThe boot loader tells\nit where the kernel is.\n\n60\n00:02:31.400 --> 00:02:34.520\nAnd the kernel starts Linux, right?\n\n61\n00:02:34.520 --> 00:02:36.130\nWell, the kernel's actually really small.\n\n62\n00:02:36.130 --> 00:02:37.880\nThere's not all that much in the kernel.\n\n63\n00:02:37.880 --> 00:02:41.450\nIt's usually one and a half megs in size.\n\n64\n00:02:41.450 --> 00:02:46.150\nA lot of people say, man,\nhow did Linus Torvalds write all of Linux?\n\n65\n00:02:46.150 --> 00:02:50.520\nAnd you just gotta remember that\nLinux is actually just the kernel,\n\n66\n00:02:50.520 --> 00:02:52.860\neverything else is software\nthat's been developed by\n\n67\n00:02:52.860 --> 00:02:56.330\ntens of thousands of people and\nit's an impressive project as a whole.\n\n68\n00:02:56.330 --> 00:03:00.060\nIt's way beyond what one person\ncould achieve but that kernel\n\n69\n00:03:00.060 --> 00:03:04.920\nis really just responsible for\nallowing software to talk to hardware.\n\n70\n00:03:04.920 --> 00:03:08.260\nI mean that's really what it does\nis allowing access to the CPU and\n\n71\n00:03:08.260 --> 00:03:09.620\ncommunicating.\n\n72\n00:03:09.620 --> 00:03:12.160\nSo after that we have\nall of the software and\n\n73\n00:03:12.160 --> 00:03:16.860\nsomething has to turn the software on,\nand that's the initialization sequence.\n\n74\n00:03:16.860 --> 00:03:21.790\nAnd in previous versions of Red Hat,\nwe had what was called the SysVinit,\n\n75\n00:03:21.790 --> 00:03:23.580\nor system five init.\n\n76\n00:03:23.580 --> 00:03:25.243\nWhen Linux was originally created,\n\n77\n00:03:25.243 --> 00:03:29.850\nLinux Torvalds, he set out to create\na Unix like operating system.\n\n78\n00:03:29.850 --> 00:03:33.310\nAnd originally he set out for\nbinary compatibility, and\n\n79\n00:03:33.310 --> 00:03:34.710\nI think they abandoned that a while ago.\n\n80\n00:03:34.710 --> 00:03:39.130\nBut But basically it wanted\nto function just like UNIX.\n\n81\n00:03:39.130 --> 00:03:44.400\nAnd UNIX was System 5 back then, like\nSys5, R5 or something like that back then.\n\n82\n00:03:44.400 --> 00:03:48.380\nAnd so we had System 5 in it\nin most Linux distribution.\n\n83\n00:03:48.380 --> 00:03:51.630\nSo if you ran Slackware or RedHat or\n\n84\n00:03:51.630 --> 00:03:56.410\nUbuntu, Debian, any of those guys,\neverybody has Sys5 or SysV in it.\n\n85\n00:03:56.410 --> 00:03:58.630\nWell, over time there were some changes.\n\n86\n00:03:58.630 --> 00:04:01.160\nWe had a new variation that\ncame out called Upstart and\n\n87\n00:04:01.160 --> 00:04:03.800\nUpstart was really compatible with sys5.\n\n88\n00:04:03.800 --> 00:04:06.290\nIt just kind of added\nsome extra functionality.\n\n89\n00:04:06.290 --> 00:04:08.030\nPeople were okay with that.\n\n90\n00:04:08.030 --> 00:04:10.560\nWell, systemD came along.\n\n91\n00:04:10.560 --> 00:04:15.350\nWith systemD they said here's\na new initialization system and\n\n92\n00:04:15.350 --> 00:04:17.440\nit works completely different.\n\n93\n00:04:17.440 --> 00:04:19.340\nThe old system, SysVinit.\n\n94\n00:04:19.340 --> 00:04:21.590\nWhen your system booted\nthe kernel loaded up.\n\n95\n00:04:21.590 --> 00:04:25.370\nAnd then it would call a series of\nscripts, you had a bunch of script files,\n\n96\n00:04:25.370 --> 00:04:28.570\nthat would all get called as part\nof your systems boot process.\n\n97\n00:04:28.570 --> 00:04:32.090\nAnd that would start your services and\nmount your hard drives and\n\n98\n00:04:32.090 --> 00:04:35.030\nall the other things that needed to\nhappen as part of the boot process\n\n99\n00:04:35.030 --> 00:04:36.670\nIt was all handled by script files.\n\n100\n00:04:36.670 --> 00:04:39.990\nScript files that you could go in and\nedit, and change that behavior, and\n\n101\n00:04:39.990 --> 00:04:40.880\noff you went, right.\n\n102\n00:04:42.380 --> 00:04:44.690\nHere, let me just show you.\n\n103\n00:04:44.690 --> 00:04:47.120\nThe directories and\nstuff are still present in Red Hat for\n\n104\n00:04:47.120 --> 00:04:50.910\nbackwards compatibility, but they're not\nused the same way as they used to be.\n\n105\n00:04:50.910 --> 00:04:57.099\nBut if you ever get bored and\nbrowse into /etc /Init.d right.\n\n106\n00:04:57.099 --> 00:05:02.900\nInit.d that's where the SysVinit\nbootscripts are located.\n\n107\n00:05:02.900 --> 00:05:07.030\nAnd this folder used to be\npacked full of stuff and\n\n108\n00:05:07.030 --> 00:05:10.630\nwhen i come in here now,\nthere's seven or eight files.\n\n109\n00:05:10.630 --> 00:05:11.730\nNot much in here at all.\n\n110\n00:05:11.730 --> 00:05:14.570\nRight, in fact some of this\nare VMware tools just because I'm in\n\n111\n00:05:14.570 --> 00:05:15.300\na virtual machine.\n\n112\n00:05:15.300 --> 00:05:18.140\nThese wouldn't even be here by default so\nit'd be even less and\n\n113\n00:05:18.140 --> 00:05:21.030\nthat's because these really\naren't used anymore.\n\n114\n00:05:21.030 --> 00:05:22.340\nBut they used to be.\n\n115\n00:05:22.340 --> 00:05:25.200\nIt used to be you had a ton of stuff in\nhere, and they were all called in order.\n\n116\n00:05:25.200 --> 00:05:27.550\nThey'd have little numbers\nto change their order.\n\n117\n00:05:27.550 --> 00:05:31.440\nOr sometimes there were links in here\nthat would point to directories in other\n\n118\n00:05:31.440 --> 00:05:33.210\nplaces, so that you had even more scripts.\n\n119\n00:05:33.210 --> 00:05:34.740\nYou had tons and tons of scripts.\n\n120\n00:05:34.740 --> 00:05:36.900\nJust fire up Red Hat 6.5 or earlier and\n\n121\n00:05:36.900 --> 00:05:40.420\nyou'll see them,\nall these different scripts and locations.\n\n122\n00:05:40.420 --> 00:05:42.460\nWell, a lot of admins like that.\n\n123\n00:05:42.460 --> 00:05:46.550\nBack in the day the principle of Unix\nwas that everything could be represented\n\n124\n00:05:46.550 --> 00:05:47.170\nas a file.\n\n125\n00:05:47.170 --> 00:05:50.260\nIf it was memory, it was network\nconnectivity, if it was whatever.\n\n126\n00:05:50.260 --> 00:05:52.410\nEverything was represented as a file.\n\n127\n00:05:52.410 --> 00:05:54.720\nAnd here we had these init scripts,\nit was all in line with that.\n\n128\n00:05:55.940 --> 00:06:01.730\nSystemd comes along, and systemd\nsays instead of a series of scripts,\n\n129\n00:06:01.730 --> 00:06:06.990\nwe're gonna create one monolithic program,\none big program, and\n\n130\n00:06:06.990 --> 00:06:11.750\nthat program is gonna take control of\nthe whole initialization sequence and\n\n131\n00:06:11.750 --> 00:06:16.210\nit is going to take care of attaching\nhardware and mapping network drives.\n\n132\n00:06:16.210 --> 00:06:21.860\nIt's gonna take care of firing up\nservices and in controlling that access.\n\n133\n00:06:21.860 --> 00:06:26.420\nIt's going to do a lot of what\nused to happen in scripts.\n\n134\n00:06:26.420 --> 00:06:28.610\nAnd it's even gonna take\nover things like logging,\n\n135\n00:06:28.610 --> 00:06:30.880\nwhere we've had Syslog forever, right?\n\n136\n00:06:30.880 --> 00:06:32.300\nEverybody's used to Syslog.\n\n137\n00:06:32.300 --> 00:06:37.000\nWell, we still have Syslog under Red Hat\n7, and we'll have it for a while longer.\n\n138\n00:06:37.000 --> 00:06:39.790\nBut we now have full logging in systemd,\nand\n\n139\n00:06:39.790 --> 00:06:41.910\nthat's where you're supposed to\nlook when you're troubleshooting.\n\n140\n00:06:41.910 --> 00:06:42.882\nThat's the new logs.\n\n141\n00:06:42.882 --> 00:06:46.900\nSo systemd changed a lot of things, and\nthat's really where the controversy is.\n\n142\n00:06:46.900 --> 00:06:47.840\nPeople don't like change.\n\n143\n00:06:47.840 --> 00:06:49.435\nThat's, especially Unix admins.\n\n144\n00:06:49.435 --> 00:06:52.061\n&gt;&gt; [LAUGH]\n&gt;&gt; They just don't like change [LAUGH].\n\n145\n00:06:52.061 --> 00:06:56.080\nSo, and I don't blame them, but\nat the same time you need to embrace\n\n146\n00:06:56.080 --> 00:06:59.640\nnew things so\nthat you can function in our world.\n\n147\n00:06:59.640 --> 00:07:01.470\n&gt;&gt; Yeah stay with the modern\nyour exactly right.\n\n148\n00:07:01.470 --> 00:07:04.920\nYou can probably get that yourself but\nrealize that.\n\n149\n00:07:04.920 --> 00:07:09.150\nAnd if someone comes in and completely\nparadime shifts how you do everything\n\n150\n00:07:09.150 --> 00:07:11.540\nwell you're probably going to\nbristle your hairs a little bit and\n\n151\n00:07:11.540 --> 00:07:14.700\nsay well I don't want to I like\nthe way I know how to do this.\n\n152\n00:07:14.700 --> 00:07:17.580\nI don't want to learn something new\njust so I can do the same things.\n\n153\n00:07:17.580 --> 00:07:20.670\nBut like Don said, technology changes,\nyou have to stay on top of it.\n\n154\n00:07:20.670 --> 00:07:24.010\nAs we always say in this business you\nnever step in the same river twice.\n\n155\n00:07:24.010 --> 00:07:27.520\nThat water is constantly moving so\nit looks like we're in it for\n\n156\n00:07:27.520 --> 00:07:29.690\nthe long haul when it comes to Systemd.\n\n157\n00:07:29.690 --> 00:07:31.240\n&gt;&gt; All right so let's take a look at it.\n\n158\n00:07:31.240 --> 00:07:34.164\nThe first thing I want to point out\nis that normally when we talk about\n\n159\n00:07:34.164 --> 00:07:37.923\nthe initialization sequence, we're really\njust thinking about services, right?\n\n160\n00:07:37.923 --> 00:07:41.804\nAnd that's been kind of that way for\na long time so In earlier versions of\n\n161\n00:07:41.804 --> 00:07:45.551\nRed Hat, if I installed mySQL, and\nI wanted mySQL to start on boot and\n\n162\n00:07:45.551 --> 00:07:49.259\nall that, I would have to enable\nthe service, and set it to boot up.\n\n163\n00:07:49.259 --> 00:07:54.221\nAnd you had utilities like the check\nconfig command that would tell it hey,\n\n164\n00:07:54.221 --> 00:07:59.100\nturn this on when I boot up, or\nservice start mySQL d, and then ch config,\n\n165\n00:07:59.100 --> 00:08:04.453\nmySQL d, on to make sure that it came on\nevery time we booted Well, those services\n\n166\n00:08:04.453 --> 00:08:09.940\nnow get handled by System D, but\nSystem D handles a lot of other stuff too.\n\n167\n00:08:09.940 --> 00:08:12.630\nSystem D technically handles\nwhat are called units, and\n\n168\n00:08:12.630 --> 00:08:16.130\na unit can be a service, but\na unit can be other things too.\n\n169\n00:08:16.130 --> 00:08:18.350\nLet me show you the System D units.\n\n170\n00:08:18.350 --> 00:08:24.540\nSo with the old System V init,\n/etc, /init.d.\n\n171\n00:08:24.540 --> 00:08:27.780\nThat was the folder,\nthat was the place you wanted to go.\n\n172\n00:08:27.780 --> 00:08:36.210\nIn system d, you wanna take a look\nat /lib/systemd/system, all right?\n\n173\n00:08:36.210 --> 00:08:39.420\nThat's where all the units for\nsystem D are stored.\n\n174\n00:08:39.420 --> 00:08:43.790\nAnd when you look in there,\nthere's quite a bit, right?\n\n175\n00:08:43.790 --> 00:08:48.250\nAnd these are all units that are being\nlooked at when our system boots up, and\n\n176\n00:08:48.250 --> 00:08:49.800\nmany of them are services.\n\n177\n00:08:49.800 --> 00:08:51.890\nYou can spot a service,\nbecause it ends in .service.\n\n178\n00:08:51.890 --> 00:08:54.910\nThat's the nice thing about a unit, is\nthat at the end, it tells you what it is.\n\n179\n00:08:54.910 --> 00:09:00.470\nThis is a service, but there are other\nthings in here like, Here's a socket.\n\n180\n00:09:00.470 --> 00:09:03.310\nSo now we're talking about\na network connection of some kind,\n\n181\n00:09:03.310 --> 00:09:07.720\nor a network connection between two\nsystems, right here on the same box.\n\n182\n00:09:07.720 --> 00:09:10.560\nWhich, in this case, shut down d is\nactually a connection on the same box.\n\n183\n00:09:10.560 --> 00:09:12.580\nSo that one's a socket.\n\n184\n00:09:12.580 --> 00:09:14.330\nI think I saw a timer in here somewhere.\n\n185\n00:09:14.330 --> 00:09:14.850\nYeah, here.\n\n186\n00:09:14.850 --> 00:09:16.780\nHere's a temp files clean, timer.\n\n187\n00:09:17.900 --> 00:09:18.820\nWell, what's a timer?\n\n188\n00:09:18.820 --> 00:09:20.165\nWell remember Cron?\n\n189\n00:09:20.165 --> 00:09:21.510\n&gt;&gt; Mm-hm.\n&gt;&gt; And you can set up Cron jobs,\n\n190\n00:09:21.510 --> 00:09:24.130\nwell, in system d we can\nset up timers instead.\n\n191\n00:09:24.130 --> 00:09:25.310\nSo we can phase out cron.\n\n192\n00:09:25.310 --> 00:09:28.105\nNow that's-\n&gt;&gt; You're really talking heresy now\n\n193\n00:09:28.105 --> 00:09:29.425\n[LAUGH]\n&gt;&gt; Don't sweat it,\n\n194\n00:09:29.425 --> 00:09:31.100\nCron's gonna be around a while longer.\n\n195\n00:09:31.100 --> 00:09:35.470\nBut, this is the point of system d, is\nthat system d can manage all this stuff.\n\n196\n00:09:35.470 --> 00:09:37.020\nAnd that's where a lot of\nthe paranoia comes from,\n\n197\n00:09:37.020 --> 00:09:40.130\npeople are saying hey,\nyou're taking away our control of this,\n\n198\n00:09:40.130 --> 00:09:43.940\nwe're losing Cron,\nwe're losing all these different things.\n\n199\n00:09:43.940 --> 00:09:48.240\nAnd it's all going into this one software,\nthat, if I want to push a change and\n\n200\n00:09:48.240 --> 00:09:50.280\nit doesn't get approved,\nI'm just out of luck.\n\n201\n00:09:50.280 --> 00:09:54.230\nAnd you can't take system d out, cuz it's\nrunning the heart of the system, and\n\n202\n00:09:54.230 --> 00:09:56.370\nthat's where people\nare starting to get worried.\n\n203\n00:09:56.370 --> 00:09:59.550\nBut, you don't certainly\nhave to use these.\n\n204\n00:09:59.550 --> 00:10:02.290\nAs we scroll back though,\nyou'll see there's more things in here.\n\n205\n00:10:02.290 --> 00:10:06.130\nWhat I'm looking for in particular,\nhere we go, mounts, right?\n\n206\n00:10:06.130 --> 00:10:07.890\nSo here's some fuse mounts.\n\n207\n00:10:07.890 --> 00:10:12.550\nFuse is a subsystem in Red Hat that\nlets you mount things like NTFS and\n\n208\n00:10:12.550 --> 00:10:15.700\nin other file systems that aren't\nnormally Linux file systems.\n\n209\n00:10:15.700 --> 00:10:20.340\nYou'll see other mounts that are just for\nmounting regular disks, or CDs,\n\n210\n00:10:20.340 --> 00:10:21.918\nand so on, so there's some mounts.\n\n211\n00:10:21.918 --> 00:10:24.830\nWe've got targets.\n\n212\n00:10:24.830 --> 00:10:29.850\nTargets are neat, because a target\nis actually a collection of units.\n\n213\n00:10:29.850 --> 00:10:32.270\nSometimes one unit depends on other units,\nright?\n\n214\n00:10:32.270 --> 00:10:34.080\nAnd they need to be started together.\n\n215\n00:10:34.080 --> 00:10:35.840\nIf you just start one,\nit's going to break something, right?\n\n216\n00:10:35.840 --> 00:10:37.330\nSo you need them to start together.\n\n217\n00:10:37.330 --> 00:10:41.480\nSo it will create a target,\nwhich is a collection of units, and\n\n218\n00:10:41.480 --> 00:10:45.740\nthat collection might be made up of\nservices, sockets, mounts, and so on.\n\n219\n00:10:45.740 --> 00:10:47.280\nSo they get started together.\n\n220\n00:10:47.280 --> 00:10:51.640\nSo targets are like groups, and\nthen the units are the individual items.\n\n221\n00:10:51.640 --> 00:10:54.493\nYou can also see these wants, right?\n\n222\n00:10:54.493 --> 00:10:59.166\nSysinit.target wants,\nI've got sysinit.target right here,\n\n223\n00:10:59.166 --> 00:11:02.718\nright, that's the actual group of units.\n\n224\n00:11:02.718 --> 00:11:05.950\nAnd then wants is saying,\nwhen I start up sysinit,\n\n225\n00:11:05.950 --> 00:11:08.930\nit would be nice if I could\nalso start these other things.\n\n226\n00:11:08.930 --> 00:11:12.050\nI want these other things to be\nstarted before I start, right?\n\n227\n00:11:12.050 --> 00:11:14.490\nNot started at the same time,\nbut before I start.\n\n228\n00:11:14.490 --> 00:11:16.770\nAnd so, they can be separated\nout into a wants file.\n\n229\n00:11:16.770 --> 00:11:18.940\nSo you'll see those pop\nup from time to time.\n\n230\n00:11:18.940 --> 00:11:20.480\nAnd that's a directory.\n\n231\n00:11:20.480 --> 00:11:23.590\nSo inside of that directory would\nthen be a list of the units,\n\n232\n00:11:23.590 --> 00:11:26.230\nwhich are typically links\nback to the units here.\n\n233\n00:11:26.230 --> 00:11:29.120\nIt does get a little confusing\nwith the way the links work, but\n\n234\n00:11:29.120 --> 00:11:32.350\nyou don't want to have two copies\nof the same service, for example.\n\n235\n00:11:32.350 --> 00:11:34.471\nYou just need one, and\nthat's why the links are used.\n\n236\n00:11:34.471 --> 00:11:36.270\nLet's see, what else do we have?\n\n237\n00:11:36.270 --> 00:11:37.913\nI think those are the main ones.\n\n238\n00:11:37.913 --> 00:11:38.930\nI'm trying to think if there was\nanything else I wanna mention.\n\n239\n00:11:38.930 --> 00:11:42.320\nWell here I've got a list.\n\n240\n00:11:42.320 --> 00:11:45.660\nSo we saw mounts, we saw service,\nwe saw socket, we saw target.\n\n241\n00:11:45.660 --> 00:11:48.170\nCouple other ones,\nI'm just using my cheat sheet here.\n\n242\n00:11:48.170 --> 00:11:51.100\nAutomounts, which I hate automounts, but\n\n243\n00:11:51.100 --> 00:11:54.110\nsome people love them,\nwhich is you pop a CD in the computer and\n\n244\n00:11:54.110 --> 00:11:56.628\nit automatically mounts it into\nthat really annoying folder.\n\n245\n00:11:56.628 --> 00:12:00.370\nIt's like /run/media/ the user\nname of whoever the heck was\n\n246\n00:12:00.370 --> 00:12:01.100\nlogged in at the time.\n\n247\n00:12:01.100 --> 00:12:04.180\nI know, this is me not liking change.\n\n248\n00:12:04.180 --> 00:12:05.290\nI'll mount it myself.\n\n249\n00:12:05.290 --> 00:12:06.120\n&gt;&gt; Do it my way.\n\n250\n00:12:06.120 --> 00:12:07.450\n&gt;&gt; New users, they don't wanna do that.\n\n251\n00:12:07.450 --> 00:12:09.210\nSo anyway, those are automounts.\n\n252\n00:12:09.210 --> 00:12:12.022\nDevice.\nI'm actually surprised I didn't see any\n\n253\n00:12:12.022 --> 00:12:13.530\n.devices here.\n\n254\n00:12:13.530 --> 00:12:15.340\n&gt;&gt; You don't have any devices.\n\n255\n00:12:15.340 --> 00:12:16.700\n&gt;&gt; I guess.\nWell,\n\n256\n00:12:16.700 --> 00:12:20.490\nmy hardware was completely supported, so\nI didn't have to load any custom drivers.\n\n257\n00:12:20.490 --> 00:12:23.992\nSo I imagine I don't need any devices.\n\n258\n00:12:23.992 --> 00:12:24.740\n&gt;&gt; [INAUDIBLE] grip?\n\n259\n00:12:24.740 --> 00:12:28.790\n&gt;&gt; Yeah, I could just do a *.device.\n\n260\n00:12:30.520 --> 00:12:31.480\nNone.\n&gt;&gt; Are no devices.\n\n261\n00:12:31.480 --> 00:12:32.440\n&gt;&gt; We've got none, all right.\n\n262\n00:12:32.440 --> 00:12:36.060\nSo, apparently,\nI don't have any custom devices loaded.\n\n263\n00:12:36.060 --> 00:12:39.930\nYou've got snapshot,\nwhich would be a snapshot system.\n\n264\n00:12:39.930 --> 00:12:42.310\nWe use those with virtualizations and\nfile systems,\n\n265\n00:12:42.310 --> 00:12:45.170\nin databases that you have\nthe snapshot functionality.\n\n266\n00:12:45.170 --> 00:12:48.780\nPath, if we have a path defined.\n\n267\n00:12:48.780 --> 00:12:53.211\nPath is not so critical, cuz we usually do\nmounts to be able to mount network paths\n\n268\n00:12:53.211 --> 00:12:54.721\nthat are coming and going.\n\n269\n00:12:54.721 --> 00:12:57.585\nLocal paths are normally there already,\nbut\n\n270\n00:12:57.585 --> 00:13:01.736\nthere's some hot plug services\nthat may need to call a path unit.\n\n271\n00:13:01.736 --> 00:13:04.975\nI think that's about all,\nthat's all I've got in my cheat sheet.\n\n272\n00:13:04.975 --> 00:13:07.002\n&gt;&gt; Yeah [LAUGH]\n&gt;&gt; There's probably others,\n\n273\n00:13:07.002 --> 00:13:10.878\nthey extend system D all the time and\nactually that's a good point,\n\n274\n00:13:10.878 --> 00:13:14.834\nis that System D is software, and\nmuch like Soylent Green is people.\n\n275\n00:13:14.834 --> 00:13:16.180\n&gt;&gt; [LAUGH]\n&gt;&gt; System D is software,\n\n276\n00:13:16.180 --> 00:13:19.270\nand so it has a version,\nit runs in the background.\n\n277\n00:13:19.270 --> 00:13:23.900\nIf you ever, like from the Command Prompt\nhere, I can just run systemd -v.\n\n278\n00:13:23.900 --> 00:13:28.720\nAnd, or maybe not systemd -v.\n\n279\n00:13:28.720 --> 00:13:33.060\nShoot, it is actually systemctl\nLet me get the right command.\n\n280\n00:13:33.060 --> 00:13:39.730\nsystemctl, I'm just gonna screw this\nup as much as I can, dash dash version.\n\n281\n00:13:39.730 --> 00:13:41.390\nThere we go, that's what I'm looking for.\n\n282\n00:13:41.390 --> 00:13:44.200\nsystemctl --version, and\nI can see right here,\n\n283\n00:13:44.200 --> 00:13:47.690\nI'm running systemd, version 219, right?\n\n284\n00:13:47.690 --> 00:13:51.940\nSo, it gets updates, and by the time you\nwatch this episode it might be Version 220\n\n285\n00:13:51.940 --> 00:13:55.570\nor 221, sometimes they're fixing bugs,\nsometimes they're adding features, so\n\n286\n00:13:55.570 --> 00:13:58.230\nyou'll see things like that,\nthat are popping up from time to time.\n\n287\n00:13:58.230 --> 00:14:01.510\nAnd if you look at mine,\nthis is system d Version 219,\n\n288\n00:14:01.510 --> 00:14:05.275\nand it's got things like SE LINUX,\nadded onto it.\n\n289\n00:14:05.275 --> 00:14:07.980\nSE Linux is a Redhat technology.\n\n290\n00:14:07.980 --> 00:14:11.130\nYou see it in RedHat, you see it\nin Fedora, you see it in CentOS.\n\n291\n00:14:11.130 --> 00:14:12.700\nYou'll see it in other distros out there.\n\n292\n00:14:12.700 --> 00:14:15.290\nI'm not aware of any other\ndistros that have adopted it yet.\n\n293\n00:14:15.290 --> 00:14:18.370\nI know the NSA has been pushing hard for\neveryone to adopt it, but\n\n294\n00:14:18.370 --> 00:14:20.520\nit hasn't been great acceptance yet.\n\n295\n00:14:20.520 --> 00:14:23.800\nBut these are things that\nRedhat has added onto it,\n\n296\n00:14:23.800 --> 00:14:26.720\nbeyond the standard version of system D.\n\n297\n00:14:26.720 --> 00:14:29.280\nSo it can be expanded to\nadd more functionality.\n\n298\n00:14:29.280 --> 00:14:33.733\n&gt;&gt; So the NSA has added a back door into\nSELinux, and that's why they're pushing.\n\n299\n00:14:33.733 --> 00:14:34.701\n[LAUGH]\n&gt;&gt; Who knows?\n\n300\n00:14:34.701 --> 00:14:35.441\n[LAUGH]\n&gt;&gt; Yeah.\n\n301\n00:14:35.441 --> 00:14:36.240\n&gt;&gt; IPsec.\n[LAUGH]\n\n302\n00:14:36.240 --> 00:14:38.450\n&gt;&gt; When we get to the security section,\n\n303\n00:14:38.450 --> 00:14:41.100\nwe'll talk about file permissions.\n\n304\n00:14:41.100 --> 00:14:44.300\nAnd standard Unix and Linux file\npermissions are not very flexible.\n\n305\n00:14:44.300 --> 00:14:46.340\nBut when you have SELinux, my goodness.\n\n306\n00:14:46.340 --> 00:14:48.670\nIt is so powerful and granular.\n\n307\n00:14:48.670 --> 00:14:49.980\nIt's really amazing.\n\n308\n00:14:49.980 --> 00:14:51.370\nIt's a great system.\n\n309\n00:14:51.370 --> 00:14:54.010\nIt's complex to use, so a lot of\npeople hate it and they turn in off.\n\n310\n00:14:54.010 --> 00:14:54.810\nAnd that's a mistake.\n\n311\n00:14:54.810 --> 00:14:57.480\nBut we'll talk more about\nthat in the security shows.\n\n312\n00:14:57.480 --> 00:14:58.600\nAll right.\n\n313\n00:14:58.600 --> 00:15:01.500\nSo that's kind of what system D is doing.\n\n314\n00:15:01.500 --> 00:15:06.220\n&gt;&gt; When you boot it up, it's looking in\nthis folder and finding all the different\n\n315\n00:15:06.220 --> 00:15:08.800\nunits that are in there, and\nthe targets that collect the units, and\n\n316\n00:15:08.800 --> 00:15:10.850\nit's firing the services\nup that need to be.\n\n317\n00:15:10.850 --> 00:15:13.390\nAnd mounting and\ndoing all of the other things.\n\n318\n00:15:13.390 --> 00:15:14.650\nIt's running the system.\n\n319\n00:15:14.650 --> 00:15:17.310\nAnd the bulk of its work\nis done when you boot up.\n\n320\n00:15:17.310 --> 00:15:20.430\nSo when you boot up, it does all this\nstuff, and then it kind of sits there.\n\n321\n00:15:20.430 --> 00:15:24.350\nBut it still does work every now and\nthen, like if you plug in a USB key,\n\n322\n00:15:24.350 --> 00:15:27.860\nsomething's got to recognize that new\nhardware, and it's System D that does it.\n\n323\n00:15:27.860 --> 00:15:32.220\nSo it does keep running while your system\nis on, and when you go to shut down,\n\n324\n00:15:32.220 --> 00:15:35.650\nyou're calling System D and\nactually shutting it down, and so\n\n325\n00:15:35.650 --> 00:15:41.000\na lot of the old commands that we ran\nare now being remapped into System D.\n\n326\n00:15:41.000 --> 00:15:44.480\nThe main command for interacting with\nsystem d is this systemctl command,\n\n327\n00:15:44.480 --> 00:15:45.490\nthat I ran a moment ago, right?\n\n328\n00:15:45.490 --> 00:15:47.610\nThat's the system d control utility.\n\n329\n00:15:47.610 --> 00:15:50.730\nAnd I've already used it in some\nother shows, because, for example,\n\n330\n00:15:50.730 --> 00:15:54.660\nif I have a- let's say I have\nan Apache server, right?\n\n331\n00:15:54.660 --> 00:15:56.828\nWhich I don't know if I actually have or\nnot.\n\n332\n00:15:56.828 --> 00:16:01.447\nSo let's just see if I can install it,\nif I don't have it.\n\n333\n00:16:01.447 --> 00:16:02.836\nI'm pretty sure I've\nalready got it installed.\n\n334\n00:16:02.836 --> 00:16:05.446\nBut if I've got Apache- so I've got it.\n\n335\n00:16:05.446 --> 00:16:13.001\nIn the olden days, I might do something\nlike service start http, right?\n\n336\n00:16:13.001 --> 00:16:14.186\nActually, it's-\n&gt;&gt; It's backwards.\n\n337\n00:16:14.186 --> 00:16:18.261\n&gt;&gt; service httpd start, you'll see why I\ndid that backwards here in just a second.\n\n338\n00:16:18.261 --> 00:16:22.649\nWhen I run that,\nsee how it redirected it to systemctl?\n\n339\n00:16:22.649 --> 00:16:24.436\nAnd with systemctl, it is backwards.\n\n340\n00:16:24.436 --> 00:16:28.160\nYou do systemctl start and\nthen httpd.service.\n\n341\n00:16:28.160 --> 00:16:36.410\nNow you can do systemctl\nstart httpd by itself.\n\n342\n00:16:36.410 --> 00:16:40.530\nAnd if there's only one unit\nthat starts with httpd,\n\n343\n00:16:40.530 --> 00:16:42.350\nit'll figure out that it's a service.\n\n344\n00:16:42.350 --> 00:16:47.261\nBut I might have httpd.service and\nhttpd.mount,\n\n345\n00:16:47.261 --> 00:16:51.420\nhttpd.socket, and\nin that case I would have to go and\n\n346\n00:16:51.420 --> 00:16:55.420\nspecify that I'm actually\ntrying to start the service.\n\n347\n00:16:55.420 --> 00:16:59.550\nThe unit name does include that\ndescriptor, you gotta have it on there,\n\n348\n00:16:59.550 --> 00:17:03.640\nbut if it's the only one, the uniqueness\nis enough to be find it and start it.\n\n349\n00:17:03.640 --> 00:17:09.295\nSo the old commands that we did before\nare now being redirected into systemctl.\n\n350\n00:17:10.320 --> 00:17:14.700\nIf I wanted the service to start at\nboot time, right, every time I boot my\n\n351\n00:17:14.700 --> 00:17:18.360\nsystem up, I want that web server to\nbe running and up and going, right?\n\n352\n00:17:18.360 --> 00:17:21.738\nSo, if I want that to happen,\nI need to enable it.\n\n353\n00:17:21.738 --> 00:17:26.128\nSo, what I would do in\nsystemctl is I will say\n\n354\n00:17:26.128 --> 00:17:30.654\nsystemctl enable httpd.service, right.\n\n355\n00:17:30.654 --> 00:17:32.522\nAnd see what it did?\n\n356\n00:17:32.522 --> 00:17:35.045\nIt created a symlink, it linked\n\n357\n00:17:35.045 --> 00:17:40.490\n/etc/systemd/system/multi-user_target\nonce.\n\n358\n00:17:40.490 --> 00:17:43.180\nAll right, I'm gonna talk about the\nmulti-user_target here in a little bit.\n\n359\n00:17:43.180 --> 00:17:44.926\nBut this is a want now.\n\n360\n00:17:44.926 --> 00:17:49.206\nWhen I boot up in multiuser mode,\nwhich is the default for Red Hat,\n\n361\n00:17:49.206 --> 00:17:51.892\nit wants the httpd service to be running.\n\n362\n00:17:51.892 --> 00:17:57.230\nAnd it linked it to\n/user/lib/systemd/system/http.service.\n\n363\n00:17:57.230 --> 00:18:02.140\nIt's tied it in so\nthat it'll now fire up when I boot.\n\n364\n00:18:02.140 --> 00:18:05.510\nI used to do that with\nthe chkconfig utility, right?\n\n365\n00:18:05.510 --> 00:18:08.778\nI used to say chkconfig httpd on, right?\n\n366\n00:18:08.778 --> 00:18:12.610\nAnd if I run that,\nforwarding to systemctl, right?\n\n367\n00:18:12.610 --> 00:18:14.560\nSystemd has taken over that.\n\n368\n00:18:14.560 --> 00:18:18.950\nThe old chk command and the old service,\nthose were SysV init activities.\n\n369\n00:18:18.950 --> 00:18:20.450\nAnd so Red Hat's mapped those.\n\n370\n00:18:20.450 --> 00:18:23.499\nSo be careful here cuz there's a tendency\nfor people to say, all right, well,\n\n371\n00:18:23.499 --> 00:18:25.680\nI'll just keep using the commands I know.\n\n372\n00:18:25.680 --> 00:18:28.660\nBeen using them for 15 years,\nI'm gonna stick with that.\n\n373\n00:18:28.660 --> 00:18:30.808\nWell, eventually those\ncommands will go away.\n\n374\n00:18:30.808 --> 00:18:34.592\nThey're now deprecated and means they\nwill go away in a future version.\n\n375\n00:18:34.592 --> 00:18:38.792\nSo you need to learn these new\ncommands and get used to systemctl.\n\n376\n00:18:38.792 --> 00:18:43.230\nAll right, now let's take a look at\nsome of the cool stuff systemd can do.\n\n377\n00:18:43.230 --> 00:18:45.640\nManaging services,\nthat's not a big deal, right?\n\n378\n00:18:45.640 --> 00:18:49.924\nI can say systemctl start, stop, restart,\n\n379\n00:18:49.924 --> 00:18:54.660\nthose are all options\nthat we've had before.\n\n380\n00:18:54.660 --> 00:18:57.530\nI can do enable or disable.\n\n381\n00:18:57.530 --> 00:19:01.860\nEnable will make it start on boot,\ndisable will make it not start on boot.\n\n382\n00:19:01.860 --> 00:19:04.600\nSo those are a couple of different\noptions there that match up\n\n383\n00:19:04.600 --> 00:19:06.460\nwith stuff that we've had in the past.\n\n384\n00:19:06.460 --> 00:19:09.730\nI can do status,\nnow this is one I like cuz\n\n385\n00:19:09.730 --> 00:19:12.958\nI used to get really frustrated\nwith the old service command.\n\n386\n00:19:12.958 --> 00:19:15.008\nTo pull the status for a service guy, for\n\n387\n00:19:15.008 --> 00:19:18.218\nwhatever reason my mind could\njust never remember the syntax.\n\n388\n00:19:18.218 --> 00:19:22.961\nBut with systemctl, you can do\na systemctl status, httpd.service, and\n\n389\n00:19:22.961 --> 00:19:26.739\nit'll tell me exactly what's\ngoing on with that service.\n\n390\n00:19:26.739 --> 00:19:32.180\nIt lets me know, hey, it is loaded and\nit's running, that's important.\n\n391\n00:19:32.180 --> 00:19:35.460\nLoaded just means that it's installed and\nit was available, right?\n\n392\n00:19:35.460 --> 00:19:38.670\nThe vendor preset was disabled but\nI have it enabled so\n\n393\n00:19:38.670 --> 00:19:41.298\nit should've started when I booted up.\n\n394\n00:19:41.298 --> 00:19:44.040\nNow I could've stopped it since then,\nand if I did,\n\n395\n00:19:44.040 --> 00:19:47.450\nthen it would show as loaded,\nbut it wouldn't be active.\n\n396\n00:19:47.450 --> 00:19:49.350\nI can quickly see here that it is active,\nthough, and\n\n397\n00:19:49.350 --> 00:19:51.700\nI can see how long it's been active for.\n\n398\n00:19:51.700 --> 00:19:56.400\nThis is way better than the old\ndash dash status dash all, or\n\n399\n00:19:56.400 --> 00:19:58.410\nwhatever we'd pull up in\nthe old service command.\n\n400\n00:19:58.410 --> 00:20:02.910\nThis one you get to see it, and more\nimportantly, I can start to see slices and\n\n401\n00:20:02.910 --> 00:20:04.640\nthe processes that it's running.\n\n402\n00:20:04.640 --> 00:20:08.600\nSo I can see how it's performing and\nhow many requests it's handling,\n\n403\n00:20:08.600 --> 00:20:10.160\nall sorts of really good stuff.\n\n404\n00:20:10.160 --> 00:20:11.430\nAnd this is customizable.\n\n405\n00:20:11.430 --> 00:20:13.709\nWhoever writes an application\nservice like this,\n\n406\n00:20:13.709 --> 00:20:15.938\nthey can customize what\ncomes out in this output.\n\n407\n00:20:15.938 --> 00:20:18.492\nSo I'm seeing this for httpd.\n\n408\n00:20:18.492 --> 00:20:21.464\nIf I pull up a different service,\nlike SSHD,\n\n409\n00:20:21.464 --> 00:20:25.469\nthen that output may be different\nbased on whoever wrote it.\n\n410\n00:20:25.469 --> 00:20:30.329\nAnd see how with SSHD, I don't get\na huge amount of information as far as\n\n411\n00:20:30.329 --> 00:20:33.492\nhow many connections I'm handling, right?\n\n412\n00:20:33.492 --> 00:20:36.545\nBut I do get,\nhere's the process ID that it's using.\n\n413\n00:20:36.545 --> 00:20:37.950\nIt is running.\n\n414\n00:20:37.950 --> 00:20:41.760\nHere's the man pages for it if I want\nto look up the help documentation.\n\n415\n00:20:41.760 --> 00:20:45.493\nAnd here's the logs from\nwhen it started up.\n\n416\n00:20:45.493 --> 00:20:47.974\nAnd I can see that it started open SSH,\nit's up and running and\n\n417\n00:20:47.974 --> 00:20:49.324\nI get that information, right?\n\n418\n00:20:49.324 --> 00:20:51.500\nSo each one gives you\na little bit of information.\n\n419\n00:20:51.500 --> 00:20:52.400\nI like that status command.\n\n420\n00:20:54.050 --> 00:20:55.586\nAll right, couple other things.\n\n421\n00:20:55.586 --> 00:21:00.620\nI mentioned how systemd is really\ndoing a lot of work at boot time,\n\n422\n00:21:00.620 --> 00:21:02.400\nwhen your system boots up.\n\n423\n00:21:02.400 --> 00:21:04.455\nThat's when systemd is doing its work.\n\n424\n00:21:04.455 --> 00:21:09.621\nSo, you can run systemd-analyze.\n\n425\n00:21:09.621 --> 00:21:10.802\nThis is a neat utility,\n\n426\n00:21:10.802 --> 00:21:15.120\nbecause what it does is it tells you\nhow long it took your system to boot.\n\n427\n00:21:15.120 --> 00:21:19.244\nAnd I can look and see, hey, when it\nstarted up, and when I say it started up,\n\n428\n00:21:19.244 --> 00:21:21.847\nyou pushed the power button,\nit went to bios, or\n\n429\n00:21:21.847 --> 00:21:25.430\nUEFI, it called the kernel, and\nthen the kernel called systemd.\n\n430\n00:21:25.430 --> 00:21:31.954\nSo it's from that point, when the kernel\ncalls systemd, then here's what happened.\n\n431\n00:21:31.954 --> 00:21:36.800\nWe took 1.233 seconds doing our initrd,\nthen we spent 21 and\n\n432\n00:21:36.800 --> 00:21:42.508\na half seconds in userspace, starting\nservices and mounting drives and so on.\n\n433\n00:21:42.508 --> 00:21:46.134\nAnd if we combine that with the kernel\ntime, just to get systemd up and running,\n\n434\n00:21:46.134 --> 00:21:48.150\nmy boot time was a little over 31 seconds.\n\n435\n00:21:49.580 --> 00:21:54.210\nSo if I look at that and I'm happy with\n31 seconds, great, I love it wonderful.\n\n436\n00:21:54.210 --> 00:21:55.430\n31 seconds, not too bad.\n\n437\n00:21:56.940 --> 00:22:00.718\nOr, I look at it and I'm like,\n[SOUND] 31 seconds, that's a long time.\n\n438\n00:22:00.718 --> 00:22:02.215\n&gt;&gt; Who's got that kind of time, Don?\n\n439\n00:22:02.215 --> 00:22:02.770\n[LAUGH]\n&gt;&gt; It's hard for\n\n440\n00:22:02.770 --> 00:22:04.976\nme to say this stuff with a straight face,\ncuz remember back in the day?\n\n441\n00:22:04.976 --> 00:22:07.414\n&gt;&gt; I know.\n&gt;&gt; It takes like five minutes to boot.\n\n442\n00:22:07.414 --> 00:22:09.811\nBut anyhow, so\nif I want to find out why it took so long,\n\n443\n00:22:09.811 --> 00:22:12.117\nthere's actually a neat\nlittle extension to this.\n\n444\n00:22:12.117 --> 00:22:16.370\nI'm gonna run systemd-analyze,\nand I'm gonna add -blame.\n\n445\n00:22:16.370 --> 00:22:18.880\nWho can I blame for this boot time?\n\n446\n00:22:18.880 --> 00:22:20.377\n&gt;&gt; Sorry, son of a gun.\n\n447\n00:22:20.377 --> 00:22:22.037\n&gt;&gt; No dash on that.\n\n448\n00:22:22.037 --> 00:22:23.929\nThere's no dash.\n&gt;&gt; No dash.\n\n449\n00:22:23.929 --> 00:22:25.150\n&gt;&gt; So no dash on the blame.\n\n450\n00:22:25.150 --> 00:22:25.890\n&gt;&gt; Leave that part.\n\n451\n00:22:25.890 --> 00:22:29.770\n&gt;&gt; And when you run that,\nnow it's gonna break it up by unit,\n\n452\n00:22:29.770 --> 00:22:34.750\nI can see every unit that started when\nthe system booted and how long they took.\n\n453\n00:22:34.750 --> 00:22:35.680\n&gt;&gt; That's kind of impressive.\n\n454\n00:22:35.680 --> 00:22:38.821\n&gt;&gt; Yeah, and it ranks it from\nthe highest to the lowest and\n\n455\n00:22:38.821 --> 00:22:42.182\nnumber one on my list was kdump,\nthe kernel dump service.\n\n456\n00:22:42.182 --> 00:22:43.984\nIf I ever have a system crash,\n\n457\n00:22:43.984 --> 00:22:48.323\nit'll take any RAM that was in use by\nthe kernel and dump it to the drive.\n\n458\n00:22:48.323 --> 00:22:50.380\nAnd that has to run all the time.\n\n459\n00:22:50.380 --> 00:22:53.780\nAnd it's of marginal use to a lot of us,\nright?\n\n460\n00:22:53.780 --> 00:22:57.300\nIf you have a crash, and you wanna submit\nit to the vendor for troubleshooting or\n\n461\n00:22:57.300 --> 00:22:59.330\nthe software application designer or\nwhatever, you can do that.\n\n462\n00:22:59.330 --> 00:23:02.490\nAnd if they have debug utilities, they can\nopen it up and find out what happened.\n\n463\n00:23:02.490 --> 00:23:06.180\nBut most of us never ever use it.\n\n464\n00:23:06.180 --> 00:23:11.670\nIf I were to turn off kdump, I could shave\nseven and a half seconds off my boot time.\n\n465\n00:23:11.670 --> 00:23:14.660\n&gt;&gt; That's pretty good.\n\n466\n00:23:14.660 --> 00:23:16.174\n&gt;&gt; If I care about boot time, right?\n\n467\n00:23:16.174 --> 00:23:18.722\nIf your server stays online all the time\nand you're not worried about it,\n\n468\n00:23:18.722 --> 00:23:19.390\nthen you leave it.\n\n469\n00:23:19.390 --> 00:23:20.870\nKernel dump has its uses.\n\n470\n00:23:20.870 --> 00:23:25.090\nBut if you've got an SLA to meet,\nthat seven seconds could be the difference\n\n471\n00:23:25.090 --> 00:23:27.060\nbetween you meeting an SLA and\nyou not meeting it, right?\n\n472\n00:23:27.060 --> 00:23:31.490\nSo, systemd helps us see that and\nI can now tailor what I want.\n\n473\n00:23:31.490 --> 00:23:32.919\nLooking at other things,\nthat NetworkManager,\n\n474\n00:23:32.919 --> 00:23:34.763\nI've already mentioned how I\ndon't like the NetworkManager.\n\n475\n00:23:34.763 --> 00:23:35.778\nI usually turn it off.\n\n476\n00:23:35.778 --> 00:23:39.157\nI could shave another five\nseconds off of NetworkManager.\n\n477\n00:23:39.157 --> 00:23:42.082\nSystem du dev you kind\nof have to have that.\n\n478\n00:23:42.082 --> 00:23:45.797\nThat's what assigns names to all\nyour hardware, pretty important.\n\n479\n00:23:45.797 --> 00:23:47.011\nSome of these other ones,\n\n480\n00:23:47.011 --> 00:23:50.000\nyou might find things in here\nthat you don't necessarily need.\n\n481\n00:23:50.000 --> 00:23:54.157\nVMware Tools, ThinPrint,\nI don't use ThinPrint, not on a server.\n\n482\n00:23:54.157 --> 00:23:56.061\nSo again,\nthese are all things we could shave off.\n\n483\n00:23:56.061 --> 00:23:58.139\nSo that little blame service is nice.\n\n484\n00:23:58.139 --> 00:24:01.214\nWhen you start getting down to the bottom,\nyou have things that are two milliseconds.\n\n485\n00:24:01.214 --> 00:24:01.744\n&gt;&gt; Milliseconds, yeah.\n\n486\n00:24:01.744 --> 00:24:04.573\n&gt;&gt; Yeah, you don't sweat those.\n\n487\n00:24:04.573 --> 00:24:05.530\nBut anyhow, so\n\n488\n00:24:05.530 --> 00:24:09.665\nit does give you that visibility to\nsee What it is that took so long.\n\n489\n00:24:09.665 --> 00:24:12.700\nAll right, what other damage\ncan we do while we're in here?\n\n490\n00:24:12.700 --> 00:24:15.910\n&gt;&gt; You mentioned multi\nusers being the defaults.\n\n491\n00:24:15.910 --> 00:24:16.420\n&gt;&gt; Okay.\n\n492\n00:24:16.420 --> 00:24:18.430\n&gt;&gt; Can we control that, the run levels?\n\n493\n00:24:18.430 --> 00:24:20.600\n&gt;&gt; The run levels,\nall right, so technically,\n\n494\n00:24:20.600 --> 00:24:23.210\nunder systemd,\nrun levels don't exist anymore.\n\n495\n00:24:23.210 --> 00:24:24.790\n&gt;&gt; Right, so we used-\n&gt;&gt; So sad.\n\n496\n00:24:24.790 --> 00:24:29.408\n&gt;&gt; Run levels, we had six or\ntechnically seven run levels in most Linux\n\n497\n00:24:29.408 --> 00:24:33.215\noperating systems,\nI think pretty much all of them, so\n\n498\n00:24:33.215 --> 00:24:36.954\nyou had run level zero,\nwhich was, zero powered off?\n\n499\n00:24:36.954 --> 00:24:37.830\n&gt;&gt; I don't remember.\n\n500\n00:24:39.260 --> 00:24:40.560\n&gt;&gt; I mix up zero and six.\n\n501\n00:24:40.560 --> 00:24:43.080\nZero and six, one of them is powered off,\none of them is reboot.\n\n502\n00:24:43.080 --> 00:24:44.970\nI forget which is which.\n\n503\n00:24:44.970 --> 00:24:48.570\nThen you've got run levels one through\nfive that you can actually use.\n\n504\n00:24:48.570 --> 00:24:53.150\nAnd run level one was single user mode,\nthe emergency mode,\n\n505\n00:24:53.150 --> 00:24:55.380\nwhen you needed exclusive\naccess to the system.\n\n506\n00:24:55.380 --> 00:24:58.210\nBut we typically were in run\nlevels three or five, right?\n\n507\n00:24:58.210 --> 00:25:01.495\nRun level three,\nif I can remember exactly here.\n\n508\n00:25:01.495 --> 00:25:06.965\nRun level three was the text based\ninstall, or text based login.\n\n509\n00:25:06.965 --> 00:25:08.845\nAnd run level five was\nthe graphical user interface.\n\n510\n00:25:08.845 --> 00:25:11.795\nThey were both multi-user,\nwhich meant multiple people could log in,\n\n511\n00:25:11.795 --> 00:25:13.255\nit was network accessible and all that.\n\n512\n00:25:13.255 --> 00:25:15.594\nSo, those are kind of our\ntwo main run levels, and\n\n513\n00:25:15.594 --> 00:25:18.282\nyou could use the run level\ncommand to move between them.\n\n514\n00:25:18.282 --> 00:25:21.337\nWell, in systemd, the run levels are gone.\n\n515\n00:25:21.337 --> 00:25:23.483\nBut it's not that we've\nlost that functionality,\n\n516\n00:25:23.483 --> 00:25:25.990\nit's just the run levels are now targets.\n\n517\n00:25:25.990 --> 00:25:29.940\nAnd so when you boot your system up,\nit's looking for a particular target.\n\n518\n00:25:29.940 --> 00:25:33.405\nAnd mine was the multi-user target\na moment ago, which was the one that's\n\n519\n00:25:33.405 --> 00:25:37.890\nmulti-user with a GUI, because I'm on\na graphical user interface system.\n\n520\n00:25:37.890 --> 00:25:40.280\nBut I can manipulate that if I want.\n\n521\n00:25:40.280 --> 00:25:44.830\nFrom the command line here,\nif you run systemctl dash,\n\n522\n00:25:44.830 --> 00:25:47.440\nor sorry, not a dash,\nget-default, there we go.\n\n523\n00:25:47.440 --> 00:25:49.401\nThere we go,\nthere's a dash in there somewhere.\n\n524\n00:25:49.401 --> 00:25:52.466\n&gt;&gt; [LAUGH]\n&gt;&gt; Systemctl get-default, all right?\n\n525\n00:25:52.466 --> 00:25:53.737\n&gt;&gt; Just keep adding dashes til it works.\n\n526\n00:25:53.737 --> 00:25:54.355\n&gt;&gt; I know.\n\n527\n00:25:54.355 --> 00:25:56.260\n&gt;&gt; [LAUGH]\n&gt;&gt; That's gonna show you the target that\n\n528\n00:25:56.260 --> 00:25:57.610\nyou're booting to right now.\n\n529\n00:25:57.610 --> 00:25:59.420\nAnd I can see I've got graphical.target,\n\n530\n00:25:59.420 --> 00:26:03.320\nwhich would correspond to the old run\nlevel, I believe it was run level five.\n\n531\n00:26:03.320 --> 00:26:07.950\nThat was multi-user with\na graphical user interface.\n\n532\n00:26:07.950 --> 00:26:08.590\n&gt;&gt; Which is correct.\n\n533\n00:26:08.590 --> 00:26:11.140\nAnd zero is halt the system,\nand six is reboot.\n\n534\n00:26:11.140 --> 00:26:13.632\n&gt;&gt; Okay, good,\nI wasn't too far off though.\n\n535\n00:26:13.632 --> 00:26:14.290\n&gt;&gt; [CROSSTALK]\n&gt;&gt; Yes.\n\n536\n00:26:14.290 --> 00:26:16.118\n&gt;&gt; Run levels aren't something I use every\n\n537\n00:26:16.118 --> 00:26:16.700\nday, but-\n&gt;&gt; [LAUGH]\n\n538\n00:26:16.700 --> 00:26:17.590\n&gt;&gt; All right,\n\n539\n00:26:17.590 --> 00:26:19.240\nso, that's the graphical one.\n\n540\n00:26:20.300 --> 00:26:21.860\nWhat if I wanted to boot to text?\n\n541\n00:26:21.860 --> 00:26:25.340\nMaybe I've got the GUI installed on here,\nbut just for every now and then,\n\n542\n00:26:25.340 --> 00:26:26.470\nwhen I'm logged in locally,\n\n543\n00:26:26.470 --> 00:26:30.400\ninstead I really want this to be a text\nbased system, and that's what I wanna do.\n\n544\n00:26:30.400 --> 00:26:35.240\nSo, we can change temporarily\nto one run level or another, or\n\n545\n00:26:35.240 --> 00:26:37.030\nwe can change what we boot to.\n\n546\n00:26:37.030 --> 00:26:41.380\nWhat I just looked at is the default,\nthe default is what I'm gonna boot to.\n\n547\n00:26:41.380 --> 00:26:44.884\nI could change my run level right now,\nand when I reboot,\n\n548\n00:26:44.884 --> 00:26:48.109\nit's gonna go back to\nthe graphical target, okay?\n\n549\n00:26:48.109 --> 00:26:51.364\nIf I wanna change it right now,\nit's just another systemctl command.\n\n550\n00:26:51.364 --> 00:26:56.410\nWe can do, let me show you both ways.\n\n551\n00:26:56.410 --> 00:26:59.535\nI can do the default,\nI can say set-default, and\n\n552\n00:26:59.535 --> 00:27:01.480\nthen I can specify what I want.\n\n553\n00:27:01.480 --> 00:27:04.166\nSo, in my case,\nI'm in my graphical.target, right?\n\n554\n00:27:04.166 --> 00:27:08.710\nSo, that's me wanting to boot\nto the graphical interface.\n\n555\n00:27:08.710 --> 00:27:11.522\nIf I want to boot to the text interface,\nright?\n\n556\n00:27:11.522 --> 00:27:14.710\nNo GUI, still multi-user, but no GUI.\n\n557\n00:27:14.710 --> 00:27:18.692\n&gt;&gt; Then, what I would do is,\ninstead of graphical I would just say,\n\n558\n00:27:18.692 --> 00:27:21.600\nmulti-dash user.\n\n559\n00:27:21.600 --> 00:27:25.030\nMulti-user is text multi-user.\n\n560\n00:27:25.030 --> 00:27:27.090\nGraphical is GUI multi-user.\n\n561\n00:27:27.090 --> 00:27:28.220\nThey're both multi-users.\n\n562\n00:27:28.220 --> 00:27:30.070\nIt's just whether or\nnot we have the GUI or not.\n\n563\n00:27:30.070 --> 00:27:33.330\nOkay, so, if I change that, right?\n\n564\n00:27:33.330 --> 00:27:38.050\nI need to be an admin to do it,\nwhich, actually,\n\n565\n00:27:38.050 --> 00:27:40.060\nI'm pretty sure I need to be root.\n\n566\n00:27:40.060 --> 00:27:41.840\nIt let me do it.\n\n567\n00:27:41.840 --> 00:27:44.570\nWe can test, right, by doing\na get-default and see if it changed.\n\n568\n00:27:44.570 --> 00:27:45.520\nIt changed, yep.\n\n569\n00:27:45.520 --> 00:27:50.290\nSo, notice how I changed it, but\nI'm still in the GUI, right?\n\n570\n00:27:50.290 --> 00:27:51.950\nBecause I changed the default.\n\n571\n00:27:51.950 --> 00:27:54.440\nWhen I boot,\nthat's what I'm gonna boot to.\n\n572\n00:27:54.440 --> 00:27:55.990\nBut I didn't change what's\ngoing on right now.\n\n573\n00:27:55.990 --> 00:27:59.402\nIf I want to change what's going on right\nnow, I need to use the isolate command.\n\n574\n00:27:59.402 --> 00:28:03.665\nThe isolate command lets you come in and\nsay, I'm gonna sudo this, so\n\n575\n00:28:03.665 --> 00:28:06.933\nI don't get all of that\nauthentication stuff again.\n\n576\n00:28:06.933 --> 00:28:10.240\nSo I'm gonna sudo system CTL,\nand I'm gonna say isolate.\n\n577\n00:28:11.670 --> 00:28:15.900\nAnd then I'll do multiuse.rtarget,\nand by doing that,\n\n578\n00:28:15.900 --> 00:28:18.680\nI'm saying I wanna do this now.\n\n579\n00:28:18.680 --> 00:28:20.840\nI don't wanna do it at boot.\n\n580\n00:28:20.840 --> 00:28:23.350\nAnd as soon as I do that, here I am.\n\n581\n00:28:23.350 --> 00:28:29.320\nThe GUI is gone, and now I'm down\nto a text mode interface, right?\n\n582\n00:28:29.320 --> 00:28:33.440\nSo, now I can jump in here and\nstart to work with the system.\n\n583\n00:28:33.440 --> 00:28:35.110\nAnd the GUI's not running.\n\n584\n00:28:35.110 --> 00:28:39.900\nAnd if I wanna set it so that the next\ntime I reboot the GUI comes back,\n\n585\n00:28:39.900 --> 00:28:42.560\nor if this is a server, I probably\ndon't want the GUI running anyway, so\n\n586\n00:28:42.560 --> 00:28:44.130\nmaybe I leave it this way.\n\n587\n00:28:44.130 --> 00:28:48.860\nAnd then, if I'm gonna be doing work on\nthe server, and I want that GUI there,\n\n588\n00:28:48.860 --> 00:28:50.320\nthen I can just call it at that point.\n\n589\n00:28:50.320 --> 00:28:53.750\nI can say systemctl.\n\n590\n00:28:53.750 --> 00:28:59.700\nIsolate, and then I can do\ngraphical.target and run that.\n\n591\n00:28:59.700 --> 00:29:03.050\nI think I spelled my password wrong.\n\n592\n00:29:03.050 --> 00:29:05.388\nI guess not, because-\n&gt;&gt; Something's happening.\n\n593\n00:29:05.388 --> 00:29:06.429\n&gt;&gt; The GUIs loading.\n\n594\n00:29:06.429 --> 00:29:09.410\nHere we go, GUI comes up, and\nnow I'm back in business.\n\n595\n00:29:09.410 --> 00:29:14.190\nOkay, so, easy to do, and basically,\njust like the run levels, right?\n\n596\n00:29:14.190 --> 00:29:15.991\nAnd in my opinion, it's a little easier,\n\n597\n00:29:15.991 --> 00:29:19.093\ncuz instead of having to remember\nsome number which you guys saw, wow,\n\n598\n00:29:19.093 --> 00:29:21.614\nI remembered the numbers,\nnow I just remember some words.\n\n599\n00:29:21.614 --> 00:29:23.032\nGraphical.target is easy to remember.\n\n600\n00:29:23.032 --> 00:29:27.257\nMulti-dashuser.target, that's a little\nharder for me to remember, but\n\n601\n00:29:27.257 --> 00:29:31.946\nno more different than remembering three\nversus five, which I wasn't very good at.\n\n602\n00:29:31.946 --> 00:29:34.730\nSo, let me go and put this back.\n\n603\n00:29:34.730 --> 00:29:41.850\nSo, my GUI will start up, I want to\nset my default to graphical.target.\n\n604\n00:29:41.850 --> 00:29:46.688\nAll right, now, I've been talking\nabout run levels three and five,\n\n605\n00:29:46.688 --> 00:29:49.980\nwhich are the text mode in GUI for\nmulti-user.\n\n606\n00:29:49.980 --> 00:29:52.100\nWhat about that single user?\n\n607\n00:29:52.100 --> 00:29:55.360\nSingle user was run level one, that was\nwhere we were just the, the isolated word.\n\n608\n00:29:55.360 --> 00:29:58.100\nWe're the only ones in the system,\nso I just got hacked.\n\n609\n00:29:58.100 --> 00:29:59.550\nThe system's been compromised.\n\n610\n00:29:59.550 --> 00:30:02.510\nI need to get everybody else out of it so\nthat I can start doing my forensics,\n\n611\n00:30:02.510 --> 00:30:03.860\ncollecting logs and so on.\n\n612\n00:30:03.860 --> 00:30:06.030\nI need a drop for on level one, all right?\n\n613\n00:30:06.030 --> 00:30:08.550\nWell, we can do that.\n\n614\n00:30:08.550 --> 00:30:11.370\nUnder system D, it's called rescue.\n\n615\n00:30:11.370 --> 00:30:13.880\nAnd so what I would do is I\nwould say system CTL, well,\n\n616\n00:30:13.880 --> 00:30:17.430\nI would sudo it if I\nwanted to do it right.\n\n617\n00:30:17.430 --> 00:30:18.980\nSystem CTL, I would do isolate.\n\n618\n00:30:18.980 --> 00:30:22.480\nActually, I don't think you need isolate\nwith this one, let's try it here.\n\n619\n00:30:22.480 --> 00:30:25.840\nit's just rescue, system CTL, rescue.\n\n620\n00:30:25.840 --> 00:30:27.900\nAnd when we do rescue, there we go.\n\n621\n00:30:27.900 --> 00:30:30.020\nYeah, it doesn't need isolate for\nthis one.\n\n622\n00:30:30.020 --> 00:30:33.420\nIt drops us into a single user mode,\nand so when I look at it,\n\n623\n00:30:33.420 --> 00:30:35.280\nI'll see I'm in that emergency mode.\n\n624\n00:30:35.280 --> 00:30:40.120\nAfter logging in, typejournal-ctl-xb\nto view the system logs and blah,\n\n625\n00:30:40.120 --> 00:30:41.160\nblah, blah, right?\n\n626\n00:30:41.160 --> 00:30:42.050\nNow I'm in here.\n\n627\n00:30:42.050 --> 00:30:44.320\nI'm effectively in single user mode.\n\n628\n00:30:44.320 --> 00:30:45.870\nI can collect my logs.\n\n629\n00:30:45.870 --> 00:30:47.310\nI can start looking at the discs.\n\n630\n00:30:47.310 --> 00:30:50.040\nMy services are all\nparked in the background.\n\n631\n00:30:50.040 --> 00:30:51.670\nNobody's messing with them.\n\n632\n00:30:51.670 --> 00:30:55.460\nAnd now it's isolated and ready to go.\n\n633\n00:30:56.460 --> 00:31:03.220\nIf I'm done, then I can always just\nreboot and go back into the old way.\n\n634\n00:31:03.220 --> 00:31:06.590\nAnd I guess that's worth mentioning too,\nis how did we used to reboot, right?\n\n635\n00:31:06.590 --> 00:31:09.710\nYou can use the reboot command, or\nyou could do if you wanted to shutdown,\n\n636\n00:31:09.710 --> 00:31:10.620\nyou could say shutdown now-\n\n637\n00:31:10.620 --> 00:31:11.576\n&gt;&gt; Yeah-\n&gt;&gt; Right?\n\n638\n00:31:11.576 --> 00:31:13.008\n&gt;&gt; Or shutdown -r.\n\n639\n00:31:13.008 --> 00:31:16.110\n&gt;&gt; Yeah, if you wanted to reboot,\nyou could do it there.\n\n640\n00:31:16.110 --> 00:31:19.930\nSo, in systemd, we call systemd to reboot.\n\n641\n00:31:19.930 --> 00:31:22.420\nIn fact, if you issue the reboot or\nthe shut down commands,\n\n642\n00:31:22.420 --> 00:31:24.720\nit's gonna just translate\nthat over to systemd.\n\n643\n00:31:24.720 --> 00:31:29.354\nSo, I could do systemctl reboot, or\n\n644\n00:31:29.354 --> 00:31:33.380\nsystemctl shut down, and\nthat will take the system down.\n\n645\n00:31:33.380 --> 00:31:38.170\nAgain, all through,\nit's actually systemctl power off.\n\n646\n00:31:38.170 --> 00:31:41.700\nSystemctl reboot, or systemctl power off.\n\n647\n00:31:41.700 --> 00:31:43.640\nIf you do systemctl shut down,\n\n648\n00:31:43.640 --> 00:31:48.200\nit actually doesn't halt,\nit stays on so, you want power off.\n\n649\n00:31:48.200 --> 00:31:49.560\nI can just reboot.\n\n650\n00:31:49.560 --> 00:31:53.050\nAnd it's gonna get a little bit angry,\nbut there it goes.\n\n651\n00:31:53.050 --> 00:31:55.239\nAnd that should take me right\nback to where I wanna be.\n\n652\n00:31:55.239 --> 00:31:58.545\nSo, different ways and\nwe're controlling the system.\n\n653\n00:31:58.545 --> 00:32:01.410\nWe're really doing stuff that we did\nin previous versions, no big deal.\n\n654\n00:32:01.410 --> 00:32:03.675\nBut it's all being done\nthrough system D now, right?\n\n655\n00:32:03.675 --> 00:32:06.170\nAnd basically firing through.\n\n656\n00:32:06.170 --> 00:32:09.280\nAnd it takes a little bit longer to\nreboot when you recover from the rescue.\n\n657\n00:32:09.280 --> 00:32:10.140\nSo, there it goes.\n\n658\n00:32:10.140 --> 00:32:11.880\nYep, I got my GUI back up now.\n\n659\n00:32:11.880 --> 00:32:15.460\nSo it's booting back up, and\nhasn't loaded my video card driver yet,\n\n660\n00:32:15.460 --> 00:32:16.980\nso I've got my black bars on the side.\n\n661\n00:32:16.980 --> 00:32:18.580\nThose will go away in a second.\n\n662\n00:32:18.580 --> 00:32:19.967\nIt's just kind of recovering.\n\n663\n00:32:19.967 --> 00:32:22.602\n&gt;&gt; Yeah\n&gt;&gt; And moving from single user back into\n\n664\n00:32:22.602 --> 00:32:26.071\nmulti user is\n&gt;&gt; Really upsetting to it [LAUGH]\n\n665\n00:32:26.071 --> 00:32:26.911\n&gt;&gt; It's just\n\n666\n00:32:26.911 --> 00:32:28.243\n&gt;&gt; It's gonna need a minute\n\n667\n00:32:28.243 --> 00:32:28.943\n&gt;&gt; It's just gotta get all\n\n668\n00:32:28.943 --> 00:32:29.580\nit's ducks in a row.\n\n669\n00:32:29.580 --> 00:32:31.350\nIt will fix itself here.\n\n670\n00:32:31.350 --> 00:32:32.310\nThere we go.\n\n671\n00:32:32.310 --> 00:32:33.465\nAll fixed, and we're back in business.\n\n672\n00:32:33.465 --> 00:32:35.701\n&gt;&gt; Should do the blame option,\nand see what's going on.\n\n673\n00:32:35.701 --> 00:32:37.274\n&gt;&gt; [LAUGH]\n&gt;&gt; That's stupid automount turned back on,\n\n674\n00:32:37.274 --> 00:32:38.282\nso\n&gt;&gt; I hate automount.\n\n675\n00:32:38.282 --> 00:32:40.216\nAnyhow-\n&gt;&gt; [LAUGH]\n\n676\n00:32:40.216 --> 00:32:42.680\n&gt;&gt; [LAUGH] So that's basically system D,\n\n677\n00:32:42.680 --> 00:32:44.302\nit is really important.\n\n678\n00:32:44.302 --> 00:32:48.220\nIt is now the heart and soul of,\nwell the kernel is the heart and soul.\n\n679\n00:32:48.220 --> 00:32:51.490\nThe system D though, is like the traffic\ncop, it's what's running the show.\n\n680\n00:32:51.490 --> 00:32:55.800\nIt's making sure your system boots up,\nit's interacting in everything we do.\n\n681\n00:32:55.800 --> 00:32:59.910\nIt's really important, and\nit is the default Intuit system for\n\n682\n00:32:59.910 --> 00:33:02.520\nRed Hat Enterprise Linux, and\nthey don't support changing it.\n\n683\n00:33:02.520 --> 00:33:05.450\nIf you switch it to something else,\nit's technically not supported,\n\n684\n00:33:05.450 --> 00:33:06.470\nit is going to break.\n\n685\n00:33:06.470 --> 00:33:09.290\nSo, you need to learn system D.\n\n686\n00:33:09.290 --> 00:33:12.170\nYou need to get used to it, and just be\nready to use it out there in production.\n\n687\n00:33:13.170 --> 00:33:15.010\nI did have some other stuff\nthat I wanted to talk about,\n\n688\n00:33:15.010 --> 00:33:16.296\nespecially when it came to journals.\n\n689\n00:33:16.296 --> 00:33:19.749\nI mentioned how System D replaces the\nSyslog system with some new journaling,\n\n690\n00:33:19.749 --> 00:33:22.889\nbut let's save that cuz we're gonna\ndo some troubleshooting episodes\n\n691\n00:33:22.889 --> 00:33:23.585\ndown the road.\n\n692\n00:33:23.585 --> 00:33:27.671\nAnd I'll tackle it over there, so if you\nwant to learn more about the journaling,\n\n693\n00:33:27.671 --> 00:33:31.900\njust know that there's a journal, CTL\ncommand if you want a little head start.\n\n694\n00:33:31.900 --> 00:33:34.256\nYou can check out journal CTL,\nand you can view all the logs and\n\n695\n00:33:34.256 --> 00:33:36.668\nstuff that's going on in the background,\nit's pretty cool.\n\n696\n00:33:36.668 --> 00:33:39.801\nAnd that is kind of replacing the old\nSyslog system, we'll see more of it in\n\n697\n00:33:39.801 --> 00:33:43.622\nthe troubleshooting episodes though,\nif you want to see a full demonstration.\n\n698\n00:33:43.622 --> 00:33:45.820\n&gt;&gt; All right, well system D is\nobviously a very cool system,\n\n699\n00:33:45.820 --> 00:33:48.050\nand I know if you have been\nplaying with Linux for a little,\n\n700\n00:33:48.050 --> 00:33:50.200\nwhile maybe you are even\na Linux administrator,\n\n701\n00:33:50.200 --> 00:33:53.370\nit is gonna have some growing pains for\nyou to try to jump to that.\n\n702\n00:33:53.370 --> 00:33:55.960\nThe good news is they have\nextended the olive branch,\n\n703\n00:33:55.960 --> 00:34:00.520\nyou can still continue to use some of your\nold tried and true commands from Sys V.\n\n704\n00:34:00.520 --> 00:34:05.240\nBut you will want to get your mind wrapped\naround using system D, just like Don said,\n\n705\n00:34:05.240 --> 00:34:07.420\nespecially if you're going\nto be working with Red Hat,\n\n706\n00:34:07.420 --> 00:34:08.720\nbecause that's the way it's going.\n\n707\n00:34:08.720 --> 00:34:10.550\nSo, just get with the program, everyone.\n\n708\n00:34:10.550 --> 00:34:12.240\nNo highway options here, right?\n\n709\n00:34:12.240 --> 00:34:16.132\nThat being said, Don, thank you so\nmuch for introducing us to system D, so\n\n710\n00:34:16.132 --> 00:34:18.470\nthat we can start implementing\nit in our environments.\n\n711\n00:34:18.470 --> 00:34:21.920\nBut I'm looking at the clock yet\nagain and man, do these episodes fly by,\n\n712\n00:34:21.920 --> 00:34:23.550\ncuz we are way out of time.\n\n713\n00:34:23.550 --> 00:34:26.920\nThank you guys for joining us today but,\nsigning of for ITProTV,\n\n714\n00:34:26.920 --> 00:34:28.820\nI've been your host, Daniel Lowrie.\n\n715\n00:34:28.820 --> 00:34:29.770\n&gt;&gt; And I'm Don Pezet.\n\n716\n00:34:29.770 --> 00:34:31.345\n&gt;&gt; We'll see you next time.\n\n717\n00:34:31.345 --> 00:34:37.992\n[MUSIC]\n\n718\n00:34:37.992 --> 00:34:40.280\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "192651576"
        },
        {
          "description": "In this episode, Wes and Don discuss creating a USB installation media for RHEL. They explore the process of media creation as well as a demonstration. They talk about performing the process on Linux, macOS and Windows.",
          "length": "1732",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-rhel7-1-6-creating_usb_install_media-120216-PGM.00_28_39_22.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-rhel7-1-6-creating_usb_install_media-120216-PGM.00_28_39_22.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-rhel7-1-6-creating_usb_install_media-120216-PGM.00_28_39_22.Still001-sm.jpg",
          "title": "Creating USB Install Media",
          "transcript": "WEBVTT\n\n1\n00:00:00.270 --> 00:00:06.163\nWelcome to ITPROTV [CROSSTALK]\n\n2\n00:00:06.163 --> 00:00:11.119\nyou are watching ITPROTV\n\n3\n00:00:11.119 --> 00:00:11.978\n[MUSIC]\n\n4\n00:00:11.978 --> 00:00:14.919\nWelcome to another exciting\nepisode here at IT Pro TV.\n\n5\n00:00:14.919 --> 00:00:16.070\nI'm your host Wes Bryan.\n\n6\n00:00:16.070 --> 00:00:19.270\nAnd in today's episode we got a lot\nof great content coming at you.\n\n7\n00:00:19.270 --> 00:00:22.620\nWe're coming back with something known\nas well Red Hat Enterprise Linux.\n\n8\n00:00:22.620 --> 00:00:25.800\nAnd, joining us in the studio today for\nthis endeavor is Mr. Don Pezet.\n\n9\n00:00:25.800 --> 00:00:26.960\nDon how are you doing sir?\n\n10\n00:00:26.960 --> 00:00:27.850\n&gt;&gt; I'm doing great Wes.\n\n11\n00:00:27.850 --> 00:00:31.010\nWe need to dive right back in to\nthe world of RHEL7 and in this episode.\n\n12\n00:00:31.010 --> 00:00:34.530\nSo, we're going to be tackling\ncreating usb installation media.\n\n13\n00:00:34.530 --> 00:00:36.870\nI originally hadn't planned\nto film this episode and\n\n14\n00:00:36.870 --> 00:00:39.280\nthen it occurred to me as we\nwere well into the series.\n\n15\n00:00:39.280 --> 00:00:41.760\nI'm like you know,\nwe talked about installing red hat and\n\n16\n00:00:41.760 --> 00:00:44.590\nI used a virtual machine so\nit was an iso image.\n\n17\n00:00:44.590 --> 00:00:47.200\nWhich is what a lot of us are going to do.\n\n18\n00:00:47.200 --> 00:00:49.820\nBut if you're doing kickstart files and\n\n19\n00:00:49.820 --> 00:00:53.690\nyou're going machine to machine and\ntrying to manually set these things up.\n\n20\n00:00:53.690 --> 00:00:57.420\nAnd, you're not gonna want to use a CD\nthese days or a DVD, for that matter.\n\n21\n00:00:57.420 --> 00:01:02.600\nAnd in fact, I think about days of yore\nwhere I had stacks of blank DVDs for\n\n22\n00:01:02.600 --> 00:01:03.360\nburning things.\n\n23\n00:01:03.360 --> 00:01:06.670\nAnd I haven't bought one in years.\n\n24\n00:01:06.670 --> 00:01:09.030\nWes, do you have any Blank media anymore.\n\n25\n00:01:09.030 --> 00:01:10.950\n&gt;&gt; Somewhere there's probably\na lot of dust on them.\n\n26\n00:01:10.950 --> 00:01:11.910\nI don't even know if they work.\n\n27\n00:01:11.910 --> 00:01:15.240\n&gt;&gt; So, all of that has been\nreplaced by USB media.\n\n28\n00:01:15.240 --> 00:01:18.160\nSo, we need to know how to create\na USB installation for red app,\n\n29\n00:01:18.160 --> 00:01:19.900\nespecially if we're doing\nkickstart installs,\n\n30\n00:01:19.900 --> 00:01:24.140\nbecause we need to customize it, and it's\na heck of a lot easier to copy kickstart\n\n31\n00:01:24.140 --> 00:01:29.050\nfiles to a USB key than it is to\nmaster an ISO file, burn it to a disk.\n\n32\n00:01:29.050 --> 00:01:30.060\nThen I need to change something so\n\n33\n00:01:30.060 --> 00:01:32.340\nI have to throw the disk in the trash,\nburn another one.\n\n34\n00:01:32.340 --> 00:01:34.100\nAnd it just creates a whole nightmare.\n\n35\n00:01:34.100 --> 00:01:35.170\nSo, this will fix that.\n\n36\n00:01:35.170 --> 00:01:38.380\n&gt;&gt; Don, now isn't there a trend as well\nthat you're not really seeing a lot of\n\n37\n00:01:38.380 --> 00:01:39.880\noptical drives on certain machines?\n\n38\n00:01:39.880 --> 00:01:41.840\nNow, I know it's a little bit\ndifferent if you're talking servers,\n\n39\n00:01:41.840 --> 00:01:43.390\nmaybe there's still\noptical drives in there.\n\n40\n00:01:43.390 --> 00:01:44.820\nBut, even small machines anymore,\n\n41\n00:01:44.820 --> 00:01:47.770\nit's almost like we're not really\nseeing optical disk media much.\n\n42\n00:01:47.770 --> 00:01:49.070\n&gt;&gt; Yeah, that's absolutely right.\n\n43\n00:01:49.070 --> 00:01:50.450\nSo, we need to be able\nto transition to USB.\n\n44\n00:01:50.450 --> 00:01:54.800\nAnd fortunately, it's very easy to do that\nIf you go to Red Hat's website to go and\n\n45\n00:01:54.800 --> 00:01:58.900\ndownload Red Hat Enterprise Linux\nthere isn't really a whole bunch of\n\n46\n00:01:58.900 --> 00:02:01.890\ninformation on there for\nhere's where you go to get an ISO.\n\n47\n00:02:01.890 --> 00:02:05.730\nLet me show you, so\nlet's say that I needed to build an So\n\n48\n00:02:05.730 --> 00:02:10.070\nI go to the Red Hat Customer Portal,\naccess.redhat.com.\n\n49\n00:02:10.070 --> 00:02:13.140\nAnd once I'm there,\nI see my normal portal stuff.\n\n50\n00:02:13.140 --> 00:02:16.840\nAnd way up here at the top, I got that\nDOWNLOADS link hiding right up there.\n\n51\n00:02:16.840 --> 00:02:20.550\nAnd I can hit it to go in and download\nall of Red Hat's various products.\n\n52\n00:02:20.550 --> 00:02:24.250\nNow, when I download the product,\nat first, it looks like I got free rain.\n\n53\n00:02:24.250 --> 00:02:26.030\nHey, everything ran out of MACE.\n\n54\n00:02:26.030 --> 00:02:27.760\nI can't download all this junk.\n\n55\n00:02:27.760 --> 00:02:29.250\nBut, we still need our licenses, right?\n\n56\n00:02:29.250 --> 00:02:31.280\nBut, the downloads themselves\nare all right here, and\n\n57\n00:02:31.280 --> 00:02:32.710\nI can find Red Hat Enterprise Linux.\n\n58\n00:02:32.710 --> 00:02:35.310\nIf you don't have a license you can\nalways do the start evaluation.\n\n59\n00:02:35.310 --> 00:02:39.670\nAnd, if I expand that out, I'll see where\nI've got download the latest server.\n\n60\n00:02:39.670 --> 00:02:42.410\nOr buy online,\ncuz they do need to make money.\n\n61\n00:02:42.410 --> 00:02:45.900\nIf you click on the server itself, though,\nyou actually get a few more options.\n\n62\n00:02:45.900 --> 00:02:48.480\nEventually, there we go,\nand it's gonna come up.\n\n63\n00:02:48.480 --> 00:02:52.270\nand, this is important because when\nyou build a USB installation media\n\n64\n00:02:52.270 --> 00:02:55.430\nthe default here is that it's gonna\ngive you the latest and greatest.\n\n65\n00:02:55.430 --> 00:02:57.000\nYou might not want that.\n\n66\n00:02:57.000 --> 00:02:58.790\nYou might want a very specific version.\n\n67\n00:02:58.790 --> 00:03:02.110\nSo, you can drop it down here and choose\none of the older versions if you need or\n\n68\n00:03:02.110 --> 00:03:03.930\neven change the architecture.\n\n69\n00:03:03.930 --> 00:03:06.940\nSome of them only have\na particular architecture.\n\n70\n00:03:06.940 --> 00:03:08.090\nSo for example,\n\n71\n00:03:08.090 --> 00:03:12.680\nin Red Hat enterprise Linux 7 We've only\ngot a 64-bit version here, the x86_64.\n\n72\n00:03:12.680 --> 00:03:17.540\nBut, if I were to drop all the way\nback to the 6s, we start to see,\n\n73\n00:03:17.540 --> 00:03:19.150\nwell, eventually the page will refresh.\n\n74\n00:03:19.150 --> 00:03:22.620\nThere we go, and\nmy 32-bit version comes back again.\n\n75\n00:03:22.620 --> 00:03:25.550\nSo, you may need to change that to\nchoose the architecture that you want.\n\n76\n00:03:25.550 --> 00:03:29.040\nIf you've got 32-bit systems\nYou can't go up to 7.3 so\n\n77\n00:03:29.040 --> 00:03:32.540\nyou kind of need to pick\nthe appropriate thing.\n\n78\n00:03:32.540 --> 00:03:34.910\nOnce we got that selected though,\nwe're ready to go in and download and\n\n79\n00:03:34.910 --> 00:03:37.960\nyou'll see all the software\nbeing listed down here.\n\n80\n00:03:37.960 --> 00:03:40.525\nAnd some of these are.\n\n81\n00:03:40.525 --> 00:03:43.905\nNot Red Hat Enterprise Linux at all but,\ninstead, WinSync or\n\n82\n00:03:43.905 --> 00:03:45.405\nthe KVM guest image and so on.\n\n83\n00:03:45.405 --> 00:03:47.735\nSo, each of these have\na different purpose.\n\n84\n00:03:47.735 --> 00:03:50.405\nWinSync software for being able to\nsynchronize your data from a Windows\n\n85\n00:03:50.405 --> 00:03:52.945\nmachine to migrate over\nto a Red Hat machine.\n\n86\n00:03:52.945 --> 00:03:56.965\nThe KVM guest image, a fully installed\noperating system that's ready to be booted\n\n87\n00:03:56.965 --> 00:04:01.210\nup inside of the KVM virtual machine\nenvironment, so easy to bring that up.\n\n88\n00:04:01.210 --> 00:04:05.640\nBut, the actual stuff that I want is gonna\nbe right down here, the Boot ISO and\n\n89\n00:04:05.640 --> 00:04:06.400\nthe Binary DVD.\n\n90\n00:04:07.400 --> 00:04:12.330\nThe Boot ISO that is a disk image\nthat's suitable to be thrown on a CD\n\n91\n00:04:12.330 --> 00:04:15.460\nthat I can boot my computer up off of and\nI'm in great shape.\n\n92\n00:04:15.460 --> 00:04:19.940\nThe Binary DVD that's bigger than a CD\nif I look at the sizes over here,\n\n93\n00:04:19.940 --> 00:04:24.700\nsee how the Boot ISO is only 4 hundred and\n8 megs But the binary DVD is 3.5 gigs.\n\n94\n00:04:24.700 --> 00:04:28.530\nAnd that's, because it's got all\nthe additional software on there.\n\n95\n00:04:28.530 --> 00:04:32.280\nThe regular boot CD expects us to have a\nnetwork location that has all the packages\n\n96\n00:04:32.280 --> 00:04:33.330\nto do the rest of the install.\n\n97\n00:04:33.330 --> 00:04:35.550\nIt's really just enough\nto get us booted up.\n\n98\n00:04:35.550 --> 00:04:37.540\nSo, this one has the full\nset of installation media.\n\n99\n00:04:37.540 --> 00:04:39.100\nSo, that's what I normally want.\n\n100\n00:04:39.100 --> 00:04:42.140\nI wanna download this, but\nit is just an ISO image.\n\n101\n00:04:42.140 --> 00:04:43.940\nAn ISO image of that DVD.\n\n102\n00:04:43.940 --> 00:04:45.560\nAnd so, when you download it,\n\n103\n00:04:45.560 --> 00:04:48.530\nwhich I did before the show\nto save a little bit of time.\n\n104\n00:04:49.650 --> 00:04:54.510\nWhen you download it,\nwhat you're gonna get is a file that is,\n\n105\n00:04:54.510 --> 00:04:57.540\nwhoops, not where I thought\nit was going to be.\n\n106\n00:04:57.540 --> 00:04:59.290\nLet me go and\nfind it here on my hard drive.\n\n107\n00:04:59.290 --> 00:05:05.170\nThat's basically a three gig ISO image\nthat is just kinda, laying around.\n\n108\n00:05:05.170 --> 00:05:07.910\nSo, I have, I got mine set up for KVM so\n\n109\n00:05:07.910 --> 00:05:11.000\nI actually moved it off\nto a different folder.\n\n110\n00:05:11.000 --> 00:05:14.100\nSo, I'm just gonna get into\nthat folder real quick.\n\n111\n00:05:15.350 --> 00:05:19.450\nAnd There we go.\n\n112\n00:05:19.450 --> 00:05:21.220\nAnd that is the file that I downloaded.\n\n113\n00:05:21.220 --> 00:05:24.245\nSo, I have got\nthe Redhat Enterprise Linux sever.\n\n114\n00:05:24.245 --> 00:05:28.040\n7.2-x86 DVD ISO, that guy right there.\n\n115\n00:05:28.040 --> 00:05:32.910\nAnd, it is just sitting there waiting for\nme to do something with it.\n\n116\n00:05:32.910 --> 00:05:34.780\nAnd it is 3.8 gigs in size.\n\n117\n00:05:34.780 --> 00:05:36.550\nIt's right there.\nIt's ready for me to work with.\n\n118\n00:05:36.550 --> 00:05:38.300\nSo, what I need to do is I\nneed to take that ISO and\n\n119\n00:05:38.300 --> 00:05:40.230\nI don't want to burn it to a DVD.\n\n120\n00:05:40.230 --> 00:05:44.590\nI need to get it written to a USB key,\nright?\n\n121\n00:05:44.590 --> 00:05:47.480\nNow, I've got a USB key sitting\nhere plugged into my system.\n\n122\n00:05:47.480 --> 00:05:50.130\nIf I go up to my accessory,\nor not accessories.\n\n123\n00:05:50.130 --> 00:05:54.665\nIf I go down to System Utilities, and\n\n124\n00:05:54.665 --> 00:05:58.310\nDisk and pull this utility up, I can\nsee all the different discs I've got.\n\n125\n00:05:58.310 --> 00:06:02.460\nAnd I've got this 16 gig thumb\ndrive right here, Patriot memory.\n\n126\n00:06:02.460 --> 00:06:05.440\nAnd there it is, and it looks like I've\ngot a install of Mac OS Sierra on it, so\n\n127\n00:06:05.440 --> 00:06:07.070\nthat's not gonna help me here.\n\n128\n00:06:07.070 --> 00:06:13.110\nBut, I can take this USB key and erase it,\nand I can drop the Red Hat iso onto it.\n\n129\n00:06:13.110 --> 00:06:15.770\nNow, not just copying the iso file over,\nthat's not enough, right.\n\n130\n00:06:15.770 --> 00:06:17.740\nIt's gotta be bootable media.\n\n131\n00:06:17.740 --> 00:06:22.200\nSo, I've gotta convert the ISO\nto be ready to boot onto a USB.\n\n132\n00:06:22.200 --> 00:06:24.660\nWell, Red Hat's already done that for me.\n\n133\n00:06:24.660 --> 00:06:26.890\nThe only problem here,\nis that it's in the ISO format.\n\n134\n00:06:26.890 --> 00:06:30.620\nSo, I just need to get it out of the ISO\nformat, and get it dropped onto this disk\n\n135\n00:06:30.620 --> 00:06:34.030\nand I can use the DD utility\nto do that pretty easily.\n\n136\n00:06:34.030 --> 00:06:35.790\nAll right, so\nlet's run through that process.\n\n137\n00:06:35.790 --> 00:06:38.920\nNow, I'm gonna show you how to do\nit here on an actual Linux box.\n\n138\n00:06:38.920 --> 00:06:43.450\nThis would work on Ubuntu,\nDebian, CentOS, Redhat,\n\n139\n00:06:43.450 --> 00:06:45.060\nany of the different distros out there.\n\n140\n00:06:45.060 --> 00:06:47.380\nI'll also show you how to do\nit on a Mac and on Windows.\n\n141\n00:06:47.380 --> 00:06:49.090\nRight, so it really doesn't matter\nwhat your client is you can\n\n142\n00:06:49.090 --> 00:06:51.200\ngenerate this installation\nmedia pretty easy.\n\n143\n00:06:51.200 --> 00:06:51.920\nAll right.\n\n144\n00:06:51.920 --> 00:06:56.570\nFirst thing I need to do is,\nI need to get this File,\n\n145\n00:06:58.950 --> 00:07:01.608\ninto a place where I can work with it.\n\n146\n00:07:01.608 --> 00:07:05.514\nSo, TAB auto-complete is not working for\nme,\n\n147\n00:07:05.514 --> 00:07:09.431\nso we'll just do this\nthe old-fashioned way.\n\n148\n00:07:09.431 --> 00:07:11.290\nI'm going to get it over to my system.\n\n149\n00:07:11.290 --> 00:07:15.920\nActually, you know what,\ni can just leave it where it is Su and\n\n150\n00:07:15.920 --> 00:07:17.520\nelevate my privileges.\n\n151\n00:07:17.520 --> 00:07:20.010\nWhen, I'm go to erase that disk,\nit's gonna get a little mad at me,\n\n152\n00:07:20.010 --> 00:07:22.670\nbecause I'm effectively erasing a disk,\nright.\n\n153\n00:07:22.670 --> 00:07:26.010\nSo, I need to be an admin to do it anyway.\n\n154\n00:07:26.010 --> 00:07:28.050\nSo, I'm gonna use su,\nthe superuser command, and\n\n155\n00:07:28.050 --> 00:07:32.010\nI'm gonna bump up to get\nthat higher level of access.\n\n156\n00:07:32.010 --> 00:07:35.150\nAnd what I'm gonna do is I'm\ngonna take this ISO image and\n\n157\n00:07:35.150 --> 00:07:36.990\nI'm gonna write it to that USB key.\n\n158\n00:07:36.990 --> 00:07:41.850\nNow, the first challenge I'm gonna\nhave is when I write to the USB key\n\n159\n00:07:41.850 --> 00:07:44.950\nit needs to be unmounted,\nit can't be in use right now.\n\n160\n00:07:44.950 --> 00:07:47.750\nAnd in order for me to check that I need\nto know a little information about it.\n\n161\n00:07:47.750 --> 00:07:49.674\nAnd Honestly, right before the show,\nI just plugged it in and\n\n162\n00:07:49.674 --> 00:07:51.573\ndidn't pay much attention to,\nI don't know much about it.\n\n163\n00:07:51.573 --> 00:07:52.909\nSo, I need to figure out what is is.\n\n164\n00:07:52.909 --> 00:07:56.942\nWell, the easiest way to figure that\nout is to use the dmesg command.\n\n165\n00:07:56.942 --> 00:07:58.981\ndmesg collects the boot logs, right?\n\n166\n00:07:58.981 --> 00:08:00.982\nAll the hardware that's detected at boot.\n\n167\n00:08:00.982 --> 00:08:05.495\nAnd as you plug devices into your computer\nthey get added to the end of the dmesg\n\n168\n00:08:05.495 --> 00:08:06.060\noutput.\n\n169\n00:08:06.060 --> 00:08:09.750\nSo I'm going to pipe that into the tail\ncommand, just to see the last ten lines.\n\n170\n00:08:09.750 --> 00:08:14.820\nAnd usually what you'll see is an entry in\nhere that tells you about that USB key.\n\n171\n00:08:14.820 --> 00:08:19.240\nAll right, now apparently something else,\nwhen I launched the disk drive utility it\n\n172\n00:08:19.240 --> 00:08:23.190\ndid a full scan so I don't actually\nknow which one of these is the USB key.\n\n173\n00:08:23.190 --> 00:08:26.680\nBut you know we can cheat and I'm just\ngoing to yank it out of the computer for\n\n174\n00:08:26.680 --> 00:08:29.260\na second and\nthen I'm going to plug it back in.\n\n175\n00:08:29.260 --> 00:08:31.870\nAnd what's going to happen\nis d-message is going\n\n176\n00:08:31.870 --> 00:08:35.710\nto pick up that new media was removed and\nplugged back in.\n\n177\n00:08:35.710 --> 00:08:38.470\nAnd so now when I tail it, there we go.\n\n178\n00:08:38.470 --> 00:08:41.170\nI can see that sdf was attached, right?\n\n179\n00:08:41.170 --> 00:08:43.540\nHere's this key that was plugged in.\n\n180\n00:08:43.540 --> 00:08:45.590\nAnd so it's got a partition on it, sdf1.\n\n181\n00:08:45.590 --> 00:08:48.510\nI don't care about that\nbecause I'm about to erase it.\n\n182\n00:08:48.510 --> 00:08:50.470\nBut sdf is this memory.\n\n183\n00:08:50.470 --> 00:08:52.860\nAnd I can actually see right here,\nPatriot Memory.\n\n184\n00:08:52.860 --> 00:08:56.380\nSo that's my USB key, all right.\n\n185\n00:08:56.380 --> 00:08:58.940\nSo the next thing I need to do is I\nneed to make sure it's not mounted.\n\n186\n00:08:58.940 --> 00:09:02.080\nNow I just plugged it in, so\nit's probably not mounted.\n\n187\n00:09:02.080 --> 00:09:05.060\nBut if you've got auto mount configured,\nmaybe it is.\n\n188\n00:09:05.060 --> 00:09:06.780\nSo if it mounted than\nI might be in trouble.\n\n189\n00:09:06.780 --> 00:09:09.710\nAnd I might not know where,\nyou can run the mount command, and\n\n190\n00:09:09.710 --> 00:09:16.190\nyou can just look for, so if I do\nlike a grap for sdf, it'll turn up.\n\n191\n00:09:16.190 --> 00:09:19.540\nI can't imagine sdf is used for\nanything else, I should see it there.\n\n192\n00:09:19.540 --> 00:09:20.810\nSo that's one way to find it.\n\n193\n00:09:20.810 --> 00:09:24.750\nYou can also do the find mnt command,\nit is another one, so\n\n194\n00:09:24.750 --> 00:09:28.610\nyou can point To like /dev/sdf1.\n\n195\n00:09:28.610 --> 00:09:30.870\nAnd if it's mounted anywhere\nit'll turn up here and show you.\n\n196\n00:09:30.870 --> 00:09:35.280\nAll right but in this case mine's\nnot mounted so it's plugged in,\n\n197\n00:09:35.280 --> 00:09:36.380\nit's ready to go.\n\n198\n00:09:36.380 --> 00:09:39.160\nNow I just need to get this\nISO image written to it.\n\n199\n00:09:39.160 --> 00:09:40.890\nAnd that's where the DD command comes in.\n\n200\n00:09:40.890 --> 00:09:45.940\nI'm gonna say DD And\nI'm going to give it an input file, IF.\n\n201\n00:09:45.940 --> 00:09:50.530\nSo my input file in this case is going to\nbe this ISO image that's sitting right\n\n202\n00:09:50.530 --> 00:09:56.330\nhere and I don't know what I've done\nthat's made my tab auto-complete break.\n\n203\n00:09:56.330 --> 00:10:00.570\nSo let me copy so we'll save having\nto watch me make a bunch of typos.\n\n204\n00:10:00.570 --> 00:10:03.398\nSo I'm going to do DD,\nI'll do an input file.\n\n205\n00:10:03.398 --> 00:10:05.815\nOf that.\n\n206\n00:10:05.815 --> 00:10:12.040\nRight, and then once I've got that I\nthen need to tell it an output file.\n\n207\n00:10:12.040 --> 00:10:13.550\nWell it's not really an output file.\n\n208\n00:10:13.550 --> 00:10:14.770\nIt's an output device.\n\n209\n00:10:14.770 --> 00:10:15.310\nRight.\n\n210\n00:10:15.310 --> 00:10:18.310\nAnd my output device is\nslash dev slash sdf.\n\n211\n00:10:18.310 --> 00:10:20.910\nNow don't put sdf1.\n\n212\n00:10:20.910 --> 00:10:23.610\nRight.\nSdf1 will be a partition this iSO\n\n213\n00:10:23.610 --> 00:10:27.840\nactually may have one, or four,\nor five partitions in it.\n\n214\n00:10:27.840 --> 00:10:30.860\nAnd so it's gonna completely\nblow away the USB media and\n\n215\n00:10:30.860 --> 00:10:33.130\nreplace it with what I'm\nabout to send to it.\n\n216\n00:10:33.130 --> 00:10:35.890\nSo that means I don't\ncare about partitions,\n\n217\n00:10:35.890 --> 00:10:37.440\nI need to point to the device itself.\n\n218\n00:10:37.440 --> 00:10:39.600\nThis is a destructive write.\n\n219\n00:10:39.600 --> 00:10:42.180\nAnd then the last line here\nis actually pretty important.\n\n220\n00:10:42.180 --> 00:10:44.770\nIf I just press enter it\nwill probably work and\n\n221\n00:10:44.770 --> 00:10:47.070\nif we come back tomorrow it might be done.\n\n222\n00:10:47.070 --> 00:10:50.300\nWhen it writes,\nit writes very very slowly.\n\n223\n00:10:50.300 --> 00:10:56.670\nSo, we need to bump up the block size so\nthat it's not writing one bit at a time.\n\n224\n00:10:56.670 --> 00:11:01.930\nInstead I want to write, or one byte\nat a time, I want it to write more and\n\n225\n00:11:01.930 --> 00:11:05.470\nso I'm gonna tell it to\nwrite 512k Simultaneously.\n\n226\n00:11:05.470 --> 00:11:08.520\nAll right, so\nit's gonna write in 512k chunks.\n\n227\n00:11:08.520 --> 00:11:14.040\nNow if you think about it, I'm about write\n3.9 gigs of data, that's a lot of chunks.\n\n228\n00:11:14.040 --> 00:11:15.210\nSo when I run that,\n\n229\n00:11:15.210 --> 00:11:20.480\nit's gonna start work and I can see my USB\nkey, the red light's flashing away now.\n\n230\n00:11:20.480 --> 00:11:21.620\nIt's writing the data.\n\n231\n00:11:21.620 --> 00:11:23.930\nSo it's taking that iSO image.\n\n232\n00:11:23.930 --> 00:11:30.110\nTurning it into raw image data and writing\nit to the usb key, and it'll take awhile\n\n233\n00:11:30.110 --> 00:11:35.020\nbut when it's done I'll now have\na bootable usb key that I can use.\n\n234\n00:11:35.020 --> 00:11:38.210\nNow a couple of things that we\nneed to think about inside of that\n\n235\n00:11:38.210 --> 00:11:42.110\nis corruption is possible so\nwhen you write the data,\n\n236\n00:11:42.110 --> 00:11:45.190\nI don't worry about that too much\nbecause when you boot off of this,\n\n237\n00:11:45.190 --> 00:11:47.900\nwe see a menu you guys remember from the\ninstallation episode where it says do you\n\n238\n00:11:47.900 --> 00:11:52.140\nwant to install RedHat or do you want\nto verify your media and then install.\n\n239\n00:11:52.140 --> 00:11:55.840\nSo you've got that chance to be able to\nevaluate whether or not it got damaged.\n\n240\n00:11:55.840 --> 00:12:00.580\nThe other thing is I'm guilty of this,\nI get in a hurry sometimes, I'm like man I\n\n241\n00:12:00.580 --> 00:12:03.720\nreally don't want to wait for this,\nI'm gonna bump that blocksize up.\n\n242\n00:12:03.720 --> 00:12:04.570\nLet's go one meg.\n\n243\n00:12:04.570 --> 00:12:05.670\nLet's go five megs.\n\n244\n00:12:05.670 --> 00:12:07.100\nLet's go crazy.\n\n245\n00:12:07.100 --> 00:12:09.320\nWell you can exceed\nthe bandwidth of the USB.\n\n246\n00:12:09.320 --> 00:12:10.620\nThat's certainly possible.\n\n247\n00:12:10.620 --> 00:12:13.200\nIf you're on USB 3.0 it's going\nto go a lot faster than USB 2.0.\n\n248\n00:12:13.200 --> 00:12:16.510\nI'm actually on USB 2.0 here so\nthis is going to go nightmarishly slow.\n\n249\n00:12:16.510 --> 00:12:18.550\nProbably gonna cancel it here in a minute.\n\n250\n00:12:18.550 --> 00:12:20.060\nBut we'll let it run.\n\n251\n00:12:20.060 --> 00:12:23.720\nNow, if you do a larger block size it's\nmore important to verify your media,\n\n252\n00:12:23.720 --> 00:12:24.960\nmake sure that it didn't get corrupted.\n\n253\n00:12:24.960 --> 00:12:27.270\nIt probably wont, it's probably fine.\n\n254\n00:12:27.270 --> 00:12:28.790\nYou can usually bump up higher.\n\n255\n00:12:28.790 --> 00:12:31.100\nI find that one meg is what I normally do.\n\n256\n00:12:31.100 --> 00:12:33.805\nAnd so, it'll write and\nin turn write along.\n\n257\n00:12:33.805 --> 00:12:36.665\n&gt;&gt; Now Don, one question too about\nyou specified the block size.\n\n258\n00:12:36.665 --> 00:12:38.415\nHow about a file format?\n\n259\n00:12:38.415 --> 00:12:42.105\nI noticed we weren't really worried\nabout the file system or anything.\n\n260\n00:12:42.105 --> 00:12:43.145\nIs this using a default?\n\n261\n00:12:43.145 --> 00:12:48.745\nOr is it saying like FAT32 or\nis it using the native Linux file systems?\n\n262\n00:12:48.745 --> 00:12:52.625\n&gt;&gt; It's actually using a mixture which\nmakes the answer really kind of complex.\n\n263\n00:12:52.625 --> 00:12:55.115\nSo remember that it's going to boot.\n\n264\n00:12:55.115 --> 00:12:56.125\nWe need to boot off of this thing.\n\n265\n00:12:56.125 --> 00:12:58.400\nWell a lot of systems use UEFI these days.\n\n266\n00:12:58.400 --> 00:13:00.690\nAnd UEFI can only read so\nmany file systems.\n\n267\n00:13:00.690 --> 00:13:03.360\nAnd so, there will be a FAT\npartition on there even though,\n\n268\n00:13:03.360 --> 00:13:04.760\nwe associated that with Microsoft.\n\n269\n00:13:04.760 --> 00:13:07.940\nIt's one of the few partition\nformats that everybody can read.\n\n270\n00:13:07.940 --> 00:13:12.840\nSo, there will be a boot volume\non there that is FAT I think it's\n\n271\n00:13:12.840 --> 00:13:14.460\nFAT16 not even FAT32 but\nit might be FAT32.\n\n272\n00:13:14.460 --> 00:13:16.200\nBut either way it is FAT and\n\n273\n00:13:16.200 --> 00:13:20.090\nthen there will be XFS partitions that\nhave the rest of the Linux data on there.\n\n274\n00:13:20.090 --> 00:13:23.590\nCuz once we're able to boot we can load\nthe kernel we can get XFS going and\n\n275\n00:13:23.590 --> 00:13:26.030\nthen we can access all the other data\nas we mount part of the boot process.\n\n276\n00:13:26.030 --> 00:13:28.330\nSo you'll see a mixture,\nthere are actually two or\n\n277\n00:13:28.330 --> 00:13:31.440\nthree different partitions that'll\nbe created as part of this process.\n\n278\n00:13:31.440 --> 00:13:34.460\nAll right, well I've got this\non USB two right now, so\n\n279\n00:13:34.460 --> 00:13:35.360\nit's going to take a long time.\n\n280\n00:13:35.360 --> 00:13:36.540\nI'm just going to cancel it.\n\n281\n00:13:36.540 --> 00:13:39.930\nI'll just hit control C here on\nthe old keyboard to stop it.\n\n282\n00:13:39.930 --> 00:13:44.030\nWhen it runs, you know it just\ncontinues running until it's done.\n\n283\n00:13:44.030 --> 00:13:45.640\nIt says, man.\n\n284\n00:13:46.640 --> 00:13:49.460\nI was already at 3 gigs, it was almost\ndone, and I canceled the darn thing.\n\n285\n00:13:49.460 --> 00:13:52.040\nWell, so you let it run and\nthen it finishes, and\n\n286\n00:13:52.040 --> 00:13:53.270\nnow you got your USB install media.\n\n287\n00:13:53.270 --> 00:13:56.040\nI'm gonna jump over to another\nsystem where I have USB 3.0 and\n\n288\n00:13:56.040 --> 00:13:57.180\nit'll write even faster.\n\n289\n00:13:57.180 --> 00:13:59.570\nAnd so we'll go through it and we'll\nsee the finished product on that one.\n\n290\n00:13:59.570 --> 00:14:02.220\nSo all right, what we just saw,\nthat was how we do it on Linux.\n\n291\n00:14:02.220 --> 00:14:04.950\nThe key command here was the DD command,\nand\n\n292\n00:14:04.950 --> 00:14:07.200\ndon't worry if you're trying\nto jot this down real fast,\n\n293\n00:14:07.200 --> 00:14:09.900\nI'll put it in the show notes, so\nyou'll have it as part of the record.\n\n294\n00:14:09.900 --> 00:14:11.160\nBut, we're just writing that, and\n\n295\n00:14:11.160 --> 00:14:13.810\nremember that you do need to be an\nadministrator, because otherwise you won't\n\n296\n00:14:13.810 --> 00:14:16.890\nbe able to destroy the USB\nkey that you're writing to.\n\n297\n00:14:16.890 --> 00:14:18.750\nAll right,\nlet me switch over to this other system.\n\n298\n00:14:18.750 --> 00:14:24.680\nSo, I've got a Mac, and this Mac has\na USB key plugged into it also, right?\n\n299\n00:14:24.680 --> 00:14:28.760\nAnd on it I want to create\na Red Hat install disk.\n\n300\n00:14:28.760 --> 00:14:34.660\nSo I want to basically go through that\nsame process that we just went through.\n\n301\n00:14:34.660 --> 00:14:39.890\nAnd I've got a Red Hat Enterprise Linux\niso sitting right here on my system.\n\n302\n00:14:39.890 --> 00:14:42.180\nAnd I want to write that to my USB key.\n\n303\n00:14:42.180 --> 00:14:48.470\nNow, technically a lot of what I just did\non the Redhat box works under MacOS too.\n\n304\n00:14:48.470 --> 00:14:51.600\nMacOS is really just BSD under the hood.\n\n305\n00:14:51.600 --> 00:14:56.310\nSo it shares a lot in common with\nthe Linux distros that we work with.\n\n306\n00:14:56.310 --> 00:14:59.230\nBut there are some special commands\nin it when it comes to things\n\n307\n00:14:59.230 --> 00:15:02.000\nlike identifying disks and\nmounting the disk.\n\n308\n00:15:02.000 --> 00:15:03.580\nSo I just want to run\nthrough those real quick and\n\n309\n00:15:03.580 --> 00:15:06.620\nshow you how this would look\nfrom a Mac perspective.\n\n310\n00:15:06.620 --> 00:15:10.580\nFirst off I'm going to\ndo disk util list right.\n\n311\n00:15:10.580 --> 00:15:13.370\nSo when I want to find the disk instead of\n\n312\n00:15:13.370 --> 00:15:16.730\ndigging through d message which\nactually is here and does exist.\n\n313\n00:15:16.730 --> 00:15:20.870\nI can just use this simple command to\npull up a list of the disks in my system.\n\n314\n00:15:20.870 --> 00:15:25.640\nAnd I can spot my external physical media,\nthat USB key.\n\n315\n00:15:25.640 --> 00:15:27.320\nI can spot it right there.\n\n316\n00:15:27.320 --> 00:15:30.110\nAnd I can see that it's /dev/disk1.\n\n317\n00:15:30.110 --> 00:15:31.870\nNotice the different naming convention.\n\n318\n00:15:31.870 --> 00:15:34.680\nApple doesn't follow the standard\nfile naming convention of the Linux\n\n319\n00:15:34.680 --> 00:15:36.990\nenvironment, so it's a different name.\n\n320\n00:15:36.990 --> 00:15:39.460\nThat's only going to matter\nhere when I create the music.\n\n321\n00:15:39.460 --> 00:15:42.350\nAfter I create it and I boot off it,\nit will all be booted off of\n\n322\n00:15:42.350 --> 00:15:45.260\nthe Redhat system and so it will\nfollow the normal naming convention.\n\n323\n00:15:45.260 --> 00:15:46.030\nAll right.\n\n324\n00:15:46.030 --> 00:15:47.608\nSo I've got /dev/disk1.\n\n325\n00:15:47.608 --> 00:15:51.505\nAnd if I want to unmount that thing,\nassuming its mounted, mine is.\n\n326\n00:15:51.505 --> 00:15:55.202\nI can say diskutil unmountDisk.\n\n327\n00:15:55.202 --> 00:15:58.928\nAnd then I can specify /dev/disk 1.\n\n328\n00:15:58.928 --> 00:16:02.550\nSo I'm just gonna bump that one and\nnow it's unmounted.\n\n329\n00:16:02.550 --> 00:16:06.100\nAnd once it's unmounted,\nnow I can write the ISO image into it and\n\n330\n00:16:06.100 --> 00:16:07.360\nI can get that setup.\n\n331\n00:16:07.360 --> 00:16:11.240\nAnd just like I did on side\nof the Linux environment,\n\n332\n00:16:11.240 --> 00:16:13.490\nI can use the dd command to do that.\n\n333\n00:16:13.490 --> 00:16:19.740\nSo I'm gonna say dd, my input file\nis going to be that Red Hat disk.\n\n334\n00:16:19.740 --> 00:16:21.720\nAnd my, I tabbed over completely,\nexcellent.\n\n335\n00:16:21.720 --> 00:16:23.490\nSo that's gonna be my input file,\n\n336\n00:16:23.490 --> 00:16:28.520\nmy output file is going to be /dev/disk1,\nright.\n\n337\n00:16:28.520 --> 00:16:32.300\nAgain, not specifying a partition,\nspecifying the disk itself,\n\n338\n00:16:32.300 --> 00:16:33.580\nthat's my target.\n\n339\n00:16:33.580 --> 00:16:35.320\nAnd then I'm gonna do a block size and\n\n340\n00:16:35.320 --> 00:16:37.040\nwe'll bump up to one meg on this one,\nright.\n\n341\n00:16:37.040 --> 00:16:39.850\nSo I'm gonna go,\nthis should write twice as fast,\n\n342\n00:16:39.850 --> 00:16:43.390\nit's also USB three instead of two, so\nit's gonna write even faster there.\n\n343\n00:16:43.390 --> 00:16:47.131\nI'm gonna hit enter on that and\nit's gonna start running and\n\n344\n00:16:47.131 --> 00:16:48.500\noop, [LAUGH] I'm now administrator.\n\n345\n00:16:48.500 --> 00:16:54.760\nSo let me do a sudo on that and\npunch in my password if I can remember it.\n\n346\n00:16:56.000 --> 00:16:57.770\nThere we go and it's gonna start writing.\n\n347\n00:16:57.770 --> 00:17:01.740\nNow we don't get a lot of output on this\nand you guys saw earlier I hit Ctrl + c\n\n348\n00:17:01.740 --> 00:17:03.770\nand cancelled it and\nit gave a ton of output then.\n\n349\n00:17:04.820 --> 00:17:09.222\nIf you wanna see what's going on,\nyou can hit Ctrl + t on the keyboard and\n\n350\n00:17:09.222 --> 00:17:12.580\nCtrl + t will give you a little\noutput of where it's at right now.\n\n351\n00:17:12.580 --> 00:17:16.540\nAnd so if I look at mine, I can see\nthat I'm writing at a decent bit,\n\n352\n00:17:16.540 --> 00:17:19.710\nlooks like a little\nover two megs a second.\n\n353\n00:17:19.710 --> 00:17:21.270\nSo even though my block size is one meg,\n\n354\n00:17:21.270 --> 00:17:24.565\nI'm writing two blocks\nper second apparently.\n\n355\n00:17:24.565 --> 00:17:26.950\nSo, going at a pretty decent speed.\n\n356\n00:17:26.950 --> 00:17:30.180\nAnd it's telling me that at this point,\nI've actually moved 28 megs of data,\n\n357\n00:17:30.180 --> 00:17:36.180\nI've got 3.9 gigs of data [LAUGH] so\nI'm going to have to wait a little bit.\n\n358\n00:17:36.180 --> 00:17:40.890\nBut as we watch it's moving pretty quick,\nI'm up to 94 megs of data and\n\n359\n00:17:40.890 --> 00:17:44.240\nso it's just gonna move\nalong writing that media.\n\n360\n00:17:44.240 --> 00:17:48.650\nAll right, while we're waiting on that,\nlet's move to the Windows world.\n\n361\n00:17:48.650 --> 00:17:51.830\nIn the Windows world, you don't see\na lot of this command stuff right,\n\n362\n00:17:51.830 --> 00:17:53.930\ncommand line stuff because it's too hard.\n\n363\n00:17:53.930 --> 00:17:59.880\nSo instead, we have a graphical\nutility on a Linux system,\n\n364\n00:17:59.880 --> 00:18:02.640\nyou can choose not to install a GUI,\nright.\n\n365\n00:18:02.640 --> 00:18:04.380\nSo you might just have\ncommand line in that's it.\n\n366\n00:18:04.380 --> 00:18:07.120\nThat's why we always have command\nline stuff in the Linux world.\n\n367\n00:18:07.120 --> 00:18:12.920\nIn Mac OS, you've always got a GUI but\nbecause it's Unix based under the hood,\n\n368\n00:18:12.920 --> 00:18:14.810\nthey still have all\nthe command line stuff.\n\n369\n00:18:14.810 --> 00:18:18.650\nBut on Windows, you don't have\nthe option to just do command line.\n\n370\n00:18:18.650 --> 00:18:21.131\nEven when do one of their,\n[CROSSTALK] core installs.\n\n371\n00:18:21.131 --> 00:18:23.165\nIf you do a core install that\nis still technically a GUI,\n\n372\n00:18:23.165 --> 00:18:25.824\nthey can tell you whatever they want\nwant but there's still a GUI there.\n\n373\n00:18:25.824 --> 00:18:30.530\nSo you can drop to the command line and\nyou have some commands but not a ton.\n\n374\n00:18:30.530 --> 00:18:34.460\nWes mentioned disc part which is\nan unfortunately complex utility.\n\n375\n00:18:34.460 --> 00:18:37.860\nYou can't really script very easy and\nso it's kind of a pain.\n\n376\n00:18:37.860 --> 00:18:43.300\nSo instead of going that route, what Red\nHat did is they commissioned the creation\n\n377\n00:18:43.300 --> 00:18:49.140\nof a utility called the Live USB Creator.\n\n378\n00:18:49.140 --> 00:18:50.660\nAnd the Live USB Creator,\n\n379\n00:18:50.660 --> 00:18:55.450\nlet me see if I can make this some\nkind of legible font size here.\n\n380\n00:18:55.450 --> 00:18:58.611\nThe Live USB Creator it\nwas actually created for\n\n381\n00:18:58.611 --> 00:19:02.176\nthe Fedora project but\nit works for RHEL just as well.\n\n382\n00:19:02.176 --> 00:19:06.044\nRemember the Fedora is the experimental\nbranch of RHEL, so they're\n\n383\n00:19:06.044 --> 00:19:10.455\nrelated projects but if you go to and\nI'll put this link in the show notes also.\n\n384\n00:19:10.455 --> 00:19:14.756\nBut if you go to\nfedorahosted.org/liveusb-creator,\n\n385\n00:19:14.756 --> 00:19:18.968\nit's got this software utility\nthat you can download and\n\n386\n00:19:18.968 --> 00:19:23.195\ninstall it on Windows to\ncreate the installation media.\n\n387\n00:19:23.195 --> 00:19:26.133\nEven though it's Fedora hosted and\nit's all talking about Fedora,\n\n388\n00:19:26.133 --> 00:19:29.138\nthis is the tool that recommends for\nRed Hat Enterprise Linux as well.\n\n389\n00:19:29.138 --> 00:19:33.230\nNow, be careful there a lot\nof website outside out there,\n\n390\n00:19:33.230 --> 00:19:37.080\nthat host this file that\naren't fedorahosted.org.\n\n391\n00:19:37.080 --> 00:19:40.740\nAnd there are some that have been found\nwith malware embedded in them, so\n\n392\n00:19:40.740 --> 00:19:45.000\nonly download the utility from this site,\ndon't download it from anywhere else and\n\n393\n00:19:45.000 --> 00:19:46.990\nmake sure you check the checksum on it.\n\n394\n00:19:46.990 --> 00:19:50.691\nBecause you don't want to build\ninstallation media that has malware pre\n\n395\n00:19:50.691 --> 00:19:52.610\npacked in it right,\nthat would not be good.\n\n396\n00:19:52.610 --> 00:19:54.550\nSo definitely keep an eye out for that.\n\n397\n00:19:54.550 --> 00:19:58.269\nBut the utility itself,\nthey show it over here,\n\n398\n00:19:58.269 --> 00:20:04.362\nlet me see if I can just open that image,\nI'm sure there's some option in here.\n\n399\n00:20:07.830 --> 00:20:08.479\nPull that up.\n\n400\n00:20:08.479 --> 00:20:11.450\nAnd we can kinda take a look\nat what that looks like.\n\n401\n00:20:12.960 --> 00:20:15.090\nApparently as small as possible.\n\n402\n00:20:15.090 --> 00:20:17.530\nBut basically the utility\nis pretty straightforward.\n\n403\n00:20:17.530 --> 00:20:20.610\nThe way it works is you browse and\nyou pick your ISO file, right?\n\n404\n00:20:20.610 --> 00:20:22.890\nThat's easy enough,\nwe just browse and we find it.\n\n405\n00:20:22.890 --> 00:20:25.740\nWe, tell it if we want to download.\n\n406\n00:20:25.740 --> 00:20:28.610\nNow, the download option's not available\nfor Red Hat Enterprise Linux, so\n\n407\n00:20:28.610 --> 00:20:30.280\nyou might as well pretend\nthat's not there.\n\n408\n00:20:30.280 --> 00:20:33.580\nIf you drop that list down,\nyou'll see Fedora and CentOS.\n\n409\n00:20:33.580 --> 00:20:36.290\nBecause those are free,\nanybody can download them but\n\n410\n00:20:36.290 --> 00:20:37.960\nRed Hat Enterprise Linux\nrequires a license.\n\n411\n00:20:37.960 --> 00:20:40.900\nYou have to have a license, you have to\nhave a valid customer portal account to\n\n412\n00:20:40.900 --> 00:20:43.320\ndownload it, so\nit's not in the drop down box.\n\n413\n00:20:43.320 --> 00:20:46.600\nSo you browse and pick the ISO that you\ndownloaded from the customer portal.\n\n414\n00:20:46.600 --> 00:20:49.900\nAnd then you pick your target device,\nyour USB key.\n\n415\n00:20:49.900 --> 00:20:51.450\nIt will usually have a name,\nyou drop it down and\n\n416\n00:20:51.450 --> 00:20:53.490\nyou pick it, right and then that's it.\n\n417\n00:20:53.490 --> 00:20:55.500\nYou hit Create Live USB and\nthen you're done.\n\n418\n00:20:55.500 --> 00:20:58.190\nThe only real choice we\nhave here aside from that,\n\n419\n00:20:58.190 --> 00:21:01.450\nis whether we want persistent\nstorage by default it will be zero.\n\n420\n00:21:01.450 --> 00:21:04.620\nI know the picture shows 100 megs but\nby default it is zero.\n\n421\n00:21:04.620 --> 00:21:06.890\nA Live USB is no different than a CD or\nDVD,\n\n422\n00:21:06.890 --> 00:21:08.880\nyou're not intended to write data to it.\n\n423\n00:21:08.880 --> 00:21:12.450\nSo you boot off, you do your install,\nyou take it out and that's it.\n\n424\n00:21:12.450 --> 00:21:15.040\nNothing is written to the CD or DVD.\n\n425\n00:21:15.040 --> 00:21:17.970\nBut a USB can be written to or\na USB key can.\n\n426\n00:21:17.970 --> 00:21:22.300\nSo you can create persistent storage,\nyou'll create an extra partition on there.\n\n427\n00:21:22.300 --> 00:21:26.470\nAnd then you can boot off of that disk and\nrun Red Hat right off of the USB key and\n\n428\n00:21:26.470 --> 00:21:28.110\nactually save files to it.\n\n429\n00:21:28.110 --> 00:21:31.430\nSo, if you ever wanted to go and\nuse a computer you didn't trust,\n\n430\n00:21:31.430 --> 00:21:35.890\nyou could create a Live USB key here\nwith persistent storage on it and\n\n431\n00:21:35.890 --> 00:21:38.490\nyou could load your software and\nyour files.\n\n432\n00:21:38.490 --> 00:21:41.410\nAnd now when you're traveling, you go and\nmaybe I'm borrowing Wes's laptop and\n\n433\n00:21:41.410 --> 00:21:42.710\nI don't wanna mess up his stuff.\n\n434\n00:21:42.710 --> 00:21:45.890\nSo, I plug in a USB key and I boot up\noff it and there's my documents and\n\n435\n00:21:45.890 --> 00:21:47.380\nI work with it, so you can do that.\n\n436\n00:21:47.380 --> 00:21:50.300\nBut if you're just creating installation\nmedia, you'll zero that out.\n\n437\n00:21:50.300 --> 00:21:54.490\nYou just drop it down and that's that,\nand then create the key, right.\n\n438\n00:21:54.490 --> 00:21:57.080\nNow, it's just gonna run\nthrough the same process.\n\n439\n00:21:57.080 --> 00:21:59.140\nWindows doesn't have a DD utility,\n\n440\n00:21:59.140 --> 00:22:01.690\nthey don't have anything\neven comparable to that.\n\n441\n00:22:01.690 --> 00:22:05.600\nSo it's gonna go in and just write\nthis ISO to the physical disk and\n\n442\n00:22:05.600 --> 00:22:08.050\nonce it's done you now have\nan installation media.\n\n443\n00:22:08.050 --> 00:22:12.240\n&gt;&gt; Well Don it's nice that the developers\nthere at Fedora gave us people who\n\n444\n00:22:12.240 --> 00:22:15.770\nare in Windows and\nneed training wheels of a GUI option now.\n\n445\n00:22:15.770 --> 00:22:19.990\nQuestion about that, you specified\nboth in Linux and Mac the block size.\n\n446\n00:22:19.990 --> 00:22:23.980\nIs that really something that we have\nto worry about corruption of the media\n\n447\n00:22:23.980 --> 00:22:26.940\nif we are in the Windows environment or\nbecause of the integrity check you\n\n448\n00:22:26.940 --> 00:22:30.550\nget when do you a pre-installation,\npretty much the same thing here.\n\n449\n00:22:30.550 --> 00:22:32.290\n&gt;&gt; It is actually setting a block size.\n\n450\n00:22:32.290 --> 00:22:35.960\nI don't know what it is, but it just\ndoesn't give us the option to change it,\n\n451\n00:22:35.960 --> 00:22:39.310\nMicrosoft supports that but\nthey don't they just don't expose that.\n\n452\n00:22:39.310 --> 00:22:41.280\nIt's minimizing the GUI elements.\n\n453\n00:22:41.280 --> 00:22:43.750\nSo if you want to go crazy with stuff\nlike that you've got to move over to\n\n454\n00:22:43.750 --> 00:22:45.060\na Linux system.\n\n455\n00:22:45.060 --> 00:22:47.634\nAnd if you're a Linux administrator then\nodds are you've got a Linux system laying\n\n456\n00:22:47.634 --> 00:22:48.900\naround somewhere you can use.\n\n457\n00:22:48.900 --> 00:22:51.570\nAny one will do and it can generate this.\n\n458\n00:22:51.570 --> 00:22:54.721\nThe DD utility is in every\ninstall even the minimal install.\n\n459\n00:22:54.721 --> 00:22:57.889\nSo it's not like you have to install the\nsoftware to do it to create the medium.\n\n460\n00:22:59.120 --> 00:23:00.110\nAll right, and look at that.\n\n461\n00:23:00.110 --> 00:23:03.410\nWe are actually finally finished\nafter a little bit of waiting there.\n\n462\n00:23:03.410 --> 00:23:05.480\nSo I know I'm finished for\na couple of reasons.\n\n463\n00:23:05.480 --> 00:23:08.850\nOne, I get dropped back to my prompt,\nthis is on the Mac again.\n\n464\n00:23:08.850 --> 00:23:10.780\nBut I also know because\nI get this message here,\n\n465\n00:23:10.780 --> 00:23:13.740\nthe disk you inserted was not\nreadable by this computer.\n\n466\n00:23:13.740 --> 00:23:19.860\nMacs can't read XFS and ext anything, two,\nthree, four, they just don't have that.\n\n467\n00:23:19.860 --> 00:23:23.500\nWhich is funny because they run BSD,\nthey could read the file system but\n\n468\n00:23:23.500 --> 00:23:24.600\nApple chooses not to.\n\n469\n00:23:24.600 --> 00:23:27.846\nSo if I initialize, I'm gonna undo all\nthe work I just did, I'm gonna ignore it.\n\n470\n00:23:27.846 --> 00:23:32.348\nNow, it's done and on a Linux box,\n\n471\n00:23:32.348 --> 00:23:36.770\nI would do an fdisk of this device.\n\n472\n00:23:36.770 --> 00:23:39.060\nAnd do a p, for\nprint to be able to see what's on there.\n\n473\n00:23:39.060 --> 00:23:43.300\nAnd fdisk dash l, for the device to\nsee the partitions that were created.\n\n474\n00:23:43.300 --> 00:23:46.910\nOn Windows, you could use the disk\nmanager or computer management, whatever.\n\n475\n00:23:46.910 --> 00:23:51.015\nOn a Mac,\nI can always just say diskutil list.\n\n476\n00:23:51.015 --> 00:23:53.081\nAnd it's gonna show the disks\nthat are out there.\n\n477\n00:23:53.081 --> 00:23:56.333\nAnd here's my USB key, woops, down here.\n\n478\n00:23:56.333 --> 00:24:00.302\nAnd I can see there's 15.8\nGB partition here that is\n\n479\n00:24:00.302 --> 00:24:04.870\nFDisk_partition_scheme and\nis talking about my EXT system.\n\n480\n00:24:04.870 --> 00:24:10.570\nAnd then I see this disk1s2 that's\nonly 6 MB in size, pretty small.\n\n481\n00:24:10.570 --> 00:24:12.010\nThat's gonna be that boot volume.\n\n482\n00:24:12.010 --> 00:24:15.082\nSo it's actually not showing\nany other partitions, but\n\n483\n00:24:15.082 --> 00:24:18.479\nyou know there's other ones\nthere because this is disk1s2.\n\n484\n00:24:18.479 --> 00:24:20.221\nWhere is disk1s1?\n\n485\n00:24:20.221 --> 00:24:23.704\nIt's missing and\nactually Apple refuses to look at it.\n\n486\n00:24:23.704 --> 00:24:25.666\nThey go,\nwe'll just deny the existence of it.\n\n487\n00:24:25.666 --> 00:24:28.440\nBut it is created and\nit is available there and\n\n488\n00:24:28.440 --> 00:24:31.580\nnow we have a USB installation\nmidi that's ready.\n\n489\n00:24:31.580 --> 00:24:34.020\nWe can take that, pop it into a computer,\n\n490\n00:24:34.020 --> 00:24:38.270\nturn it on and when it boots up we're\ngonna see that installation media.\n\n491\n00:24:38.270 --> 00:24:40.030\nNow just a quick word on that.\n\n492\n00:24:40.030 --> 00:24:43.470\nA lot of modern computers will\nboot from USB automatically.\n\n493\n00:24:43.470 --> 00:24:45.480\nYou just pop it in,\npower it on, and that's it.\n\n494\n00:24:45.480 --> 00:24:49.960\nBut there's plenty of them that\neither don't support booting to USB,\n\n495\n00:24:49.960 --> 00:24:50.920\nin which case, you're out of luck.\n\n496\n00:24:50.920 --> 00:24:52.390\nYou've gotta use a DVD.\n\n497\n00:24:52.390 --> 00:24:57.160\nOr they do support it, but\nthey've prioritized the hard drives first.\n\n498\n00:24:57.160 --> 00:25:00.350\nAnd so you plug it in, you go to boot,\nand it just boots off the hard drive.\n\n499\n00:25:00.350 --> 00:25:03.790\nOn a lot of Dell systems, you need to\nhit F12 on your keyboard to pull up\n\n500\n00:25:03.790 --> 00:25:06.660\na boot menu, and\nthen you can manually choose USB.\n\n501\n00:25:06.660 --> 00:25:11.980\nOn Lenovos, like the IBM ThinkPads or\nLenovo ThinkPads, whatever they are.\n\n502\n00:25:11.980 --> 00:25:14.971\nFor those, a lot of times you have to go\ninto the BIOS and you have to prioritize\n\n503\n00:25:14.971 --> 00:25:17.472\nthe USB boot higher than the hard\ndrives to be able to get into it.\n\n504\n00:25:17.472 --> 00:25:21.220\nASUS laptops are the same way,\na lot of times you got to prioritize.\n\n505\n00:25:21.220 --> 00:25:25.410\nOn your servers, most of them are set\nto boot from USB by default and\n\n506\n00:25:25.410 --> 00:25:26.660\nthen move onto their hard drives.\n\n507\n00:25:26.660 --> 00:25:28.600\nSo just check your hardware\nto make sure you've got that.\n\n508\n00:25:28.600 --> 00:25:33.790\nBut otherwise, once it's created you've\ngot that media, it's on your system,\n\n509\n00:25:33.790 --> 00:25:34.880\nit's ready to go.\n\n510\n00:25:34.880 --> 00:25:40.050\nAnd you can now go and do your install or\nfire things up and be in business.\n\n511\n00:25:40.050 --> 00:25:41.370\nAll right,\nsorry if I sounded distracted there.\n\n512\n00:25:41.370 --> 00:25:43.885\nI was moving the USB key over to get\nit plugged into my Linux machine\n\n513\n00:25:43.885 --> 00:25:45.916\ninstead of into my Mac so\nthat we can actually see it.\n\n514\n00:25:45.916 --> 00:25:51.024\nAnd when I plugged it in, see that USB\nkey shows up as RAGL 7.2 server, right.\n\n515\n00:25:51.024 --> 00:25:53.370\nIt's not showing up as patriot memory or\nwhatever.\n\n516\n00:25:53.370 --> 00:25:55.540\nIt's actually showing up\nas that installation disk.\n\n517\n00:25:55.540 --> 00:25:58.570\nThe Mac wouldn't see it but\nmy Red Hat box will see it just fine.\n\n518\n00:25:58.570 --> 00:26:03.390\nAnd if I go into my disks utility,\nlet me just jump over to that, and\n\n519\n00:26:03.390 --> 00:26:08.140\nI take a look at that 16 GB\nthumb drive patriot memory.\n\n520\n00:26:08.140 --> 00:26:12.410\nThere's the 6.4 meg, and\nsee how it's a FAT partition?\n\n521\n00:26:12.410 --> 00:26:15.559\nAnd if I look down here,\nit's saying FAT 12, 16, or 32.\n\n522\n00:26:15.559 --> 00:26:19.490\nContents FAT 12-bit version,\nI think I said FAT 16 earlier.\n\n523\n00:26:19.490 --> 00:26:21.920\nIt's the oldest form of FAT.\n\n524\n00:26:21.920 --> 00:26:22.590\nBut that's okay,\n\n525\n00:26:22.590 --> 00:26:26.360\ncuz it's only 6 megs in size and even\nthe oldest version of FAT can handle that.\n\n526\n00:26:26.360 --> 00:26:29.480\nAnd that there is the Anaconda partition.\n\n527\n00:26:29.480 --> 00:26:33.710\nRemember, Anaconda is the code name for\nthe installation system inside of Red Hat.\n\n528\n00:26:33.710 --> 00:26:37.100\nThat's what UEFI is gonna look for\nand boot on the system.\n\n529\n00:26:37.100 --> 00:26:40.700\nThe other partition that's magically\nshowing up here that my Mac\n\n530\n00:26:40.700 --> 00:26:45.610\ndidn't know existed, this sd,\nthe partition 1 that was invisible,\n\n531\n00:26:45.610 --> 00:26:50.680\nis Red Hat Enterprise Linux 7.2\npartition 1 is a 4 GB partition.\n\n532\n00:26:50.680 --> 00:26:52.850\nAnd look at that format, ISO9660.\n\n533\n00:26:52.850 --> 00:26:55.580\nThat's a CD or DVD format.\n\n534\n00:26:55.580 --> 00:26:58.310\nBut it's dropped it right\nhere onto the USB key.\n\n535\n00:26:58.310 --> 00:27:02.130\nSo when I boot UEFI or\nmy bootloader, I'll hit this.\n\n536\n00:27:02.130 --> 00:27:04.050\nAnd it'll start to load the kernel.\n\n537\n00:27:04.050 --> 00:27:05.949\nAnd then it'll be able to jump over and\nmount this and\n\n538\n00:27:05.949 --> 00:27:07.986\nperform the rest of\nthe installation right from there.\n\n539\n00:27:07.986 --> 00:27:10.880\nSo that's exactly what was done\nwhen we created this installation.\n\n540\n00:27:10.880 --> 00:27:14.560\nAnd if I look right down here,\nI can see that it is flagged as bootable.\n\n541\n00:27:14.560 --> 00:27:15.460\nAnd it's ready to rock.\n\n542\n00:27:15.460 --> 00:27:17.970\nI've got my USB key, and it's in business.\n\n543\n00:27:17.970 --> 00:27:19.430\n&gt;&gt; Don, we appreciate you taking the time.\n\n544\n00:27:19.430 --> 00:27:22.680\nAnd you've taken us through all the three,\nwell, three major operating systems here.\n\n545\n00:27:22.680 --> 00:27:24.990\nNow it does look like we're coming\nto the end of another episode, Don.\n\n546\n00:27:24.990 --> 00:27:28.555\nBut even though you have showed us all\nthree of the different major platforms,\n\n547\n00:27:28.555 --> 00:27:32.495\ndo you have any additional parting\nwords about creating your USB media?\n\n548\n00:27:32.495 --> 00:27:35.345\n&gt;&gt; Just remember that USB media gets\nout of date really fast, right?\n\n549\n00:27:35.345 --> 00:27:38.625\nSo I've got 7.2,\nyou saw on the website 7.3 is already out.\n\n550\n00:27:38.625 --> 00:27:41.525\nSo if I install something with this,\nI need to do my updates right away.\n\n551\n00:27:41.525 --> 00:27:43.465\nAnd those machines will update to 7.3.\n\n552\n00:27:43.465 --> 00:27:48.080\nWell, I can remake my installer and\nnow I would have a 7.3 installer.\n\n553\n00:27:48.080 --> 00:27:51.080\nAnother option, though,\nif you watched our Kickstart episode,\n\n554\n00:27:51.080 --> 00:27:51.930\nyou've already seen this.\n\n555\n00:27:51.930 --> 00:27:55.270\nBut with Kickstart,\nwe can actually set it up so\n\n556\n00:27:55.270 --> 00:27:58.850\nthat when you boot off that USB media,\nthe installation files aren't on there.\n\n557\n00:27:58.850 --> 00:28:00.690\nInstead they're on a network location.\n\n558\n00:28:00.690 --> 00:28:04.720\nAnd so when a new version of Red Hat comes\nout, you just update the network location.\n\n559\n00:28:04.720 --> 00:28:08.100\nAnd then people can boot off the USB\nkey and always get the latest version.\n\n560\n00:28:08.100 --> 00:28:11.130\nYou don't have to go and remake these\nUSB keys over and over and over again.\n\n561\n00:28:11.130 --> 00:28:14.410\nThe only negative with that solution\nis your install is now taking\n\n562\n00:28:14.410 --> 00:28:15.350\nplace over the network.\n\n563\n00:28:15.350 --> 00:28:16.950\nSo I'm copying three and\n\n564\n00:28:16.950 --> 00:28:19.960\na half gigs over the network versus\ncopying it straight from USB.\n\n565\n00:28:19.960 --> 00:28:24.210\nBut as we saw when I made this, the whole\nUSB side isn't necessarily all that fast.\n\n566\n00:28:24.210 --> 00:28:27.632\nSo going over the network might actually\nbe faster [LAUGH] in some scenarios.\n\n567\n00:28:27.632 --> 00:28:28.984\nSo definitely keep that in mind.\n\n568\n00:28:28.984 --> 00:28:31.260\nThere's a few different options\nthat are out there for you.\n\n569\n00:28:31.260 --> 00:28:34.650\n&gt;&gt; Well, Don, as always, we appreciate\nyou being here in the studios with us and\n\n570\n00:28:34.650 --> 00:28:36.210\nwe appreciate you, the viewer watching.\n\n571\n00:28:36.210 --> 00:28:39.060\nSigning out for ITPro.TV,\nI've been your host, Wes Brian.\n\n572\n00:28:39.060 --> 00:28:39.840\nAnd I'm Don Pezet.\n\n573\n00:28:39.840 --> 00:28:40.617\n&gt;&gt; And we'll see you next time.\n\n574\n00:28:40.617 --> 00:28:47.324\n[MUSIC]\n\n575\n00:28:47.324 --> 00:28:51.829\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "195021727"
        }
      ],
      "title": "Introduction to RHEL"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Don show you the essentials for configuring networking in a Red Hat Enterprise Linux environment. They show you common tasks like viewing the current network configuration and configuring a network card. Next, they explore the Network Manager which is used mostly with CLI-Only installs.",
          "length": "1790",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-2-1-1-network_configuration-111616.00_34_04_16.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-2-1-1-network_configuration-111616.00_34_04_16.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-2-1-1-network_configuration-111616.00_34_04_16.Still001-sm.jpg",
          "title": "Network Configuration",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:02.904\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:02.904 --> 00:00:07.077\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:07.077 --> 00:00:08.403\n[MUSIC]\n\n4\n00:00:08.403 --> 00:00:12.080\n&gt;&gt; You're watching ITPRO.TV.\n\n5\n00:00:12.080 --> 00:00:13.810\n&gt;&gt; All right, greetings everyone, and\n\n6\n00:00:13.810 --> 00:00:16.089\nwelcome to another exciting\nepisode of ITProTV.\n\n7\n00:00:16.089 --> 00:00:19.897\nI'm your host Daniel Lowrie and today's\nepisode we are continuing on with our\n\n8\n00:00:19.897 --> 00:00:22.740\nRed Hat Enterprise Linux version 7 series.\n\n9\n00:00:22.740 --> 00:00:24.740\nAnd coming back for\na little more of that action,\n\n10\n00:00:24.740 --> 00:00:28.020\nhelp lend us down that path is\nour good friend Mr. Don Pezet.\n\n11\n00:00:28.020 --> 00:00:29.210\nDon, welcome back, sir.\n\n12\n00:00:29.210 --> 00:00:29.849\nHow's it going today?\n\n13\n00:00:29.849 --> 00:00:30.780\n&gt;&gt; Thanks for having me back Daniel.\n\n14\n00:00:30.780 --> 00:00:33.480\nReady to jump right back in to\nthe world of Red Hat Enterprise Linux,\n\n15\n00:00:33.480 --> 00:00:36.730\nand in this episode we're gonna take\na look at network configuration.\n\n16\n00:00:36.730 --> 00:00:39.183\nNow, we talked,\njust a little bit about network so far,\n\n17\n00:00:39.183 --> 00:00:42.679\ncuz during the installer we get that\nchance to provide a network configuration.\n\n18\n00:00:42.679 --> 00:00:44.494\nBut, we need to revisit that and\n\n19\n00:00:44.494 --> 00:00:48.206\nthe reason is networking can be\nreally challenging under Linux.\n\n20\n00:00:48.206 --> 00:00:51.478\nEspecially for people coming from other\noperating systems because pretty much\n\n21\n00:00:51.478 --> 00:00:54.648\nevery other operating systems you got\na GUI, and when it comes to configuring\n\n22\n00:00:54.648 --> 00:00:58.110\nthe network your normally just clicking\non some buttons and that's it.\n\n23\n00:00:58.110 --> 00:01:01.978\nBut if your doing a headless server\nthat is entirely command line,\n\n24\n00:01:01.978 --> 00:01:05.166\nnetwork configurations\nbecome really challenging.\n\n25\n00:01:05.166 --> 00:01:08.673\nDaniel, have you ever configured a Windows\nnetwork adapter from the command line?\n\n26\n00:01:08.673 --> 00:01:11.323\n&gt;&gt; I think I have once.\n\n27\n00:01:11.323 --> 00:01:14.240\nIt's not very often that\nyou do something like that.\n\n28\n00:01:14.240 --> 00:01:18.500\n&gt;&gt; You've got ten PowerShell commands or\na bunch of other stuff.\n\n29\n00:01:18.500 --> 00:01:19.880\nIt's not an easy thing to do.\n\n30\n00:01:19.880 --> 00:01:22.320\nWell, in the Linux world,\nit's actually not as bad,\n\n31\n00:01:22.320 --> 00:01:24.750\nbecause it's really just a couple of\nconfig files that we need to modify.\n\n32\n00:01:24.750 --> 00:01:27.310\nBut we need to know what to look for\nand where to look for it.\n\n33\n00:01:27.310 --> 00:01:29.800\nSo in this episode,\nthat's what we're gonna take a look at.\n\n34\n00:01:29.800 --> 00:01:31.870\nAnd the main reason I want\nto highlight it here,\n\n35\n00:01:31.870 --> 00:01:36.210\nis if you do a minimal server install, a\nlot of times when you do a minimal server\n\n36\n00:01:36.210 --> 00:01:38.840\ninstall, it's not going to configure\nyour network adapter for you.\n\n37\n00:01:38.840 --> 00:01:41.116\nAnd some of the utilities you're used\nto might not even be there, right?\n\n38\n00:01:41.116 --> 00:01:43.250\nSo that can be a real challenge, too.\n\n39\n00:01:43.250 --> 00:01:46.470\nThe other thing is,\neven if you do a full install,\n\n40\n00:01:46.470 --> 00:01:50.500\nthe installer only lets you\nconfigure one network adapter.\n\n41\n00:01:50.500 --> 00:01:54.300\nIf you want to do more, well,\nif you're doing the GUI installer,\n\n42\n00:01:54.300 --> 00:01:55.390\nyou have the option to add in more.\n\n43\n00:01:55.390 --> 00:01:57.410\nBut, if you're doing\nthe text based installer,\n\n44\n00:01:57.410 --> 00:01:59.020\nyou don't even see that ability.\n\n45\n00:01:59.020 --> 00:02:01.870\nSo, you're going to have to configure\nnetworking after the fact, right?\n\n46\n00:02:01.870 --> 00:02:03.440\nWell, let's start with the easy stuff.\n\n47\n00:02:03.440 --> 00:02:04.990\nWe'll get that out of the way.\n\n48\n00:02:04.990 --> 00:02:06.827\nIf I had a graphical user interface,\n\n49\n00:02:06.827 --> 00:02:09.553\nconfiguring networking under\nRed Hat is really easy,\n\n50\n00:02:09.553 --> 00:02:13.831\nbecause Red Hat has a service that runs in\nthe background called the network manager.\n\n51\n00:02:13.831 --> 00:02:15.810\nThe network manager's just a service.\n\n52\n00:02:15.810 --> 00:02:19.380\nIt runs and it maintains and\nmonitors all your network adapters, and\n\n53\n00:02:19.380 --> 00:02:23.590\nit allows you to quickly and\neasily configure them based on a GUI.\n\n54\n00:02:23.590 --> 00:02:27.937\nEven if you don't have the GUI, though,\nthe network manager is still there.\n\n55\n00:02:27.937 --> 00:02:29.810\nYou don't have to use it, but you can.\n\n56\n00:02:29.810 --> 00:02:32.670\nAnd from the command line there's\na series of commands we can issue\n\n57\n00:02:32.670 --> 00:02:33.890\nusing the network manager.\n\n58\n00:02:33.890 --> 00:02:35.780\nBut if we choose to abandon\nthe network manager,\n\n59\n00:02:35.780 --> 00:02:37.520\nwe can actually do it straight\nthrough config files.\n\n60\n00:02:37.520 --> 00:02:40.170\nSo we really got three different\noptions how we wanna configure this.\n\n61\n00:02:40.170 --> 00:02:42.530\nBut we'll start with\nthe GUI network manager.\n\n62\n00:02:42.530 --> 00:02:44.540\nNow, the network manager's\nalways visible on our screen.\n\n63\n00:02:44.540 --> 00:02:47.853\nIf you look all the way up at\nthe top right of your desktop,\n\n64\n00:02:47.853 --> 00:02:52.409\nyou'll see up here we've got our time,\nour network status, our volume, and\n\n65\n00:02:52.409 --> 00:02:54.775\nour power controls right, our system.\n\n66\n00:02:54.775 --> 00:02:58.220\nAnd when I click on that, I actually\nsee the output for all of these items.\n\n67\n00:02:58.220 --> 00:03:01.130\nSo there's my volume and\nhere is my network.\n\n68\n00:03:01.130 --> 00:03:06.120\nOkay, on my particular device I've got\na wired card that's showing up right there\n\n69\n00:03:06.120 --> 00:03:07.750\nand I've got Bluetooth.\n\n70\n00:03:07.750 --> 00:03:10.650\nLot of people don't realize that Bluetooth\njust shows up as a network adapter.\n\n71\n00:03:10.650 --> 00:03:13.963\nBluetooth connections actually have IP\naddresses and that's how you communicate\n\n72\n00:03:13.963 --> 00:03:16.197\nto all your crazy Bluetooth\ndevices that are out there.\n\n73\n00:03:16.197 --> 00:03:18.354\nIt is one of the reason\nwhy we can address so\n\n74\n00:03:18.354 --> 00:03:21.690\nmany clients connected to\na single Bluetooth antenna.\n\n75\n00:03:21.690 --> 00:03:23.372\nSo these are both showing up.\n\n76\n00:03:23.372 --> 00:03:27.695\nAnd if I had a WiFi adapter in here, it\nwould show up regardless of whether it was\n\n77\n00:03:27.695 --> 00:03:30.787\nconnected or not,\nthey would all show up right in here.\n\n78\n00:03:30.787 --> 00:03:34.162\nOn a default install, if you did not\nprovide a network configuration,\n\n79\n00:03:34.162 --> 00:03:37.256\nif you just next, next,\nnext all the way through the installer,\n\n80\n00:03:37.256 --> 00:03:41.100\nyou'd see your adapters here and\nthey wouldn't be connected.\n\n81\n00:03:41.100 --> 00:03:45.020\nEven though the installer defaults to\nDHCP, and the reason is it defaults to\n\n82\n00:03:45.020 --> 00:03:50.080\nDHCP, but it doesn't default to\nturning the adapter on at boot.\n\n83\n00:03:50.080 --> 00:03:53.200\nSo when it boots up the adapters turned\noff, and you've gotta go and turn it on.\n\n84\n00:03:53.200 --> 00:03:55.580\nAnd so\nit would show up in here as not connected.\n\n85\n00:03:55.580 --> 00:04:00.610\nNow if I click on one of these adapters,\nI can jump in and see I can turn this\n\n86\n00:04:00.610 --> 00:04:04.880\none off, so that would be kind of like\nwhat I'd normally see that it's just off.\n\n87\n00:04:04.880 --> 00:04:07.650\nAnd then I can turn it\non by connecting it.\n\n88\n00:04:07.650 --> 00:04:10.850\nAnd when I connect it, it's gonna reach\nout to my network and get connected.\n\n89\n00:04:10.850 --> 00:04:13.860\nNow I've also got my wired settings\nin here that I can jump into.\n\n90\n00:04:13.860 --> 00:04:15.230\nI'm gonna go and hit connect.\n\n91\n00:04:15.230 --> 00:04:18.760\nIf I have a default configuration,\nit's gonna use DHCP, and it's gonna go and\n\n92\n00:04:18.760 --> 00:04:19.510\nget an IP address.\n\n93\n00:04:20.810 --> 00:04:24.380\nIf I want to be a little more specific,\nthough, I can go down to my Wired Settings\n\n94\n00:04:24.380 --> 00:04:27.870\nor if I had WiFi, this would be on my\nWiFi settings, you get to pick your SSID,\n\n95\n00:04:27.870 --> 00:04:33.420\nyou have to pick the security key, right?\n\n96\n00:04:33.420 --> 00:04:37.486\nI'm drawing a blank, the pre-shared key or\nthe certificate information for\n\n97\n00:04:37.486 --> 00:04:39.156\nconnecting the WPA, or WPA2.\n\n98\n00:04:39.156 --> 00:04:41.932\nBut in my case, it's wired, so\nI don't have to deal with all that.\n\n99\n00:04:41.932 --> 00:04:45.220\nAnd when I click on it, it's gonna\nbring up, zoomed a little crazy there,\n\n100\n00:04:45.220 --> 00:04:47.660\nit's gonna bring up\nthis screen right here.\n\n101\n00:04:47.660 --> 00:04:51.235\nAnd here's where I can see my wired\nadapter in its current status, and\n\n102\n00:04:51.235 --> 00:04:53.181\nI can go in and I can start to modify it.\n\n103\n00:04:53.181 --> 00:04:56.250\nSee how I've got wired and it's set to on.\n\n104\n00:04:56.250 --> 00:04:59.784\nThat means when the system boots up, it's\ngonna turn this network adapter active,\n\n105\n00:04:59.784 --> 00:05:02.439\nand that's normally what we want,\nbut it's not the default.\n\n106\n00:05:02.439 --> 00:05:03.001\nAll right,\n\n107\n00:05:03.001 --> 00:05:07.060\nthe default is this would be off unless I\nchanged it during the installation, right?\n\n108\n00:05:07.060 --> 00:05:10.270\nSo in here I've got it turned on,\nI am using DHCP,\n\n109\n00:05:10.270 --> 00:05:15.480\nbecause I got an IP address 10.0.14.199,\nI've never seen that number before,\n\n110\n00:05:15.480 --> 00:05:17.820\nthis is what this machine\ngrabbed when it booted up.\n\n111\n00:05:17.820 --> 00:05:20.127\n&gt;&gt; Now, Don,\nif you changed that setting there,\n\n112\n00:05:20.127 --> 00:05:23.358\nwhere if you would just switch the off and\nyou turn the machine off or\n\n113\n00:05:23.358 --> 00:05:27.320\ndid a reboot, would it stay off or would\nthe default come back on say, this is on?\n\n114\n00:05:27.320 --> 00:05:30.840\n&gt;&gt; No,\nit will stay off until you change it.\n\n115\n00:05:30.840 --> 00:05:34.440\nIf we jump down here, there's a little\ngear kind of down at the bottom right.\n\n116\n00:05:34.440 --> 00:05:37.690\nAnd if I hit that gear, we'll see there's\nsome advance settings in here that\n\n117\n00:05:37.690 --> 00:05:42.620\nwe can look at, and as you kind of poke\nthrough here, you'll see basically\n\n118\n00:05:42.620 --> 00:05:45.510\nthe same information that we've got these\nthings that we can turn on and off.\n\n119\n00:05:45.510 --> 00:05:49.920\nAnd if you turn them off, they're just\noff until you turn them back on again.\n\n120\n00:05:49.920 --> 00:05:51.430\nIt doesn't reset.\n\n121\n00:05:51.430 --> 00:05:53.430\nIt's a little different\nfrom the command line.\n\n122\n00:05:53.430 --> 00:05:56.330\nThere are scenarios from the command line\nwhere we can turn an adapter off and\n\n123\n00:05:56.330 --> 00:05:58.260\nyou reboot the system,\nand it goes back on.\n\n124\n00:05:58.260 --> 00:06:00.520\nAnd that's because you have\nconfiguration files there, and\n\n125\n00:06:00.520 --> 00:06:04.160\nthe configuration files\nare read when the system boots.\n\n126\n00:06:04.160 --> 00:06:06.940\nHere we're talking to\nthe configuration files also, but\n\n127\n00:06:06.940 --> 00:06:08.640\nwere doing it through the network manager.\n\n128\n00:06:08.640 --> 00:06:13.680\nSo everything we do changes the network\nmanager in real-time, right?\n\n129\n00:06:13.680 --> 00:06:15.490\nSo that's why it stays\noff in the long run.\n\n130\n00:06:16.590 --> 00:06:18.200\nBut if you go and edit the config files,\n\n131\n00:06:18.200 --> 00:06:21.490\nthe network manager doesn't read\nthe config files all the time.\n\n132\n00:06:21.490 --> 00:06:22.760\nSo if we start changing those files,\n\n133\n00:06:22.760 --> 00:06:25.859\nyou gotta restart the network manager and\nthen it would read those and change.\n\n134\n00:06:27.150 --> 00:06:29.843\nAll right, looking at the details,\nI've got my security settings here.\n\n135\n00:06:29.843 --> 00:06:33.548\nOn a wireless network,\nwe almost always do DPA2, right?\n\n136\n00:06:33.548 --> 00:06:36.933\nYou've always got that WiFi protected\naccess, and you have a pre-shared key or\n\n137\n00:06:36.933 --> 00:06:39.160\na certificate you've gotta provide.\n\n138\n00:06:39.160 --> 00:06:43.100\nOn a wired network you\nmight have 802.1X which is\n\n139\n00:06:43.100 --> 00:06:47.930\neffectively the same as what WPHU does\nto authenticate a client on the network.\n\n140\n00:06:47.930 --> 00:06:50.780\nAnd if you're doing that, you have to\nspecify a user name and a password or\n\n141\n00:06:50.780 --> 00:06:53.930\na certificate, or whatever it is\nthat's identifying you on the network.\n\n142\n00:06:55.540 --> 00:06:58.460\nMy identity, the identity is\nthe name of the adapter, and\n\n143\n00:06:58.460 --> 00:07:00.380\nlet me talk about these names.\n\n144\n00:07:00.380 --> 00:07:03.200\nEvery network adapter gets a name.\n\n145\n00:07:03.200 --> 00:07:08.070\nAnd the name is reflecting a bit of\ninformation about the adapter, okay?\n\n146\n00:07:08.070 --> 00:07:10.250\nSo at the very beginning, I've got en,\n\n147\n00:07:10.250 --> 00:07:13.930\nand what that tells me is\nthis is a ethernet adapter.\n\n148\n00:07:13.930 --> 00:07:16.490\nIt's a physically wired connection.\n\n149\n00:07:16.490 --> 00:07:19.878\nI might also see wl, which will\ntell me that it's a wireless LAN.\n\n150\n00:07:19.878 --> 00:07:21.339\nSo I know that it is one of those.\n\n151\n00:07:21.339 --> 00:07:22.983\nOr I might see ww.\n\n152\n00:07:22.983 --> 00:07:27.827\nThat would be a cellular wireless card if\nyou had a, what do they call those things?\n\n153\n00:07:27.827 --> 00:07:28.696\nThey don't call them WiFi.\n\n154\n00:07:28.696 --> 00:07:31.418\nThey call them, shoot,\nthey have a stupid name.\n\n155\n00:07:31.418 --> 00:07:32.828\n&gt;&gt; Yeah, they do have a stupid name.\n\n156\n00:07:32.828 --> 00:07:35.802\nI always remember when they\ncame out they were CDMA cards,\n\n157\n00:07:35.802 --> 00:07:37.570\ncuz it was using the CDMA network.\n\n158\n00:07:37.570 --> 00:07:39.300\n&gt;&gt; Yeah, now they're all fancy and LTE.\n\n159\n00:07:39.300 --> 00:07:41.590\nBut if you go and\nget one of those cell modems,\n\n160\n00:07:41.590 --> 00:07:45.038\nthat you can pop into a USB port on\nyour device, it'll show up as ww.\n\n161\n00:07:45.038 --> 00:07:46.330\nWell, assuming it's detected at all.\n\n162\n00:07:46.330 --> 00:07:48.299\nYou've got driver issues to deal with.\n\n163\n00:07:48.299 --> 00:07:51.943\nBut so those frst two letters are telling\nme what type of adapter this is,\n\n164\n00:07:51.943 --> 00:07:53.990\nthat's kind of important to remember.\n\n165\n00:07:53.990 --> 00:08:00.094\nThe third letter, is telling me\nsomething also, that, O means onboard.\n\n166\n00:08:00.094 --> 00:08:05.890\nThat means this is an adapter that is\nphysically a part of my motherboard.\n\n167\n00:08:05.890 --> 00:08:10.160\nSo the motherboard in the system must have\nan integrated NIC on it and this is it.\n\n168\n00:08:10.160 --> 00:08:13.390\nIf you're on a laptop the odds are your\nwireless adapter is integrated into\n\n169\n00:08:13.390 --> 00:08:13.956\nyour motherboard.\n\n170\n00:08:13.956 --> 00:08:15.920\nSo you'll see WLO but\n\n171\n00:08:15.920 --> 00:08:18.870\non a desktop, desktops don't\nnormally have wi-fi adapters so\n\n172\n00:08:18.870 --> 00:08:23.600\nif you added one like my computer at\nhome It will show up as something else.\n\n173\n00:08:23.600 --> 00:08:28.547\nAnd a lot of times it's gonna\nshow up as either WLP or WLS.\n\n174\n00:08:28.547 --> 00:08:29.755\nAnd what does those mean?\n\n175\n00:08:29.755 --> 00:08:33.790\nWell P means that it's in\na PCI slot on your computer.\n\n176\n00:08:33.790 --> 00:08:36.860\nSo if I have a network adaptor that's\nstuck in a PCI slot, like what you'll see\n\n177\n00:08:36.860 --> 00:08:42.520\non servers, it would show up as ENP or\nWLP or WWP, it's in a PCI slot.\n\n178\n00:08:43.740 --> 00:08:46.080\nOr if it's hot plug.\n\n179\n00:08:46.080 --> 00:08:50.806\nAnd hot plug is a generic term that\nencompasses USB, FireWire, all the crazy\n\n180\n00:08:50.806 --> 00:08:56.278\ndifferent technologies, Thunderbolt, all\nthat stuff that's kinda come out lately.\n\n181\n00:08:56.278 --> 00:08:58.740\nAnd what that shows up is with an S.\n\n182\n00:08:58.740 --> 00:09:01.599\nI'm not exactly sure how\nwe get from hot plug to S.\n\n183\n00:09:01.599 --> 00:09:04.516\n&gt;&gt; [LAUGH]\n&gt;&gt; H was available but it must stand for\n\n184\n00:09:04.516 --> 00:09:07.170\nsomething that's just not well documented.\n\n185\n00:09:07.170 --> 00:09:09.248\nBut if I were to see E-N-S,\n\n186\n00:09:09.248 --> 00:09:13.502\nthat would mean that I likely\nhave a USB Ethernet adapter.\n\n187\n00:09:13.502 --> 00:09:15.049\n&gt;&gt; There's a lot of peyote\nabuse over at Red Hat.\n\n188\n00:09:15.049 --> 00:09:16.039\n[LAUGH]\n&gt;&gt; [LAUGH] Yeah,\n\n189\n00:09:16.039 --> 00:09:19.763\nI'm not even sure if it's Red Hat that\ncame up with that one or the [CROSSTALK].\n\n190\n00:09:19.763 --> 00:09:20.287\n&gt;&gt; It's just like a Linux thing.\n\n191\n00:09:20.287 --> 00:09:21.660\n&gt;&gt; A little vague, yeah.\n\n192\n00:09:21.660 --> 00:09:25.650\n&gt;&gt; Now how can we see, sometimes we'll\nsee an ethernet, I've worked with Linux\n\n193\n00:09:25.650 --> 00:09:29.234\nmyself, it'll say eth0 or\nsomething like that instead of this eno.\n\n194\n00:09:29.234 --> 00:09:30.680\nWhy the difference?\n\n195\n00:09:30.680 --> 00:09:36.029\n&gt;&gt; So, with the old terminology like eth0,\nright, it made too much sense.\n\n196\n00:09:36.029 --> 00:09:37.454\n&gt;&gt; [LAUGH]\n&gt;&gt; People could easily recognize\n\n197\n00:09:37.454 --> 00:09:39.701\nthat that was ethernet and\nsaid, we can't have that.\n\n198\n00:09:39.701 --> 00:09:41.405\n&gt;&gt; [CROSSTALK] That's just ridiculous.\n\n199\n00:09:41.405 --> 00:09:46.805\n&gt;&gt; But now the real problem was\nthat ETH zero or F1, F2, whatever,\n\n200\n00:09:46.805 --> 00:09:51.950\nthose didn't really tell you\na lot about the adapter.\n\n201\n00:09:51.950 --> 00:09:54.547\nAnd so, they switched the naming\nconvention to one that told us\n\n202\n00:09:54.547 --> 00:09:55.780\na little more.\n\n203\n00:09:55.780 --> 00:09:58.670\nHere, not only do I know that it's\nethernet, I know that it's on board.\n\n204\n00:09:58.670 --> 00:09:59.672\nOr, I know that it's hot plugged.\n\n205\n00:09:59.672 --> 00:10:01.880\nSo it's just communicating\na little more information.\n\n206\n00:10:01.880 --> 00:10:04.410\nAnd so that decision was made several\nyears ago that they switched to this\n\n207\n00:10:04.410 --> 00:10:05.420\nnew convention.\n\n208\n00:10:05.420 --> 00:10:08.490\nYou can still use the old convention,\nin fact I'm in the right spot for it.\n\n209\n00:10:08.490 --> 00:10:11.280\nIf I'm used to it being F0,\nI can just come in here and\n\n210\n00:10:11.280 --> 00:10:14.280\nrename the stupid thing and\nnow it's at 0, right?\n\n211\n00:10:14.280 --> 00:10:17.080\nSo if that what you're used to,\nyou can suddenly do that.\n\n212\n00:10:17.080 --> 00:10:20.855\nBut the default names are gonna\nfollow the new naming convention,\n\n213\n00:10:20.855 --> 00:10:23.310\nit's just new verses old.\n\n214\n00:10:23.310 --> 00:10:26.510\nNow the last part Is an identifier, okay?\n\n215\n00:10:26.510 --> 00:10:30.960\nAnd that identifier is telling me which\ninterface this is if I have more than one.\n\n216\n00:10:30.960 --> 00:10:34.685\nSo I might have an eth0,\nan eth1, eth2, eth3.\n\n217\n00:10:34.685 --> 00:10:37.270\nIt starts at 0 and it counts up.\n\n218\n00:10:37.270 --> 00:10:39.260\nThe number is an identifier.\n\n219\n00:10:39.260 --> 00:10:41.392\nAnd you'll notice mine,\nwhat was it before?\n\n220\n00:10:41.392 --> 00:10:44.785\n[CROSSTALK] It was like 167777743 or\nsomething like that.\n\n221\n00:10:44.785 --> 00:10:46.008\n&gt;&gt; You've got lot of adapters there Don.\n\n222\n00:10:46.008 --> 00:10:48.020\n&gt;&gt; Why is it so crazy high?\n\n223\n00:10:48.020 --> 00:10:51.170\nThe reason is, I'm actually\nrunning this in a virtual machine.\n\n224\n00:10:51.170 --> 00:10:52.560\nIn a virtual machine,\n\n225\n00:10:52.560 --> 00:10:57.260\nit always sticks a really high number on\nit because it is a virtual adapter right?\n\n226\n00:10:57.260 --> 00:10:59.869\nSo it's trying to give you\na way to identify that it is\n\n227\n00:10:59.869 --> 00:11:04.130\na virtual adapter that identity is\nthis super high number like that.\n\n228\n00:11:04.130 --> 00:11:07.720\nBut on a physical adapter if you are on\nbare model you'll see a low number.\n\n229\n00:11:07.720 --> 00:11:09.060\nVirtual machines, you see a high number.\n\n230\n00:11:09.060 --> 00:11:11.200\nIt's an easy way to spot\nwhether you're in a VM or not.\n\n231\n00:11:11.200 --> 00:11:12.560\nBut even that can be overwritten.\n\n232\n00:11:12.560 --> 00:11:16.740\nIf I want mine to be eno1, right?\n\n233\n00:11:16.740 --> 00:11:19.400\nThat's what I'm used to on the physical\nside so I want it here on the virtual\n\n234\n00:11:19.400 --> 00:11:23.460\nside, I can just rename it, and\nnow it's eno1, and we're done, right.\n\n235\n00:11:23.460 --> 00:11:26.870\nThe MAC Address,\nsome network adapters do allow you to\n\n236\n00:11:26.870 --> 00:11:29.230\nchange the MAC address especially\nif they're virtual adapters.\n\n237\n00:11:29.230 --> 00:11:32.580\nSo again if you're in a virtual machine\non a physical machine the MAC address is\n\n238\n00:11:32.580 --> 00:11:34.270\ntypically burned into the device.\n\n239\n00:11:34.270 --> 00:11:36.450\nAnd so we can't over ride that.\n\n240\n00:11:36.450 --> 00:11:41.562\nSo if you look at mine, well I guess I\nwas off a little bit on that name but\n\n241\n00:11:41.562 --> 00:11:44.872\nI can set that,\non mine I can't override it.\n\n242\n00:11:44.872 --> 00:11:47.452\nActually it will let me over,\nwell I guess I am on a virtual machine so\n\n243\n00:11:47.452 --> 00:11:48.455\nlet me override it.\n\n244\n00:11:48.455 --> 00:11:50.615\nNot every machine will let you do that.\n\n245\n00:11:50.615 --> 00:11:52.065\nYou can clone an address.\n\n246\n00:11:52.065 --> 00:11:55.231\nCloning is really useful if you had\na physical machine you converted to\n\n247\n00:11:55.231 --> 00:11:58.730\na virtual and you want the virtual machine\nto maintain the same physical MAC.\n\n248\n00:11:58.730 --> 00:12:02.493\nYou can do that, you can set your MTU and\nif it's in a Firewall Zone,\n\n249\n00:12:02.493 --> 00:12:06.670\nwell we'll talk about the firewall\nin our security episodes, all right.\n\n250\n00:12:06.670 --> 00:12:09.070\nAfter that, I've got my IPv4 settings.\n\n251\n00:12:09.070 --> 00:12:11.940\nRight now I'm set to DHCP,\nmaybe I wanna go static.\n\n252\n00:12:11.940 --> 00:12:16.280\nSo I can come in here and\nI can say I want a manual address and\n\n253\n00:12:16.280 --> 00:12:21.097\nI can punch in that I wanna\nuse 10.0.222.90 right.\n\n254\n00:12:21.097 --> 00:12:22.540\nAnd that's what I want to use.\n\n255\n00:12:22.540 --> 00:12:27.181\nAnd I can punch in my subnet and\nmy gateway, which I think I remember.\n\n256\n00:12:27.181 --> 00:12:28.520\nAnd I can get that set.\n\n257\n00:12:28.520 --> 00:12:30.780\nDown beneath that,\nI can set my DNS servers.\n\n258\n00:12:30.780 --> 00:12:32.133\nAnd I can add as many as I need.\n\n259\n00:12:32.133 --> 00:12:35.582\nAlthough it's not normally\nbeneficial to add any more than two.\n\n260\n00:12:35.582 --> 00:12:40.167\n&gt;&gt; It's nice they put that red box around\nthere when it's not a qualified or\n\n261\n00:12:40.167 --> 00:12:41.680\na legitimate address.\n\n262\n00:12:41.680 --> 00:12:46.006\n&gt;&gt; Yeah, yeah, it's testing, if I were\nto screw this up, if instead of 255,\n\n263\n00:12:46.006 --> 00:12:49.370\nI put a 256,\nit knows that that's not valid.\n\n264\n00:12:49.370 --> 00:12:53.469\nOr if I had something, I guess it doesn't\ndetect if it's an invalid subnet mask.\n\n265\n00:12:54.650 --> 00:12:56.742\nBut anyhow so we can punch that in.\n\n266\n00:12:56.742 --> 00:12:59.820\nBut once you get it in there\nnow I've got those values set.\n\n267\n00:12:59.820 --> 00:13:03.931\nMy DNS is still set to automatic\nwhich means it's looking at DHCP.\n\n268\n00:13:03.931 --> 00:13:08.181\nI'm gonna flip that off so it'll use\nthe ones that I statically put in.\n\n269\n00:13:08.181 --> 00:13:11.694\nSo now I've got those set and the scroll\nbar is a little bit hidden but if you\n\n270\n00:13:11.694 --> 00:13:15.509\nscroll down there is actually a little\nbit more down if I wanna override routes.\n\n271\n00:13:15.509 --> 00:13:18.259\nI can put in static routes down\nhere I don't need to do that so\n\n272\n00:13:18.259 --> 00:13:21.725\nI'll leave it be and then down here\nwe've got user this connection only for\n\n273\n00:13:21.725 --> 00:13:23.120\nresources on it's network.\n\n274\n00:13:23.120 --> 00:13:27.280\nWhich effectively invalidates the default\ngateway and says I'm only going to use it\n\n275\n00:13:27.280 --> 00:13:30.690\nfor accessing local resources,\nnot for things out on the Internet.\n\n276\n00:13:30.690 --> 00:13:32.781\nThis helps if you have two adapters and\n\n277\n00:13:32.781 --> 00:13:35.710\nthey both have a default gateway,\nwhich one does it pick?\n\n278\n00:13:35.710 --> 00:13:38.120\nWell, it actually picks\nbased on bandwidth first.\n\n279\n00:13:38.120 --> 00:13:40.790\nAnd then it picks based on\nwhich ever one came up first.\n\n280\n00:13:40.790 --> 00:13:43.900\nWell If I want to influence that\ndecision that little option will do it.\n\n281\n00:13:43.900 --> 00:13:47.100\nIt will make it ignore the default gateway\non one adapter and use another one.\n\n282\n00:13:47.100 --> 00:13:49.240\nNow with static IP's we don't\nhave to worry about that but\n\n283\n00:13:49.240 --> 00:13:52.290\nif you're using DHCP you're going\nto get a default gateway and so\n\n284\n00:13:52.290 --> 00:13:54.520\nthat option helps us to\nmake sure we don't use it.\n\n285\n00:13:55.560 --> 00:13:56.840\nNow we also have IPV6.\n\n286\n00:13:56.840 --> 00:13:58.970\nMany people have moved\nover to IPV6 already.\n\n287\n00:13:58.970 --> 00:14:00.033\nMany people haven't.\n\n288\n00:14:00.033 --> 00:14:02.179\nI know our ISPs haven't yet, so for us,\n\n289\n00:14:02.179 --> 00:14:05.978\nwe might run it a little bit of\nit internally but not externally.\n\n290\n00:14:05.978 --> 00:14:09.820\nBut if you've got IPV6 you can jump in,\nand you'll see the same settings.\n\n291\n00:14:09.820 --> 00:14:11.512\nAnd lastly, we've got the reset option,\n\n292\n00:14:11.512 --> 00:14:13.960\nwhere you can put everything back\nto the way that it was right?\n\n293\n00:14:13.960 --> 00:14:18.020\nBack to our defaults, which kind of\nfixes everything that we've done.\n\n294\n00:14:18.020 --> 00:14:21.190\nSo now that I've got that\nsetup I just hit apply, right?\n\n295\n00:14:21.190 --> 00:14:26.060\nSo that's gonna kick in, it's gonna rename\nthe adapter it's gonna set that static IP\n\n296\n00:14:26.060 --> 00:14:30.480\nand looking at my settings I can see that\nit hasn't actually taken effect yet.\n\n297\n00:14:30.480 --> 00:14:34.150\nSo either I screwed up and\ndidn't hit apply like I thought I did,\n\n298\n00:14:34.150 --> 00:14:37.820\nor It just needs to be reset.\n\n299\n00:14:37.820 --> 00:14:39.060\nSo all my settings are still there.\n\n300\n00:14:39.060 --> 00:14:40.520\nSo I just need to reset it.\n\n301\n00:14:40.520 --> 00:14:45.750\nSo the way we reset it is we can just turn\nit off and then turn it back on again.\n\n302\n00:14:45.750 --> 00:14:47.551\nIt's gonna reread that config file and\nthere you go.\n\n303\n00:14:47.551 --> 00:14:49.483\nYou can see I got my static IP back and\n\n304\n00:14:49.483 --> 00:14:52.060\neverything's set the way\nthat I just put it.\n\n305\n00:14:52.060 --> 00:14:55.767\nSo configuring a network right\nhere from the GUI is super easy.\n\n306\n00:14:55.767 --> 00:14:58.219\n[CROSSTALK]\n&gt;&gt; I like this, but\n\n307\n00:14:58.219 --> 00:15:00.550\nit's the CLI that trips us up.\n\n308\n00:15:00.550 --> 00:15:01.940\n&gt;&gt; It really is, yep.\n\n309\n00:15:01.940 --> 00:15:05.610\nIf we want to do all this from the CLI,\nwe can still use the network manager.\n\n310\n00:15:05.610 --> 00:15:07.940\nAnd so we've got that available\nfrom the command prompt.\n\n311\n00:15:07.940 --> 00:15:08.760\nIn fact, in the command prompt,\n\n312\n00:15:08.760 --> 00:15:13.450\nyou have a command N.M.C.L.I network\nmanager command line interface and\n\n313\n00:15:13.450 --> 00:15:17.200\nwe can jump in and configure a lot\nof this stuff right from the CLI.\n\n314\n00:15:17.200 --> 00:15:19.620\nSo let's go and take a look at that.\n\n315\n00:15:19.620 --> 00:15:23.938\nSo I'm going to get into my terminal and\nin my terminal let me just resize this\n\n316\n00:15:23.938 --> 00:15:27.850\na little bit some of the output on\nthese commands can be a little long so\n\n317\n00:15:27.850 --> 00:15:29.218\nI need some extra room.\n\n318\n00:15:29.218 --> 00:15:33.094\nAnd basically there's certain commands\nthat we probably need to be aware of when\n\n319\n00:15:33.094 --> 00:15:35.350\nwe're configuring a network.\n\n320\n00:15:35.350 --> 00:15:41.280\nIf I want to quickly view my network\nstatus, the old command is ifconfig.\n\n321\n00:15:41.280 --> 00:15:44.820\nAnd if you do a minimal install,\nifconfig is not present anymore.\n\n322\n00:15:44.820 --> 00:15:47.070\nSo don't count on ifconfig being there,\nbut\n\n323\n00:15:47.070 --> 00:15:49.160\na lot of us are used to it\nbecause it's been around so long.\n\n324\n00:15:49.160 --> 00:15:51.935\nIt shows us our network adaptors and\ntheir current settings.\n\n325\n00:15:51.935 --> 00:15:55.625\nSo I can see the adaptors in here and\nkinda spot it and know what they are.\n\n326\n00:15:55.625 --> 00:16:00.398\nThe other command though is ip ADDR,\nand even on a minimal install,\n\n327\n00:16:00.398 --> 00:16:02.338\nthe IP ADDR command works.\n\n328\n00:16:02.338 --> 00:16:03.410\nThat's the new command.\n\n329\n00:16:03.410 --> 00:16:05.070\nAnd that's the one they want us to run.\n\n330\n00:16:05.070 --> 00:16:08.004\nAnd so when I look at it,\nI can see each of my adapters.\n\n331\n00:16:08.004 --> 00:16:14.718\nAnd notice my eno16777736\ndidn't get renamed, right?\n\n332\n00:16:14.718 --> 00:16:18.349\nThe name that I changed in\nthe network manager a moment ago,\n\n333\n00:16:18.349 --> 00:16:22.440\nthat just changed it in\nthe network manager, what it sees.\n\n334\n00:16:22.440 --> 00:16:26.070\nBut the actual name of the adapter\nstill is the original name.\n\n335\n00:16:26.070 --> 00:16:27.730\nAnd that's set by udev.\n\n336\n00:16:27.730 --> 00:16:30.650\nUdev is a process that runs when\nyou boot the computer up, and\n\n337\n00:16:30.650 --> 00:16:34.830\nit has a set of rules that it follows to\nassign everything and get it in place.\n\n338\n00:16:34.830 --> 00:16:38.467\nAnd if you ever wanna see those rules,\nthey are,\n\n339\n00:16:38.467 --> 00:16:43.623\nlet's see if I can remember where\nthey are, it is somewhere in here.\n\n340\n00:16:45.853 --> 00:16:47.652\nThere's a little rules file, there it is.\n\n341\n00:16:47.652 --> 00:16:53.191\nSo if we go in this /etc/udev/rules.d.\n\n342\n00:16:53.191 --> 00:16:58.032\nThere's default rules that it follows\nwhen it assigns interfaces and things,\n\n343\n00:16:58.032 --> 00:17:00.760\nand then you can create override rules.\n\n344\n00:17:00.760 --> 00:17:06.680\nAnd notice I've got this override rule\nright here, 90-eno-fix.rules, all right?\n\n345\n00:17:06.680 --> 00:17:09.030\nAnd if I take a look at that, and\n\n346\n00:17:09.030 --> 00:17:12.710\nI look in there,\nI can see that it's got a rule in here for\n\n347\n00:17:12.710 --> 00:17:17.040\nmy network adapter, that's setting\nthis mac address to have this name.\n\n348\n00:17:17.040 --> 00:17:18.450\nThat's where that name came from.\n\n349\n00:17:18.450 --> 00:17:22.650\nAll right, and when I boot my computer,\nthat adapter's always gonna have that\n\n350\n00:17:22.650 --> 00:17:26.238\nname, but in the Network Manager it\nnow knows I'm gonna rename it ENO1.\n\n351\n00:17:26.238 --> 00:17:27.937\nSo that's how it shows\nup in Network Manager.\n\n352\n00:17:27.937 --> 00:17:32.620\nWell, if I wanna rename it in the actual\nsystem, I need to edit this rule and\n\n353\n00:17:32.620 --> 00:17:37.820\nchange that number, or bump it down\nto one, nd then reboot the system.\n\n354\n00:17:37.820 --> 00:17:40.177\nI'm not aware of a way to\ndo it while you're online,\n\n355\n00:17:40.177 --> 00:17:41.686\nif any of you know it make sure to.\n\n356\n00:17:41.686 --> 00:17:44.614\nI'm not aware of a way other than\nrebooting, so it's kind of annoying.\n\n357\n00:17:44.614 --> 00:17:48.810\nUdev does hardware detection at boot for\nthe majority of what it does, except for\n\n358\n00:17:48.810 --> 00:17:51.520\nUSB devices and things,\nthose happen later.\n\n359\n00:17:51.520 --> 00:17:54.078\nBut for built in devices,\nthat happens at boot time, and so\n\n360\n00:17:54.078 --> 00:17:56.858\nif it doesn't detect it then,\nit's not gonna detect it later.\n\n361\n00:17:56.858 --> 00:18:00.391\nAll right, so that's where that\nname is coming from, and again,\n\n362\n00:18:00.391 --> 00:18:03.056\nif we wanted to modify that,\nwe certainly could.\n\n363\n00:18:03.056 --> 00:18:07.570\nAll right, so, IP ADDR,\nthat shows you my current configuration.\n\n364\n00:18:07.570 --> 00:18:12.340\nAnd then if I wanna change it, that's\nwhere the network manager cli comes in.\n\n365\n00:18:12.340 --> 00:18:16.582\nWith nmcli, it lets us view two different\nthings, it lets us view our hardware\n\n366\n00:18:16.582 --> 00:18:19.810\nconfiguration, and\nour software configuration.\n\n367\n00:18:19.810 --> 00:18:25.190\nSo, on the hardware side,\nwe can run nmcli device status.\n\n368\n00:18:26.340 --> 00:18:30.070\nThat's gonna show me the hardware\nstatus of each of my devices.\n\n369\n00:18:30.070 --> 00:18:33.570\nAnd so, when I look,\nI can see that I have a virtual bridge.\n\n370\n00:18:33.570 --> 00:18:36.180\nWhen you install red hat,\nit almost always create a virtual bridge.\n\n371\n00:18:36.180 --> 00:18:37.750\nI think it's used for a few things.\n\n372\n00:18:37.750 --> 00:18:41.830\nIf you turn on virtualization, and\nyou start to run VMs, you might\n\n373\n00:18:41.830 --> 00:18:44.600\nbridge them over to your physical adapter,\nright, do a shared connection.\n\n374\n00:18:44.600 --> 00:18:46.550\nAnd it'll use that bridge right there.\n\n375\n00:18:46.550 --> 00:18:48.220\nThere's a few other things\nthat make use of it.\n\n376\n00:18:48.220 --> 00:18:51.160\nBut there's the eno adapter that I have.\n\n377\n00:18:51.160 --> 00:18:54.340\nAnd it's connected, and\nsee how it's got a device name?\n\n378\n00:18:54.340 --> 00:18:56.532\nBut the connection name is ENO1,\nthere's that rename,\n\n379\n00:18:56.532 --> 00:18:58.603\nremember how I said it was\njust in the network manager?\n\n380\n00:18:58.603 --> 00:19:03.521\nI also have a loopback and\na tunnel nic attached to my bridge, and\n\n381\n00:19:03.521 --> 00:19:05.720\nit's turned off right now.\n\n382\n00:19:05.720 --> 00:19:08.814\nIf I configure a VPN, the tunnel bridge\nwill come up, and it'll use this\n\n383\n00:19:08.814 --> 00:19:13.150\nvirtual bridge to connect to the physical\nadapter, so it all gets bridged together.\n\n384\n00:19:13.150 --> 00:19:16.750\nSo, those are my connections right now\nas they stand, and it's talking, really,\n\n385\n00:19:16.750 --> 00:19:18.290\nabout my physical connections.\n\n386\n00:19:18.290 --> 00:19:21.110\nBut you'll see loop back and\nthe bridge, those are actually virtual.\n\n387\n00:19:21.110 --> 00:19:26.760\nBut these are what it's viewing\nas network adapters in my system.\n\n388\n00:19:26.760 --> 00:19:30.470\nIf I wanna see more,\nI wanna see more about that eno adapter.\n\n389\n00:19:30.470 --> 00:19:37.190\nI can do a NMCLI device show, and then the\nadapter I want to see information about.\n\n390\n00:19:37.190 --> 00:19:41.000\nSo, I can punch that in, and now it's\ngonna show me detailed information,\n\n391\n00:19:41.000 --> 00:19:44.200\nthings like the Mac address,\nI can see right there the MTU.\n\n392\n00:19:44.200 --> 00:19:47.060\nIf it's connected,\nwhat speed is it connected at?\n\n393\n00:19:47.060 --> 00:19:48.740\nI'm connected at 100MB.\n\n394\n00:19:48.740 --> 00:19:50.530\nWell, I'm actually plugged\ninto a gigabit network.\n\n395\n00:19:50.530 --> 00:19:51.645\nSo, I might have a problem there.\n\n396\n00:19:51.645 --> 00:19:52.950\n&gt;&gt; [LAUGH]\n&gt;&gt; Remind me to look into that and\n\n397\n00:19:52.950 --> 00:19:54.670\nfigure out what's going on there.\n\n398\n00:19:54.670 --> 00:19:57.770\nSo, I wouldn't have known that otherwise,\nbut I can see it right there.\n\n399\n00:19:57.770 --> 00:20:00.430\nI can see it's got\na connection attached to it,\n\n400\n00:20:00.430 --> 00:20:06.230\nwhich is software configuration called\nENO1, and here's the settings for that.\n\n401\n00:20:06.230 --> 00:20:11.920\nIf I had done NMCLI connection show,\nright?\n\n402\n00:20:11.920 --> 00:20:16.550\nWhen I run that, now I see the\nconnections, not the physical adapters,\n\n403\n00:20:16.550 --> 00:20:19.430\nbut the software configurations\nI've laid on top of them.\n\n404\n00:20:19.430 --> 00:20:23.950\nAnd there's ENO1 that's being\nattached to that physical adapter.\n\n405\n00:20:23.950 --> 00:20:27.450\nAnd if I go a little\nmore detailed here and\n\n406\n00:20:27.450 --> 00:20:31.810\npull off ENO1 specifically,\nI get the full layout of it.\n\n407\n00:20:31.810 --> 00:20:35.143\nAnd here's where I can start to see,\nagain, the identities, the IP addresses,\n\n408\n00:20:35.143 --> 00:20:36.315\nand the other information.\n\n409\n00:20:36.315 --> 00:20:39.300\nAnd this is really\nfocused on the software.\n\n410\n00:20:39.300 --> 00:20:42.050\nYou'll see there's a lot of\ninformation in there on it,\n\n411\n00:20:42.050 --> 00:20:44.470\nmost of which we're not\ntoo terribly concerned.\n\n412\n00:20:44.470 --> 00:20:49.380\nBut I can see this is 802-3 ethernet\nversus being 802-11 wireless,\n\n413\n00:20:49.380 --> 00:20:51.650\nor whatever other communications\nit is that I might have.\n\n414\n00:20:54.740 --> 00:20:55.974\nSo, as far as viewing status,\n\n415\n00:20:55.974 --> 00:20:58.488\nthose are some of the utilities\nwe have at the network manager,\n\n416\n00:20:58.488 --> 00:21:01.153\na little bit harder than just\nclicking on that link up top, right?\n\n417\n00:21:01.153 --> 00:21:05.577\nNow, if I want to change things, that's\nwhere it starts to be a little tricky.\n\n418\n00:21:05.577 --> 00:21:09.352\nIf I wanna change the IP of that adapter,\nfor example, well,\n\n419\n00:21:09.352 --> 00:21:12.800\nI need to go into the full\nblown network manager CLI.\n\n420\n00:21:12.800 --> 00:21:15.460\nYou can actually do all sorts of stuff\nfrom the command line with the network\n\n421\n00:21:15.460 --> 00:21:17.500\nmanager, it's got a ton of options.\n\n422\n00:21:17.500 --> 00:21:20.614\nBut it actually has an interactive\nprompt you can dump into that makes\n\n423\n00:21:20.614 --> 00:21:21.801\nlife a little bit easier.\n\n424\n00:21:21.801 --> 00:21:22.870\nSo let me show you that.\n\n425\n00:21:22.870 --> 00:21:27.647\nI'm gonna do NMCLI connection edit.\n\n426\n00:21:27.647 --> 00:21:30.450\nAnd I'm gonna edit that ENO1 connection.\n\n427\n00:21:30.450 --> 00:21:32.410\nYou don't really edit a physical adapter,\n\n428\n00:21:32.410 --> 00:21:36.300\nyou don't edit a device, cuz what are you\ngonna change on the physical device?\n\n429\n00:21:36.300 --> 00:21:38.450\nNothing, you have to physically change it.\n\n430\n00:21:38.450 --> 00:21:40.050\nBut on the software side,\nwe change things.\n\n431\n00:21:40.050 --> 00:21:42.880\nSo, that's why I'm editing the connection\nand not editing the device.\n\n432\n00:21:42.880 --> 00:21:47.710\nNow, when I edit ENO1,\nsee how it drops me to this NMCLI prompt?\n\n433\n00:21:47.710 --> 00:21:54.317\nAnd from here, I can run commands\nthat correspond to 802.3 ethernet,\n\n434\n00:21:54.317 --> 00:21:59.530\n802.1x authentication, IPv4,\nIPv6 all the different\n\n435\n00:21:59.530 --> 00:22:03.820\noptions that we saw when we were in\nthe GUI, each of them has a sub-tree here.\n\n436\n00:22:03.820 --> 00:22:07.450\nAnd you can do a question mark and\nget a little bit of syntax here.\n\n437\n00:22:07.450 --> 00:22:10.130\nBut effectively,\nwhat you have are a bunch of variables.\n\n438\n00:22:10.130 --> 00:22:14.110\nAnd you use the set command\nto alter those variables.\n\n439\n00:22:14.110 --> 00:22:17.588\nAnd so I'll say set,\nfollowed by a setting family, and\n\n440\n00:22:17.588 --> 00:22:20.847\nthen whatever the property\nis that I'm modifying.\n\n441\n00:22:20.847 --> 00:22:22.337\nSo, for example,\n\n442\n00:22:22.337 --> 00:22:27.845\nif I wanna set the connection to\nstart when my system boots up, right?\n\n443\n00:22:27.845 --> 00:22:36.380\nI would say set connection.autoconnect,\nyes.\n\n444\n00:22:36.380 --> 00:22:41.330\nThe family is connection, so\nthis is a core connection setup.\n\n445\n00:22:41.330 --> 00:22:43.630\nThe property I'm modify is autoset.\n\n446\n00:22:43.630 --> 00:22:44.780\nAnd I'm setting it to yes.\n\n447\n00:22:44.780 --> 00:22:47.190\nWhen the system boots, I want this\none to be connected automatically,\n\n448\n00:22:47.190 --> 00:22:50.910\nI don't wanna have to manually\nturn it on every time, okay?\n\n449\n00:22:50.910 --> 00:22:57.520\nThen I can say set ipv4, and\nwe have all the ipv4 options in here.\n\n450\n00:22:57.520 --> 00:23:00.487\nSo, first off,\nI'm gonna say set ipv4 method.\n\n451\n00:23:00.487 --> 00:23:04.968\nAnd from here,\nI can set it to manual or DHCP.\n\n452\n00:23:04.968 --> 00:23:09.534\nDHCP, I'll get an address or I think it's\nactually automatic to get a DHCP address\n\n453\n00:23:09.534 --> 00:23:12.810\nor a manual, that lets you know\nthat I wanna set a static IP.\n\n454\n00:23:12.810 --> 00:23:18.590\nAnd if I wanna set a static IP,\nI can say set ipv4.addr,\n\n455\n00:23:18.590 --> 00:23:22.457\nand then what I want the address to be.\n\n456\n00:23:22.457 --> 00:23:27.281\nThe neat part about the address here is\nthat I can specify a address, I did what,\n\n457\n00:23:27.281 --> 00:23:28.150\n90 before?\n\n458\n00:23:28.150 --> 00:23:29.910\nI'll switch to 80 this time.\n\n459\n00:23:29.910 --> 00:23:33.447\nAnd I can just say slash 16, instead\nof typing out the full subnet mask.\n\n460\n00:23:33.447 --> 00:23:36.128\nIt accepts the subnet shorthand notation.\n\n461\n00:23:36.128 --> 00:23:38.440\nSo that makes life\na little bit easier on us.\n\n462\n00:23:38.440 --> 00:23:41.880\n&gt;&gt; So Don, where are you getting,\nhow would somebody who wants to learn all\n\n463\n00:23:41.880 --> 00:23:44.800\nthe commands you could throw at this,\nwhere would we find that?\n\n464\n00:23:44.800 --> 00:23:47.660\n&gt;&gt; So, two options, one,\nyou can memorize them.\n\n465\n00:23:47.660 --> 00:23:48.821\nThat's certainly one route.\n\n466\n00:23:48.821 --> 00:23:52.510\nThe other option is if you just pull\nup the documentation for NMCLI,\n\n467\n00:23:52.510 --> 00:23:57.185\nif you do man and NMCLI, it'll give you\nall the different output that's available.\n\n468\n00:23:57.185 --> 00:23:59.713\nBut also you got the question\nmark that comes in handy, and\n\n469\n00:23:59.713 --> 00:24:03.030\nyou can do the question mark\nin a few different places.\n\n470\n00:24:03.030 --> 00:24:08.291\nWell I can't do it there, I guess,\nbut let's see, somewhere in here,\n\n471\n00:24:08.291 --> 00:24:12.450\nwe can pull up the actual output for,\nyou know what?\n\n472\n00:24:12.450 --> 00:24:16.124\nIt's help, we have to say, help set, and\nthen it will start to output a little bit\n\n473\n00:24:16.124 --> 00:24:19.260\nof information about what we can do,\nand there's the example.\n\n474\n00:24:19.260 --> 00:24:21.910\nSo it gives you a little bit of\ninteractivity here, but really,\n\n475\n00:24:21.910 --> 00:24:23.640\nthe man files is what\nyou're gonna wanna look at.\n\n476\n00:24:23.640 --> 00:24:26.851\nAnd if you go down to the example section,\nit'll list a lot of what I'm issuing here,\n\n477\n00:24:26.851 --> 00:24:29.570\nbut it will also show the full on command\nline where you don't even go into\n\n478\n00:24:29.570 --> 00:24:32.517\nthe interactive prompt, which is great\nif you're scripting or automating,\n\n479\n00:24:32.517 --> 00:24:33.840\nso a few different options there.\n\n480\n00:24:33.840 --> 00:24:38.678\nAll right, so I need to set a default\ngateway and a few other things, so\n\n481\n00:24:38.678 --> 00:24:41.631\nI'm gonna say, set ipv4.gateway, and\n\n482\n00:24:41.631 --> 00:24:46.090\nmy gateway was 10.0.0.1,\nso I'll punch that in.\n\n483\n00:24:46.090 --> 00:24:49.201\nI need a DNS server, and\nI might have several DNS servers, so\n\n484\n00:24:49.201 --> 00:24:50.490\nI'm just gonna set one.\n\n485\n00:24:50.490 --> 00:24:52.252\nAnd actually,\nI'm gonna change to a different one,\n\n486\n00:24:52.252 --> 00:24:53.475\njust so we know that it takes effect.\n\n487\n00:24:53.475 --> 00:24:58.431\nSo I'll punch that one in, and then let's\nsee, I think that's pretty much it.\n\n488\n00:24:58.431 --> 00:25:04.680\nThe other thing I need to remember is that\nI just made a bunch of changes, right?\n\n489\n00:25:04.680 --> 00:25:06.020\nWell, not really.\n\n490\n00:25:06.020 --> 00:25:08.080\nEverything I've done has just kind\nof been in RAM at this point and\n\n491\n00:25:08.080 --> 00:25:10.980\nnot actually applied to the network\nmanager or to the config files.\n\n492\n00:25:10.980 --> 00:25:13.172\nSo now what I need to do is\nI need to save it, right?\n\n493\n00:25:13.172 --> 00:25:15.227\nI forget this sometimes,\nyou've gotta save it.\n\n494\n00:25:15.227 --> 00:25:17.074\n&gt;&gt; [LAUGH]\n&gt;&gt; And when you save it,\n\n495\n00:25:17.074 --> 00:25:18.185\nyou have two options.\n\n496\n00:25:18.185 --> 00:25:21.958\nYou can save it and\njust have it be temporary.\n\n497\n00:25:21.958 --> 00:25:27.150\nAnd if I save it and it's temporary, when\nI reboot, all of a sudden, these go away.\n\n498\n00:25:27.150 --> 00:25:29.470\nIn other words,\nit's changing the network manager,\n\n499\n00:25:29.470 --> 00:25:32.640\nbut not changing it in the config files.\n\n500\n00:25:32.640 --> 00:25:35.840\nBut if I save it and I say persistent,\n\n501\n00:25:36.870 --> 00:25:40.190\nnow it's gonna change into the config\nfiles in the network manager.\n\n502\n00:25:40.190 --> 00:25:43.770\nSo now it's gonna take effect, and\nit's going to be there even if I reboot.\n\n503\n00:25:43.770 --> 00:25:46.165\nSo remember, you've gotta save your\nchanges when you do it this way.\n\n504\n00:25:46.165 --> 00:25:50.350\n&gt;&gt; It seems very similar to configuring\non a Cisco switch or a router or\n\n505\n00:25:50.350 --> 00:25:53.390\nsomething like that,\nvery similar on the way they perform.\n\n506\n00:25:53.390 --> 00:25:57.455\n&gt;&gt; Yeah, absolutely, and\nit takes a little while to learn.\n\n507\n00:25:57.455 --> 00:25:57.980\n&gt;&gt; Mm-hm.\n\n508\n00:25:57.980 --> 00:26:01.422\n&gt;&gt; And the network manager is kind of\nunique to Redhat and Fedora and Sunta.\n\n509\n00:26:01.422 --> 00:26:04.040\nSo the other distras don't use the network\nmanager, they have their own thing.\n\n510\n00:26:04.040 --> 00:26:07.420\nSo it is a little bit unique here, but\nonce you learn it, it's not so bad.\n\n511\n00:26:07.420 --> 00:26:12.750\nYou can jump in and do it, I'm kind of\npartial to still editing the config files,\n\n512\n00:26:12.750 --> 00:26:14.920\njust cuz that's what I've done for\nyears and years and years.\n\n513\n00:26:14.920 --> 00:26:16.750\nBut in theory, this is easier,\n\n514\n00:26:16.750 --> 00:26:20.270\nI don't have to use a crazy text editor\nthat I may not even have on the server.\n\n515\n00:26:20.270 --> 00:26:21.580\nHere, it's just a straight up command.\n\n516\n00:26:22.892 --> 00:26:23.730\nAll right,\n\n517\n00:26:23.730 --> 00:26:27.940\nonce I get all that stuff in place,\nnow I'm pretty much in business, right?\n\n518\n00:26:27.940 --> 00:26:30.795\nWell, sometimes it takes effect,\nsometimes it doesn't, right?\n\n519\n00:26:30.795 --> 00:26:36.310\nRemember that a lot of these changes don't\ntake effect until we reset the adaptor.\n\n520\n00:26:36.310 --> 00:26:40.887\nIf I go back into my GUI,\nsee how I still have 10.0.222.90, and\n\n521\n00:26:40.887 --> 00:26:42.567\nI still have my DNS server?\n\n522\n00:26:42.567 --> 00:26:46.210\nIt's because I made the change, but\nI haven't reset the adaptor yet.\n\n523\n00:26:46.210 --> 00:26:49.460\nSo I need to get that adaptor\nto basically go offline and\n\n524\n00:26:49.460 --> 00:26:54.055\nback online to read the changes and\nto know that I made that modification, and\n\n525\n00:26:54.055 --> 00:26:56.257\nthen it'll see the change, right?\n\n526\n00:26:56.257 --> 00:26:59.397\nSo if I were to flip that off and\nflip it back on,\n\n527\n00:26:59.397 --> 00:27:04.340\nnow it's gone to .80 and\nit's picked up my new DNS server.\n\n528\n00:27:04.340 --> 00:27:07.160\nNow, it did keep my old DNS servers.\n\n529\n00:27:07.160 --> 00:27:10.554\nAnd the reason is, I didn't remove them,\nright, I was using set and not.\n\n530\n00:27:10.554 --> 00:27:15.817\nIf you look back here,\nyou'll we've got the set command,\n\n531\n00:27:15.817 --> 00:27:20.360\nwhoops, if I get back into the NMCLI here.\n\n532\n00:27:20.360 --> 00:27:21.540\nAnd we had the set command,\n\n533\n00:27:21.540 --> 00:27:25.240\nbut you also had the remove\ncommand to get rid of a setting.\n\n534\n00:27:25.240 --> 00:27:26.860\nI'd have to remove the other DNS servers,\n\n535\n00:27:26.860 --> 00:27:30.040\nwhich I didn't do, that's why they're\nall kind of showing up in here.\n\n536\n00:27:30.040 --> 00:27:33.960\nAnd then I'd need to go and change that.\n\n537\n00:27:33.960 --> 00:27:35.937\nI could have reset\nthe adapter right from here,\n\n538\n00:27:35.937 --> 00:27:38.470\nI probably should have done it that way,\nby using activate.\n\n539\n00:27:38.470 --> 00:27:41.935\nSo you can say, activate email1,\nand then that'll turn it on or\n\n540\n00:27:41.935 --> 00:27:46.155\nturn it back off again, so you can bring\nit up and turn them down pretty easy.\n\n541\n00:27:46.155 --> 00:27:49.887\n&gt;&gt; So the MML of the NMCLI is one\nstop shopping, we can do everything,\n\n542\n00:27:49.887 --> 00:27:51.298\nnetworking from there.\n\n543\n00:27:51.298 --> 00:27:56.117\n&gt;&gt; Yeah, the idea is that if you do\na regular server install, but you're in\n\n544\n00:27:56.117 --> 00:28:01.990\nthe CLI, then you don't have the GUI, you\ndon't have the graphical network manager.\n\n545\n00:28:01.990 --> 00:28:04.420\nSo this one should be able to do\neverything the graphical one does.\n\n546\n00:28:04.420 --> 00:28:06.882\nSo you should be able do everything\nfrom NMCLI if you have it, right?\n\n547\n00:28:06.882 --> 00:28:09.227\nAnd it works great on a head list server.\n\n548\n00:28:09.227 --> 00:28:12.987\n&gt;&gt; All right, Don, anything else we\nneed to know about using this NMCLI, or\n\n549\n00:28:12.987 --> 00:28:15.120\nI know we have a lot\nmore networking to do.\n\n550\n00:28:15.120 --> 00:28:19.350\nThere's other stuff to do, but-\n&gt;&gt; I wanna show you guys the config files.\n\n551\n00:28:19.350 --> 00:28:22.377\nI wanna show you guys what's being\nmodified in the back end because\n\n552\n00:28:22.377 --> 00:28:24.215\npersonally, if I do a head list server,\n\n553\n00:28:24.215 --> 00:28:27.340\nI usually don't even install\nthe network manager at all.\n\n554\n00:28:27.340 --> 00:28:30.755\nIt's one extra service that's running\non the system, and the advantage of\n\n555\n00:28:30.755 --> 00:28:33.807\nthe network manager is that it can\nrecognize changes in the system.\n\n556\n00:28:33.807 --> 00:28:37.140\nSo you have a wireless adapter\nthat shows up or it's gone,\n\n557\n00:28:37.140 --> 00:28:39.840\nit's handing those connections.\n\n558\n00:28:39.840 --> 00:28:44.100\nBut on a physical server, are we\nchanging those connections very often?\n\n559\n00:28:44.100 --> 00:28:46.610\nOn a VM, we're not even changing\nthose connections very often.\n\n560\n00:28:46.610 --> 00:28:49.840\nIn fact, you normally have one or\ntwo network adapters that are there when\n\n561\n00:28:49.840 --> 00:28:52.730\nyou do the install, and\nyou never change them ever.\n\n562\n00:28:52.730 --> 00:28:55.980\nSo I don't like to run\nthe network manager.\n\n563\n00:28:55.980 --> 00:28:59.290\nIt's not part of my install, cuz I'll do\na minimal and then I'll add what I need.\n\n564\n00:28:59.290 --> 00:29:00.330\nAnd so it's not there.\n\n565\n00:29:00.330 --> 00:29:01.370\nAnd so if you go that route,\n\n566\n00:29:01.370 --> 00:29:03.830\nyou've got to modify the actual\nconfig files on the back end.\n\n567\n00:29:03.830 --> 00:29:05.410\nAnd that's the route\nthat I normally follow.\n\n568\n00:29:05.410 --> 00:29:07.972\nSo I wanna show you guys that, but\nI don't have enough time in this episode.\n\n569\n00:29:07.972 --> 00:29:09.621\nSo Daniel, let's do a part two.\n\n570\n00:29:09.621 --> 00:29:10.282\n&gt;&gt; Yeah.\n\n571\n00:29:10.282 --> 00:29:12.718\n&gt;&gt; And in part two, we're gonna\nset the network manager aside, and\n\n572\n00:29:12.718 --> 00:29:14.460\nwe're gonna do it the old fashioned way.\n\n573\n00:29:14.460 --> 00:29:15.610\n&gt;&gt; Awesome, that'll be a lot of fun.\n\n574\n00:29:15.610 --> 00:29:18.510\nWe'll get to see how\nthe old school does it and\n\n575\n00:29:18.510 --> 00:29:21.060\nwhat the great thing about the old\nschool is, it's usually there.\n\n576\n00:29:21.060 --> 00:29:24.650\nIt's a tried and true method, and you can\nalways rely on it in many, many cases.\n\n577\n00:29:24.650 --> 00:29:26.440\nThat being said, let's do that, Don.\n\n578\n00:29:26.440 --> 00:29:29.080\nThanks for stopping by, looking\nforward to see you in that part two.\n\n579\n00:29:29.080 --> 00:29:32.180\nWe thank you guys for watching, but\nwe'll sign off for this episode.\n\n580\n00:29:32.180 --> 00:29:34.420\nFor ITProTv, I've been your host,\nDaniel Lowrie.\n\n581\n00:29:34.420 --> 00:29:34.975\n&gt;&gt; And I'm Don Pezet.\n\n582\n00:29:34.975 --> 00:29:36.309\n&gt;&gt; And we'll see you next time.\n\n583\n00:29:36.309 --> 00:29:43.323\n[MUSIC]\n\n584\n00:29:43.323 --> 00:29:46.120\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "192654507"
        },
        {
          "description": "In this episode, Daniel and Don continue exploring network configuration in Red Had Linux, picking up by demonstrating a manual setup through the system configuration files. Here you'll see how to edit and configure the `network`, `hosts`, and `hostname` files, as well as `resolv.conf`. Lastly they show you how to start/stop/restart the network services.",
          "length": "1774",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-2-1-2-network_configuration_pt2-111616.00_30_49_18.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-2-1-2-network_configuration_pt2-111616.00_30_49_18.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-2-1-2-network_configuration_pt2-111616.00_30_49_18.Still001-sm.jpg",
          "title": "Network Configuration Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:02.062\nWelcome to ITPro TV, I'm your host.\n\n2\n00:00:02.062 --> 00:00:03.995\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:03.995 --> 00:00:08.474\n&gt;&gt; [MUSIC]\n\n4\n00:00:08.474 --> 00:00:09.700\n&gt;&gt; You're watching ITPro TV.\n\n5\n00:00:09.700 --> 00:00:12.116\n[MUSIC]\n\n6\n00:00:12.116 --> 00:00:13.965\n&gt;&gt; All right, greetings everyone and\n\n7\n00:00:13.965 --> 00:00:17.732\nwelcome to another great episode of\nITPro TV, I'm host Daniel Lowrie.\n\n8\n00:00:17.732 --> 00:00:21.685\nAnd today's episode well we're going\nto continue on with more on our Red Hat\n\n9\n00:00:21.685 --> 00:00:25.021\nenterprise Linux version seven series,\nand joining us back for\n\n10\n00:00:25.021 --> 00:00:28.810\na part two on network configuration,\nour good friend mister Don Pezet.\n\n11\n00:00:28.810 --> 00:00:30.950\nDon, welcome back, or glad to have you.\n\n12\n00:00:30.950 --> 00:00:31.774\nHow's it going?\n\n13\n00:00:31.774 --> 00:00:32.604\n&gt;&gt; [LAUGH] Glad to be back so\n\n14\n00:00:32.604 --> 00:00:35.060\nI can finish the thing I was supposed\nto finish in the last episode.\n\n15\n00:00:35.060 --> 00:00:36.570\nFor those of you guys\nthat have been watching,\n\n16\n00:00:36.570 --> 00:00:40.010\nwe were doing network configurations and\nwe saw the network manager way to do it.\n\n17\n00:00:40.010 --> 00:00:42.370\nI actually did forget to show a few\nlittle commands there at the end so\n\n18\n00:00:42.370 --> 00:00:45.060\nI'm gonna do a little bit\nmore on network manager.\n\n19\n00:00:45.060 --> 00:00:48.160\nBut then I wanted to show you guys how to\nconfigure the adaptors when you don't have\n\n20\n00:00:48.160 --> 00:00:51.740\nthe network manager because that's just as\nimportant especially on headless servers.\n\n21\n00:00:51.740 --> 00:00:53.980\nSo first off let me just double back.\n\n22\n00:00:53.980 --> 00:00:57.498\nOne of the last things we did in the last\nepisode is I made some changes with\n\n23\n00:00:57.498 --> 00:00:59.460\nthe network manager CLI.\n\n24\n00:00:59.460 --> 00:01:03.870\nAnd then I said that I needed to restart\nthe network adaptor and what did I do.\n\n25\n00:01:03.870 --> 00:01:06.970\nI went into the GUI and restarted it there\ninstead of restarting it from the command\n\n26\n00:01:06.970 --> 00:01:10.790\nline and I mentioned how there's that\nNMCLI activate command which is great for\n\n27\n00:01:10.790 --> 00:01:13.700\nturning on the adapter but\nnot so great for turning it off.\n\n28\n00:01:13.700 --> 00:01:17.250\nSo let me double back and just show\nyou real quick a couple of ways to\n\n29\n00:01:17.250 --> 00:01:19.820\nreset the network manager\nfrom the command line.\n\n30\n00:01:19.820 --> 00:01:22.880\nWithout having to go to the GUI cuz\nthe GUI might not be there right and\n\n31\n00:01:22.880 --> 00:01:24.760\nthen we'll go in the config file.\n\n32\n00:01:24.760 --> 00:01:28.074\nSo let's pick back up with just\nkinda restarting that adapter.\n\n33\n00:01:28.074 --> 00:01:33.655\nIf we go in and we make a bunch of\nchanges, right so we use the NMCLI,\n\n34\n00:01:33.655 --> 00:01:38.838\nwe do a bunch of stuff and\nnow we just need to do a quick restart,\n\n35\n00:01:38.838 --> 00:01:44.160\nthe easiest way is to run NMCLI\nconnection reload, all right?\n\n36\n00:01:44.160 --> 00:01:49.029\nWhen you run that, well you kind of\nneed to be a user to do that, but\n\n37\n00:01:49.029 --> 00:01:52.171\n[LAUGH] but if we do that\n&gt;&gt; They just don't let any all user change\n\n38\n00:01:52.171 --> 00:01:53.429\nthis things so [LAUGH]\n&gt;&gt; I know.\n\n39\n00:01:53.429 --> 00:01:54.366\n[LAUGH] It's gonna go there in reset.\n\n40\n00:01:54.366 --> 00:01:54.946\n&gt;&gt; [INAUDIBLE]\n&gt;&gt; Yeah, they\n\n41\n00:01:54.946 --> 00:01:57.917\ndon't let any user do it cuz you\nhave multiple users in the system.\n\n42\n00:01:57.917 --> 00:01:59.483\n&gt;&gt; Yeah.\n&gt;&gt; And one user could effectively deny\n\n43\n00:01:59.483 --> 00:02:01.150\nthe others, right?\n\n44\n00:02:01.150 --> 00:02:03.570\nSo anyhow, so\nthat's gonna reset it right there.\n\n45\n00:02:03.570 --> 00:02:05.070\nNmcli connection reload.\n\n46\n00:02:05.070 --> 00:02:09.510\nThe only negative about this is\nit reloads all of the adapters.\n\n47\n00:02:09.510 --> 00:02:13.034\nWell, what if I'm SSHed into\nthe server on one interface, and\n\n48\n00:02:13.034 --> 00:02:15.038\nI'm changing another interface?\n\n49\n00:02:15.038 --> 00:02:17.654\nI just reset them all,\nwhich means I kicked myself out.\n\n50\n00:02:17.654 --> 00:02:19.710\nAnd that's not necessarily a good thing.\n\n51\n00:02:19.710 --> 00:02:22.530\nSo if you wanna reset\njust one individually,\n\n52\n00:02:22.530 --> 00:02:23.970\nthe command is a little different.\n\n53\n00:02:23.970 --> 00:02:30.750\nWhat we need to see is NMCLI connection,\ndown, and the name of the interface.\n\n54\n00:02:30.750 --> 00:02:34.020\nSo maybe I'm doing, and when I say\ninterface I mean the connection,\n\n55\n00:02:34.020 --> 00:02:34.830\nnot the device, right.\n\n56\n00:02:34.830 --> 00:02:38.040\nRemember we have the differentiation\nthere, the device is the hardware and\n\n57\n00:02:38.040 --> 00:02:39.880\nthe connection is the software.\n\n58\n00:02:39.880 --> 00:02:43.050\nSo I'm just gonna take that down, right.\n\n59\n00:02:43.050 --> 00:02:47.970\nSo successfully deactivated, and then I\ncan just take it back up again, right.\n\n60\n00:02:47.970 --> 00:02:50.270\nAnd we can bring that one\nright back up and there we go.\n\n61\n00:02:50.270 --> 00:02:53.920\nSo, easy enough to do that right\nhere from the command line.\n\n62\n00:02:53.920 --> 00:02:57.660\nThat's the way you're supposed\nto it using the NMCLI.\n\n63\n00:02:57.660 --> 00:03:01.040\nIn a minute, we're gonna make changes to\nthe configuration files themselves and\n\n64\n00:03:01.040 --> 00:03:02.870\nwe're gonna do without\nthe network manager.\n\n65\n00:03:02.870 --> 00:03:05.760\nAnd so when the network manager\nisn't involved, then what\n\n66\n00:03:05.760 --> 00:03:10.140\nwe have to do is we have to restart the\nactual service, and get that kind of up.\n\n67\n00:03:10.140 --> 00:03:12.640\nSo another way you can do this is,\n\n68\n00:03:14.000 --> 00:03:15.560\nI guess it depends on which\nversion of Red Hat you're on.\n\n69\n00:03:15.560 --> 00:03:17.240\nBut in Red Hat 7, we have systemd.\n\n70\n00:03:17.240 --> 00:03:22.567\nSo we would say systemctl, and\nthen restart network.service.\n\n71\n00:03:22.567 --> 00:03:25.429\nAnd .service is actually optional,\nwe could leave that off,\n\n72\n00:03:25.429 --> 00:03:27.110\nsystemctl restart network.\n\n73\n00:03:27.110 --> 00:03:30.100\nBut network.service is the official\nname for the networking subsystem.\n\n74\n00:03:30.100 --> 00:03:32.640\nAnd if I were to sudo that,\nthat would restart.\n\n75\n00:03:32.640 --> 00:03:36.580\nThat's actually the same thing\nas what we did way up here,\n\n76\n00:03:36.580 --> 00:03:38.730\nwhen I did nmcli connection reload.\n\n77\n00:03:38.730 --> 00:03:42.260\nWe're kinda reloading all\nthe connections right there.\n\n78\n00:03:42.260 --> 00:03:47.220\nIn older versions of Red Hat,\nwe used to run service network restart.\n\n79\n00:03:47.220 --> 00:03:50.020\nThis was back when we didn't have systemd,\nwe had upstart.\n\n80\n00:03:50.020 --> 00:03:52.930\nWell in Red Hat 7,\nit's running systemd, but\n\n81\n00:03:52.930 --> 00:03:55.160\nit's smart enough to\nhandle the old commands.\n\n82\n00:03:55.160 --> 00:03:58.840\nSo if I run the old command,\nservice network restart.\n\n83\n00:03:58.840 --> 00:04:02.480\nIt's gonna take it and\nsee how it sent it over to systemctl.\n\n84\n00:04:02.480 --> 00:04:04.680\nIt said this admin doesn't\nknow what he's doing.\n\n85\n00:04:04.680 --> 00:04:06.173\nLet me change that to the right command.\n\n86\n00:04:06.173 --> 00:04:08.240\nAnd then it sent it and it restarted it.\n\n87\n00:04:08.240 --> 00:04:10.130\nSo the old command still\nworks if you want.\n\n88\n00:04:10.130 --> 00:04:13.100\nSo, I think I just showed you five\ndifferent ways to restart the network\n\n89\n00:04:13.100 --> 00:04:14.840\nadapter which is probably\na little overkill.\n\n90\n00:04:14.840 --> 00:04:17.730\nBut just know that you kind\nof have options there.\n\n91\n00:04:17.730 --> 00:04:20.102\n&gt;&gt; Well, if you can't start it by now, you\nmight as well just give up on it, right?\n\n92\n00:04:20.102 --> 00:04:21.209\n[LAUGH]\n&gt;&gt; Yeah, it's not going to happen.\n\n93\n00:04:21.209 --> 00:04:21.881\n&gt;&gt; It's not happening.\n\n94\n00:04:21.881 --> 00:04:23.794\n&gt;&gt; All right, so let's dive in here and\n\n95\n00:04:23.794 --> 00:04:27.150\ntake a look at these config\nfiles that I was talking about.\n\n96\n00:04:27.150 --> 00:04:30.010\nThe whole time we were using the network\nmanager, the network manager's just\n\n97\n00:04:30.010 --> 00:04:34.010\ndesigned to be a easy,\nhuman interface for this stuff, right?\n\n98\n00:04:34.010 --> 00:04:36.910\nSo the graphical user interface obviously,\nthat's easy.\n\n99\n00:04:36.910 --> 00:04:40.110\nBut then there's the command line in\nNMCLI where it's just supposed to be\n\n100\n00:04:40.110 --> 00:04:42.440\none place we go for\nall of our network adapters.\n\n101\n00:04:42.440 --> 00:04:46.760\nThe reason we need that is that if we\nbypass all that and we go the config\n\n102\n00:04:46.760 --> 00:04:50.190\nfiles, there's actually more than one\nconfig file involved in the process.\n\n103\n00:04:50.190 --> 00:04:51.820\nAnd so it becomes a little\nmore challenging to deal with.\n\n104\n00:04:51.820 --> 00:04:53.160\nEverything's spread out.\n\n105\n00:04:53.160 --> 00:04:54.640\nBut if you know where all the stuff is,\n\n106\n00:04:54.640 --> 00:04:57.700\nit can actually be a little faster\nsometimes to jump into those config files.\n\n107\n00:04:57.700 --> 00:05:01.420\nSo if you're like me, and you've been\nworking in Unix type environments for\n\n108\n00:05:01.420 --> 00:05:04.660\na long time,\nthe config files are perfectly fine.\n\n109\n00:05:04.660 --> 00:05:06.690\nBut if you're just getting\nstarted with Red Hat,\n\n110\n00:05:06.690 --> 00:05:10.360\nI encourage you to learn the NMCLI,\nbecause it works really well.\n\n111\n00:05:10.360 --> 00:05:12.990\nYou can do everything in one place,\nand it's nice to have it.\n\n112\n00:05:12.990 --> 00:05:15.140\nBut, if you're hardcore,\nyou don't want the NMCLI,\n\n113\n00:05:15.140 --> 00:05:18.200\nyou want a minimal server footprint so\nyou're not even installing a network\n\n114\n00:05:18.200 --> 00:05:21.370\nmanager, then the config what we go to,\nall right?\n\n115\n00:05:21.370 --> 00:05:23.250\nSo let's take a look at these things.\n\n116\n00:05:23.250 --> 00:05:25.510\nThe first thing we need\nto understand is that,\n\n117\n00:05:25.510 --> 00:05:30.440\nthere are configuration settings that\napply to individual network adapters and\n\n118\n00:05:30.440 --> 00:05:33.660\nthere's configuration settings that\napply to the system as a whole.\n\n119\n00:05:33.660 --> 00:05:34.750\nTo the entire networking server.\n\n120\n00:05:34.750 --> 00:05:38.580\nSo, there are global settings and\ninterface settings and\n\n121\n00:05:38.580 --> 00:05:40.970\nthat's part of the reason\nwhy stuff is spread out.\n\n122\n00:05:40.970 --> 00:05:42.680\nThe other thing is we\nhave different services.\n\n123\n00:05:42.680 --> 00:05:49.049\nSo you have the TCP/IP networking stack,\nbut you also have the DNS resolver process\n\n124\n00:05:50.280 --> 00:05:54.480\nand you've got the routing process, and\neach of them have their own config files.\n\n125\n00:05:54.480 --> 00:05:57.480\nSo again, that's another reason why we\nhave multiple files that are involved.\n\n126\n00:05:57.480 --> 00:06:00.830\nSo we're gonna end up looking at four or\nfive different files to achieve\n\n127\n00:06:00.830 --> 00:06:04.140\nall the stuff that we just achieved\nright in that one NMCLI utility.\n\n128\n00:06:04.140 --> 00:06:06.820\nSo that's the advantage of having NMCLI,\nall right.\n\n129\n00:06:06.820 --> 00:06:08.580\nBut let's take a look at\nour configurations, and\n\n130\n00:06:08.580 --> 00:06:09.740\nwhere I want to start is on the interface,\n\n131\n00:06:09.740 --> 00:06:11.470\nbecause that's where most\nof us are gonna start.\n\n132\n00:06:11.470 --> 00:06:15.280\nSo, let's assume that I'm\non a headless install.\n\n133\n00:06:15.280 --> 00:06:17.410\nSo I chose to do a minimal\ninstallation and\n\n134\n00:06:17.410 --> 00:06:19.240\nfor whatever reason I didn't\npick any network settings.\n\n135\n00:06:19.240 --> 00:06:23.360\nI just cruised through the install as\nfast as I could and now I'm sitting\n\n136\n00:06:23.360 --> 00:06:27.000\nright here at a shell on my server and\n&gt;&gt; You may have not have had the network\n\n137\n00:06:27.000 --> 00:06:29.470\nconfiguration at the time that you\nbuilt the server, that's very common.\n\n138\n00:06:29.470 --> 00:06:30.410\n&gt;&gt; Well that's true,\n\n139\n00:06:30.410 --> 00:06:33.243\nyeah you see it really with\nCintas where it doesn't bother.\n\n140\n00:06:33.243 --> 00:06:34.039\nBut in Red Hat,\n\n141\n00:06:34.039 --> 00:06:38.480\nmaybe I had a kick start install that\njust automatically breezed right through.\n\n142\n00:06:38.480 --> 00:06:41.920\nAnd maybe the kick start was expecting\none adapter and it found a different one.\n\n143\n00:06:41.920 --> 00:06:42.960\nSo it didn't match up.\n\n144\n00:06:42.960 --> 00:06:45.190\nAnd now I end up with no\nnetwork configuration.\n\n145\n00:06:45.190 --> 00:06:48.740\nSo step one, I need to figure out\nwhat network adapters I have.\n\n146\n00:06:48.740 --> 00:06:52.490\nNow the system does automatically\ndetect network adapters when\n\n147\n00:06:52.490 --> 00:06:53.390\nthe system boots, right.\n\n148\n00:06:53.390 --> 00:06:54.750\nThat's part of what it does.\n\n149\n00:06:54.750 --> 00:06:56.663\nAnd so they should be found.\n\n150\n00:06:56.663 --> 00:07:01.249\nA new dev should identify them and should\nget a name, I'm saying should over and\n\n151\n00:07:01.249 --> 00:07:02.521\nover again.\n\n152\n00:07:02.521 --> 00:07:05.888\nIf you have bad drivers, if you have weird\nnetwork adapter, just things like that\n\n153\n00:07:05.888 --> 00:07:09.000\ncould cause them not to show up, then\nyou gotta deal with the drivers right?\n\n154\n00:07:09.000 --> 00:07:14.240\nBut assuming they show up,\nevery network adapter, will get a script.\n\n155\n00:07:14.240 --> 00:07:17.090\nA script that runs at boot time.\n\n156\n00:07:17.090 --> 00:07:23.613\nAnd that script is stored\ninside of /etc/sysconfig,\n\n157\n00:07:23.613 --> 00:07:28.748\nthere we go /network-scripts that folder\n\n158\n00:07:28.748 --> 00:07:35.145\nright there\n/etc/sysconfig/network-scripts.\n\n159\n00:07:35.145 --> 00:07:37.050\nAnd when you go into that folder and\n\n160\n00:07:37.050 --> 00:07:40.854\njust pull up a listing you're\ngoing to see a bunch of files.\n\n161\n00:07:40.854 --> 00:07:43.520\nNow most of these files were\ncreated by the default install and\n\n162\n00:07:43.520 --> 00:07:46.490\nthey're going to show up regardless of\nwhether you have a network adapter or not.\n\n163\n00:07:46.490 --> 00:07:48.245\nYou have no adapters in\nyour system whatsoever and\n\n164\n00:07:48.245 --> 00:07:50.170\nyou'll see most of these scripts.\n\n165\n00:07:50.170 --> 00:07:54.423\nBut, the ones that are custom to your\nsystem are right here at the beginning.\n\n166\n00:07:54.423 --> 00:07:57.722\nThe ones that start with, I-F-C-F-G.\n\n167\n00:07:57.722 --> 00:08:01.035\nThat's interface configuration Right?\n\n168\n00:08:01.035 --> 00:08:05.940\nAnd you'll see one of these files for\neach of your adapters.\n\n169\n00:08:05.940 --> 00:08:08.437\nAnd when we're going\ninto the config files,\n\n170\n00:08:08.437 --> 00:08:11.592\nthere's no separation of\ndevice versus connection like\n\n171\n00:08:11.592 --> 00:08:14.825\nwe saw on the network manager,\nhere is just all together.\n\n172\n00:08:14.825 --> 00:08:17.205\nSo I'm seeing an interface configuration,\nand\n\n173\n00:08:17.205 --> 00:08:19.824\nremember that eno1 name that\nI assigned in part one?\n\n174\n00:08:19.824 --> 00:08:20.907\nYeah, that's not here.\n\n175\n00:08:20.907 --> 00:08:22.491\n&gt;&gt; [LAUGH]\n&gt;&gt; That was in Network Manager.\n\n176\n00:08:22.491 --> 00:08:28.616\nSo here, I just see straight up\neno16777736, and that's it, right?\n\n177\n00:08:28.616 --> 00:08:30.935\nIf I wanna change this name,\nI'm gonna have to go and\n\n178\n00:08:30.935 --> 00:08:33.530\nmodify the udev rules that I\ntalked about back in part one.\n\n179\n00:08:34.840 --> 00:08:38.022\nBut these files are just text files,\nand they have the configuration for\n\n180\n00:08:38.022 --> 00:08:38.658\nthe adaptor.\n\n181\n00:08:38.658 --> 00:08:39.741\nIf I had five adapters,\n\n182\n00:08:39.741 --> 00:08:43.240\nI would see five of these files each\none named after the different adapters.\n\n183\n00:08:43.240 --> 00:08:45.616\nAnd if we edit that we can jump in and\nsee it.\n\n184\n00:08:45.616 --> 00:08:47.361\nNow I know a lot of you like Nano,\n\n185\n00:08:47.361 --> 00:08:50.866\nthe Nano editor I think Ubuntu\nare the ones who really pushed it.\n\n186\n00:08:50.866 --> 00:08:54.220\nBut now most Destros have it,\nRed Hat has it too.\n\n187\n00:08:54.220 --> 00:08:57.990\nIf you do a minimal install,\nyou may or may not have Nano,\n\n188\n00:08:57.990 --> 00:09:00.200\ncuz it actually has a lot\nof dependencies on it.\n\n189\n00:09:00.200 --> 00:09:04.073\nThe one editor that I know I can always\ncount on is vim, or really just vi--\n\n190\n00:09:04.073 --> 00:09:04.907\n&gt;&gt; Vi.\n\n191\n00:09:04.907 --> 00:09:08.210\n&gt;&gt; Vi or vi, whatever you wanna call it,\neverybody calls it something different.\n\n192\n00:09:08.210 --> 00:09:11.410\nBut vi is pretty much always there,\nso that's the one that I usually use.\n\n193\n00:09:11.410 --> 00:09:14.740\nOn Red Hat, vi is always mapped to vim,\nso it's kinda the same.\n\n194\n00:09:14.740 --> 00:09:18.980\nSo I'm gonna do a sudo\nbecause this is in /etc.\n\n195\n00:09:18.980 --> 00:09:25.407\nYou've gotta be an administrator to edit\nit, and I'm gonna edit the ifconfig file.\n\n196\n00:09:25.407 --> 00:09:28.040\nI'm trying to use tab autocomplete\nto save some typing there,\n\n197\n00:09:28.040 --> 00:09:29.720\nto get into that file, okay?\n\n198\n00:09:29.720 --> 00:09:33.640\nAnd when I get in there,\nI'm gonna see the adapter settings.\n\n199\n00:09:33.640 --> 00:09:37.550\nAnd depending on how your\nadapter was detected,\n\n200\n00:09:37.550 --> 00:09:40.950\nyou may see a lot,\nyou may see a little, okay?\n\n201\n00:09:40.950 --> 00:09:46.116\nIf the system just booted up, you may\nsee only a few things listed in here.\n\n202\n00:09:46.116 --> 00:09:48.958\nSo for example, a pretty common,\n\n203\n00:09:48.958 --> 00:09:54.157\nlet me just shrink this down to\nsomething that's more common.\n\n204\n00:09:54.157 --> 00:09:59.300\nLet's see,\nlike this would normally be set to no.\n\n205\n00:09:59.300 --> 00:10:03.450\nWe'd have that, we'd have no DNS.\n\n206\n00:10:03.450 --> 00:10:06.616\nLet's see, I'm just gonna keep\ngoing down the line here.\n\n207\n00:10:06.616 --> 00:10:11.200\nIt's usually pretty small when\nyou boot it up, there we go.\n\n208\n00:10:11.200 --> 00:10:15.340\nSo you may boot up and have a connection\nthat looks just like this, right?\n\n209\n00:10:15.340 --> 00:10:17.250\nAnd what it's telling me is that, hey,\n\n210\n00:10:17.250 --> 00:10:19.740\nI recognize that it's an Ethernet Adapter,\nthat's great.\n\n211\n00:10:19.740 --> 00:10:22.449\nAnd here is the MAC address,\nthat's great too.\n\n212\n00:10:22.449 --> 00:10:26.300\nAnd ONBOOT is set to no, so\nwhen I boot up it's not connected.\n\n213\n00:10:26.300 --> 00:10:29.950\nAnd as far as a boot protocol,\nthere's no protocol, that's just it.\n\n214\n00:10:29.950 --> 00:10:31.890\nThis adapter is dead in the water,\nall right?\n\n215\n00:10:31.890 --> 00:10:35.613\nThat's a pretty common configuration\nright there, from when you boot up,\n\n216\n00:10:35.613 --> 00:10:38.241\nin a headless system with\nno network configuration.\n\n217\n00:10:38.241 --> 00:10:44.246\nAll right, if the NetworkManager's\ninstalled you might\n\n218\n00:10:44.246 --> 00:10:51.107\nactually see one more entry in here\nthat says something like this,\n\n219\n00:10:51.107 --> 00:10:56.970\nNMCONTROLLED = yes,\nsomething like that, right?\n\n220\n00:10:56.970 --> 00:10:59.834\nAnd that's letting you know the\nNetworkManager's actually managing this\n\n221\n00:10:59.834 --> 00:11:00.782\nparticular interface.\n\n222\n00:11:00.782 --> 00:11:02.949\nI mean I want that, and\nthey want it to be user controlled.\n\n223\n00:11:02.949 --> 00:11:06.442\nAnd so you'll check that out, but if\nit's a truly headless system with a very\n\n224\n00:11:06.442 --> 00:11:08.449\nminimal install manager is not even there.\n\n225\n00:11:08.449 --> 00:11:11.260\nAnd so you may see as few lines\nas what you've got right here.\n\n226\n00:11:11.260 --> 00:11:13.650\nI just kinda like the bear\nminimum as I'm showing you here.\n\n227\n00:11:13.650 --> 00:11:15.810\nAnd in fact,\nyou could even leave out Ethernet and\n\n228\n00:11:15.810 --> 00:11:19.460\nthe MAC address, cuz it will detect\nthose again when it reboots.\n\n229\n00:11:19.460 --> 00:11:21.157\nSo it will find those add ons.\n\n230\n00:11:21.157 --> 00:11:24.528\nAll right, so if I wanna configure\nthis interface, I need to get in and\n\n231\n00:11:24.528 --> 00:11:26.120\nput some information in.\n\n232\n00:11:26.120 --> 00:11:30.010\nNow, I could be really lazy, and\nI could just say well on boot, yes,\n\n233\n00:11:30.010 --> 00:11:31.050\nI want it turned on.\n\n234\n00:11:31.050 --> 00:11:34.283\nAnd boot protocol,\nlet me just set that to DHCP.\n\n235\n00:11:34.283 --> 00:11:36.995\nSo now, when the system boots,\nit's gonna get a DHCP address and\n\n236\n00:11:36.995 --> 00:11:38.680\nthe other settings and I'm done.\n\n237\n00:11:38.680 --> 00:11:40.158\nThat's it, I walk away.\n\n238\n00:11:40.158 --> 00:11:45.470\nBut if it's a server we normally want a\nstatic IP, we want things to be hard set.\n\n239\n00:11:45.470 --> 00:11:50.949\nAnd if we don't do it then the server's IP\ncould change on a daily or weekly basis.\n\n240\n00:11:50.949 --> 00:11:53.700\n&gt;&gt; I'd love to keep my users guessing,\nit's a lot of fun.\n\n241\n00:11:53.700 --> 00:11:55.283\nWhere is the web intranet site today?\n\n242\n00:11:55.283 --> 00:11:57.502\n[LAUGH]\n&gt;&gt; I need to get to my home folder,\n\n243\n00:11:57.502 --> 00:11:58.699\nI wonder where it is?\n\n244\n00:11:58.699 --> 00:12:00.032\nYeah, it's like a where's Waldo games?\n\n245\n00:12:00.032 --> 00:12:00.991\n&gt;&gt; Yeah, yeah, it's fun.\n\n246\n00:12:00.991 --> 00:12:02.282\n&gt;&gt; So I wanna change that.\n\n247\n00:12:02.282 --> 00:12:05.905\nAnd the difference here\nbetween manual assignment and\n\n248\n00:12:05.905 --> 00:12:09.430\ndynamic is simply that boot protocol.\n\n249\n00:12:09.430 --> 00:12:10.500\nSo instead of DHCP,\n\n250\n00:12:10.500 --> 00:12:14.860\nI'm gonna set BOOTPROTO to none, because\nI'm gonna manually provide the data.\n\n251\n00:12:14.860 --> 00:12:19.910\nI want ONBOOT to be yes, so I definitely\nwant it to be on when the system boots up.\n\n252\n00:12:19.910 --> 00:12:23.407\nAnd now I need to provide some\nadditional information, okay?\n\n253\n00:12:23.407 --> 00:12:29.325\nAnd so from here, I can start to set other\nthings, like the IP address, all right?\n\n254\n00:12:29.325 --> 00:12:34.491\nNow in most Linux distros, it's just\nIPADDR=, and then you provide whatever.\n\n255\n00:12:34.491 --> 00:12:35.894\nBut it's not uncommon for\n\n256\n00:12:35.894 --> 00:12:39.690\nsomebody to have more than one\naddress on a network adapter.\n\n257\n00:12:39.690 --> 00:12:41.820\nIf you're gonna have more than one\naddress on your network adapter,\n\n258\n00:12:41.820 --> 00:12:44.420\nyou need to add a little\nnumber to the end of that.\n\n259\n00:12:44.420 --> 00:12:46.991\nSo this is IP Address 0,\nwe can start with 0.\n\n260\n00:12:46.991 --> 00:12:49.741\nAnd you can have IP Address 1,\nIP Address 2, and so on.\n\n261\n00:12:49.741 --> 00:12:52.241\nYou can add multiple IPs\nto a single interface.\n\n262\n00:12:52.241 --> 00:12:53.914\nYou see that on web servers a lot.\n\n263\n00:12:53.914 --> 00:12:56.302\nI'm gonna have one physical adapter, but\n\n264\n00:12:56.302 --> 00:12:59.366\nI've got virtual web hosts\nthat all have their own IP.\n\n265\n00:12:59.366 --> 00:13:02.438\nAnd that's I tear them apart, and so I\nwill need more than one IP assigned to my\n\n266\n00:13:02.438 --> 00:13:04.448\ninterface like you then go and\nmap that in apache.\n\n267\n00:13:04.448 --> 00:13:09.180\nSo I'm gonna say IPADDR0,\nI like to start this way with one IP just\n\n268\n00:13:09.180 --> 00:13:12.657\nwanted tp change it later\nif I decide to add more.\n\n269\n00:13:12.657 --> 00:13:14.699\nSo I kinda do this all the time.\n\n270\n00:13:14.699 --> 00:13:19.074\nSo I will say IPADDR0, and I'm wanna\nset that to whatever my IP to be.\n\n271\n00:13:19.074 --> 00:13:23.824\nSo maybe I'll do 10.0.222.5, right?\n\n272\n00:13:23.824 --> 00:13:27.907\nAnd then I need to set a net mask.\n\n273\n00:13:27.907 --> 00:13:32.130\nNow, I used to always do NETMASS= and\ntype it all out.\n\n274\n00:13:32.130 --> 00:13:34.380\nBut now we can actually do prefix.\n\n275\n00:13:34.380 --> 00:13:37.451\nAnd I'm gonna say PREFIX0, because\nagain I might have more than one IP.\n\n276\n00:13:37.451 --> 00:13:41.199\nSo I'm gonna say PREFIX 0=24.\n\n277\n00:13:41.199 --> 00:13:42.890\nIt's that subnet shorthand, right?\n\n278\n00:13:42.890 --> 00:13:45.032\nA class C address would be a /24.\n\n279\n00:13:45.032 --> 00:13:46.657\nThere's 24 bits in the network mask.\n\n280\n00:13:46.657 --> 00:13:50.600\nThat equals a 255.255.255.0 subnet mask.\n\n281\n00:13:50.600 --> 00:13:54.900\nWell we actually use a 255.255.0.0\nsubnet mask here in the studio.\n\n282\n00:13:54.900 --> 00:13:58.740\nSo I need that prefix to be 16,\nso I'll set that.\n\n283\n00:13:58.740 --> 00:14:02.116\nThen I'm gonna say GATEWAY0.\n\n284\n00:14:02.116 --> 00:14:04.407\nSo what's the default gateway for this IP?\n\n285\n00:14:04.407 --> 00:14:11.907\nAnd for me it's 10.0.01, and that gateway\nis just for this network adapter.\n\n286\n00:14:11.907 --> 00:14:15.635\nBut if I want it to be valid for other\ninterfaces too, to be able to come and\n\n287\n00:14:15.635 --> 00:14:17.116\nuse this adapter to get out.\n\n288\n00:14:17.116 --> 00:14:22.075\nThen I might need to flag that as\na default route for my system.\n\n289\n00:14:22.075 --> 00:14:25.280\nSo it will allow it to\nbecome one of my gateways.\n\n290\n00:14:25.280 --> 00:14:26.360\nIf I don't wanna do that here,\n\n291\n00:14:26.360 --> 00:14:28.699\nI can actually set up in the global\nconfiguration in another spot.\n\n292\n00:14:28.699 --> 00:14:32.242\nI'll show you later, but\nit's better to set it on the interface.\n\n293\n00:14:32.242 --> 00:14:36.782\nThen we've got DNS and again,\nI might have more than one DNS server.\n\n294\n00:14:36.782 --> 00:14:42.176\nI'll put DNS 1, DNS 2 And pop those in,\n\n295\n00:14:42.176 --> 00:14:44.980\nmaybe you've got some others you wanna\npunch in, just whatever they are.\n\n296\n00:14:44.980 --> 00:14:48.990\nYou can set those, and then I just wanna\nmake sure that my ONBOOT is set to yes.\n\n297\n00:14:49.990 --> 00:14:54.670\nNow I've got my static IP configuration in\nplace, and everything else is pretty good.\n\n298\n00:14:54.670 --> 00:14:57.408\n&gt;&gt; Now Don, because I like to ask this\nquestion when we see things like this.\n\n299\n00:14:57.408 --> 00:15:00.563\nIt may be the first time someone\nhas encounter doing it this way,\n\n300\n00:15:00.563 --> 00:15:02.032\nit's a configuration file.\n\n301\n00:15:02.032 --> 00:15:05.547\nHow do we figure out what's the correct\nsyntax for creating a DNS and\n\n302\n00:15:05.547 --> 00:15:09.230\nadding that line without it already\nbeing in there and commented in?\n\n303\n00:15:09.230 --> 00:15:11.728\n&gt;&gt; All right, so\nif all this stuff is missing,\n\n304\n00:15:11.728 --> 00:15:14.573\nthen the best place to go\nis on the Red Hat website.\n\n305\n00:15:14.573 --> 00:15:16.666\nYou can sign up for a free account\nif you don't have one already, but\n\n306\n00:15:16.666 --> 00:15:17.910\nyou know get an account.\n\n307\n00:15:17.910 --> 00:15:19.480\nAnd then you can go\ninto the documentation.\n\n308\n00:15:19.480 --> 00:15:23.007\nThey have the Red Hat\nadministration guide for RHEL 7,\n\n309\n00:15:23.007 --> 00:15:25.116\nmake sure you pull up the RHEL 7.\n\n310\n00:15:25.116 --> 00:15:28.900\nIf you do Google searches, you'll find the\nadministration guide that it's often times\n\n311\n00:15:28.900 --> 00:15:31.250\nreferring back even as old as 3.,\nwhatever.\n\n312\n00:15:31.250 --> 00:15:34.750\nBecause the clicks have been so\nmuch higher on the older distros.\n\n313\n00:15:34.750 --> 00:15:35.658\nSo Google sends you that.\n\n314\n00:15:35.658 --> 00:15:38.298\nSo make sure you're looking\nat the ones for RHEL 7, and\n\n315\n00:15:38.298 --> 00:15:39.992\nthey've got it fully documented.\n\n316\n00:15:39.992 --> 00:15:43.890\nThe syntax for\nwhat should be in one of these scripts.\n\n317\n00:15:43.890 --> 00:15:47.742\nAnd the form out of this script is pretty\nconsistent across all the Linux distros.\n\n318\n00:15:47.742 --> 00:15:51.437\nSo if you've got ones that are set\non Ubuntu or somewhere else,\n\n319\n00:15:51.437 --> 00:15:53.331\nit's likely gonna be the same.\n\n320\n00:15:53.331 --> 00:15:55.440\nSo all right, [COUGH] so\nnow that I got set,\n\n321\n00:15:55.440 --> 00:15:57.379\nthat's how I want my adapter to be in.\n\n322\n00:15:57.379 --> 00:15:59.784\nDoing a few extra spaces there,\nJust let me,\n\n323\n00:15:59.784 --> 00:16:02.008\nget rid of these extra\nlines that I put in.\n\n324\n00:16:02.008 --> 00:16:04.040\nI like to be particular.\n\n325\n00:16:04.040 --> 00:16:04.999\nSo now [LAUGH] I've got that all set up.\n\n326\n00:16:04.999 --> 00:16:08.068\nI'm gonna go ahead and\nsave that file and I'm done right?\n\n327\n00:16:08.068 --> 00:16:10.940\nWell, not really.\n\n328\n00:16:10.940 --> 00:16:13.450\nI did set up the IP and\nthe other information.\n\n329\n00:16:13.450 --> 00:16:16.730\nIf I do an IP ADDR though I'll see\nthat it hasn't taken effect yet.\n\n330\n00:16:16.730 --> 00:16:22.040\nHere's my ENO adapter and\nI've got these other IP addresses, right?\n\n331\n00:16:22.040 --> 00:16:23.869\nAnd those are from part one.\n\n332\n00:16:23.869 --> 00:16:26.860\nI haven't gotten rid of them, so\nthey're just kinda sitting there.\n\n333\n00:16:26.860 --> 00:16:31.940\nMy new IP address isn't showing up because\nthe config files only get red when\n\n334\n00:16:31.940 --> 00:16:33.530\nthe network service starts.\n\n335\n00:16:33.530 --> 00:16:35.620\nSo I could reboot or\nI could restart the network service.\n\n336\n00:16:35.620 --> 00:16:38.050\nI'll do one or\nthe other when I'm done configuring it.\n\n337\n00:16:38.050 --> 00:16:41.580\nBut there's more I need to do than\nwhat I've just done right there.\n\n338\n00:16:41.580 --> 00:16:43.600\nSo, some of the other\nthings I might wanna do.\n\n339\n00:16:43.600 --> 00:16:45.110\nI mentioned the default gateway.\n\n340\n00:16:45.110 --> 00:16:48.510\nI set the default gateway settings\nright there in the interface, and\n\n341\n00:16:48.510 --> 00:16:50.200\nthat's perfectly fine.\n\n342\n00:16:50.200 --> 00:16:53.520\nBut, if I want it to be\nmore of a global setting,\n\n343\n00:16:53.520 --> 00:16:57.130\nwhere any of my interfaces can share\nthis one gateway on the way out,\n\n344\n00:16:57.130 --> 00:16:59.160\nthen I wanna put that\noption somewhere else.\n\n345\n00:16:59.160 --> 00:16:59.749\nThere's another file.\n\n346\n00:16:59.749 --> 00:17:02.611\nLet me get out of this folder,\nand I'm gonna jump over into, or\n\n347\n00:17:02.611 --> 00:17:04.560\nactually it is in this folder, isn't it?\n\n348\n00:17:04.560 --> 00:17:07.601\nLet's see, hang on,\nlet me figure out where I'm at.\n\n349\n00:17:07.601 --> 00:17:13.425\nNo, it is in a different folder,\nin/etc/sysconfig/network.\n\n350\n00:17:13.425 --> 00:17:17.990\nIf we get into that folder,\nor, sorry not that folder,\n\n351\n00:17:17.990 --> 00:17:22.090\nthat file /etc/sysconfig/network the file.\n\n352\n00:17:22.090 --> 00:17:25.200\nYou should have it, if I just look here,\n\n353\n00:17:25.200 --> 00:17:29.610\nright here, network and\nsee it is not in blue, so it's a file.\n\n354\n00:17:29.610 --> 00:17:35.239\nIf I edit that file, just do a sudo,\n\n355\n00:17:35.239 --> 00:17:41.108\nwe can pull that file up and in here\n&gt;&gt; You forgot the vi.\n\n356\n00:17:41.108 --> 00:17:44.010\n[LAUGH]\n&gt;&gt; Yeah, kinda need the whole editor part.\n\n357\n00:17:44.010 --> 00:17:44.710\nLet me put that in there.\n\n358\n00:17:44.710 --> 00:17:45.650\nThere we go.\n\n359\n00:17:45.650 --> 00:17:46.855\nI can come in and I can put a gateway.\n\n360\n00:17:46.855 --> 00:17:48.190\nAnd see how my file's empty?\n\n361\n00:17:48.190 --> 00:17:49.413\nWell I'm created by Anaconda.\n\n362\n00:17:49.413 --> 00:17:51.149\nThat means that it was created\nby the default install, but\n\n363\n00:17:51.149 --> 00:17:52.079\nthere's not gateway in here.\n\n364\n00:17:52.079 --> 00:17:53.677\nI don't have a global gateway, and\n\n365\n00:17:53.677 --> 00:17:57.290\nthat's because we normally set\nthe gateway on the interfaces, right.\n\n366\n00:17:57.290 --> 00:18:01.273\nBut if I want to put the gateway in here\nto make it a global one then I can come in\n\n367\n00:18:01.273 --> 00:18:02.167\nand I can set it.\n\n368\n00:18:02.167 --> 00:18:07.164\nAnd you just go into this file and\nyou say GATEWAY=192.168.0.1 or\n\n369\n00:18:07.164 --> 00:18:09.870\nwhatever your gateway is, right?\n\n370\n00:18:09.870 --> 00:18:13.690\nAnd it'll look for any interface\nthat can get to that gateway.\n\n371\n00:18:13.690 --> 00:18:16.330\nMaybe I have more than one interface\nthat can get to that gateway.\n\n372\n00:18:16.330 --> 00:18:18.220\nAnd so now it's shared\nacross all those interfaces.\n\n373\n00:18:18.220 --> 00:18:20.700\nSo that's an easy way to achieve that.\n\n374\n00:18:20.700 --> 00:18:23.590\nLikewise, I could have set it on\nthe individual interfaces, but\n\n375\n00:18:23.590 --> 00:18:26.460\nwhen I set it on the individual interfaces\none of them is going to win out and\n\n376\n00:18:26.460 --> 00:18:27.500\nthat's the one I'm gonna use.\n\n377\n00:18:27.500 --> 00:18:29.510\nSo it kind of gets tied to that.\n\n378\n00:18:29.510 --> 00:18:31.820\nBut here,\nit becomes more of a global site.\n\n379\n00:18:31.820 --> 00:18:33.950\nI'll be honest with you guys,\nI don't normally set it here.\n\n380\n00:18:33.950 --> 00:18:37.280\nIf you look at any system I've worked on,\nthat file's almost always empty.\n\n381\n00:18:37.280 --> 00:18:38.210\nSo I'm just gonna leave it that way.\n\n382\n00:18:39.670 --> 00:18:41.900\nAll right, some of the other things.\n\n383\n00:18:41.900 --> 00:18:44.580\nDNS now DNS is weird.\n\n384\n00:18:44.580 --> 00:18:48.399\nIt use to be that we set DNS up\nit's in own configuration file\n\n385\n00:18:48.399 --> 00:18:51.310\n/ETC/resolve.conf, right?\n\n386\n00:18:51.310 --> 00:18:58.840\nAnd if I look on my system\nI'll do a etc/resolve.conf and\n\n387\n00:18:58.840 --> 00:19:04.700\nhere's a file and see how it says\ngenerated by network manager right?\n\n388\n00:19:04.700 --> 00:19:06.400\nIf you're running the network manager.\n\n389\n00:19:06.400 --> 00:19:08.090\nYou shouldn't edit this file.\n\n390\n00:19:08.090 --> 00:19:10.680\nBecause every time\nthe network manager starts,\n\n391\n00:19:10.680 --> 00:19:13.360\nit looks at all the interface scripts.\n\n392\n00:19:13.360 --> 00:19:17.190\nAnd it collects all the DNS service\nfrom all your interfaces and\n\n393\n00:19:17.190 --> 00:19:18.470\nit puts them all here.\n\n394\n00:19:18.470 --> 00:19:22.410\nSo, if I change this file, the next time\nthe NetworkManager refreshes it's gonna\n\n395\n00:19:22.410 --> 00:19:24.050\noverwrite it and put everything back.\n\n396\n00:19:24.050 --> 00:19:26.620\nSo if I make changes here\nthey're gonna get lost.\n\n397\n00:19:26.620 --> 00:19:29.806\nIf you don't have the NetworkManager you\ncan make changes here and they'll stay.\n\n398\n00:19:29.806 --> 00:19:30.526\nBut if you do,\n\n399\n00:19:30.526 --> 00:19:34.260\nevery time the NetworkManager\nstarts it's gonna repopulate here.\n\n400\n00:19:34.260 --> 00:19:38.010\nSo the recommendation is just put\nyour DNS servers on the interfaces.\n\n401\n00:19:38.010 --> 00:19:42.020\nBut if I got ten interfaces and they're\nall using the same DNS server it get's\n\n402\n00:19:42.020 --> 00:19:43.980\nkind of annoying to do it over and\nover and over again.\n\n403\n00:19:43.980 --> 00:19:48.640\nSo if I don't have the network manager I\ncan put him here in /etc/resolve.conf and\n\n404\n00:19:48.640 --> 00:19:49.760\nI'm just doing it one time.\n\n405\n00:19:49.760 --> 00:19:51.430\nThis saves a little bit of effort.\n\n406\n00:19:51.430 --> 00:19:54.726\nTo be honest with you I usually do it on\nthe interface anyway because I usually\n\n407\n00:19:54.726 --> 00:19:57.832\ndon't like to fuss about and see,\ndo I have network manager, do I not?\n\n408\n00:19:57.832 --> 00:20:00.330\nAnd just forget it i'll put it\non the interfaces and I'm done.\n\n409\n00:20:00.330 --> 00:20:04.180\nAnd having a server with ten\ninterfaces is pretty uncommon too.\n\n410\n00:20:04.180 --> 00:20:05.751\nI guess maybe virtualization host,\nI don't know, something.\n\n411\n00:20:05.751 --> 00:20:08.197\n&gt;&gt; Yeah, running some sort of\nweird router from using Linux.\n\n412\n00:20:08.197 --> 00:20:10.580\n&gt;&gt; Yeah, I guess that's possible.\n\n413\n00:20:10.580 --> 00:20:14.088\nSet up like a like a PFsense box.\n\n414\n00:20:14.088 --> 00:20:16.868\n&gt;&gt; Yeah.\n&gt;&gt; I use that in BSD, but all right, so\n\n415\n00:20:16.868 --> 00:20:18.630\n/etc /resolve.cov.\n\n416\n00:20:18.630 --> 00:20:21.450\nYou'll see information in there\nthat's collected from all of your\n\n417\n00:20:21.450 --> 00:20:22.168\ndifferent interfaces.\n\n418\n00:20:22.168 --> 00:20:24.488\nSo we don't normally\ndon't have to edit it but\n\n419\n00:20:24.488 --> 00:20:28.425\nI did want to point it out in the event\nthat you don't have the network manager.\n\n420\n00:20:28.425 --> 00:20:29.248\nAll right, what else do we have.\n\n421\n00:20:29.248 --> 00:20:31.970\nHosts.\n\n422\n00:20:31.970 --> 00:20:34.650\nThere are times where\nwe wanna override DNS.\n\n423\n00:20:34.650 --> 00:20:38.210\nSo, for example, let's say that,\nwell our developers do it all the time.\n\n424\n00:20:38.210 --> 00:20:38.879\nSo we have a website.\n\n425\n00:20:38.879 --> 00:20:42.860\nIt's ITPro.TV, and you can go to\nthat website and you can see it.\n\n426\n00:20:42.860 --> 00:20:44.831\nWell when our developers are testing,\n\n427\n00:20:44.831 --> 00:20:47.767\nthey don't test stuff from\nthe main site that'll be bad.\n\n428\n00:20:47.767 --> 00:20:48.960\nThey test-\n&gt;&gt; Not anymore,\n\n429\n00:20:48.960 --> 00:20:50.137\nnot after that one time, right.\n\n430\n00:20:50.137 --> 00:20:51.532\n&gt;&gt; I know right,\nthat's how companies learn.\n\n431\n00:20:51.532 --> 00:20:54.640\nSo hopefully your company doesn't do that,\nright.\n\n432\n00:20:54.640 --> 00:20:57.290\nSo what we have is\na development environment.\n\n433\n00:20:57.290 --> 00:21:00.200\nAnd when they on their laptops,\nwhen they go to ITProTV,\n\n434\n00:21:00.200 --> 00:21:01.590\nthey don't go to the production site.\n\n435\n00:21:01.590 --> 00:21:03.750\nThey go to the development site,\nthat's where they're testing.\n\n436\n00:21:03.750 --> 00:21:06.180\nSo they need to override DNS.\n\n437\n00:21:06.180 --> 00:21:07.705\nIf you wanna override DNS\nwe have a file for that.\n\n438\n00:21:07.705 --> 00:21:11.390\nIt's /etc/host.\n\n439\n00:21:11.390 --> 00:21:14.350\nIf you look in your Etc folder,\nyou'll find a file in there and\n\n440\n00:21:14.350 --> 00:21:16.950\nit's just called host and\nit's just a text file.\n\n441\n00:21:16.950 --> 00:21:18.730\nIt's buried in here somewhere.\n\n442\n00:21:18.730 --> 00:21:21.470\nAnd, there we go, called hosts.\n\n443\n00:21:21.470 --> 00:21:25.460\nAnd you can edit that file and\nyou can override DNS.\n\n444\n00:21:25.460 --> 00:21:30.381\nSo for example right now, if I do\nan nslookup or actually, not nslookup.\n\n445\n00:21:30.381 --> 00:21:37.069\nIf I do a ping to www.google.com,\nI get one of their IPs, right?\n\n446\n00:21:37.069 --> 00:21:43.586\nSo it comes back and I'm getting\n74.125.196.99 I could edit my host file.\n\n447\n00:21:47.415 --> 00:21:51.400\nSo I'm gonna go in here, and\nI override that setting.\n\n448\n00:21:51.400 --> 00:21:56.456\nI can, that's not what I wanted.\n\n449\n00:21:56.456 --> 00:21:57.314\nI can delete stuff.\n\n450\n00:21:57.314 --> 00:21:59.517\n&gt;&gt; You can make the hosts\nnever work again.\n\n451\n00:21:59.517 --> 00:22:01.570\n&gt;&gt; I know,\nI'm just going to break everything.\n\n452\n00:22:01.570 --> 00:22:06.090\nIn fact, here, before I get too far\nlet me just abandon those changes.\n\n453\n00:22:06.090 --> 00:22:06.970\nLet me get back in here.\n\n454\n00:22:06.970 --> 00:22:09.630\nAll right so what I can do is\nI can jump in here and what's\n\n455\n00:22:09.630 --> 00:22:12.590\nhappening is I forgotten the shortcut\nto jump to the end of the line in VIM.\n\n456\n00:22:12.590 --> 00:22:15.710\nBut anyhow so I'm gonna come in here and\nI'm gonna add an override.\n\n457\n00:22:15.710 --> 00:22:20.480\nI'm gonna say that Google is actually\n10.0.0.1 my default gateway.\n\n458\n00:22:20.480 --> 00:22:23.980\nMaybe I've got some kind of proxy or\ntraffic intercept or\n\n459\n00:22:23.980 --> 00:22:26.920\nsomething and\nI want to redirect people there.\n\n460\n00:22:26.920 --> 00:22:32.290\nSo I can come in and\nI can say that that is www.google.com.\n\n461\n00:22:32.290 --> 00:22:36.690\nAnd once that's in,\nwhenever I do a lookup, it's gonna lookup\n\n462\n00:22:36.690 --> 00:22:41.370\nto the host file first, and then to\nthe DNS servers as it passes through.\n\n463\n00:22:41.370 --> 00:22:44.560\nAlthough at this point I might have\nGoogle cached, let's see what happens.\n\n464\n00:22:44.560 --> 00:22:45.640\nAnd no, there it goes.\n\n465\n00:22:45.640 --> 00:22:47.110\nSo now when I ping Google,\n\n466\n00:22:47.110 --> 00:22:51.270\ninstead of getting their IP I'm getting\nthat [INAUDIBLE] and I'm overridden DNS.\n\n467\n00:22:51.270 --> 00:22:52.217\nNot something we have to do a lot.\n\n468\n00:22:52.217 --> 00:22:53.949\nBut if you have a development team,\nthat's a great example.\n\n469\n00:22:53.949 --> 00:22:55.588\nOr I do it when I troubleshoot sometimes.\n\n470\n00:22:55.588 --> 00:22:58.680\nYou can point to different\nplaces to test things out.\n\n471\n00:22:58.680 --> 00:22:59.546\nIf you're cloning a server.\n\n472\n00:22:59.546 --> 00:23:01.720\nYou might want to test the clone.\n\n473\n00:23:01.720 --> 00:23:03.040\nWhich has a different IP address.\n\n474\n00:23:03.040 --> 00:23:09.890\nAnd so I can redirect to it and\nthat's a handy thing with that host file.\n\n475\n00:23:09.890 --> 00:23:11.130\nLet's see what else do we have.\n\n476\n00:23:12.190 --> 00:23:13.500\nHost name.\n\n477\n00:23:13.500 --> 00:23:15.550\nEvery computer has a host name.\n\n478\n00:23:15.550 --> 00:23:17.520\nI did a lazy install when\nI set this system up.\n\n479\n00:23:17.520 --> 00:23:19.190\nAnd I just clicked next a bunch of times.\n\n480\n00:23:19.190 --> 00:23:22.666\nAnd so my system is called\nlocalhost.domain, right?\n\n481\n00:23:22.666 --> 00:23:24.090\nSo if I look at my command prompt.\n\n482\n00:23:24.090 --> 00:23:26.630\nSee how I've got dpezet@localhost.\n\n483\n00:23:26.630 --> 00:23:31.790\nAnd if I run the host name command,\nI can see that I'm localhost.localdomain.\n\n484\n00:23:31.790 --> 00:23:35.810\nI didn't provide a domain name or even a\nhost name for the system when I set it up.\n\n485\n00:23:35.810 --> 00:23:38.160\nSo if I want, I can change that.\n\n486\n00:23:38.160 --> 00:23:42.200\nNow, the host name command can actually\nchange it, but it's not persistent.\n\n487\n00:23:42.200 --> 00:23:42.758\nIt'll change it for now.\n\n488\n00:23:42.758 --> 00:23:45.940\nBut then when I reboot,\nit goes back to what it was before.\n\n489\n00:23:45.940 --> 00:23:48.460\nAnd the reason is,\nit's stored in a config file.\n\n490\n00:23:48.460 --> 00:23:51.943\nYou'll notice when I was looking in\n/etc that there was the host file.\n\n491\n00:23:51.943 --> 00:23:55.811\nBut there was also a host name file,\nright?\n\n492\n00:23:55.811 --> 00:23:57.989\nAnd that's where your\nhost name comes from.\n\n493\n00:23:57.989 --> 00:24:02.192\nSo if I want to make something Permanent I\ncan go in there and modify it.\n\n494\n00:24:02.192 --> 00:24:03.496\nBut, if I remember right,\n\n495\n00:24:03.496 --> 00:24:06.760\nI don't think we're suppose to\neven modify that one anymore.\n\n496\n00:24:06.760 --> 00:24:07.470\nThat doesn't say it there.\n\n497\n00:24:09.110 --> 00:24:11.680\nOn some systems you can\nmodify it right there.\n\n498\n00:24:11.680 --> 00:24:13.640\nBut, in Red Hat Seven we have a system D.\n\n499\n00:24:13.640 --> 00:24:16.590\nSystem D actually gives us a mechanism for\n\n500\n00:24:16.590 --> 00:24:20.350\nchanging that hostname safely to\ninsure that it's persistent and stays.\n\n501\n00:24:20.350 --> 00:24:22.220\nSo you can use hostnamectl.\n\n502\n00:24:23.600 --> 00:24:25.090\nRight, hostname control.\n\n503\n00:24:25.090 --> 00:24:26.430\nAnd we can jump in there and\n\n504\n00:24:26.430 --> 00:24:29.610\nwe can say set-hostname, and\nwe can set it to whatever we want.\n\n505\n00:24:29.610 --> 00:24:33.467\nSo maybe I want this to\nbe dplaptop.lab.itpro.tv.\n\n506\n00:24:33.467 --> 00:24:35.750\nRight, that's what I\nwant my hostname to be.\n\n507\n00:24:35.750 --> 00:24:37.590\nI'm gonna sudo that,\ncuz that's a system change.\n\n508\n00:24:37.590 --> 00:24:40.090\nI'm gonna punch that in.\n\n509\n00:24:40.090 --> 00:24:41.370\nAnd there it goes, right?\n\n510\n00:24:41.370 --> 00:24:42.480\nSo that runs.\n\n511\n00:24:42.480 --> 00:24:46.620\nAnd if I look at my hostname file,\nthere it is.\n\n512\n00:24:46.620 --> 00:24:48.300\nSee it updated that file, all right?\n\n513\n00:24:48.300 --> 00:24:51.910\nThe difference here is that it also\nupdated everything in system D so\n\n514\n00:24:51.910 --> 00:24:52.690\nthat it was aware of that.\n\n515\n00:24:52.690 --> 00:24:56.450\nAnd it will make sure that some service\ndoesn't go and overwrite it, all right?\n\n516\n00:24:56.450 --> 00:24:59.670\nBut notice that it didn't\ntake effect in my prompt.\n\n517\n00:24:59.670 --> 00:25:04.140\nWell, the reason there is not the network\nservice's fault and not system D's fault,\n\n518\n00:25:04.140 --> 00:25:05.510\nit's actually Bash's fault.\n\n519\n00:25:05.510 --> 00:25:09.720\nWhen you fire up Bash there's a simple\nsession variable that defines\n\n520\n00:25:09.720 --> 00:25:11.160\nwhat your prompt is gonna be.\n\n521\n00:25:11.160 --> 00:25:15.011\nAnd that variable is only read\nwhen you start the Shell.\n\n522\n00:25:15.011 --> 00:25:16.380\n&gt;&gt; The Shell itself.\n\n523\n00:25:16.380 --> 00:25:19.019\n&gt;&gt; So if I open up a new terminal window,\n\n524\n00:25:21.901 --> 00:25:24.510\nI can see that I'm now dpezet@dplaptop,\nright.\n\n525\n00:25:24.510 --> 00:25:26.240\nIt left off the rest of the domain, but\n\n526\n00:25:26.240 --> 00:25:31.230\nif I run host name I can see that I'm\nnow dplaptop.lap.itpro.tv, right?\n\n527\n00:25:31.230 --> 00:25:32.823\nIt's important to set a host name because\n&gt;&gt; Because,\n\n528\n00:25:32.823 --> 00:25:35.611\nwhen you register your subscription\nwith Red Hat, it asked for\n\n529\n00:25:35.611 --> 00:25:39.145\nan identifier and you normally want your\nhostname and the identifier to match.\n\n530\n00:25:39.145 --> 00:25:39.825\nThey don't have to match.\n\n531\n00:25:39.825 --> 00:25:40.625\nObviously, mine didn't.\n\n532\n00:25:40.625 --> 00:25:42.485\nI had this dumb fake one.\n\n533\n00:25:42.485 --> 00:25:43.795\nIf they match it makes it easier for\n\n534\n00:25:43.795 --> 00:25:46.385\nyou to keep track of what\nsubscription is attached where.\n\n535\n00:25:46.385 --> 00:25:48.425\n&gt;&gt; Speaking of the hostname\ncommands specifically,\n\n536\n00:25:48.425 --> 00:25:50.895\nI just thought of something I\nthought would be a nice little.\n\n537\n00:25:50.895 --> 00:25:53.930\nAside here,\nif you do hostname dash capital I,\n\n538\n00:25:53.930 --> 00:25:57.650\nit's a really quick way to figure\nout what is your IP address is or\n\n539\n00:25:57.650 --> 00:26:00.625\nthe IP addresses of\nthe connected interfaces.\n\n540\n00:26:00.625 --> 00:26:04.320\nCuz sometimes if you have multiple\nadapters, especially with virtual machines\n\n541\n00:26:04.320 --> 00:26:08.140\nif they are installed,\nyou can have a litany of IP addresses.\n\n542\n00:26:08.140 --> 00:26:11.255\nYou gotta grip it out if you do IF Config,\nso\n\n543\n00:26:11.255 --> 00:26:14.390\nhosted dash capital I will just,\nhere's IP addresses.\n\n544\n00:26:14.390 --> 00:26:17.600\n&gt;&gt; Yeah that's actually an extension\nof dynamic DNS registration,\n\n545\n00:26:17.600 --> 00:26:21.425\nwhere if you have a DNS server that\nsupports dynamic registration.\n\n546\n00:26:21.425 --> 00:26:24.495\nYour IP might change, and so\nyour system can actually log in and\n\n547\n00:26:24.495 --> 00:26:26.805\nupdate those records with the IP address.\n\n548\n00:26:26.805 --> 00:26:29.535\nAnd so that's your hostname\nresolving to an IP, so\n\n549\n00:26:29.535 --> 00:26:31.285\nthat's why they've added\nthat to that command.\n\n550\n00:26:31.285 --> 00:26:31.953\nThat's-\n&gt;&gt; It's very handy.\n\n551\n00:26:31.953 --> 00:26:33.175\n&gt;&gt; But that's a great way to see that.\n\n552\n00:26:34.315 --> 00:26:36.625\nAll right so,\nI've got all that stuff in place.\n\n553\n00:26:36.625 --> 00:26:37.825\nWe made a lot of changes, right.\n\n554\n00:26:37.825 --> 00:26:39.645\nI changed the interface script like crazy.\n\n555\n00:26:39.645 --> 00:26:42.205\nI guess we didn't really change the DNS,\nor gateway, or whatever,\n\n556\n00:26:42.205 --> 00:26:43.640\nwe saw those other files.\n\n557\n00:26:43.640 --> 00:26:47.910\nBut at this point,\nnone of it's really taken effect.\n\n558\n00:26:47.910 --> 00:26:53.000\nIf I do a ip addr, for example, I can look\nin and see a lot of the IP addresses.\n\n559\n00:26:53.000 --> 00:26:57.120\nBut that 10.0.222.5 address that I\nassigned still hasn't taken effect.\n\n560\n00:26:57.120 --> 00:27:00.880\nAnd the reason is the config files\nhaven't actually been read yet.\n\n561\n00:27:00.880 --> 00:27:03.450\nSo I'm just gonna restart\nmy network service.\n\n562\n00:27:03.450 --> 00:27:08.680\nSo I'll do a system CTL,\nrestart network.service.\n\n563\n00:27:08.680 --> 00:27:16.340\nLet me sudo that, and once it is done it's\ngoing to reread the configuration files.\n\n564\n00:27:16.340 --> 00:27:19.570\nIt's going to see the DNS servers\nthat are in my interface and\n\n565\n00:27:19.570 --> 00:27:21.270\ncopy those over to resolve.conf.\n\n566\n00:27:21.270 --> 00:27:24.896\nIt's going to do all\nthese various things and\n\n567\n00:27:24.896 --> 00:27:30.431\nnow when I do an IP ADR I can look in and\n10.0.222.5 is set and\n\n568\n00:27:30.431 --> 00:27:34.737\n10.0.222.90 and 80 are gone, right.\n\n569\n00:27:34.737 --> 00:27:35.441\nSo those have been phased out.\n\n570\n00:27:35.441 --> 00:27:36.468\nThey weren't in the config files.\n\n571\n00:27:36.468 --> 00:27:37.457\nSo they're gone.\n\n572\n00:27:37.457 --> 00:27:40.185\nAnd if I start looking at\nother things like IP route,\n\n573\n00:27:40.185 --> 00:27:44.390\nI'll see my default gateway in place\nthat's mapped to that interface.\n\n574\n00:27:44.390 --> 00:27:48.686\nAnd any of the other settings that I might\nhave adjust like my DNS servers and so on.\n\n575\n00:27:48.686 --> 00:27:53.935\nIf I do an nslookup for www.google.com,\nI'll see that I'm now using 4.2.2.1,\n\n576\n00:27:53.935 --> 00:27:58.440\ninstead of using 8.8.8.8,\nall my settings are now taking effect.\n\n577\n00:27:58.440 --> 00:28:01.550\nSo those are all different things\nthat are kinda buried away.\n\n578\n00:28:01.550 --> 00:28:04.683\nIt's nice to be able to do this stuff and\nnot rely on network manager, right?\n\n579\n00:28:04.683 --> 00:28:08.500\nThat way if you want to leave\nthe network manager out, you can do it.\n\n580\n00:28:08.500 --> 00:28:12.620\nThe other advantage is if you\nsupport many different distros,\n\n581\n00:28:12.620 --> 00:28:16.380\nwhat you just saw really works on TBN,\nUbuntu,\n\n582\n00:28:16.380 --> 00:28:19.770\na lot of the other distributions that\nare out there it works just fine.\n\n583\n00:28:19.770 --> 00:28:20.670\nVersus the network manager\n\n584\n00:28:20.670 --> 00:28:22.720\nstuff that really just works\nin the Red Hat ecosystem.\n\n585\n00:28:22.720 --> 00:28:25.210\nSo Red Hat, Fedora, CentOS, those guys.\n\n586\n00:28:26.890 --> 00:28:29.000\nAll right.\nI think that about wraps it up.\n\n587\n00:28:29.000 --> 00:28:32.550\nI threw a few extra commands\nin our notes for this episode,\n\n588\n00:28:32.550 --> 00:28:34.770\nif you support older systems like Nis+ and\nthings.\n\n589\n00:28:34.770 --> 00:28:37.960\nIt's pretty uncommon, so if you need\nthose I'll just put those in the notes\n\n590\n00:28:37.960 --> 00:28:39.580\ninstead of boring us with them right now.\n\n591\n00:28:39.580 --> 00:28:41.700\nBut that's pretty much it for\nthe network configuration files.\n\n592\n00:28:41.700 --> 00:28:42.340\n&gt;&gt; Awesome stuff.\n\n593\n00:28:42.340 --> 00:28:44.593\nThis is one of the most important\ntopics your gonna have to know.\n\n594\n00:28:44.593 --> 00:28:46.591\nBecause as one of our lovely viewers said,\n\n595\n00:28:46.591 --> 00:28:50.100\nif you don't have network connectivity\nyou ain't gonna do crap, right?\n\n596\n00:28:50.100 --> 00:28:54.390\nSo that's gonna be really helpful for\nyou to be able to get your systems online.\n\n597\n00:28:54.390 --> 00:28:58.480\nFind out IP addresses set DNS, work\nwith the configuration files if need be.\n\n598\n00:28:58.480 --> 00:29:01.060\nVery, very handy things for\nyou to understand.\n\n599\n00:29:01.060 --> 00:29:03.542\nDon, as always,\nphenomenal demonstrations and\n\n600\n00:29:03.542 --> 00:29:07.273\nexplanations of those systems themselves\nso that we can actually do that.\n\n601\n00:29:07.273 --> 00:29:11.880\nThat being said, looking at the clock we\nhave run out of time for this episode.\n\n602\n00:29:11.880 --> 00:29:15.440\nWe do thank you guys for watching, but it\nlooks like it's time for us to sign off.\n\n603\n00:29:15.440 --> 00:29:17.660\nFor ITProTV I've been\nyour host Daniel Lowrie.\n\n604\n00:29:17.660 --> 00:29:18.400\n&gt;&gt; And I'm Don Pezet.\n\n605\n00:29:18.400 --> 00:29:19.460\n&gt;&gt; And we'll see you next time.\n\n606\n00:29:19.460 --> 00:29:26.500\n[MUSIC]\n\n607\n00:29:26.500 --> 00:29:33.890\nThank you for watching ITPRO.TV.\n\n",
          "vimeoId": "192653753"
        },
        {
          "description": "In this episode, Daniel and Don discuss the importance of correctly configuring the Network Time Protocol(NTP) on your RHEL7 server. They address some of the usual ways in which time/date/timezone settings are configured and then focus on using the `timedatectl` utility to that end as well as for synchronizing with an online or local NTP server utilizing `chronyd`.",
          "length": "1686",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-2-2-network_time_protocol-111516.00_27_50_00.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-2-2-network_time_protocol-111516.00_27_50_00.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-2-2-network_time_protocol-111516.00_27_50_00.Still001-sm.jpg",
          "title": "Network Time Protocol (NTP)",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:01.881\nWelcome to ITPRO.TV.\n\n2\n00:00:01.881 --> 00:00:03.667\nI'm your host [CROSSTALK]\n\n3\n00:00:03.667 --> 00:00:05.276\n[MUSIC]\n\n4\n00:00:05.276 --> 00:00:12.370\nYou're watching ITPRO.TV.\n\n5\n00:00:12.370 --> 00:00:14.137\n&gt;&gt; All right greetings good viewers and\n\n6\n00:00:14.137 --> 00:00:16.475\nwelcome to another great\nepisode of ITPRO.TV.\n\n7\n00:00:16.475 --> 00:00:18.195\nI'm your host Daniel Lowrie.\n\n8\n00:00:18.195 --> 00:00:22.687\nIn today's episode, right, that's more\non our Red Hat Linux Enterprise series.\n\n9\n00:00:22.687 --> 00:00:25.675\nJoining us back in the studio,\nwell, you know him, you love him,\n\n10\n00:00:25.675 --> 00:00:27.332\nhe's the man that knows\nall things Red Hat.\n\n11\n00:00:27.332 --> 00:00:29.020\n&gt;&gt; [LAUGH]\n&gt;&gt; That is our good friend,\n\n12\n00:00:29.020 --> 00:00:30.880\nMister Don Pezet, you can kinda\nhear him chuckling out there.\n\n13\n00:00:30.880 --> 00:00:32.640\n&gt;&gt; I know, now I'm in trouble,\nnow I'm supposed to know-\n\n14\n00:00:32.640 --> 00:00:33.410\n&gt;&gt; Better make me good.\n\n15\n00:00:33.410 --> 00:00:34.832\n&gt;&gt; All right, well I know some things and\n\n16\n00:00:34.832 --> 00:00:37.409\none of the things I know about is\nsynchronizing the clock on a Linux box\n\n17\n00:00:37.409 --> 00:00:39.471\nwhich is what we're gonna\ntalk about in this episode.\n\n18\n00:00:39.471 --> 00:00:43.353\nBecause Red Hat 7 changed a few things,\nso If you've been using Red Hat 6 and\n\n19\n00:00:43.353 --> 00:00:45.863\nearlier, even other distros\nthat are out there,\n\n20\n00:00:45.863 --> 00:00:48.830\nRed Hat does things a little\nbit differently in Red Hat 7.\n\n21\n00:00:48.830 --> 00:00:49.710\n&gt;&gt; What are they, Windows?\n\n22\n00:00:49.710 --> 00:00:52.177\n[LAUGH]\n&gt;&gt; Let's just change things arbitrarily.\n\n23\n00:00:52.177 --> 00:00:54.464\nIn this case though,\nit is a change for the better.\n\n24\n00:00:54.464 --> 00:00:55.697\nI like what they've done.\n\n25\n00:00:55.697 --> 00:00:57.810\nIt's actually kind of\na neat little system.\n\n26\n00:00:57.810 --> 00:01:01.475\nLet's start off with why we're even\nbothering doing this episode, right?\n\n27\n00:01:01.475 --> 00:01:02.380\n&gt;&gt; [LAUGH]\n&gt;&gt; Why do we even care about\n\n28\n00:01:02.380 --> 00:01:03.420\na clock, right?\n\n29\n00:01:03.420 --> 00:01:06.580\nIt's so easy to set the clock on\na system that it's not a big deal.\n\n30\n00:01:06.580 --> 00:01:11.030\nWell The challenge is so\nmany things today depend\n\n31\n00:01:11.030 --> 00:01:15.810\non the clock on your computer being\naccurate that it's really become critical.\n\n32\n00:01:15.810 --> 00:01:18.510\nAnd I can give you three quick examples.\n\n33\n00:01:18.510 --> 00:01:21.790\nOne, and probably the most important,\nis encryption.\n\n34\n00:01:21.790 --> 00:01:26.040\nA lot of systems like IPsec or\nQuivaros authentication,\n\n35\n00:01:26.040 --> 00:01:29.350\nthey use time stamps in their\npackets when they transmit them.\n\n36\n00:01:29.350 --> 00:01:33.470\nAnd if your clock is wrong,\nI think with Quivaros\\g it's five minutes.\n\n37\n00:01:33.470 --> 00:01:38.890\nIf it is off by more than five minutes\nthen, when you reach out to authenticate,\n\n38\n00:01:38.890 --> 00:01:41.350\nthe other side is going to assume you\nare doing a packet replay attack and\n\n39\n00:01:41.350 --> 00:01:43.485\nthey are going to throw your\ncommunications away and\n\n40\n00:01:43.485 --> 00:01:44.658\nyou're not going to be able to connect.\n\n41\n00:01:44.658 --> 00:01:45.539\nWith IPsec\\g,\n\n42\n00:01:45.539 --> 00:01:48.900\nit's even shorter, I think it's\nsomething like 60 seconds or 30 seconds.\n\n43\n00:01:48.900 --> 00:01:51.600\nI don't remember the exact number but\nit's really small.\n\n44\n00:01:51.600 --> 00:01:52.410\nThose are critical.\n\n45\n00:01:52.410 --> 00:01:56.340\nTo get those technologies working\nwe need to have accurate time.\n\n46\n00:01:56.340 --> 00:02:00.400\nAnd I'm not talking about just close\nenough, I'm talking about super accurate.\n\n47\n00:02:00.400 --> 00:02:02.315\nWhen you set the time on your computer,\n\n48\n00:02:02.315 --> 00:02:05.796\na lot of people make the mistake of\nhaving their time zone set wrong and so\n\n49\n00:02:05.796 --> 00:02:08.987\nyour clock might be right, but\nif you're in the wrong time zone,\n\n50\n00:02:08.987 --> 00:02:12.613\nyou're actually several hours off,\nand that breaks all sorts of stuff.\n\n51\n00:02:12.613 --> 00:02:15.540\nSo, that's one example of why\nwe need synchronized time.\n\n52\n00:02:15.540 --> 00:02:20.530\nAnother example is gonna be,\njust our logs.\n\n53\n00:02:20.530 --> 00:02:24.920\nThe Unix boxes, or Red Hat especially,\nlogs everything that goes on in the system\n\n54\n00:02:24.920 --> 00:02:28.500\nas far as errors and start times and\nend times and all that other good stuff.\n\n55\n00:02:28.500 --> 00:02:30.040\n&gt;&gt; It's got a time stamp on it.\n\n56\n00:02:30.040 --> 00:02:33.490\nIf you ever have a security instant where\nyour network gets compromised, you need to\n\n57\n00:02:33.490 --> 00:02:37.730\nbe able to compare logs across all your\nsystems to figure out what was accessed.\n\n58\n00:02:37.730 --> 00:02:41.600\nIf the clocks are wrong then\nit's hard to say, all right,\n\n59\n00:02:41.600 --> 00:02:44.300\nshow me everything that\nhappened at 1 PM yesterday.\n\n60\n00:02:44.300 --> 00:02:46.470\nWell, all right,\n1 PM on this server is actually 3:35 PM,\n\n61\n00:02:46.470 --> 00:02:50.670\nand now you've got to go around and kind\nof figure all that out, it's not possible.\n\n62\n00:02:50.670 --> 00:02:54.430\nSo having synchronized logs across your\nsystems helps with troubleshooting\n\n63\n00:02:54.430 --> 00:02:55.830\nimmensely.\n\n64\n00:02:55.830 --> 00:02:58.080\nAnd then lastly, your end users.\n\n65\n00:02:58.080 --> 00:03:02.232\nYour end users will bug\nthe living daylights out of you.\n\n66\n00:03:02.232 --> 00:03:03.020\n&gt;&gt; They'll bug you. [LAUGH] &gt;&gt; Yeah,\n\n67\n00:03:03.020 --> 00:03:06.670\nif that clock is off,\nmy goodness, it's outrageous.\n\n68\n00:03:06.670 --> 00:03:09.580\nNow I remember,\nthere was one company that I worked for\n\n69\n00:03:09.580 --> 00:03:13.640\nwhere the time on the computer was just\na hair off from the time on the phones,\n\n70\n00:03:13.640 --> 00:03:15.625\nbecause you had two different teams.\n\n71\n00:03:15.625 --> 00:03:18.680\nThey weren't IP phones then, there were\njust the older digital style telephones.\n\n72\n00:03:18.680 --> 00:03:20.715\nSo you had the phone team\nthat managed those, and\n\n73\n00:03:20.715 --> 00:03:23.780\nthen you had all of us that did\nthe servers and the rest of the systems.\n\n74\n00:03:23.780 --> 00:03:25.420\nAnd the clock was off\nby like three minutes,\n\n75\n00:03:25.420 --> 00:03:30.680\nand you would have thought that\nit was a travesty of justice.\n\n76\n00:03:30.680 --> 00:03:35.010\nPeople are like, I don't know, should I go\nhome now or do I need to wait till 5:03?\n\n77\n00:03:35.010 --> 00:03:38.360\nAnd, it was insane, just unbelievable.\n\n78\n00:03:38.360 --> 00:03:41.395\n&gt;&gt; How about, it's close enough,\njust go home?\n\n79\n00:03:41.395 --> 00:03:43.455\n[LAUGH]\n&gt;&gt; I think we're done with you.\n\n80\n00:03:43.455 --> 00:03:46.000\n[LAUGH]\n&gt;&gt; That three minutes ain't gonna make or\n\n81\n00:03:46.000 --> 00:03:47.460\nbreak your day, my good man.\n\n82\n00:03:47.460 --> 00:03:48.510\n[LAUGH]\n&gt;&gt; But yeah, you'll never\n\n83\n00:03:48.510 --> 00:03:49.030\nhear the end of it.\n\n84\n00:03:49.030 --> 00:03:53.080\nSo just for your own personal well being,\nyou want the time to be synchronized.\n\n85\n00:03:53.080 --> 00:03:57.620\nAnd f you have a GUI install,\nit's super easy to do that.\n\n86\n00:03:57.620 --> 00:03:59.950\nIf you have a CLI install,\nthough, like on your servers,\n\n87\n00:03:59.950 --> 00:04:03.150\nit could be a little bit tricky and\nthat's where Red Hat changed some things.\n\n88\n00:04:03.150 --> 00:04:06.090\nOn the GUI side, yeah, Red Hat\nchanged stuff, but it's all hidden, so\n\n89\n00:04:06.090 --> 00:04:06.960\nwe don't see it.\n\n90\n00:04:06.960 --> 00:04:09.280\nLet's start with the easy,\nwe'll start with the GUI side.\n\n91\n00:04:09.280 --> 00:04:13.090\nIf you're in the graphical user interface\nfor Red Hat, all the way up at the top\n\n92\n00:04:13.090 --> 00:04:15.380\nright where you see your clock,\nyou can just click on that.\n\n93\n00:04:15.380 --> 00:04:17.950\nAnd a nice big box pops down, and\n\n94\n00:04:17.950 --> 00:04:21.970\nin that box you'll see the current date,\nthe current time.\n\n95\n00:04:21.970 --> 00:04:24.990\nSo mine says that it's Tuesday,\nNovember 15, 2016.\n\n96\n00:04:24.990 --> 00:04:28.681\nIt's 11:33 AM up here.\n\n97\n00:04:28.681 --> 00:04:33.420\nI can't remember if I'm in a 24 hour\nclock or a 12 hour clock, so either way,\n\n98\n00:04:33.420 --> 00:04:34.981\n11:34 AM, I guess.\n\n99\n00:04:34.981 --> 00:04:36.762\non either, I don't know, whatever.\n\n100\n00:04:36.762 --> 00:04:37.750\n&gt;&gt; [LAUGH]\n&gt;&gt; So and\n\n101\n00:04:37.750 --> 00:04:39.980\nagain maybe that/s something\nI need to square away too.\n\n102\n00:04:39.980 --> 00:04:41.920\nSo I can see that information here, and\n\n103\n00:04:41.920 --> 00:04:46.660\nthen right down here I can choose to open\nclocks or go to date and time settings.\n\n104\n00:04:46.660 --> 00:04:49.640\nIf I open clocks well that's\na little clock applications.\n\n105\n00:04:49.640 --> 00:04:53.300\nThat's not any fun, stopwatch, alarm,\nworld clock, whatever, but if I go to\n\n106\n00:04:53.300 --> 00:04:58.320\nthe other one, the date and time settings,\nthat's the one I really want to look at.\n\n107\n00:04:58.320 --> 00:05:02.667\nAnd right here is where we can see,\nmy time format is 24 hours, so\n\n108\n00:05:02.667 --> 00:05:06.095\nI'm 11:33 AM which is fine or 11:34 now.\n\n109\n00:05:06.095 --> 00:05:10.045\nI could switch that that to AM / PM if\nI wanna go that route, and now I know.\n\n110\n00:05:10.045 --> 00:05:13.395\nI think, is the U.S.\nthe only country that does that anymore?\n\n111\n00:05:13.395 --> 00:05:14.417\n&gt;&gt; That stays AM/PM?\n\n112\n00:05:14.417 --> 00:05:15.675\n&gt;&gt; Yeah.\n&gt;&gt; [LAUGH] I don't know.\n\n113\n00:05:15.675 --> 00:05:17.535\n&gt;&gt; Pretty much everybody's\ngone 24 hour clocks.\n\n114\n00:05:17.535 --> 00:05:19.080\n&gt;&gt; But we love it.\n\n115\n00:05:19.080 --> 00:05:21.912\n[LAUGH]\n&gt;&gt; You just keep your kilometers.\n\n116\n00:05:21.912 --> 00:05:25.707\n[LAUGH] So anyhow we can customize that.\n\n117\n00:05:25.707 --> 00:05:30.157\nYou can set your time zone which is\nimportant as well as adjusting the date\n\n118\n00:05:30.157 --> 00:05:30.967\nand time and so on.\n\n119\n00:05:30.967 --> 00:05:34.327\nNow I'm not a root user,\nI'm logged in with my regular user and\n\n120\n00:05:34.327 --> 00:05:36.817\nthat's why a lot of this\nstuff I can't change.\n\n121\n00:05:36.817 --> 00:05:40.337\nIf I wasn't a root user,\nif I was just a regular user and\n\n122\n00:05:40.337 --> 00:05:44.080\nI tried to change the time, I could\nbe breaking the system for everybody.\n\n123\n00:05:44.080 --> 00:05:47.490\nIf I was a root user, I could change\nthe time, cuz that's a system-wide thing-\n\n124\n00:05:47.490 --> 00:05:48.858\n&gt;&gt; And then break the system for everyone.\n\n125\n00:05:48.858 --> 00:05:50.370\n[LAUGH]\n&gt;&gt; Yeah, absolutely.\n\n126\n00:05:50.370 --> 00:05:51.360\nAnd I can set my time zone.\n\n127\n00:05:51.360 --> 00:05:53.670\nNow, an end user can change the time zone,\n\n128\n00:05:53.670 --> 00:05:55.855\nbecause the time zone\ndoesn't really matter.\n\n129\n00:05:55.855 --> 00:05:58.325\nThe time zone just affects\nthe visual clock on your screen.\n\n130\n00:05:58.325 --> 00:06:02.503\nThe clock in the background of\nthe computer is actually in UTC,\n\n131\n00:06:02.503 --> 00:06:06.105\nUTC [CROSSTALK].\n\n132\n00:06:06.105 --> 00:06:08.765\nWhich is Greenwich Mean Time or whatever.\n\n133\n00:06:08.765 --> 00:06:12.275\nAnd an user can change this\ncuz it doesn't actually affect\n\n134\n00:06:12.275 --> 00:06:13.015\nthe function of the system.\n\n135\n00:06:13.015 --> 00:06:14.445\nEverything is done in GMT.\n\n136\n00:06:15.680 --> 00:06:18.900\nSo I can tweak that,\nwe can do automatic time zone.\n\n137\n00:06:18.900 --> 00:06:21.880\nIf we have a GPS in our system it can\ntry and figure out where we're at, or\n\n138\n00:06:21.880 --> 00:06:24.380\nif we had internet access it can try and\nlocate our IP address and\n\n139\n00:06:24.380 --> 00:06:25.430\nfigure out where it goes.\n\n140\n00:06:25.430 --> 00:06:28.280\nThat doesn't always work out,\nVPN's can really screw that up, but\n\n141\n00:06:28.280 --> 00:06:29.430\nyou can try that option if you want.\n\n142\n00:06:30.550 --> 00:06:33.270\nNow, the automatic date and time.\n\n143\n00:06:33.270 --> 00:06:34.580\nWhat does that mean?\n\n144\n00:06:34.580 --> 00:06:37.800\nIt means we're using\nNetwork Time Protocol.\n\n145\n00:06:37.800 --> 00:06:42.890\nThat our machine is actually phoning home\nto time servers somewhere in the world.\n\n146\n00:06:42.890 --> 00:06:44.650\nAnd asking those servers hey,\nwhat time is it?\n\n147\n00:06:44.650 --> 00:06:46.959\nAnd they tell us, Network Time Protocol.\n\n148\n00:06:46.959 --> 00:06:51.056\nWell NTP is great because I can point all\nof my workstations, all of my servers,\n\n149\n00:06:51.056 --> 00:06:54.725\nall my voiceover IP phones,\nmy switches, my routers, my firewalls,\n\n150\n00:06:54.725 --> 00:06:57.200\nI can point everything\nat the same NTP servers.\n\n151\n00:06:57.200 --> 00:07:00.920\nI could even build up my own NTP server if\nI want, and point them to my own server.\n\n152\n00:07:00.920 --> 00:07:04.360\nAnd now they're all gonna have\nsynchronized time, which is great.\n\n153\n00:07:04.360 --> 00:07:07.590\nBut you'll notice here in the GUI\nthat that automatic date and\n\n154\n00:07:07.590 --> 00:07:09.510\ntime, I can turn it on and off.\n\n155\n00:07:09.510 --> 00:07:13.560\nBut I can't change who\nit's phoning home to,\n\n156\n00:07:13.560 --> 00:07:17.040\nthat's kind of the limitation of the GUI,\nwe can only get so far on this.\n\n157\n00:07:17.040 --> 00:07:20.650\nIf we turn that off, now I can go and\nI can override that date and\n\n158\n00:07:20.650 --> 00:07:22.630\ntime if I'm a super user.\n\n159\n00:07:22.630 --> 00:07:23.690\nI can adjust it.\n\n160\n00:07:23.690 --> 00:07:27.884\nOtherwise it's automatic, that's where\nit's pulling from and that's all I can do.\n\n161\n00:07:27.884 --> 00:07:31.030\nEverything else we have to\ndo from the command line.\n\n162\n00:07:31.030 --> 00:07:34.050\nSo when it comes to setting the time\non a system, setting up NTP and\n\n163\n00:07:34.050 --> 00:07:37.140\nthings I don't normally do it from\nthe GUI, even when I have the GUI there.\n\n164\n00:07:37.140 --> 00:07:40.070\nI still drop to the command line, because\nthat gives me the full functionality\n\n165\n00:07:40.070 --> 00:07:42.551\nof even being able to\nprovide alternate servers.\n\n166\n00:07:42.551 --> 00:07:47.358\nSo let's ditch the GUI, and\ngo at it the old fashioned way.\n\n167\n00:07:47.358 --> 00:07:51.481\nIt's not really the old fashioned way,\nit's the way that works on every server,\n\n168\n00:07:51.481 --> 00:07:53.897\nversus the GUI that only\nworks on a few servers.\n\n169\n00:07:53.897 --> 00:07:57.649\nAll right, the first thing that\nwe need to be aware of is,\n\n170\n00:07:57.649 --> 00:08:02.985\nthere's a lot of old utilities that people\nuse like HW Clock and tools like that.\n\n171\n00:08:02.985 --> 00:08:05.696\nThat we can use to set the clock.\n\n172\n00:08:05.696 --> 00:08:11.380\nAnd, [LAUGH] I guess if I spell it right,\nthere we go.\n\n173\n00:08:11.380 --> 00:08:16.300\nI'll see hwclock, and I'm not pseudoing\nit right now, so it's not working.\n\n174\n00:08:16.300 --> 00:08:19.040\nBut that's the older utility\nthat we used to use to force\n\n175\n00:08:19.040 --> 00:08:23.300\na clock setting on the hardware,\nthe BIOS clock or CMOS clock, or\n\n176\n00:08:23.300 --> 00:08:26.260\nwhatever it's called, that's running\non the motherboard of a server.\n\n177\n00:08:26.260 --> 00:08:31.060\nThat certainly works, but what they found\nover the years is that the clocks on\n\n178\n00:08:31.060 --> 00:08:33.890\nmother boards is actually\npretty inaccurate.\n\n179\n00:08:33.890 --> 00:08:38.039\nThey lose time pretty readily,\nover a second a day most of them, right?\n\n180\n00:08:38.039 --> 00:08:41.204\nAnd I know that doesn't sound like\na big deal, a second a day, but\n\n181\n00:08:41.204 --> 00:08:43.288\nafter 60 days that's a minute, right?\n\n182\n00:08:43.288 --> 00:08:47.778\nOver a course of a year, you're talking\nabout six minutes that we lose.\n\n183\n00:08:47.778 --> 00:08:50.610\nWell, remember Kerberos, where I said\nyou could only be five minutes off?\n\n184\n00:08:50.610 --> 00:08:55.050\nIf you lose six minutes a year, that's\na big deal, right, you can break Kerberos.\n\n185\n00:08:55.050 --> 00:08:58.490\nSo tying into that hardware\nclock is not a great idea.\n\n186\n00:08:58.490 --> 00:09:01.262\nAnd we can use NTP servers\nwhere we can reach out and\n\n187\n00:09:01.262 --> 00:09:05.627\nin previous versions of Red Hat and\nin most other distros use the NTPD, right?\n\n188\n00:09:05.627 --> 00:09:09.219\nThe NTP daemon and it reaches out and\nlet's you sync your clock and\n\n189\n00:09:09.219 --> 00:09:10.076\nbring that in.\n\n190\n00:09:10.076 --> 00:09:12.910\nAnd you don't worry about\nsyncing your hardware clock.\n\n191\n00:09:12.910 --> 00:09:15.530\nYou just say, whatever, the hardware\nclock's wrong, what do I care about it?\n\n192\n00:09:15.530 --> 00:09:17.440\nThis is my software clock\nthat I'm gonna maintain and\n\n193\n00:09:17.440 --> 00:09:20.180\nI'm gonna synchronize it\nwith this time server.\n\n194\n00:09:20.180 --> 00:09:24.670\nWell, in Red Hat 7 they decided\nto switch to a different system.\n\n195\n00:09:24.670 --> 00:09:28.150\nInstead of using NTP,\nor at least the NTPD,\n\n196\n00:09:28.150 --> 00:09:33.100\nnow they're using a service called Chrony,\nC-H-R-O-N-Y.\n\n197\n00:09:33.100 --> 00:09:35.870\nAnd Chrony or Chrony,\ndepending on how you wanna say it.\n\n198\n00:09:35.870 --> 00:09:38.499\nIt's kinda like cron,\nthe time batch runner,\n\n199\n00:09:38.499 --> 00:09:41.259\nthat Chrony takes over\nthe role of reaching out and\n\n200\n00:09:41.259 --> 00:09:45.874\nsynchronizing the system and maintaining\nit and maintaining the hardware clock.\n\n201\n00:09:45.874 --> 00:09:48.461\nAnd it keeps the hardware clock\nin sync with the time service,\n\n202\n00:09:48.461 --> 00:09:50.420\nso it's doing it automatically for us.\n\n203\n00:09:50.420 --> 00:09:54.300\nWe don't have to sync with the time\nserver and then occasionally run hwclock.\n\n204\n00:09:54.300 --> 00:09:56.200\nInstead, it just does the whole thing for\nus.\n\n205\n00:09:56.200 --> 00:10:00.380\nSo they consolidated it down into\none service and they gave it some\n\n206\n00:10:00.380 --> 00:10:04.340\ntext based config files that we can use\nthat make it a lot easier to support.\n\n207\n00:10:04.340 --> 00:10:07.800\nThat means setting up\na Red Hat Enterprise Linux 7 server for\n\n208\n00:10:07.800 --> 00:10:12.840\ntime is different than pretty much any\nother Linux distro there is right now,\n\n209\n00:10:12.840 --> 00:10:14.650\nincluding Red Hat 6 and earlier.\n\n210\n00:10:14.650 --> 00:10:16.645\nSo we need to make sure we're\nfamiliar with that, right?\n\n211\n00:10:16.645 --> 00:10:21.950\nSo let's run through the process of how\nwe can settle this from the command line.\n\n212\n00:10:21.950 --> 00:10:25.480\nThe first thing that we wanna do,\nis we wanna make sure out date is correct.\n\n213\n00:10:25.480 --> 00:10:26.980\nA lot of times servers\ndon't hand out a date.\n\n214\n00:10:26.980 --> 00:10:30.227\nSome of them do, but\nwe need to set our date and our time zone.\n\n215\n00:10:30.227 --> 00:10:34.393\nAnd for that we've got a command\nwhich the timedatectl right,\n\n216\n00:10:34.393 --> 00:10:36.130\nso time and date control.\n\n217\n00:10:36.130 --> 00:10:39.620\nAnd this utility is gonna\nlet us work with the system.\n\n218\n00:10:39.620 --> 00:10:43.440\nNow you're probably familar with like\nsystem CTL which is part of the system d\n\n219\n00:10:43.440 --> 00:10:46.430\nsub layer for starting and\nstopping services.\n\n220\n00:10:46.430 --> 00:10:50.140\nWell here it's timedatectl which is again\nis gonna let us interact with system d and\n\n221\n00:10:50.140 --> 00:10:52.230\nmake a lot of the stuff\nwork in the background.\n\n222\n00:10:52.230 --> 00:10:55.350\nAnd I do need to pseudo it because\nyou got to be an administrator to\n\n223\n00:10:55.350 --> 00:10:56.460\nmanipulate the time.\n\n224\n00:10:58.040 --> 00:11:00.160\nIf you just run by itself, well,\n\n225\n00:11:00.160 --> 00:11:04.560\nafter you authenticate, it's gonna show\nyou what your current time settings are.\n\n226\n00:11:04.560 --> 00:11:09.437\nAnd so I can see right now I've got\na local time that's showing 11:40:29 EST.\n\n227\n00:11:09.437 --> 00:11:11.920\nI can see that my universal time,\nwhat it would be.\n\n228\n00:11:11.920 --> 00:11:16.300\nI can see if I have NTP enabled,\nit says that I do, right?\n\n229\n00:11:16.300 --> 00:11:17.820\nSo I am using NTP right now.\n\n230\n00:11:17.820 --> 00:11:21.250\nWe saw I had automatic time turned\non in the graphical user interface.\n\n231\n00:11:21.250 --> 00:11:24.830\nAnd then down here it's just showing\nme whether Daylight Savings Time\n\n232\n00:11:24.830 --> 00:11:25.430\nis active also.\n\n233\n00:11:26.440 --> 00:11:30.130\nSo I can see right now I am not in\nDaylight Savings Time, it just ended for\n\n234\n00:11:30.130 --> 00:11:31.440\nus, I think last weekend, wasn't it?\n\n235\n00:11:31.440 --> 00:11:33.010\n&gt;&gt; Yeah.\n&gt;&gt; So hard to keep track of,\n\n236\n00:11:33.010 --> 00:11:34.925\nthis thing does it for us, all right.\n\n237\n00:11:34.925 --> 00:11:37.870\nSo all that information right there\njust by running timedatectl, but\n\n238\n00:11:37.870 --> 00:11:40.710\nwe can also modify\nthe settings from here too.\n\n239\n00:11:40.710 --> 00:11:42.890\nSo for example,\nI want to change my timezone.\n\n240\n00:11:42.890 --> 00:11:46.540\nRight now it's got me in Eastern,\nmaybe I need to be in Pacific, right?\n\n241\n00:11:46.540 --> 00:11:47.300\nSo the first thing\n\n242\n00:11:47.300 --> 00:11:49.150\nI need to do is is I need to figure\nout the name of my timezone.\n\n243\n00:11:49.150 --> 00:11:50.152\nThere's two ways to do it.\n\n244\n00:11:50.152 --> 00:11:55.130\nThe timedatectl way is not very\nconvenient, let me just show you guys.\n\n245\n00:11:55.130 --> 00:12:01.350\nIf I run, timdatectl list-timezones,\n\n246\n00:12:01.350 --> 00:12:06.060\nwe can run that but it's gonna list\nall the time zones and there's-\n\n247\n00:12:06.060 --> 00:12:06.760\n&gt;&gt; I like that.\n\n248\n00:12:06.760 --> 00:12:07.324\n&gt;&gt; There's a lot.\n\n249\n00:12:07.324 --> 00:12:08.179\n&gt;&gt; [LAUGH]\n&gt;&gt; Yeah,\n\n250\n00:12:08.179 --> 00:12:11.881\nyou could search it like a quick\nforward slash and search through it.\n\n251\n00:12:11.881 --> 00:12:13.790\nBut there's a bunch of stuff there,\n\n252\n00:12:13.790 --> 00:12:17.750\nso what I normally do is I just need\nthe name that's all I care about.\n\n253\n00:12:17.750 --> 00:12:21.780\nSo there's another utility\ncalled tzselect and\n\n254\n00:12:21.780 --> 00:12:24.580\nif you run tzselect it's the same list.\n\n255\n00:12:24.580 --> 00:12:28.450\nBut it lets you pick your timezone\nthrough a little menu driven interface.\n\n256\n00:12:28.450 --> 00:12:32.452\nSo, hey I want to be in Pacific so\nI need to come and choose the Americas, so\n\n257\n00:12:32.452 --> 00:12:33.689\nI will pick number 2.\n\n258\n00:12:33.689 --> 00:12:37.501\nAnd then in the Americas I'm in\nthe United States, so that's number 49.\n\n259\n00:12:37.501 --> 00:12:42.372\nSo I will punch that in, and\nthen in the 49 here, in the Americas,\n\n260\n00:12:42.372 --> 00:12:45.380\nUnited States I've got Pacific, 21.\n\n261\n00:12:45.380 --> 00:12:46.130\nAnd so I can type 21.\n\n262\n00:12:46.130 --> 00:12:50.200\nAnd when it's done it just tells me, the\nfollowing information has been given, and\n\n263\n00:12:50.200 --> 00:12:52.890\nit tells me what I should pick.\n\n264\n00:12:52.890 --> 00:12:54.470\nAnd it's saying the local\ntime is now this,\n\n265\n00:12:54.470 --> 00:12:57.150\nthe universal time is that,\nis the above information okay, yes or no?\n\n266\n00:12:57.150 --> 00:13:01.818\nAnd here's the name that I need,\nAmerica/Los_Angeles.\n\n267\n00:13:01.818 --> 00:13:04.570\nWell I wanted to pick the Pacific\ntime zone, the west coast.\n\n268\n00:13:04.570 --> 00:13:07.284\nMaybe I'm not familiar with the cities\nover there I might not even be in\n\n269\n00:13:07.284 --> 00:13:08.675\nCalifornia, which is where LA is.\n\n270\n00:13:08.675 --> 00:13:11.090\nBut now I know exactly\nwhat name to use for that.\n\n271\n00:13:11.090 --> 00:13:14.100\nSo I've got it,\nI can copy that and I can use it.\n\n272\n00:13:14.100 --> 00:13:17.860\nIf the information is okay I can say I'm\ngonna do it but notice what it says here.\n\n273\n00:13:17.860 --> 00:13:21.250\nYou can make this change\npermanent if you blah, blah, blah.\n\n274\n00:13:21.250 --> 00:13:22.620\nIt's actually not permanent, right?\n\n275\n00:13:22.620 --> 00:13:25.720\nIt's really just setting it\nhere in this bash prompt and\n\n276\n00:13:25.720 --> 00:13:27.054\nit's not persistent at all.\n\n277\n00:13:27.054 --> 00:13:31.240\nTzselect is great for finding out the name\nof the time zone, not so much for\n\n278\n00:13:31.240 --> 00:13:32.550\nactually setting it.\n\n279\n00:13:32.550 --> 00:13:40.180\nIf I want to set it, I need to go back\nto timedatectl and do set-timezone.\n\n280\n00:13:40.180 --> 00:13:43.430\nAnd then I can paste in that name, right?\n\n281\n00:13:43.430 --> 00:13:47.480\nHaving the right name is kind of\nimportant if we want that to work.\n\n282\n00:13:47.480 --> 00:13:48.780\nAnd now my time zone is set.\n\n283\n00:13:48.780 --> 00:13:51.740\nAnd if I reboot, the time zone will be\naccurate and it'll be there, right.\n\n284\n00:13:51.740 --> 00:13:54.752\nSo, use tzselect to find\nthe name if you want,\n\n285\n00:13:54.752 --> 00:13:57.460\nbut use timedatectl to actually set it.\n\n286\n00:13:57.460 --> 00:14:00.810\n&gt;&gt; Don, do you have to reboot the server,\nor can you restart the service and\n\n287\n00:14:00.810 --> 00:14:01.560\nthen that will work?\n\n288\n00:14:01.560 --> 00:14:03.962\n&gt;&gt; So, this one, actually, I don't\nthink you have to restart anything for\n\n289\n00:14:03.962 --> 00:14:04.912\nthis part to work.\n\n290\n00:14:04.912 --> 00:14:06.290\n&gt;&gt; Just takes off.\n\n291\n00:14:06.290 --> 00:14:08.390\n&gt;&gt; When we tell it to sync\nagainst an external server,\n\n292\n00:14:08.390 --> 00:14:10.770\nthen we're gonna have\nto do some extra work.\n\n293\n00:14:10.770 --> 00:14:13.670\nBut as far as just changing the timezone,\nI'm pretty sure it does it on the fly.\n\n294\n00:14:13.670 --> 00:14:16.000\nWe can actually see it\nright here in the GUI.\n\n295\n00:14:16.000 --> 00:14:18.836\nIf I go into my date and\ntime settings, and if I look,\n\n296\n00:14:18.836 --> 00:14:21.620\nmy timezone's already\nswitched over to Pacific.\n\n297\n00:14:21.620 --> 00:14:23.570\nYeah, no reboot needed there.\n\n298\n00:14:23.570 --> 00:14:26.390\nRemember that the timezone is\nreally just a visual thing.\n\n299\n00:14:26.390 --> 00:14:30.670\nIt doesn't actually change the clock\nin the system at all and so\n\n300\n00:14:30.670 --> 00:14:31.830\nit's not a big deal.\n\n301\n00:14:31.830 --> 00:14:34.780\nEven changing the time really\ndoesn't mess with the system.\n\n302\n00:14:34.780 --> 00:14:38.450\nThe reason we have to do a restart is\nwhen we point to different time servers,\n\n303\n00:14:38.450 --> 00:14:42.370\nwe have to service, hey, reread your\nconfig file to find the new servers.\n\n304\n00:14:42.370 --> 00:14:46.340\nI haven't changed the config file here, so\nit's not something that's being keyed in.\n\n305\n00:14:47.710 --> 00:14:50.160\nAll right, the time,\nif I wanna set the time.\n\n306\n00:14:50.160 --> 00:14:52.240\nNow hopefully, we use an external server.\n\n307\n00:14:52.240 --> 00:14:54.440\nBut you can set it manually too,\nif you're into that.\n\n308\n00:14:54.440 --> 00:14:57.950\nMaybe your server's offline,\nit's not even connected to a network.\n\n309\n00:14:57.950 --> 00:14:59.315\nCan't use time server then,\ncan you, right?\n\n310\n00:14:59.315 --> 00:15:01.543\n&gt;&gt; [LAUGH]\n&gt;&gt; So, we might need to manually set one.\n\n311\n00:15:01.543 --> 00:15:04.815\nIf we do,\nwe can still use timedatectl for that.\n\n312\n00:15:04.815 --> 00:15:08.687\nSo I'm gonna get in here and\ndo timedatectl, and\n\n313\n00:15:08.687 --> 00:15:14.300\nI'll say set-time and\nthen what the time is in a 24 hour clock.\n\n314\n00:15:14.300 --> 00:15:19.796\nOkay, so when I punch this in, so\nI'll say that it's 1500 hours or 3 PM.\n\n315\n00:15:19.796 --> 00:15:22.354\nAnd I'll run that and\nI get failed to set time,\n\n316\n00:15:22.354 --> 00:15:25.540\nautomatic time synchronization is enabled.\n\n317\n00:15:25.540 --> 00:15:27.540\nWe have it set for NTP right now, right?\n\n318\n00:15:27.540 --> 00:15:30.470\nIf I wanna quickly disable that,\nI can just jump back here.\n\n319\n00:15:30.470 --> 00:15:31.660\nAnd I'll show you how to enable it later.\n\n320\n00:15:31.660 --> 00:15:35.440\nBut I'm just gonna quickly turn that off,\nthere we go.\n\n321\n00:15:35.440 --> 00:15:37.930\nAnd now when I come back, it'll work\na little better for me this time.\n\n322\n00:15:37.930 --> 00:15:40.090\nSo let me run that again, and there we go.\n\n323\n00:15:40.090 --> 00:15:45.664\nAnd if I run my datetimectl utility again.\n\n324\n00:15:45.664 --> 00:15:49.164\nTime date, I’m getting out of order there,\nthere we go.\n\n325\n00:15:49.164 --> 00:15:54.263\nAnd now I can see that it's 1500 and\n9 seconds, right, so the time is set.\n\n326\n00:15:54.263 --> 00:15:56.904\nAnd notice,\nI guess this is a key thing to mention,\n\n327\n00:15:56.904 --> 00:15:58.939\nthat it was my local time zone, right?\n\n328\n00:15:58.939 --> 00:16:00.738\nI didn’t tell it whether I\nwas doing UTC or whatever.\n\n329\n00:16:00.738 --> 00:16:04.954\nIt just assumed that I was doing my\nlocal time zone so be aware of that.\n\n330\n00:16:04.954 --> 00:16:07.957\nAll right [COUGH] NTP, though right?\n\n331\n00:16:07.957 --> 00:16:10.111\nNTP, I turned it off from the GUI.\n\n332\n00:16:10.111 --> 00:16:12.020\nI could've turned it\noff from the CLI also.\n\n333\n00:16:12.020 --> 00:16:13.320\nThe command's actually not that hard.\n\n334\n00:16:13.320 --> 00:16:14.350\nI should've done it.\n\n335\n00:16:14.350 --> 00:16:15.419\nLet me just show you.\n\n336\n00:16:15.419 --> 00:16:21.890\nIf you do timedate ctl and\nthen you do set -ntp.\n\n337\n00:16:21.890 --> 00:16:26.180\nYou can say true to turn it on and\nfalse to turn it off.\n\n338\n00:16:26.180 --> 00:16:29.420\nSo that's the same thing as using that\nGUI switch that I did a minute ago, so\n\n339\n00:16:29.420 --> 00:16:31.588\nwhen I'm set to true now\nit's gonna auto-sync.\n\n340\n00:16:31.588 --> 00:16:37.080\nSo when we look up here, see how my\nNTP enabled no, NTP synchronize no.\n\n341\n00:16:37.080 --> 00:16:40.960\nAnd if I do a time date CTL and\nI take a look,\n\n342\n00:16:40.960 --> 00:16:46.830\nnow NTP enabled yes, so you can easily\nturn it on just by saying true or false.\n\n343\n00:16:46.830 --> 00:16:47.940\nAnd get that set, so\n\n344\n00:16:47.940 --> 00:16:50.400\neasy to do that from the command\nline if you don't have the GUI.\n\n345\n00:16:50.400 --> 00:16:53.410\n&gt;&gt; So can you pick and\nchoose which time server that you want?\n\n346\n00:16:53.410 --> 00:16:55.490\nIs that where that chrony comes into play?\n\n347\n00:16:55.490 --> 00:16:59.480\n&gt;&gt; Yes, and you'll absolutely want to\ndo that because one of the things is\n\n348\n00:16:59.480 --> 00:17:02.821\nby default you're gonna be\nusing Red Hat's time servers.\n\n349\n00:17:02.821 --> 00:17:04.720\nRed Hat points to their own servers.\n\n350\n00:17:04.720 --> 00:17:08.330\nIf we wanna see that, it's actually\nstored, let me show you where it is.\n\n351\n00:17:08.330 --> 00:17:16.206\nIf we jump into /etc, there is\na file in there called chrony.conf.\n\n352\n00:17:16.206 --> 00:17:20.640\nOkay, that's the config file that's\npowering the time synchronization.\n\n353\n00:17:20.640 --> 00:17:21.640\nAnd if you take a look in there,\n\n354\n00:17:21.640 --> 00:17:24.540\nit's gonna show the servers\nthat you're set to use.\n\n355\n00:17:24.540 --> 00:17:26.730\nI'm set to use four redhat servers.\n\n356\n00:17:26.730 --> 00:17:29.850\nNow I might look at that and say,\nokay, well, I'm in the United States.\n\n357\n00:17:29.850 --> 00:17:32.050\nRed Hat's a US company.\n\n358\n00:17:32.050 --> 00:17:34.690\nAnd I'm hitting Red Hat's server, so\n\n359\n00:17:34.690 --> 00:17:36.870\nit's probably right here in the US,\nthat's fine.\n\n360\n00:17:36.870 --> 00:17:42.060\nBut you're actually hitting pools, pools\nof servers that are all over the planet.\n\n361\n00:17:42.060 --> 00:17:46.290\nAnd so when I'm synchronizing against\nthese servers, they might be in the US.\n\n362\n00:17:46.290 --> 00:17:47.820\nThey might be somewhere else.\n\n363\n00:17:47.820 --> 00:17:51.710\nI'm hoping this works out, because I\nchecked it on a server yesterday and\n\n364\n00:17:51.710 --> 00:17:53.990\nI was syncing off of\na server that was in Japan.\n\n365\n00:17:53.990 --> 00:17:57.070\n&gt;&gt; Wow.\n&gt;&gt; Which is pretty far away from Florida.\n\n366\n00:17:57.070 --> 00:17:57.932\nIt's a good distance.\n\n367\n00:17:57.932 --> 00:17:59.755\n&gt;&gt; Literally the other side of the world.\n\n368\n00:17:59.755 --> 00:18:01.000\n[LAUGH]\n&gt;&gt; Not so ideal.\n\n369\n00:18:01.000 --> 00:18:03.267\nNow, let me clarify here.\n\n370\n00:18:03.267 --> 00:18:05.240\nIt actually doesn't matter that much.\n\n371\n00:18:05.240 --> 00:18:08.950\nWhen you talk to a time server, part of\nthe synchronization process is that you\n\n372\n00:18:08.950 --> 00:18:11.640\nmeasure how long it takes\nto get a response back.\n\n373\n00:18:11.640 --> 00:18:15.780\nAnd you adjust the time to reflect that,\nso it's smart enough to adjust.\n\n374\n00:18:15.780 --> 00:18:18.290\nBut the longer that time is,\nthe bigger that adjustment and\n\n375\n00:18:18.290 --> 00:18:19.800\nthe bigger the risk is\nthat we could be off.\n\n376\n00:18:19.800 --> 00:18:21.670\nAnd we're talking about nanoseconds here,\nso\n\n377\n00:18:21.670 --> 00:18:25.010\nit's really,\nyou get to time paranoia eventually.\n\n378\n00:18:25.010 --> 00:18:28.750\nBut when you're down to\nnanoseconds even microsecond or\n\n379\n00:18:28.750 --> 00:18:33.430\nwhatever that it's not something we\ntraditionally have to worry about.\n\n380\n00:18:33.430 --> 00:18:36.920\nBut actually let's go check this server.\n\n381\n00:18:36.920 --> 00:18:38.850\nLet's just see real quick.\n\n382\n00:18:38.850 --> 00:18:42.980\nIf you run this utility called chronyc,\nright.\n\n383\n00:18:42.980 --> 00:18:44.880\nWhich is like the chrony control.\n\n384\n00:18:44.880 --> 00:18:48.620\nIf you run chronyc sources, all right?\n\n385\n00:18:48.620 --> 00:18:51.780\nWhen you run that it'll show\nwho you synchronized against.\n\n386\n00:18:51.780 --> 00:18:55.401\nAnd when I look, actually all\nmine look good today, darn it.\n\n387\n00:18:55.401 --> 00:18:58.250\n&gt;&gt; [LAUGH]\n&gt;&gt; So when you look it's gonna try and\n\n388\n00:18:58.250 --> 00:18:59.340\nname resolve some of them.\n\n389\n00:18:59.340 --> 00:19:02.590\nAnd so we get IPs on ones that\ndon't necessarily have a name.\n\n390\n00:19:02.590 --> 00:19:06.081\nWe have this one, clock TRIT.net.\n\n391\n00:19:06.081 --> 00:19:09.550\nA1.pccloud.com you know, and so on.\n\n392\n00:19:09.550 --> 00:19:11.380\nThese are the servers I'm\nsynchronizing against.\n\n393\n00:19:11.380 --> 00:19:14.559\nIf I look at their times,\nthe delay over here,\n\n394\n00:19:14.559 --> 00:19:17.337\nmost of them aren't that significant.\n\n395\n00:19:17.337 --> 00:19:19.820\n113 milliseconds is my greatest one.\n\n396\n00:19:19.820 --> 00:19:22.730\nNow, 113 milliseconds,\nthat's a pretty big number.\n\n397\n00:19:22.730 --> 00:19:25.550\nPotentially that could be in Japan or\nsomewhere.\n\n398\n00:19:25.550 --> 00:19:27.980\nI don't actually know where that one is.\n\n399\n00:19:27.980 --> 00:19:31.910\nI guess we could do like a trace\npath to that IP and try and\n\n400\n00:19:31.910 --> 00:19:33.790\nget an idea of where it is.\n\n401\n00:19:33.790 --> 00:19:36.985\nBut the key thing here is,\nthat I don't know where that is.\n\n402\n00:19:36.985 --> 00:19:39.718\nAnd it could be out there\nin the boonies some where.\n\n403\n00:19:39.718 --> 00:19:42.151\nI'm just kinda gonna try to\ntrace my path here to it to see-\n\n404\n00:19:42.151 --> 00:19:43.300\n&gt;&gt; It's in Gainesville.\n\n405\n00:19:43.300 --> 00:19:45.625\n[LAUGH]\n&gt;&gt; Well we definitely left Gainesville.\n\n406\n00:19:45.625 --> 00:19:49.380\nI can see we past through Atlanta,\nwe hit New York City.\n\n407\n00:19:49.380 --> 00:19:52.705\nSomewhere in New York we disappeared and\nNew York has one of the trans Atlantic\n\n408\n00:19:52.705 --> 00:19:55.174\ncables so in theory we could\nhave crossed the ocean yeah.\n\n409\n00:19:55.174 --> 00:19:58.150\n[CROSSTALK] Which would explain a delay.\n\n410\n00:19:58.150 --> 00:20:00.780\nI've only got 31 milliseconds\nof delay right there, so\n\n411\n00:20:00.780 --> 00:20:03.570\nI picked up another 70\nmilliseconds of delay somewhere.\n\n412\n00:20:03.570 --> 00:20:07.960\nThat makes me think that I crossed\none of the, the oceanic cables.\n\n413\n00:20:07.960 --> 00:20:10.010\nLooks like a firewall's\nblocking the rest of that.\n\n414\n00:20:10.010 --> 00:20:11.928\nMaybe a traceroute can get through.\n\n415\n00:20:11.928 --> 00:20:13.480\nActually here me get this IP back.\n\n416\n00:20:15.110 --> 00:20:16.530\nSometimes trace path won't go but\n\n417\n00:20:16.530 --> 00:20:20.090\ntrace route will,\nlook like it's getting killed off too.\n\n418\n00:20:20.090 --> 00:20:23.430\nSo, no, actually it did make it,\ndidn't it?\n\n419\n00:20:23.430 --> 00:20:27.450\nSo, yeah, somewhere out there after New\nYork, we get this jump and even this is\n\n420\n00:20:27.450 --> 00:20:31.410\nnot that long but that just shows you that\nwhile the red head servers are there,\n\n421\n00:20:31.410 --> 00:20:34.055\nyou can use them,\nyou might wanna pick better ones.\n\n422\n00:20:34.055 --> 00:20:35.679\nYou might wanna pick your own.\n\n423\n00:20:35.679 --> 00:20:40.439\nYou can actually buy these appliances that\nwill pull the time off the radio signal\n\n424\n00:20:40.439 --> 00:20:42.330\nthat's present here in the US.\n\n425\n00:20:42.330 --> 00:20:47.258\nAnd so you can synchronize against\nthe Naval Observatory's Atomic Clock It's\n\n426\n00:20:47.258 --> 00:20:48.590\nkind of a mouth full.\n\n427\n00:20:48.590 --> 00:20:50.730\nAnd then it runs your own time server.\n\n428\n00:20:50.730 --> 00:20:53.410\nThat's nice because now we don't have to\nworry about somebody potentially doing\n\n429\n00:20:53.410 --> 00:20:55.080\na denial of service attack against us,\n\n430\n00:20:55.080 --> 00:20:58.570\nby blocking our time servers or\nforging our time servers.\n\n431\n00:20:58.570 --> 00:21:02.220\nSo if we wanna be safe,\nwe can come in and we can change that.\n\n432\n00:21:02.220 --> 00:21:05.110\nWe can specify what servers we wanna use,\nand try and tie that in.\n\n433\n00:21:05.110 --> 00:21:09.670\nSo, the way we do that is\nthrough that chrony.conf file.\n\n434\n00:21:09.670 --> 00:21:16.595\nSo I'm gonna do a sudo, and\nI'll just add it /etc/chrony.conf.\n\n435\n00:21:16.595 --> 00:21:21.933\nAnd when we go in here,\nthere's actually a lot in this file,\n\n436\n00:21:21.933 --> 00:21:24.830\nif I can type my password.\n\n437\n00:21:24.830 --> 00:21:28.030\nBut the main part that I care about is\nright up here at the top with the servers.\n\n438\n00:21:28.030 --> 00:21:31.600\nBut if you start looking down, you'll see\nwhere you can set stratum weights and\n\n439\n00:21:31.600 --> 00:21:32.240\nother things.\n\n440\n00:21:32.240 --> 00:21:34.250\nYou can restrict who's allowed to connect.\n\n441\n00:21:34.250 --> 00:21:36.930\nYou can set yourself up as\na server as well as a client.\n\n442\n00:21:36.930 --> 00:21:39.920\nBut normally we're just interested\nin these servers right here.\n\n443\n00:21:39.920 --> 00:21:41.770\nAnd so what I'm gonna do is\nI'm gonna mark those out.\n\n444\n00:21:42.840 --> 00:21:47.499\nAnd I'm trying to think if we have,\ndo we have a time server here at ITProTV?\n\n445\n00:21:47.499 --> 00:21:48.368\nI don't think we do.\n\n446\n00:21:48.368 --> 00:21:49.245\n&gt;&gt; Not that I'm aware of.\n\n447\n00:21:49.245 --> 00:21:53.410\n&gt;&gt; All right,\nwell I'll just use old pool.ntp.org.\n\n448\n00:21:53.410 --> 00:21:54.760\nWhich is one that's out there.\n\n449\n00:21:54.760 --> 00:22:00.450\nThat actually have like a, what is it\nlike US dot pool dot NTP dot org.?\n\n450\n00:22:00.450 --> 00:22:03.160\nSo you can get onto your\ncontinent at least.\n\n451\n00:22:03.160 --> 00:22:05.205\nSo you can specify a few of those.\n\n452\n00:22:05.205 --> 00:22:07.520\nNTP.org is not gonna be\nany better than Red Hat.\n\n453\n00:22:07.520 --> 00:22:09.424\nThere are servers all over the planet but\n\n454\n00:22:09.424 --> 00:22:11.841\nat least I can restrict\nmyself to a continent here.\n\n455\n00:22:11.841 --> 00:22:13.750\nOr, even a country, in some cases.\n\n456\n00:22:13.750 --> 00:22:15.700\nIf you go to ntp.org's website,\nyou can find it.\n\n457\n00:22:15.700 --> 00:22:16.878\nBut, these servers,\n\n458\n00:22:16.878 --> 00:22:20.480\nthey're just other people out there\nthat chose to throw a server up.\n\n459\n00:22:20.480 --> 00:22:23.514\nSo, they're not necessarily the most\ntrustworthy things in the planet, but,\n\n460\n00:22:23.514 --> 00:22:26.198\nif you just need quick time, then you\ncan pull it right from these guys.\n\n461\n00:22:26.198 --> 00:22:30.120\nHey, maybe I have a ton,\nthis is gonna ruffle some feathers.\n\n462\n00:22:30.120 --> 00:22:32.200\nMaybe I have a ton of Window servers,\nright?\n\n463\n00:22:32.200 --> 00:22:36.516\nAnd they're all synching against\ntime.microsoft.com or time.windows.com,\n\n464\n00:22:36.516 --> 00:22:38.920\nI think their defaults time.windows.com.\n\n465\n00:22:38.920 --> 00:22:43.200\nI might choose to synch that here too just\nso that everything has the same time or\n\n466\n00:22:43.200 --> 00:22:46.000\nyou know if you have an internal\nserver we'd specify that.\n\n467\n00:22:46.000 --> 00:22:50.055\nSo I'm gonna put that,\nnow because I modified a config file,\n\n468\n00:22:50.055 --> 00:22:52.235\nchrony's not gonna read that.\n\n469\n00:22:52.235 --> 00:22:54.520\nChrony only reads it when it starts up.\n\n470\n00:22:54.520 --> 00:22:58.290\nSo I do need to restart chrony in\norder for it to recognize that.\n\n471\n00:22:58.290 --> 00:23:04.150\nAnd so the easiest way to do that is to\njump in here with a little systemctl.\n\n472\n00:23:05.860 --> 00:23:11.970\nAnd we'll just say restart chronyd,\nso I'm gonna restart that and\n\n473\n00:23:11.970 --> 00:23:16.460\nlet's see, [INAUDIBLE]\nfail because the control\n\n474\n00:23:16.460 --> 00:23:17.850\nprocess exited with an error code.\n\n475\n00:23:17.850 --> 00:23:19.005\nWell that's not nice.\n\n476\n00:23:19.005 --> 00:23:21.040\nSo it looks like I gotta bit\nof an error on that one.\n\n477\n00:23:23.590 --> 00:23:26.811\nAll right well, restarting a service\nis usually a simple thing but\n\n478\n00:23:26.811 --> 00:23:30.851\napparently we got a problem so let me just\npull up the System D journal, real quick.\n\n479\n00:23:30.851 --> 00:23:33.750\nNow, if you ever have to do this,\nas part of troubleshooting,\n\n480\n00:23:33.750 --> 00:23:36.010\nthe journal actually has\na ton of stuff in there.\n\n481\n00:23:36.010 --> 00:23:40.732\nSo I'm gonna just do a quick filter,\nand I'm gonna look for rony.\n\n482\n00:23:40.732 --> 00:23:41.900\nI'm gonna leave the C off.\n\n483\n00:23:41.900 --> 00:23:44.450\nCuz you don't wanna use the C capital,\nthe c lower case,\n\n484\n00:23:44.450 --> 00:23:47.410\nI can do a regular expression where it\nwas easier just to leave the C off.\n\n485\n00:23:47.410 --> 00:23:50.090\nAnd so I'm gonna look for that,\nand see if I can't spot an error.\n\n486\n00:23:50.090 --> 00:23:53.980\nAnd sure enough I can see right here,\nchronyd, service failed.\n\n487\n00:23:53.980 --> 00:23:57.130\nAnd if we start to look at\nthis output hopefully we can\n\n488\n00:23:57.130 --> 00:23:59.880\nsort out which one of these\nlines tells us the problem.\n\n489\n00:23:59.880 --> 00:24:01.980\nAnd right here,\nI think this is gonna be our problem.\n\n490\n00:24:01.980 --> 00:24:03.079\nLet me move that up on my screen.\n\n491\n00:24:03.079 --> 00:24:04.106\nThat's gonna be our problem.\n\n492\n00:24:04.106 --> 00:24:09.296\nWe got invalid command at\nline 8 in file /etc/chrony.\n\n493\n00:24:09.296 --> 00:24:11.289\nConf.\nWhich is what I just edited.\n\n494\n00:24:11.289 --> 00:24:15.550\nSo I must have fat fingered something, so\nlet's go take a look at that file again.\n\n495\n00:24:15.550 --> 00:24:19.640\nSo I'm gonna go right\nback into crony.conf.\n\n496\n00:24:19.640 --> 00:24:22.400\nAnd here's the lines that I entered in,\nyeah.\n\n497\n00:24:22.400 --> 00:24:26.374\nSo, if you look at the lines of the people\nwho knew what they were doing today.\n\n498\n00:24:26.374 --> 00:24:28.890\n&gt;&gt; [LAUGH]\n&gt;&gt; See how they have that keyword server\n\n499\n00:24:28.890 --> 00:24:30.060\nbefore each one.\n\n500\n00:24:30.060 --> 00:24:31.100\nYeah, I kinda left that out.\n\n501\n00:24:31.100 --> 00:24:33.742\nSo let me go here and,\nshoot and now I'm [CROSSTALK]\n\n502\n00:24:33.742 --> 00:24:35.901\n&gt;&gt; I'm not sure you can do this Don.\n\n503\n00:24:35.901 --> 00:24:39.070\n&gt;&gt; I know, I'm gonna see how\nbadly I can mess this up.\n\n504\n00:24:39.070 --> 00:24:40.270\nThere we go, so server.\n\n505\n00:24:41.350 --> 00:24:42.090\nThere we go.\n\n506\n00:24:42.090 --> 00:24:43.430\nSo now I've got that server note.\n\n507\n00:24:43.430 --> 00:24:46.760\nNotice how their servers, they have\na little eye burst command on the end.\n\n508\n00:24:46.760 --> 00:24:50.100\nAnd that's just kind of tailoring\nthe way that the time server is\n\n509\n00:24:50.100 --> 00:24:51.810\nsending out the communications.\n\n510\n00:24:51.810 --> 00:24:54.270\nI'll stick with that,\nthere's no real reason to turn that off.\n\n511\n00:24:56.050 --> 00:24:56.950\nAnd there we go.\n\n512\n00:24:56.950 --> 00:24:58.270\nSo I'll go ahead and save that down.\n\n513\n00:25:01.000 --> 00:25:01.920\nAnd let's give our.\n\n514\n00:25:02.960 --> 00:25:03.620\n&gt;&gt; Try it again.\n\n515\n00:25:03.620 --> 00:25:05.130\n&gt;&gt; Restart another try.\n\n516\n00:25:05.130 --> 00:25:05.890\nThere we go.\n\n517\n00:25:05.890 --> 00:25:06.720\nNow it works.\n\n518\n00:25:06.720 --> 00:25:09.900\nSo remember, I had to restart the service\nbecause it had to read the changed\n\n519\n00:25:09.900 --> 00:25:11.210\nconfiguration file.\n\n520\n00:25:11.210 --> 00:25:13.700\nAnd how do I know it worked?\n\n521\n00:25:13.700 --> 00:25:15.260\nWell, there's a few ways.\n\n522\n00:25:15.260 --> 00:25:20.120\nIf my time was wrong, then I should\nbe able to run timedatectl and\n\n523\n00:25:20.120 --> 00:25:22.360\nsee that my time is now right.\n\n524\n00:25:22.360 --> 00:25:26.750\nBut my time was already right, so\nI'm not really gonna learn anything there\n\n525\n00:25:26.750 --> 00:25:29.760\nother than if I see ntp synchronized,\nokay.\n\n526\n00:25:29.760 --> 00:25:35.420\nBut the better one for me is gonna be\nto take a look at chronec sources and\n\n527\n00:25:35.420 --> 00:25:39.380\nwhen you run that, I can see my two\nsources, and notice I only have two.\n\n528\n00:25:39.380 --> 00:25:45.380\nWhen it was red hat I had four, but I put\nin pool.ncp.org, and us.pool.ncp.org.\n\n529\n00:25:45.380 --> 00:25:51.532\nAnd it's resolved those out so I got\nservices.quadranet.com, and ntp.your.org.\n\n530\n00:25:51.532 --> 00:25:54.000\nAnd, look at my delays, 46 milliseconds,\n\n531\n00:25:54.000 --> 00:25:58.150\n20 milliseconds, I am staying on this\ncontinent these got a little bit smaller.\n\n532\n00:25:58.150 --> 00:26:01.460\nThere are a lot of columns, actually\na different variation of that command,\n\n533\n00:26:01.460 --> 00:26:05.250\nif you add a dash v to the end\nit does this neat thing\n\n534\n00:26:05.250 --> 00:26:09.460\nwhere it lays out explanations of\nwhat every single bit of that is, so\n\n535\n00:26:09.460 --> 00:26:12.250\nit tells you what is this\ninformation as far as the offset,\n\n536\n00:26:12.250 --> 00:26:14.750\nthe reachability register,\nthe log in information and so on.\n\n537\n00:26:14.750 --> 00:26:16.195\n&gt;&gt; I love the way they drew the line.\n\n538\n00:26:16.195 --> 00:26:17.190\n[LAUGH]\n&gt;&gt; Awesome.\n\n539\n00:26:17.190 --> 00:26:21.700\n&gt;&gt; A little ASCII art for us to seek and\nidentify what the heck you're looking at.\n\n540\n00:26:21.700 --> 00:26:25.000\nBut it is kinda neat to see that, and\nyou know, notice how like this server has\n\n541\n00:26:25.000 --> 00:26:27.840\na plus before it, and the other\nservice has an asterisk before it.\n\n542\n00:26:27.840 --> 00:26:30.570\nAnd so you can go up here and\nyou can see, all right, plus is combined.\n\n543\n00:26:30.570 --> 00:26:33.540\nThere's actually more than\none server behind it, right.\n\n544\n00:26:33.540 --> 00:26:36.180\nVersus asterisk Current synced.\n\n545\n00:26:36.180 --> 00:26:37.340\nThat's the one I actually used, so\n\n546\n00:26:37.340 --> 00:26:40.707\nI actually used this one down,\nthis one, ntp.\n\n547\n00:26:40.707 --> 00:26:42.870\n.org, which you can see why,\n20 milliseconds.\n\n548\n00:26:42.870 --> 00:26:44.470\n&gt;&gt; Yeah.\n&gt;&gt; Right, it was the fastest one,\n\n549\n00:26:44.470 --> 00:26:45.400\nthat's the one we used.\n\n550\n00:26:45.400 --> 00:26:48.620\nAnd if you look at the offset\non these as far as the time,\n\n551\n00:26:48.620 --> 00:26:50.880\nthe delay,\nthat information's all listed right there.\n\n552\n00:26:50.880 --> 00:26:54.460\nSo, we'll reach out, we communicated,\nand we got our information And\n\n553\n00:26:54.460 --> 00:26:55.860\nnow we're synced, right.\n\n554\n00:26:55.860 --> 00:26:59.712\nSo definitely different if\nyou're used to configuring NTPD.\n\n555\n00:26:59.712 --> 00:27:01.410\nWe don't do that anymore.\n\n556\n00:27:01.410 --> 00:27:03.620\nNow we have chrony,\nthat's our new service that runs it.\n\n557\n00:27:03.620 --> 00:27:06.070\nIt's a change in\nRed Hat Enterprise Linux 7.\n\n558\n00:27:06.070 --> 00:27:07.650\n&gt;&gt; And a very cool change at that.\n\n559\n00:27:07.650 --> 00:27:11.910\nI like when they do upgrades that are\nactually worth the time and effort for us.\n\n560\n00:27:11.910 --> 00:27:14.510\nAnd speaking of time,\nlooking at our clock, well Donald,\n\n561\n00:27:14.510 --> 00:27:17.140\nwe've, we've run out of time and\n&gt;&gt; [LAUGH]\n\n562\n00:27:17.140 --> 00:27:18.570\n&gt;&gt; Well it's a good time for\n\n563\n00:27:18.570 --> 00:27:21.755\nthat because you're done with your\nmaterial for this show on time.\n\n564\n00:27:21.755 --> 00:27:23.270\n&gt;&gt; [LAUGH]\n&gt;&gt; I don't know how many times I can say\n\n565\n00:27:23.270 --> 00:27:26.460\ntime, and make a reference toward\ntime in our closing here, but\n\n566\n00:27:26.460 --> 00:27:29.910\nI'm going to give it a shot\n&gt;&gt; Well, it is time for us to sign off.\n\n567\n00:27:29.910 --> 00:27:31.050\nWe do thank you guys for watching.\n\n568\n00:27:31.050 --> 00:27:34.930\nWe thank Don for showing up and explaining\nhow we can set our time servers and\n\n569\n00:27:34.930 --> 00:27:36.170\nour environments as well.\n\n570\n00:27:36.170 --> 00:27:37.480\nAnd if you need to learn\nthat a little more.\n\n571\n00:27:37.480 --> 00:27:40.020\nIt was a little much\nto digest in one shot.\n\n572\n00:27:40.020 --> 00:27:41.030\nDo your best Doc Brown.\n\n573\n00:27:41.030 --> 00:27:42.520\nReverse the episode here.\n\n574\n00:27:42.520 --> 00:27:43.810\nWatch it a few times.\n\n575\n00:27:43.810 --> 00:27:45.860\nWow, how many times do we say time a lot?\n\n576\n00:27:45.860 --> 00:27:46.530\n&gt;&gt; That's right.\n\n577\n00:27:46.530 --> 00:27:50.020\n&gt;&gt; Signing off for ITProTV I've\nbeen your host, Daniel Lowrie.\n\n578\n00:27:50.020 --> 00:27:50.990\n&gt;&gt; And I'm Don Pezet.\n\n579\n00:27:50.990 --> 00:27:52.468\n&gt;&gt; And we'll see you next time.\n\n580\n00:27:52.468 --> 00:27:54.171\n&gt;&gt; [LAUGH]\n\n581\n00:27:54.171 --> 00:28:00.012\n[MUSIC]\n\n582\n00:28:00.012 --> 00:28:02.821\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "192477064"
        },
        {
          "description": "In this episode, Daniel and Don explore sharing files over a network with the Network File System(NFS). They take you step-by-step through configuring a NFS server and client including installation, enabling and starting the NFS service, and then mounting the shared folder for access.",
          "length": "1677",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-2-3-nfs-111716.00_27_47_09.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-2-3-nfs-111716.00_27_47_09.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-2-3-nfs-111716.00_27_47_09.Still001-sm.jpg",
          "title": "Network File System (NFS)",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:02.629\nWelcome to ITProTV.\n\n2\n00:00:02.629 --> 00:00:03.878\n[MUSIC]\n\n3\n00:00:03.878 --> 00:00:08.386\n[CROSSTALK]\n\n4\n00:00:08.386 --> 00:00:12.264\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.264 --> 00:00:14.166\n&gt;&gt; All right, greetings good people and\n\n6\n00:00:14.166 --> 00:00:16.560\nwelcome to another great\nepisode of ITProTV.\n\n7\n00:00:16.560 --> 00:00:20.920\nI'm your host Daniel Lowrie and in today's\nepisode we are moving forward with more\n\n8\n00:00:20.920 --> 00:00:24.120\non our Red Hat Enterprise Linux\nversion 7 series.\n\n9\n00:00:24.120 --> 00:00:28.070\nAnd coming back for a little more of\nthat action to guide us down the path,\n\n10\n00:00:28.070 --> 00:00:29.520\nour good friend, Mr Don Pezet.\n\n11\n00:00:29.520 --> 00:00:30.330\nDon, welcome back sir.\n\n12\n00:00:30.330 --> 00:00:30.890\nHow's it going?\n\n13\n00:00:30.890 --> 00:00:31.800\n&gt;&gt; Thanks for having me back Daniel.\n\n14\n00:00:31.800 --> 00:00:36.100\nReady to dive right in and start taking\na look at the Network File System, or NFS.\n\n15\n00:00:36.100 --> 00:00:37.280\nIf you're not familiar with NFS,\n\n16\n00:00:37.280 --> 00:00:41.850\nit is a file sharing protocol that\nhas been around a long, long time.\n\n17\n00:00:41.850 --> 00:00:43.209\n&gt;&gt; I think that's an 80s rock band.\n\n18\n00:00:43.209 --> 00:00:44.960\nOr a 90s.\n\n19\n00:00:44.960 --> 00:00:45.580\n&gt;&gt; NFS?\n\n20\n00:00:45.580 --> 00:00:48.004\n&gt;&gt; INXS [LAUGH]\n&gt;&gt; [LAUGH] So many jokes,\n\n21\n00:00:48.004 --> 00:00:50.865\nI could make another one,\nbut I'm not gonna do it.\n\n22\n00:00:50.865 --> 00:00:54.560\n[CROSSTALK] [LAUGH] But NFS,\nit has been around a long time.\n\n23\n00:00:54.560 --> 00:00:58.670\nIt was developed probably in the 80's\nreally it's one of the earlier.\n\n24\n00:00:58.670 --> 00:00:59.590\n&gt;&gt; Like I said, [LAUGH].\n\n25\n00:00:59.590 --> 00:01:02.990\n&gt;&gt; One of the earlier ways for sharing\nfiles between systems before we had some\n\n26\n00:01:02.990 --> 00:01:05.010\nof our more modern\nprotocols that get used.\n\n27\n00:01:05.010 --> 00:01:08.170\nNow I don't wanna poison it by making\nit sound like it's ancient and old.\n\n28\n00:01:08.170 --> 00:01:11.720\nNFS is actually up to version four now and\nit has all sorts of crazy bells and\n\n29\n00:01:11.720 --> 00:01:12.690\nwhistles inside of it.\n\n30\n00:01:12.690 --> 00:01:14.570\nIt's a very powerful protocol.\n\n31\n00:01:14.570 --> 00:01:19.630\nBut the most important feature of NFS,\nthe reason why we care about it the most,\n\n32\n00:01:19.630 --> 00:01:24.170\nis that it's an open standard and darn\nnear every operating system supports it.\n\n33\n00:01:24.170 --> 00:01:28.940\nSo, if I wanna share files and\nfolders with my Red Hat box and\n\n34\n00:01:28.940 --> 00:01:35.580\nan Ubuntu server and a Mac and\na Windows machine, I can use NFS to do it.\n\n35\n00:01:35.580 --> 00:01:37.380\nIf I don't use NSF,\nwhat are my other choices?\n\n36\n00:01:37.380 --> 00:01:40.720\nI could use FTP, but\nit's pretty weak, right?\n\n37\n00:01:40.720 --> 00:01:42.420\nIt doesn't support encryption or\nanything like that,\n\n38\n00:01:42.420 --> 00:01:44.960\nauthentication is pretty mediocre in FTP.\n\n39\n00:01:44.960 --> 00:01:46.900\nNot really the greatest solution.\n\n40\n00:01:46.900 --> 00:01:49.610\nI could use SMB, server message brought,\n\n41\n00:01:49.610 --> 00:01:52.870\nbut the common implementation\nof that these days is Samba.\n\n42\n00:01:52.870 --> 00:01:57.790\nWhich is really a open source,\nreverse engineered hack of SMB, so\n\n43\n00:01:57.790 --> 00:02:01.660\nit's not the best solution to\nuse in a production environment.\n\n44\n00:02:01.660 --> 00:02:04.250\nAnd FS becomes kind of our go to guy.\n\n45\n00:02:04.250 --> 00:02:06.210\nThe protocol that we\nknow is going to work,\n\n46\n00:02:06.210 --> 00:02:09.390\nthat's fully supported and\npretty much everything will use it.\n\n47\n00:02:09.390 --> 00:02:11.820\nMax, Linux, they've got it built in.\n\n48\n00:02:11.820 --> 00:02:12.440\nWindows?\n\n49\n00:02:12.440 --> 00:02:14.890\nIt's actually part of the UNIX\nsubsystem you can add to Windows or\n\n50\n00:02:14.890 --> 00:02:17.840\nyou can install something like Cygwin and\nthat will give you NFS support.\n\n51\n00:02:17.840 --> 00:02:20.420\nIt's really easy to add it into\nWindows and then you'll have it.\n\n52\n00:02:20.420 --> 00:02:21.930\nSo that's where NFS really shines.\n\n53\n00:02:21.930 --> 00:02:25.850\nIf you want to share files on a network,\nNFS is a great protocol to use.\n\n54\n00:02:25.850 --> 00:02:29.430\nSo we're going to get a chance to see\nhow to set up Red Hat as an NFS server\n\n55\n00:02:29.430 --> 00:02:31.330\nas well as in NFS clients.\n\n56\n00:02:31.330 --> 00:02:34.430\nSo how do we share stuff out, and how\ndo we connect to it, and you'll see it,\n\n57\n00:02:34.430 --> 00:02:35.100\nit's really not that bad.\n\n58\n00:02:36.230 --> 00:02:38.580\nAll right.\nSo let's get dived in,\n\n59\n00:02:38.580 --> 00:02:41.730\nthe first thing I need to do is I need to\nmake sure that I've got NFS installed to\n\n60\n00:02:41.730 --> 00:02:43.775\nmy system, the odds are you do.\n\n61\n00:02:43.775 --> 00:02:47.455\nIf you did a minimal install, I believe\nit gets left off but all of the other\n\n62\n00:02:47.455 --> 00:02:50.815\ninstalls include NFS as far as I'm aware,\nbut it's really easy to check.\n\n63\n00:02:50.815 --> 00:02:53.045\nThere's really just two\npackages we need to install.\n\n64\n00:02:53.045 --> 00:02:59.525\nSo, what I'm gonna do is I'm\ngonna dive into my shell here and\n\n65\n00:02:59.525 --> 00:03:03.880\nI'm gonna do a quick yum install.\n\n66\n00:03:03.880 --> 00:03:07.490\nAnd what I want are the nfs utils, right?\n\n67\n00:03:07.490 --> 00:03:09.830\nThat has pretty much\neverything that I need.\n\n68\n00:03:10.950 --> 00:03:13.020\nBut we're normally gonna\nadd one more thing.\n\n69\n00:03:13.020 --> 00:03:15.860\nReally interesting aspect\nabout how NFS works is that\n\n70\n00:03:15.860 --> 00:03:18.690\nwhen we share a folder we\ncan set permissions on it.\n\n71\n00:03:18.690 --> 00:03:20.980\nAnd the permissions are based\non user ID numbers.\n\n72\n00:03:20.980 --> 00:03:23.800\nEvery time you create a user in Linux,\nthey have a user ID number.\n\n73\n00:03:23.800 --> 00:03:28.370\nWell I might have a user account on\none Linux box called deposit and\n\n74\n00:03:28.370 --> 00:03:33.010\nI have a user account on another box\ncalled deposit, but if one has a user\n\n75\n00:03:33.010 --> 00:03:38.200\nID of 500 and the other one has user ID of\n501, they don't match and it doesn't work.\n\n76\n00:03:38.200 --> 00:03:42.280\nSo I need those user IDs to\nmatch between the systems.\n\n77\n00:03:42.280 --> 00:03:44.060\nOne way to do that is to go and\n\n78\n00:03:44.060 --> 00:03:47.100\nmake sure I have the same user\nID on every system I create, or\n\n79\n00:03:47.100 --> 00:03:50.890\nhave a centralized directory like open\nLDAPs so I've always got the same user ID.\n\n80\n00:03:50.890 --> 00:03:52.140\nThose will solve that.\n\n81\n00:03:52.140 --> 00:03:56.260\nThe third option though,\nis we can do an ID map.\n\n82\n00:03:56.260 --> 00:04:01.490\nThat's what this other package is,\nwhich is lib nfsidmap, right?\n\n83\n00:04:01.490 --> 00:04:05.430\nAnd almost everybody uses that these days,\nbecause NFS has some authentication\n\n84\n00:04:05.430 --> 00:04:08.920\nfunctions now, and we need to be\nable to map ID numbers to a user,\n\n85\n00:04:08.920 --> 00:04:10.150\nand that's what'll take care of that.\n\n86\n00:04:10.150 --> 00:04:12.710\nSo, I'm just gonna go both of those.\n\n87\n00:04:12.710 --> 00:04:16.700\nAnd these are the packages I need,\nif I wanna be an NFS server, or a client.\n\n88\n00:04:16.700 --> 00:04:19.010\nSo they would be the same\ninstructions here, server or\n\n89\n00:04:19.010 --> 00:04:21.890\nclient, this is how we get NFS installed.\n\n90\n00:04:21.890 --> 00:04:25.820\nSo, I'm gonna do that, and I'm pretty\nsure I've already got the packages.\n\n91\n00:04:25.820 --> 00:04:27.930\nYep, nothing to do, I've already got them.\n\n92\n00:04:27.930 --> 00:04:30.830\nIf you do a minimal install,\nthen you have to worry about this.\n\n93\n00:04:30.830 --> 00:04:32.810\nI've got a GUI, so it's got it in there.\n\n94\n00:04:32.810 --> 00:04:35.530\nPretty much all of the other groups do.\n\n95\n00:04:35.530 --> 00:04:38.910\nNow here's where things are going\nto start differentiating.\n\n96\n00:04:38.910 --> 00:04:43.210\nIf I'm a server I need to create a folder,\nand I need to share that with NFS.\n\n97\n00:04:43.210 --> 00:04:45.090\nI need to make sure I'm running the NFS D,\n\n98\n00:04:45.090 --> 00:04:48.540\nthe daemon that actually\nruns the NFS server.\n\n99\n00:04:48.540 --> 00:04:50.940\nIf on a client, I don't need a folder.\n\n100\n00:04:50.940 --> 00:04:52.310\nI don't need the NFS daemon running.\n\n101\n00:04:52.310 --> 00:04:54.770\nI just need to be able to connect to\na share and mount it to a drive, so\n\n102\n00:04:54.770 --> 00:04:57.080\nI can access it, and go from there.\n\n103\n00:04:57.080 --> 00:04:58.580\nSo this is where the paths.\n\n104\n00:05:00.170 --> 00:05:01.190\n&gt;&gt; Diverge.\n&gt;&gt; Diverge there we go.\n\n105\n00:05:01.190 --> 00:05:03.630\nI was about to say un-converge\nthere's another word.\n\n106\n00:05:03.630 --> 00:05:04.245\nDiverge.\n\n107\n00:05:04.245 --> 00:05:06.020\n&gt;&gt; [LAUGH]\n&gt;&gt; So let's take a look at the server side\n\n108\n00:05:06.020 --> 00:05:07.910\nfirst so that I'll have something\nto connect to in a minute.\n\n109\n00:05:07.910 --> 00:05:12.230\nSo on the server side I\nwanna get started by well\n\n110\n00:05:12.230 --> 00:05:13.790\njumping through a couple\nlittle hoops here.\n\n111\n00:05:13.790 --> 00:05:16.310\nFirst off,\nI need to get NFS up and running.\n\n112\n00:05:16.310 --> 00:05:23.250\nSo I'm gonna use\nthe systemctl enable command.\n\n113\n00:05:23.250 --> 00:05:27.500\nAn interesting thing about systemctl\nenable, when you run that,\n\n114\n00:05:27.500 --> 00:05:31.740\nit's saying I want this service to\nstart when the system boots up.\n\n115\n00:05:31.740 --> 00:05:35.680\nI could say systemctl start and\nthen the service would just start now but\n\n116\n00:05:35.680 --> 00:05:37.240\nwhen I reboot they won't start.\n\n117\n00:05:37.240 --> 00:05:39.510\nWell, with systemctl enable,\n\n118\n00:05:39.510 --> 00:05:42.690\nif the service is stopped it'll\nactually start it for me.\n\n119\n00:05:42.690 --> 00:05:46.690\nSo this is gonna make it start at boot and\nstart it right now at the same time.\n\n120\n00:05:46.690 --> 00:05:49.050\nSo kinda killing two birds with one stone.\n\n121\n00:05:49.050 --> 00:05:53.170\nAnd on a server, there's actually four\ndifferent services that I need to run.\n\n122\n00:05:53.170 --> 00:05:57.280\nAnd in previous versions of Red Hat I used\nto have to enter in each one of these, so\n\n123\n00:05:57.280 --> 00:05:58.358\nI'd run four different commands.\n\n124\n00:05:58.358 --> 00:06:03.610\nBut in RHEL7.2,\nthey added this really cool feature.\n\n125\n00:06:03.610 --> 00:06:05.135\nIt shows what I think is cool.\n\n126\n00:06:05.135 --> 00:06:07.880\n&gt;&gt; [LAUGH]\n&gt;&gt; Which is- - now.\n\n127\n00:06:07.880 --> 00:06:08.880\nI don't know why they picked now.\n\n128\n00:06:08.880 --> 00:06:09.810\nBut- - now.\n\n129\n00:06:09.810 --> 00:06:13.550\nAnd now you can list as many services\nas you want, all in one line.\n\n130\n00:06:13.550 --> 00:06:17.440\nAnd so I need the NFS server.\n\n131\n00:06:17.440 --> 00:06:20.870\nI want that one to run in boot time and\nI want it to start right now.\n\n132\n00:06:20.870 --> 00:06:25.570\nI also need rpcbind,\nwhich is the Remote Procedure Call.\n\n133\n00:06:25.570 --> 00:06:28.130\nI need Remote Procedure Call Bind to\n\n134\n00:06:28.130 --> 00:06:30.870\nbe running cuz I'm gonna be\nbinding a socket to a client.\n\n135\n00:06:30.870 --> 00:06:34.150\nAnd the client will need it too cuz\nthey're gonna be binding to me.\n\n136\n00:06:34.150 --> 00:06:41.320\nThen I need rpc-statd which is for the\nstatistics and monitoring the connection.\n\n137\n00:06:41.320 --> 00:06:48.170\nAnd then lastly, if I'm doing the ID map,\nI need nfs-idmapd.\n\n138\n00:06:48.170 --> 00:06:50.440\nThose four services.\n\n139\n00:06:50.440 --> 00:06:52.930\nWhen we do the client later,\nthe client only needs two services.\n\n140\n00:06:52.930 --> 00:06:54.720\nBut for the server we need four.\n\n141\n00:06:54.720 --> 00:06:56.960\nSo those are all ones that I need running.\n\n142\n00:06:56.960 --> 00:06:59.790\nAnd so when I do that systemctl enable,\nit's gonna set them so\n\n143\n00:06:59.790 --> 00:07:02.920\nthey start a boot, and\nit's gonna start them.\n\n144\n00:07:02.920 --> 00:07:03.700\nAll right, so there we go.\n\n145\n00:07:03.700 --> 00:07:07.050\nSo now we're up and going,\nthat saves you a lot of commands.\n\n146\n00:07:07.050 --> 00:07:12.260\nAll right next,\nI need to make a folder for my shares.\n\n147\n00:07:12.260 --> 00:07:13.490\nAnd I can put it where ever.\n\n148\n00:07:13.490 --> 00:07:15.470\nIf you follow examples you find online,\n\n149\n00:07:15.470 --> 00:07:20.110\nalmost everybody puts them right off\nthe root drive, which I don't like to do.\n\n150\n00:07:20.110 --> 00:07:23.140\nUsually, I like mine to be on\na separate hard drive, if I can.\n\n151\n00:07:23.140 --> 00:07:25.900\nYou know, partition it out, that way\nyou can monitor space and disk IO and\n\n152\n00:07:25.900 --> 00:07:28.450\nall that other stuff cuz it's\non separate physical hardware.\n\n153\n00:07:28.450 --> 00:07:33.360\nBut even if it's going in the same disk as\nmy root, I like to put in a sub-folder.\n\n154\n00:07:33.360 --> 00:07:36.510\nAgain, it's easier for me to measure\nsizes and control permissions and\n\n155\n00:07:36.510 --> 00:07:37.450\nstuff like that.\n\n156\n00:07:37.450 --> 00:07:41.525\nSo I've gotten in the habit of\ncreating a folder called /export.\n\n157\n00:07:41.525 --> 00:07:45.685\nWhen you share a folder in NFS,\nthey call it exporting the folder.\n\n158\n00:07:45.685 --> 00:07:48.215\nSo we're exporting it to other systems\n\n159\n00:07:48.215 --> 00:07:50.145\neven though it never\nactually leaves our system.\n\n160\n00:07:50.145 --> 00:07:51.393\nBut that's what the terminology is.\n\n161\n00:07:51.393 --> 00:07:53.616\nSo I've gotten in the habit of\ncreating a folder called Flash Export,\n\n162\n00:07:53.616 --> 00:07:54.760\nwhich is what I'm going to do know.\n\n163\n00:07:54.760 --> 00:07:56.559\nYou don't have to do that.\n\n164\n00:07:56.559 --> 00:07:58.290\nYou can call it whatever you want.\n\n165\n00:07:58.290 --> 00:07:59.276\nYou can put it wherever you want.\n\n166\n00:07:59.276 --> 00:08:00.217\nIt doesn't really matter.\n\n167\n00:08:00.217 --> 00:08:04.042\nAlthough if you're running SC Linux, which\nwe'll cover in our security episodes,\n\n168\n00:08:04.042 --> 00:08:07.386\nyou may have to adjust some SC Linux\npermissions if you put the folder in some\n\n169\n00:08:07.386 --> 00:08:09.532\nplaces cause they might\nbe blocked by default.\n\n170\n00:08:09.532 --> 00:08:11.891\nSo I want to create a folder\ncalled flash export, and\n\n171\n00:08:11.891 --> 00:08:14.051\nin my shared folders,\nit's gonna go in there.\n\n172\n00:08:14.051 --> 00:08:17.455\nSo if I want to create a folder for\nmy reports, right?\n\n173\n00:08:17.455 --> 00:08:20.022\nSo I'm gonna have business reports\nthat are gonna be stuck in a folder.\n\n174\n00:08:20.022 --> 00:08:24.374\nThen what I would do is I would need\nto make a directory, and I don't have\n\n175\n00:08:24.374 --> 00:08:29.454\nan exports folder yet, so what I'm gonna\ndo is I'm gonna say dash p so it'll create\n\n176\n00:08:29.454 --> 00:08:34.490\nthe parent folder and any child folders\nthat I specify and I'm gonna set the mode.\n\n177\n00:08:34.490 --> 00:08:35.560\nNow here's where things get weird.\n\n178\n00:08:36.790 --> 00:08:39.260\nYou need to change\nthe permissions on the folder and\n\n179\n00:08:39.260 --> 00:08:44.420\nbasically you need the folder to give\neveryone, read, write and execute.\n\n180\n00:08:44.420 --> 00:08:45.980\nAnd I know that's not\nnecessarily what we want.\n\n181\n00:08:45.980 --> 00:08:48.260\nWe don't want everyone to be able to read,\nwrite, and execute.\n\n182\n00:08:48.260 --> 00:08:51.690\nAnd that's okay, because when\nwe actually export the folder,\n\n183\n00:08:51.690 --> 00:08:55.170\nwe'll define in there,\nwhether they can read and write.\n\n184\n00:08:55.170 --> 00:08:56.872\nAnd they're actually not\nallowed to execute anyway, so\n\n185\n00:08:56.872 --> 00:08:57.799\nthat doesn't really matter.\n\n186\n00:08:57.799 --> 00:09:02.142\nBut in the underlying folder,\nwe need it to be 777.\n\n187\n00:09:02.142 --> 00:09:03.708\nRead, write and execute.\n\n188\n00:09:03.708 --> 00:09:05.560\nSo, I'm gonna do this\nall at the same time.\n\n189\n00:09:05.560 --> 00:09:07.790\nI could do this as three\ndifferent commands.\n\n190\n00:09:07.790 --> 00:09:09.160\nI could make the parent folder.\n\n191\n00:09:09.160 --> 00:09:09.837\nMake the child folder.\n\n192\n00:09:09.837 --> 00:09:13.052\nAnd then CHMOD the whole thing and\ngive it 777.\n\n193\n00:09:13.052 --> 00:09:14.689\nI'm just doing it all in one command.\n\n194\n00:09:14.689 --> 00:09:16.028\nAnd so I'm gonna make.\n\n195\n00:09:16.028 --> 00:09:18.934\nSlash export.\n\n196\n00:09:18.934 --> 00:09:23.430\nSlash, I'll call it reports.\n\n197\n00:09:23.430 --> 00:09:24.639\nSo that's where all my\nreports are going to go.\n\n198\n00:09:24.639 --> 00:09:26.135\nAnd I want people to be\nable to get into that.\n\n199\n00:09:26.135 --> 00:09:26.741\nShoot.\n\n200\n00:09:26.741 --> 00:09:29.167\nIt's off the root, so\nI've got to be an admin.\n\n201\n00:09:29.167 --> 00:09:29.922\nThere we go.\n\n202\n00:09:29.922 --> 00:09:31.710\nSo I'll psuedo that one.\n\n203\n00:09:31.710 --> 00:09:36.790\nMaybe I have another folder that I want,\nthat is going to be\n\n204\n00:09:36.790 --> 00:09:40.930\ndocuments and, I want people\nto be able to put stuff here.\n\n205\n00:09:40.930 --> 00:09:42.440\nBut reports, I want to be read only.\n\n206\n00:09:42.440 --> 00:09:43.390\nThat kind of thing, right?\n\n207\n00:09:43.390 --> 00:09:45.460\nSo I can start to dictate\nhow people access that.\n\n208\n00:09:45.460 --> 00:09:47.200\nSo now I've got two folders.\n\n209\n00:09:47.200 --> 00:09:49.980\nI didn't need to create the parent at\nthat point, cuz exports already existed.\n\n210\n00:09:49.980 --> 00:09:54.270\nBut I did need to set the mode,\nto get that set right for documents.\n\n211\n00:09:54.270 --> 00:09:59.010\nSo now, if I look at /export,\nI've got documents and I've got reports,\n\n212\n00:09:59.010 --> 00:10:02.590\nand they're highlighted in green\nbecause I mean they are full, open,\n\n213\n00:10:02.590 --> 00:10:04.090\n777 on those permissions.\n\n214\n00:10:04.090 --> 00:10:08.447\nWhich sounds dangerous but we'll take\ncare of in a minute when we export this.\n\n215\n00:10:08.447 --> 00:10:11.790\nAll right, so\nI've got the folders, that's good.\n\n216\n00:10:11.790 --> 00:10:13.880\nNext I need to tell NFS about it.\n\n217\n00:10:13.880 --> 00:10:16.522\nI need to tell NFS, hey these\nare the folders that I wanna share out.\n\n218\n00:10:16.522 --> 00:10:21.456\nSo there's a file where nfs keeps track\nof all the folders that it shares.\n\n219\n00:10:21.456 --> 00:10:22.640\nIt's in /etc.\n\n220\n00:10:22.640 --> 00:10:28.055\nSo if I go in to /etc there's\na folder in here called exports.\n\n221\n00:10:28.055 --> 00:10:31.632\nAnd if I look around I\ncan find it right there.\n\n222\n00:10:31.632 --> 00:10:34.348\nExports.d is the nfs service itself.\n\n223\n00:10:34.348 --> 00:10:37.669\nAnd the exports is the list of\nfolders that I'm exporting.\n\n224\n00:10:37.669 --> 00:10:42.765\nAnd so I need to edit that, so\nI'm gonna edit /etc/exports.\n\n225\n00:10:42.765 --> 00:10:45.529\nAnd when I go in it, it's empty.\n\n226\n00:10:45.529 --> 00:10:47.575\nI'm not exporting anything, right?\n\n227\n00:10:47.575 --> 00:10:49.690\nThere's no shared folders by default.\n\n228\n00:10:49.690 --> 00:10:50.340\nI need to add them in.\n\n229\n00:10:51.380 --> 00:10:56.040\nNow I'm gonna show you guys the most\ncommon way to share these folders out.\n\n230\n00:10:56.040 --> 00:11:00.570\nThere are a ton of options that you can\ncustomize in here to tweak how it's\n\n231\n00:11:00.570 --> 00:11:01.440\nshared out.\n\n232\n00:11:01.440 --> 00:11:03.160\nAnd so in the show notes of the episode,\n\n233\n00:11:03.160 --> 00:11:06.930\nI'm including a link over to Red Hat where\nthey have all the crazy options in there.\n\n234\n00:11:06.930 --> 00:11:09.530\nBut most of the time, we're just\ntrying to share a folder out and\n\n235\n00:11:09.530 --> 00:11:12.040\nmake it read only or\nread and write, right?\n\n236\n00:11:12.040 --> 00:11:14.090\nWe're not trying to get\ntoo crazy fancy with it.\n\n237\n00:11:14.090 --> 00:11:15.290\nBut you certainly can.\n\n238\n00:11:15.290 --> 00:11:20.600\nYou can restrict where certain IP\naddresses get read or read write.\n\n239\n00:11:20.600 --> 00:11:22.480\nCertain user names get read and rewrite.\n\n240\n00:11:22.480 --> 00:11:26.420\nThere's different ways for\nhandling the write cache, and read caches,\n\n241\n00:11:26.420 --> 00:11:29.480\nall sorts of really crazy\ncustomizations you can do.\n\n242\n00:11:29.480 --> 00:11:31.300\nBut I'll try and keep mine pretty simple.\n\n243\n00:11:31.300 --> 00:11:35.340\nSo, I'm gonna export my reports folder and\nmy documents folder.\n\n244\n00:11:35.340 --> 00:11:38.400\nThe first thing I'm gonna do is,\nwe'll do reports.\n\n245\n00:11:38.400 --> 00:11:42.930\nSo I'm just gonna type in here /export\nshoot, did I do export or exports?\n\n246\n00:11:44.170 --> 00:11:45.980\nI don't think I did an s.\n\n247\n00:11:45.980 --> 00:11:47.582\nSo we'll find out if I got it wrong.\n\n248\n00:11:47.582 --> 00:11:48.685\n&gt;&gt; I think it's export.\n\n249\n00:11:48.685 --> 00:11:52.018\n&gt;&gt; /export/reports was my first one and\n\n250\n00:11:52.018 --> 00:11:56.260\n/export/documents was my second one,\nright?\n\n251\n00:11:56.260 --> 00:11:58.230\nSo those are the ones\nthat I wanna share out.\n\n252\n00:11:58.230 --> 00:12:01.770\nNow, that's just the folder\nnow comes the options right.\n\n253\n00:12:01.770 --> 00:12:03.340\nSo I'm going to come in here and for\n\n254\n00:12:03.340 --> 00:12:07.370\nthe options I need to specify\nwho's allowed to access it.\n\n255\n00:12:07.370 --> 00:12:08.910\nAnd I'm going to restrict it by IP.\n\n256\n00:12:08.910 --> 00:12:12.010\nHere in the studios we\nuse the 10.0.network and\n\n257\n00:12:12.010 --> 00:12:14.250\nso I'm going to put in here 10.0.0.0/16,\nright.\n\n258\n00:12:15.920 --> 00:12:18.189\nThat's the network we run in house.\n\n259\n00:12:19.380 --> 00:12:22.990\nAnd then after that,\nI need to provide the other options.\n\n260\n00:12:22.990 --> 00:12:27.830\nSo for this IP range, here's the options\nthat I'm gonna give access to.\n\n261\n00:12:27.830 --> 00:12:31.888\nAnd on reports, I want it to be read-only,\nso I'm gonna put ro.\n\n262\n00:12:31.888 --> 00:12:37.379\nAnd on Documents,\nI want it to be read-write so I'll put rw.\n\n263\n00:12:37.379 --> 00:12:39.979\nNext, I'll put sync.\n\n264\n00:12:39.979 --> 00:12:41.800\nAll right, now why is sync important?\n\n265\n00:12:41.800 --> 00:12:43.340\nThis is talking about when I write.\n\n266\n00:12:43.340 --> 00:12:46.270\nWhen somebody writes to the folder.\n\n267\n00:12:46.270 --> 00:12:48.380\nWell if it's read only,\nnobody writes to it so\n\n268\n00:12:48.380 --> 00:12:50.170\nwe really don't need to worry about sync.\n\n269\n00:12:50.170 --> 00:12:53.140\nBut this one here is read write,\nI need to worry about that.\n\n270\n00:12:53.140 --> 00:12:54.420\nIf somebody sends a write,\n\n271\n00:12:54.420 --> 00:12:57.120\nthe default functionality is\nto do an asynchronous write.\n\n272\n00:12:57.120 --> 00:12:59.430\nThey send the write to NFS.\n\n273\n00:12:59.430 --> 00:13:01.460\nAnd then they move on and\nassume it's done.\n\n274\n00:13:01.460 --> 00:13:04.010\nMeanwhile NFS hasn't actually\nwritten it to the hard drive yet.\n\n275\n00:13:04.010 --> 00:13:06.610\nIt's gotta go through the hard\ndrive buffers and all that stuff.\n\n276\n00:13:06.610 --> 00:13:08.960\nAnd so if there's a power outage or\na network interruption or\n\n277\n00:13:08.960 --> 00:13:12.500\nsomething like that, I may think that\nI've sent the right to the server.\n\n278\n00:13:12.500 --> 00:13:15.020\nAnd it hasn't actually made its disk and\nit gets lost.\n\n279\n00:13:15.020 --> 00:13:17.750\nIf I have sync turned on though,\nthe server's gonna receive it and\n\n280\n00:13:17.750 --> 00:13:19.890\nimmediately write to the disk.\n\n281\n00:13:19.890 --> 00:13:22.610\nAnd so now I know,\nif NFS tells me the writes done,\n\n282\n00:13:22.610 --> 00:13:24.370\nthen it was actually written and\ncommitted to disk.\n\n283\n00:13:24.370 --> 00:13:26.770\n&gt;&gt; Don, I find that interesting\nthat that would not be the default.\n\n284\n00:13:26.770 --> 00:13:29.640\nIt sounds like that would be what\nwe would want the default to be.\n\n285\n00:13:29.640 --> 00:13:31.270\n&gt;&gt; It slows things down, right?\n\n286\n00:13:31.270 --> 00:13:34.770\nWhen you do a write, it slows you down cuz\nyou gotta wait for the complete message.\n\n287\n00:13:34.770 --> 00:13:35.920\nSo they've opted for\n\n288\n00:13:35.920 --> 00:13:40.630\nspeed, cuz what synch really is saying is,\nI wanna plan for failure.\n\n289\n00:13:40.630 --> 00:13:43.263\nAnd the people who authored this said,\nit's not gonna fail.\n\n290\n00:13:43.263 --> 00:13:44.590\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n291\n00:13:44.590 --> 00:13:46.970\n&gt;&gt; So that's why it's not the default.\n\n292\n00:13:46.970 --> 00:13:50.580\nBut anyhow, you can just easily\nchange that if you want.\n\n293\n00:13:50.580 --> 00:13:53.530\nAll right, this last option that\nI'm gonna do is a weird one.\n\n294\n00:13:53.530 --> 00:13:56.940\nIt's rootnosquash.\n\n295\n00:13:57.990 --> 00:13:59.600\nI gotta-\n&gt;&gt; Or is it no_root_squash?\n\n296\n00:13:59.600 --> 00:14:01.204\n&gt;&gt; no_root_squash, there we go.\n\n297\n00:14:01.204 --> 00:14:07.540\nAll right, remember I mentioned\nsomething about user IDs.\n\n298\n00:14:07.540 --> 00:14:11.410\nNFS assumes that if a user account\nexists in more than one place and\n\n299\n00:14:11.410 --> 00:14:14.530\nhas the same user ID,\nthen it's the same user.\n\n300\n00:14:14.530 --> 00:14:18.570\nWell, every Linux system\nhas an account for root.\n\n301\n00:14:18.570 --> 00:14:22.580\nAnd the root account is almost\nalways user ID number one.\n\n302\n00:14:22.580 --> 00:14:25.150\nSo the root account matches\npretty much everywhere.\n\n303\n00:14:25.150 --> 00:14:30.270\nAnd that means if a user is logged in\nas root on their own computer when they\n\n304\n00:14:30.270 --> 00:14:36.370\naccess NFS NFS is gonna see that they're\nroot and allow them root access.\n\n305\n00:14:36.370 --> 00:14:39.980\nIn other words full access to that folder,\nwhich we may not want.\n\n306\n00:14:39.980 --> 00:14:45.410\nWell if we don't want that, it's the\ndefault that it squashes the root account.\n\n307\n00:14:45.410 --> 00:14:48.690\nSo if somebody comes in as root,\nit remaps them and\n\n308\n00:14:48.690 --> 00:14:52.420\ntreats them as the nobody\naccount which has no access.\n\n309\n00:14:52.420 --> 00:14:55.990\nSo the root user is unable\nto use NFS by default.\n\n310\n00:14:55.990 --> 00:15:00.090\nBy saying no root squash, that allows\nthe root user to function and so\n\n311\n00:15:00.090 --> 00:15:01.460\nnow I can use it.\n\n312\n00:15:01.460 --> 00:15:03.910\nIt's up to you whether or\nnot you're using a root account, right.\n\n313\n00:15:03.910 --> 00:15:06.090\nIn theory you shouldn't be\nusing the root account and\n\n314\n00:15:06.090 --> 00:15:08.780\nso the default of letting the root\naccount get squashed will be fine.\n\n315\n00:15:08.780 --> 00:15:11.770\nBut in my case I'm going to go ahead and\nenable it just to allow it.\n\n316\n00:15:11.770 --> 00:15:13.240\nAnd then I'll just close that off.\n\n317\n00:15:13.240 --> 00:15:14.840\nSo, I'm using those three options.\n\n318\n00:15:14.840 --> 00:15:17.930\nThat's enough for me to share these\nthings out In real life land,\n\n319\n00:15:17.930 --> 00:15:21.340\nyou'll find there's a ton of other\noptions you can really customize.\n\n320\n00:15:21.340 --> 00:15:23.860\nAgain, I'll post a link so\nyou can go to Red Hat and see them.\n\n321\n00:15:23.860 --> 00:15:25.800\nIf we covered them all,\nthis would be a three hour episode.\n\n322\n00:15:25.800 --> 00:15:27.060\nThere's that many.\n\n323\n00:15:27.060 --> 00:15:27.600\nAll right.\n\n324\n00:15:27.600 --> 00:15:29.830\nBut this is gonna share\nthe folders out that I want,\n\n325\n00:15:29.830 --> 00:15:32.200\nassuming that I got the path name right.\n\n326\n00:15:32.200 --> 00:15:37.615\nSo, I did call it export with no s, good.\n\n327\n00:15:37.615 --> 00:15:39.075\nSo my folder names are right.\n\n328\n00:15:39.075 --> 00:15:42.583\nSo now that I've got that\nNFS knows what to export,\n\n329\n00:15:42.583 --> 00:15:46.730\nexcept it only reads the config\nfile when it starts.\n\n330\n00:15:46.730 --> 00:15:49.750\nAnd so it's not reading that config file.\n\n331\n00:15:49.750 --> 00:15:53.300\nYou have a little command\nthat you can run which is\n\n332\n00:15:53.300 --> 00:15:56.490\nwhich lets you see what you're\nexporting and what you're sharing out.\n\n333\n00:15:56.490 --> 00:15:59.793\nAnd in my case, I'm not exporting or\nsharing anything just yet.\n\n334\n00:15:59.793 --> 00:16:02.592\nSo if I were to try and look at that,\nI'm not gonna see anything.\n\n335\n00:16:02.592 --> 00:16:06.122\nIf I do show mount.\n\n336\n00:16:06.122 --> 00:16:09.652\n-e and I point to my server.\n\n337\n00:16:09.652 --> 00:16:12.860\nWhen I look at it, I get nothing.\n\n338\n00:16:12.860 --> 00:16:15.210\nOr actually,\nthat would have sourced as 127.\n\n339\n00:16:15.210 --> 00:16:19.008\nSo let me do a ip addr,\nfigure out what my actual IP address is.\n\n340\n00:16:19.008 --> 00:16:22.271\n10.0.14.199.\n\n341\n00:16:22.271 --> 00:16:29.404\nSo, if I rerun that, 10.0.14.199.\n\n342\n00:16:29.404 --> 00:16:30.073\nThere we go.\n\n343\n00:16:30.073 --> 00:16:32.910\nI'm not exporting anything, okay?\n\n344\n00:16:32.910 --> 00:16:37.115\nBut, if I do a quick little reload, and\nyou can restart the NFS service if you\n\n345\n00:16:37.115 --> 00:16:41.290\nwant, but that'll cause a service\ndisruption if people are in there.\n\n346\n00:16:41.290 --> 00:16:47.560\nSo a better way to do this would\nbe to come in and say exportfs,\n\n347\n00:16:47.560 --> 00:16:51.230\nwhich is one of the NFS utilities\nthat was installed with Yum earlier.\n\n348\n00:16:51.230 --> 00:16:54.510\nSo I'm gonna call the exportfs utility and\nsay -r.\n\n349\n00:16:54.510 --> 00:16:57.370\nAnd -r just says reprocess\nthe config file.\n\n350\n00:16:57.370 --> 00:17:00.750\nIf somebody's already in the system, they\nstay in the system, they stay working.\n\n351\n00:17:00.750 --> 00:17:04.770\nBut I'm gonna reprocess and\nadd folders or change permissions.\n\n352\n00:17:04.770 --> 00:17:08.290\nNow, I might disconnect somebody if\npermissions change or I remove a folder.\n\n353\n00:17:08.290 --> 00:17:10.020\nBut if the permissions and stuff for\n\n354\n00:17:10.020 --> 00:17:13.170\na folder stays the same,\npeople can stay in and keep working.\n\n355\n00:17:13.170 --> 00:17:16.689\nSo I'm just gonna reload that,\nnot restarting the service,\n\n356\n00:17:16.689 --> 00:17:19.090\njust reloading the config file.\n\n357\n00:17:19.090 --> 00:17:23.040\nAnd now if I do my showmount, there we go,\ndocuments and reports are being\n\n358\n00:17:23.040 --> 00:17:25.560\nshared right out and I can see that\nthey're functional, all right?\n\n359\n00:17:25.560 --> 00:17:28.620\nSo as far as the server's concerned,\nI'm pretty much done.\n\n360\n00:17:29.630 --> 00:17:31.050\nWell, there is one more step.\n\n361\n00:17:31.050 --> 00:17:33.098\nWe haven't really covered\nthe firewall in this series yet.\n\n362\n00:17:33.098 --> 00:17:35.020\nThat's gonna be in our security section.\n\n363\n00:17:35.020 --> 00:17:37.740\nBut if you're running Red Hat\n7 with a default install,\n\n364\n00:17:37.740 --> 00:17:40.640\nit has a firewall on it and\nit's blocking NFS.\n\n365\n00:17:40.640 --> 00:17:43.810\nSo our server's up and running but\nclients won't be able to connect to it.\n\n366\n00:17:43.810 --> 00:17:46.110\nSo I need to open up NFS on the firewall.\n\n367\n00:17:46.110 --> 00:17:47.744\nSo I'm gonna run a few\ncommands to do that.\n\n368\n00:17:47.744 --> 00:17:52.186\nSo I'm gonna use the firewall -cmd and\n\n369\n00:17:52.186 --> 00:17:58.117\nI'm gonna add a permanent rule for\nthe public zone.\n\n370\n00:17:58.117 --> 00:18:01.991\nAnd I'm going to add service.\n\n371\n00:18:01.991 --> 00:18:05.352\nAnd it's gonna word wrap on me here,\nbut I need to add mountd,\n\n372\n00:18:05.352 --> 00:18:09.140\nwhich is what people are gonna be\ncalling when they do the showmount.\n\n373\n00:18:09.140 --> 00:18:12.900\nAnd then I need to add rpc-bind\n\n374\n00:18:12.900 --> 00:18:15.750\nbecause we need that remote\nprocedure call to function.\n\n375\n00:18:15.750 --> 00:18:20.494\nAnd then lastly I'm gonna add nfs,\nall right?\n\n376\n00:18:20.494 --> 00:18:25.360\nAnd I'm doing these pretty broad, I could\nlimit them to 10.0.0.0 which would make\n\n377\n00:18:25.360 --> 00:18:27.698\nsense because that's\nhow NFS is limited but\n\n378\n00:18:27.698 --> 00:18:30.590\nthis will suite for my purposes right now.\n\n379\n00:18:30.590 --> 00:18:35.690\nAnd lastly, I am just gonna\ndo a firewall cmd --reload so\n\n380\n00:18:35.690 --> 00:18:37.560\nit processes those new rules, all right?\n\n381\n00:18:37.560 --> 00:18:42.740\nSo now a client will be able to connect\nand get in even though my firewall is up.\n\n382\n00:18:44.050 --> 00:18:45.840\nAll right, so that's it for a server.\n\n383\n00:18:45.840 --> 00:18:46.510\nI'm up.\n\n384\n00:18:46.510 --> 00:18:47.720\nI'm running.\nI'm an NFS server.\n\n385\n00:18:47.720 --> 00:18:49.560\nI'm sharing these folders out.\n\n386\n00:18:49.560 --> 00:18:50.780\nNow a client can connect.\n\n387\n00:18:50.780 --> 00:18:52.650\n&gt;&gt; They just jump on their computer and\nsay hey,\n\n388\n00:18:52.650 --> 00:18:54.950\nNFS server, give me some files, right?\n\n389\n00:18:54.950 --> 00:18:57.790\n&gt;&gt; Basically, I mean it's not\nreally all that much different.\n\n390\n00:18:57.790 --> 00:18:58.860\nLet's just run through it real quick.\n\n391\n00:18:58.860 --> 00:19:01.790\nSo if I'm on a client,\nfirst thing I need to do is,\n\n392\n00:19:01.790 --> 00:19:06.940\nI need to install the nfs utilities,\nright, just like we saw before.\n\n393\n00:19:06.940 --> 00:19:12.830\nAnd I need to install the libnfsidmap.\n\n394\n00:19:12.830 --> 00:19:16.229\nBecause I'm mapping my ID to match\nthe server so we've gotta talk.\n\n395\n00:19:16.229 --> 00:19:18.662\nSo I've gotta have that and\nI've already got them.\n\n396\n00:19:18.662 --> 00:19:24.171\nOn a client, you almost always have a GUI\nand the GUI groups all include NFS.\n\n397\n00:19:24.171 --> 00:19:26.617\nSo you should already have both of these,\nall right?\n\n398\n00:19:26.617 --> 00:19:30.740\nBut unlike the server,\nI don't need to start all these.\n\n399\n00:19:30.740 --> 00:19:32.500\nI mean, I don't need these\nthings to start on boot.\n\n400\n00:19:32.500 --> 00:19:35.187\nRemember the four services I\nhad to set to start on boot?\n\n401\n00:19:35.187 --> 00:19:37.150\nOn the client,\nit's a little bit different.\n\n402\n00:19:37.150 --> 00:19:42.050\nI do need to turn on rpcbind,\nwhich again, it's probably already on.\n\n403\n00:19:42.050 --> 00:19:48.670\nIf I do a systemctl status rpcbind,\nthe odds\n\n404\n00:19:48.670 --> 00:19:53.570\nare it's loaded, active and running and\nset to boot when the system boots.\n\n405\n00:19:53.570 --> 00:20:00.810\nBut if it isn't, you just need to do a\nquick systemctl enable for rpcbind, right?\n\n406\n00:20:00.810 --> 00:20:02.340\nSo get that one going.\n\n407\n00:20:02.340 --> 00:20:05.310\nAnd then, it should have started.\n\n408\n00:20:05.310 --> 00:20:11.890\nIf it didn't, you can just do a quick\nsystemctl start rpcbind, okay?\n\n409\n00:20:11.890 --> 00:20:14.890\nNotice I'm not starting the NFS service.\n\n410\n00:20:14.890 --> 00:20:16.500\nAnd that's because I'm not a server.\n\n411\n00:20:16.500 --> 00:20:17.380\nI'm not sharing folders.\n\n412\n00:20:17.380 --> 00:20:18.310\nI'm a client.\n\n413\n00:20:18.310 --> 00:20:21.230\nSo I need to use the client utility,\nnot the server service.\n\n414\n00:20:21.230 --> 00:20:23.210\nSo we don't need that on the client.\n\n415\n00:20:23.210 --> 00:20:25.630\nWe just need the client tools.\n\n416\n00:20:25.630 --> 00:20:27.760\nSo for example, showmount.\n\n417\n00:20:27.760 --> 00:20:33.050\nSo I'm gonna do a showmount -e,\nand I'll point to that server.\n\n418\n00:20:34.630 --> 00:20:36.630\nAnd I can see its folders.\n\n419\n00:20:36.630 --> 00:20:39.800\nI can see its folders cuz the only\nauthentication I'm doing right now is\n\n420\n00:20:39.800 --> 00:20:41.780\nthe IP address, and I'm on the 10.network.\n\n421\n00:20:41.780 --> 00:20:44.140\nSo it's allowing me to see those folders.\n\n422\n00:20:44.140 --> 00:20:48.340\nAnd then, after that, I can connect\nto those folders if I want, right?\n\n423\n00:20:48.340 --> 00:20:52.095\nSo all I have to do is create\nsome place to put them.\n\n424\n00:20:52.095 --> 00:20:56.509\nSo I'll create a folder.\n\n425\n00:20:56.509 --> 00:20:58.015\nI'm gonna use the /mnt.\n\n426\n00:20:58.015 --> 00:21:00.690\nYou don't have to put things in mount but\nthat's kind of what it's purpose is.\n\n427\n00:21:00.690 --> 00:21:02.400\nSo I'm gonna create some folders in there.\n\n428\n00:21:02.400 --> 00:21:07.725\nOne for reports and\none for Documents, okay?\n\n429\n00:21:07.725 --> 00:21:12.058\nAnd once I've got that,\nI can do a quick mount.\n\n430\n00:21:12.058 --> 00:21:17.726\nAnd I'm gonna mount 10.0.14.199:/ and\nhere's where it's a little weird,\n\n431\n00:21:17.726 --> 00:21:21.408\nthere's the Reports folder and\nthe Documents folder, but\n\n432\n00:21:21.408 --> 00:21:26.770\nI've got to use the folder name from here,\nand see how it's got the full path?\n\n433\n00:21:26.770 --> 00:21:30.066\nSo I have to say /export/Reports and\n\n434\n00:21:30.066 --> 00:21:34.703\nthen I need to tell it where\nit's going here locally.\n\n435\n00:21:34.703 --> 00:21:38.606\nSo this one's gonna go to /mnt/Reports.\n\n436\n00:21:38.606 --> 00:21:41.397\nAnd then I'll do the same thing for\n\n437\n00:21:41.397 --> 00:21:47.512\nDocuments, To mount that, all right?\n\n438\n00:21:47.512 --> 00:21:52.326\nAnd if I go into /mnt and take a look,\nI can see Reports and Documents.\n\n439\n00:21:52.326 --> 00:21:55.453\nAnd if I go into Reports, there it is.\n\n440\n00:21:55.453 --> 00:22:00.421\nAnd if I go into Documents, there it is.\n\n441\n00:22:00.421 --> 00:22:02.002\nWell, they're both kind of-\n&gt;&gt; There's nothing there.\n\n442\n00:22:02.002 --> 00:22:03.338\n&gt;&gt; Empty, yeah.\n\n443\n00:22:03.338 --> 00:22:05.257\nSo let's do something about that.\n\n444\n00:22:05.257 --> 00:22:06.423\nI'm in the Documents folder.\n\n445\n00:22:06.423 --> 00:22:08.363\nIf I do a touch command.\n\n446\n00:22:08.363 --> 00:22:12.358\nAnd I'll call this like document1.txt,\nright?\n\n447\n00:22:12.358 --> 00:22:19.987\nOr maybe I want to edit document2.txt and\nthen type a bunch.\n\n448\n00:22:19.987 --> 00:22:20.916\nThere we go.\n\n449\n00:22:20.916 --> 00:22:22.610\nAnd if I take a look, there they are,\n\n450\n00:22:22.610 --> 00:22:27.530\nI just created those files this is read\nwrite so I should be allowed to, right?\n\n451\n00:22:27.530 --> 00:22:31.678\nIf I go into reports, it's empty.\n\n452\n00:22:31.678 --> 00:22:38.520\nAnd if I try and create report1.txt,\nread only file system.\n\n453\n00:22:38.520 --> 00:22:40.590\nThe reports folder was read only.\n\n454\n00:22:40.590 --> 00:22:42.760\nI can't do it, right?\n\n455\n00:22:42.760 --> 00:22:45.710\nNow if I were to go to the server,\nI could go in and put that in there.\n\n456\n00:22:45.710 --> 00:22:49.760\nOr, in my export folder on the server,\nI could've added another line for that,\n\n457\n00:22:49.760 --> 00:22:54.470\nthat says, for 10.0, whatever, you get\nread only, but for this user account, you\n\n458\n00:22:54.470 --> 00:22:58.290\nget read write and you can add people's\npermissions in there so they can do it.\n\n459\n00:22:58.290 --> 00:23:01.930\nSo even though this folder\nhad 777 permissions on it,\n\n460\n00:23:01.930 --> 00:23:04.425\nin NFS it's now restricted,\nit's read only.\n\n461\n00:23:04.425 --> 00:23:06.458\nAnd that's all I can do, so\nthat's why we don't panic.\n\n462\n00:23:06.458 --> 00:23:10.600\n&gt;&gt; And that's happening because it's\nlooking at the NFS file system permissions\n\n463\n00:23:10.600 --> 00:23:12.904\nand not the local file system permissions.\n\n464\n00:23:12.904 --> 00:23:18.155\n&gt;&gt; Exactly, the whole EXT,\nit's not seeing that file system at all.\n\n465\n00:23:18.155 --> 00:23:21.095\nThat's why Windows, Mac, Linux,\nthey can all talk to it.\n\n466\n00:23:21.095 --> 00:23:25.373\nThey don't have to understand EXT or Riser\nFS whatever it is that you guys happen to\n\n467\n00:23:25.373 --> 00:23:28.820\nbe running as your file\nsystem of choice these days.\n\n468\n00:23:28.820 --> 00:23:29.850\nThey don't have to know that.\n\n469\n00:23:29.850 --> 00:23:30.800\nThey just see NFS.\n\n470\n00:23:30.800 --> 00:23:33.260\nA standard way of communicating and\ngetting those files.\n\n471\n00:23:33.260 --> 00:23:35.930\nThey communicate, and\nthey get it, all right?\n\n472\n00:23:35.930 --> 00:23:40.820\nNow, what I just did is I connected and\nit works gret, temporarily.\n\n473\n00:23:40.820 --> 00:23:42.630\nIf I reboot, these connections are gone.\n\n474\n00:23:42.630 --> 00:23:44.450\nSo, if I want to make it permanent,\n\n475\n00:23:44.450 --> 00:23:47.810\nyou can actually go into the file\nsystem table and add these entries.\n\n476\n00:23:47.810 --> 00:23:50.770\nAnd every time your computer boots,\nit'll mount these folders,\n\n477\n00:23:50.770 --> 00:23:52.070\nand they'll be there waiting for\nyou, right?\n\n478\n00:23:53.130 --> 00:23:57.442\nSo if you need a permanent connection, you\nneed to modify the file system table, and\n\n479\n00:23:57.442 --> 00:23:59.159\nthat is located inside of /etc.\n\n480\n00:23:59.159 --> 00:24:04.302\nIf you take a look at /etc/fstab,\nright, file system table.\n\n481\n00:24:04.302 --> 00:24:05.068\n&gt;&gt; I love that name.\n\n482\n00:24:05.068 --> 00:24:08.653\n&gt;&gt; [LAUGH] You can go in there, and\nyou can see the different things that\n\n483\n00:24:08.653 --> 00:24:12.120\nare being mounted when your\nsystem boots up, all right?\n\n484\n00:24:12.120 --> 00:24:15.500\nAnd if we want those NFS drives\nto be booted every time,\n\n485\n00:24:15.500 --> 00:24:16.680\nyou just need to edit this.\n\n486\n00:24:18.580 --> 00:24:20.630\nAnd oops, let me get my path right.\n\n487\n00:24:22.000 --> 00:24:22.770\nAnd go in here, and\n\n488\n00:24:22.770 --> 00:24:27.790\njust add a new line that tells it that\nyou want to mount these NFS drives.\n\n489\n00:24:27.790 --> 00:24:32.650\nNow, the file system table\nhas as many options in it as\n\n490\n00:24:32.650 --> 00:24:34.410\nNFS does when you export folders.\n\n491\n00:24:34.410 --> 00:24:37.700\nSo I won't go too deep into these but\njust real quick about,\n\n492\n00:24:37.700 --> 00:24:43.755\nif I want to add the reports folder,\nI would come in here and\n\n493\n00:24:43.755 --> 00:24:48.560\nsay 10.0.14.199:/export/reports and then,\n\n494\n00:24:48.560 --> 00:24:52.680\nI would say where I'm mounting it to,\nso, /mnt/Reports.\n\n495\n00:24:52.680 --> 00:24:55.940\nAnd then I would need to\ntell it the file system,\n\n496\n00:24:55.940 --> 00:24:58.330\nand the file system on this one is.\n\n497\n00:24:58.330 --> 00:25:00.350\n&gt;&gt; NFS.\n&gt;&gt; NFS, that makes life easy.\n\n498\n00:25:00.350 --> 00:25:03.220\nThen, the options that I wanna set.\n\n499\n00:25:03.220 --> 00:25:06.000\nI can go with defaults or\nI can specify things like,\n\n500\n00:25:06.000 --> 00:25:11.110\nthis needs to be read only,\nI want sync turned on, and so on.\n\n501\n00:25:11.110 --> 00:25:13.510\nI don't actually remember\nwhat the defaults are so\n\n502\n00:25:13.510 --> 00:25:14.830\nsome of these might be the defaults.\n\n503\n00:25:14.830 --> 00:25:17.540\nRead only's not default but you can\nspecify those options right in here.\n\n504\n00:25:18.610 --> 00:25:23.820\nAnd then after that the zeros,\nI don't have this memorized off hand.\n\n505\n00:25:23.820 --> 00:25:28.470\nOne of these says that the next time we\nreboot we need to do a file system check.\n\n506\n00:25:28.470 --> 00:25:31.690\nAnd the other one says whether or\nnot it tested clean the last time.\n\n507\n00:25:31.690 --> 00:25:33.760\nSo these are all maintenance.\n\n508\n00:25:33.760 --> 00:25:35.310\nAnd on NFS, it doesn't matter.\n\n509\n00:25:35.310 --> 00:25:38.070\nSo just 00 will be fine on those two.\n\n510\n00:25:38.070 --> 00:25:40.230\n&gt;&gt; My default is to look\nat what they already have,\n\n511\n00:25:40.230 --> 00:25:42.244\nand say, well that's working,\nso I'm gonna copy that.\n\n512\n00:25:42.244 --> 00:25:43.838\n[LAUGH]\n&gt;&gt; Yeah, it has to deal with maintenance\n\n513\n00:25:43.838 --> 00:25:44.995\nthough, and one of them is,\n\n514\n00:25:44.995 --> 00:25:47.698\nif you ever want to force a file\nsystem check the next time you boot,\n\n515\n00:25:47.698 --> 00:25:50.800\nyou come in here and you change one\nof those to a one, and that's it.\n\n516\n00:25:50.800 --> 00:25:53.060\nDoesn't apply to NFS, so\nI'm not worried about it here, but\n\n517\n00:25:53.060 --> 00:25:55.140\nI can now add another line for\nreports and so on.\n\n518\n00:25:55.140 --> 00:25:59.550\nAnd each of these will get called when\nI reboot, and so now if I reboot,\n\n519\n00:25:59.550 --> 00:26:00.960\nthose will be there, I don't lose them.\n\n520\n00:26:00.960 --> 00:26:06.060\nSo that's making them persistent\nas opposed to being temporary.\n\n521\n00:26:06.060 --> 00:26:09.300\nOr ephemeral I think is\nthe terminology they use [SOUND]\n\n522\n00:26:09.300 --> 00:26:10.472\n&gt;&gt; [LAUGH]\n\n523\n00:26:10.472 --> 00:26:11.598\n&gt;&gt; Crazy terms for things.\n\n524\n00:26:11.598 --> 00:26:15.519\nBut that's basically it, so\nNFS not that hard to set up and\n\n525\n00:26:15.519 --> 00:26:19.050\nit is a standard,\nit's supported by a ton of stuff.\n\n526\n00:26:19.050 --> 00:26:22.900\nIt's a great system, it's been in\nthe Unix world for 30 years now.\n\n527\n00:26:22.900 --> 00:26:27.250\nReally robust and I just gave you guys\na quick primer on getting up and going,\n\n528\n00:26:27.250 --> 00:26:28.360\nit's very powerful.\n\n529\n00:26:28.360 --> 00:26:30.750\nIf you dig in the documentation,\nyou can find all kinds of crazy bells and\n\n530\n00:26:30.750 --> 00:26:31.390\nwhistles in NFS.\n\n531\n00:26:31.390 --> 00:26:35.840\nIt's built right in the Red Hat Enterprise\nLinux and definitely, in my opinion,\n\n532\n00:26:35.840 --> 00:26:37.880\na better option than\nSamba if you can do it.\n\n533\n00:26:37.880 --> 00:26:40.770\nBut you'll see most people do\nuse Samba because they want that\n\n534\n00:26:40.770 --> 00:26:41.860\nWindows compatibility.\n\n535\n00:26:41.860 --> 00:26:45.260\n&gt;&gt; Yeah, and that is typically like\nwhen people are making that jump or\n\n536\n00:26:45.260 --> 00:26:48.200\ntrying to bring Linux\ninto their environment.\n\n537\n00:26:48.200 --> 00:26:50.970\nA lot, most people run a lot\nof Windows machines, right.\n\n538\n00:26:50.970 --> 00:26:52.340\nThey hold a very large market share.\n\n539\n00:26:52.340 --> 00:26:54.270\nOne of their first questions is,\n\n540\n00:26:54.270 --> 00:26:57.180\nhow do I get these things to\nshare files between each other?\n\n541\n00:26:57.180 --> 00:26:59.850\nAnd this is a very simple\nway to get that done.\n\n542\n00:26:59.850 --> 00:27:01.260\nYou can set these up.\n\n543\n00:27:01.260 --> 00:27:05.030\nGet NFS working,\nsharing out files to all your clients And\n\n544\n00:27:05.030 --> 00:27:08.660\nyou didn't have to go through a ton of,\nit was pretty painless to walk through.\n\n545\n00:27:08.660 --> 00:27:10.240\nYou just need to know a few options.\n\n546\n00:27:10.240 --> 00:27:13.155\nAnd Don obviously knew every one\nof those that were necessary.\n\n547\n00:27:13.155 --> 00:27:14.600\n&gt;&gt; [LAUGH]\n&gt;&gt; To get in a very simple,\n\n548\n00:27:14.600 --> 00:27:17.560\nvery easy file share\ngoing on your systems.\n\n549\n00:27:17.560 --> 00:27:19.110\nAnd that being said, Don,\n\n550\n00:27:19.110 --> 00:27:22.140\nis there anything else we need\nto cover when it comes to NFS?\n\n551\n00:27:22.140 --> 00:27:23.080\n&gt;&gt; I think that's about it.\n\n552\n00:27:23.080 --> 00:27:25.880\nJust remember, it is installed\nby default on most systems.\n\n553\n00:27:25.880 --> 00:27:28.140\nSo the yum steps I did\nare probably optional for you.\n\n554\n00:27:28.140 --> 00:27:29.940\nBut it doesn't hurt to do them again\njust to make sure they're there.\n\n555\n00:27:29.940 --> 00:27:32.530\nAnd then after that you just turn it\non and go, it's pretty straightforward.\n\n556\n00:27:32.530 --> 00:27:35.330\n&gt;&gt; All right, well thank you so\nmuch for explaining this to us.\n\n557\n00:27:35.330 --> 00:27:39.240\nWe thank you guys for watching but it is\nthat time yet again for us to sign off for\n\n558\n00:27:39.240 --> 00:27:41.900\nITProTV I've been your host Daniel Lowrie.\n\n559\n00:27:41.900 --> 00:27:42.600\n&gt;&gt; And I'm Don Pezet.\n\n560\n00:27:42.600 --> 00:27:43.801\n&gt;&gt; And we'll see you next time.\n\n561\n00:27:43.801 --> 00:27:50.697\n[MUSIC]\n\n562\n00:27:50.697 --> 00:27:56.780\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "193580676"
        },
        {
          "description": "In this episode, Daniel and Don explain and demonstrate setting up Samba for sharing files with Microsoft Windows clients. They start by talking about some of the history of SMB and Samba, then start the Samba Server installation and setup. They also walk you through working with the `smb.conf` and `smb.conf.example` files.",
          "length": "1915",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-2-4-1-samba_and_smb-111816.00_00_28_20.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-2-4-1-samba_and_smb-111816.00_00_28_20.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-2-4-1-samba_and_smb-111816.00_00_28_20.Still001-sm.jpg",
          "title": "Samba and SMB",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:03.832\nWelcome to ITPro.TV,\n\n2\n00:00:03.832 --> 00:00:08.235\nI'm your host [CROSSTALK].\n\n3\n00:00:08.235 --> 00:00:12.113\n&gt;&gt; You're watching ITPro.TV.\n\n4\n00:00:12.113 --> 00:00:13.763\n&gt;&gt; All right, greetings everyone and\n\n5\n00:00:13.763 --> 00:00:16.050\nwelcome to another great\nepisode of ITPro.TV.\n\n6\n00:00:16.050 --> 00:00:20.207\nI'm your host Daniel Lowrie and\nin today's episode we're continuing on\n\n7\n00:00:20.207 --> 00:00:24.177\nwith more on our Red Hat Enterprise Linux\nversion 7, that's right.\n\n8\n00:00:24.177 --> 00:00:25.237\n&gt;&gt; [LAUGH]\n&gt;&gt; Server seven.\n\n9\n00:00:25.237 --> 00:00:26.670\nVersion 7 series.\n\n10\n00:00:26.670 --> 00:00:30.480\nJoining us back in the studio today\nis our good friend, Mr. Don Pezet.\n\n11\n00:00:30.480 --> 00:00:31.800\nDon, welcome back, how's it going today?\n\n12\n00:00:31.800 --> 00:00:32.820\n&gt;&gt; Thanks for having me back Daniel.\n\n13\n00:00:32.820 --> 00:00:36.930\nReady back to dive right back in and if\nyou're watching the shows then already you\n\n14\n00:00:36.930 --> 00:00:40.746\nknow that we just covered NFS a few\nminutes ago in digital TV time, I guess.\n\n15\n00:00:40.746 --> 00:00:43.941\nAnd in this episode we're gonna be\nswitching gears and talk about SMB,\n\n16\n00:00:43.941 --> 00:00:47.681\nServer Message Block and Samba, which is\nan alternative to NFS if we need to share.\n\n17\n00:00:47.681 --> 00:00:50.123\n&gt;&gt; I thought it was a Brazilian dance.\n\n18\n00:00:50.123 --> 00:00:51.590\n&gt;&gt; [LAUGH] Was that salsa, or something?\n\n19\n00:00:51.590 --> 00:00:53.453\nNo samba, it is samba,\nmerengue, whatever, yeah.\n\n20\n00:00:53.453 --> 00:00:54.307\nI don't know.\n\n21\n00:00:54.307 --> 00:00:55.363\n&gt;&gt; [LAUGH]\n&gt;&gt; Anyhow, so\n\n22\n00:00:55.363 --> 00:00:57.020\nthat's what we're gonna cover today.\n\n23\n00:00:57.020 --> 00:01:01.270\nAnd it is an alternative to NFS and\nyou might be thinking,\n\n24\n00:01:01.270 --> 00:01:05.200\ncuz I know I think this, if we have\nNFS and it's an open standard, and\n\n25\n00:01:05.200 --> 00:01:06.740\nit's stable, and it works really well.\n\n26\n00:01:06.740 --> 00:01:09.190\nWhy have an alternative?\n\n27\n00:01:09.190 --> 00:01:10.300\nI guess alternatives are good.\n\n28\n00:01:10.300 --> 00:01:15.610\nBut, the main reason that we have Samba\nis for compatibility with Windows systems\n\n29\n00:01:15.610 --> 00:01:21.330\nthat in the business world,\nLinux servers are really really common.\n\n30\n00:01:21.330 --> 00:01:24.220\nBut Linux workstations, not so much.\n\n31\n00:01:24.220 --> 00:01:27.470\nAnd so what we typically see in the\nbusiness word are Microsoft Windows work\n\n32\n00:01:27.470 --> 00:01:29.220\nstations, very, very common.\n\n33\n00:01:29.220 --> 00:01:32.214\nAnd now we're starting to see Mac OS\nsystems starting to increase.\n\n34\n00:01:32.214 --> 00:01:36.521\nAnd so the numbers I saw last time were\nsomething like 80% Windows, and 5 or\n\n35\n00:01:36.521 --> 00:01:39.915\n6% Mac, and then after that\nthings were assorted across all\n\n36\n00:01:39.915 --> 00:01:42.510\nsort of other weird operating systems.\n\n37\n00:01:42.510 --> 00:01:46.210\nSo we had this huge representation of\nWindows platforms that are out there.\n\n38\n00:01:46.210 --> 00:01:50.640\nIf you have a Linux server, and you want\nto be able to share files with those\n\n39\n00:01:50.640 --> 00:01:54.350\nWindows workstations, well,\nWindows doesn't have NFS by default.\n\n40\n00:01:54.350 --> 00:01:55.860\nYou can bolt it on if you want.\n\n41\n00:01:55.860 --> 00:01:59.010\nYou can go out and get things like save\nwin, and it'll have NFS packaged in it,\n\n42\n00:01:59.010 --> 00:02:00.420\nyou can reach out and do it.\n\n43\n00:02:00.420 --> 00:02:03.390\nMicrosoft even has a sub-system for\nUnix that you can throw on there.\n\n44\n00:02:03.390 --> 00:02:05.810\nWindows 10 has that new\nUbuntu stuff built into it.\n\n45\n00:02:05.810 --> 00:02:07.470\nSo I mean, there's things you can do.\n\n46\n00:02:07.470 --> 00:02:10.670\nBut, if we can just natively support\n\n47\n00:02:10.670 --> 00:02:13.970\nthe same network file system that\nWindows does, then we get compatibility,\n\n48\n00:02:13.970 --> 00:02:16.160\nwe don't have to do anything\ncrazy on the work stations.\n\n49\n00:02:16.160 --> 00:02:19.770\nSo, that's what Samba works to do.\n\n50\n00:02:19.770 --> 00:02:23.550\nIn the Microsoft Windows world, when they\nshare folders and they communicate off\n\n51\n00:02:23.550 --> 00:02:26.520\nthe, across the network, there's several\ndifferent protocols that are involved.\n\n52\n00:02:26.520 --> 00:02:28.340\nThere's a protocol called net bios.\n\n53\n00:02:28.340 --> 00:02:32.250\nAnd net bios was actually developed by\nIntel and it was part of the land manager\n\n54\n00:02:32.250 --> 00:02:36.770\nsuite and Microsoft acquired Intel so\nit became a Microsoft technology.\n\n55\n00:02:36.770 --> 00:02:40.890\nAnd net bios lets two Windows machines\nfind each other on the network.\n\n56\n00:02:40.890 --> 00:02:44.240\nAnd then once they find each other\nthey can start to exchange files and\n\n57\n00:02:44.240 --> 00:02:48.270\nwhen they exchange files they use another\nprotocol again it came from Intel\n\n58\n00:02:48.270 --> 00:02:51.170\ncalled server message blocker, SMB.\n\n59\n00:02:51.170 --> 00:02:55.410\nAnd SMB is the protocol that Microsoft\nSystems using when they share folders.\n\n60\n00:02:55.410 --> 00:02:57.990\nNow, that's what it's officially called.\n\n61\n00:02:57.990 --> 00:03:01.190\nSometimes you'll hear it called CIFS,\nC-I-F-S,\n\n62\n00:03:01.190 --> 00:03:04.380\nwhich is the Common Internet File System.\n\n63\n00:03:04.380 --> 00:03:05.500\nAnd when you hear a name like that,\n\n64\n00:03:05.500 --> 00:03:08.850\nCommon Internet File System, that sounds\nlike an open standard, doesn't it?\n\n65\n00:03:08.850 --> 00:03:13.660\nWell, Microsoft did actually get it\nstandardized, but funny thing here.\n\n66\n00:03:13.660 --> 00:03:16.420\nDid you know that you can have\na patent on a standardized technology?\n\n67\n00:03:16.420 --> 00:03:17.190\n&gt;&gt; That's interesting.\n\n68\n00:03:17.190 --> 00:03:19.485\n&gt;&gt; Microsoft knows.\n\n69\n00:03:19.485 --> 00:03:23.630\n[LAUGH] So, CIFS is not exactly\nsomething that just anybody can deploy.\n\n70\n00:03:23.630 --> 00:03:26.600\nIt is SMB, and so\nthose names are basically interchangeable,\n\n71\n00:03:26.600 --> 00:03:27.950\nas far as we're concerned.\n\n72\n00:03:27.950 --> 00:03:29.690\nSo, what happened was years ago.\n\n73\n00:03:29.690 --> 00:03:32.570\nI mean this was 12, 15 years ago maybe.\n\n74\n00:03:32.570 --> 00:03:34.360\nA group of people had a great idea.\n\n75\n00:03:34.360 --> 00:03:37.040\nWhich is, hey, we're not gonna\nlicense this for Microsoft.\n\n76\n00:03:37.040 --> 00:03:38.980\nNot for\na free operating system like Linux.\n\n77\n00:03:38.980 --> 00:03:41.250\nSo instead,\nwe're going to reverse engineer it.\n\n78\n00:03:41.250 --> 00:03:43.620\nAnd that's what they did,\nthey started reverse engineering it.\n\n79\n00:03:43.620 --> 00:03:48.050\nAnd tweaking it and pulling functionality,\nthat was available in SMB.\n\n80\n00:03:48.050 --> 00:03:51.720\nAnd bringing it into an open standard,\nor an open source product.\n\n81\n00:03:51.720 --> 00:03:55.630\nWhich they called Samba, and\nSamba is just a play on SMB.\n\n82\n00:03:55.630 --> 00:03:57.440\nAnd so Samba is the open source version.\n\n83\n00:03:57.440 --> 00:04:02.320\nNow, the reason I go to this history, the\nreason it's important is you need to know\n\n84\n00:04:02.320 --> 00:04:06.670\nthat Samba is not 100%\ncompatible with SMB.\n\n85\n00:04:06.670 --> 00:04:10.610\nThere are features in SMB that\nare not supported in Samba.\n\n86\n00:04:10.610 --> 00:04:12.692\nSo, as we go through this\nconfiguration on Red Hat.\n\n87\n00:04:12.692 --> 00:04:15.760\nI'm gonna point out a few different\nplaces that we need to be aware\n\n88\n00:04:15.760 --> 00:04:17.260\nthat certain things don't work.\n\n89\n00:04:17.260 --> 00:04:20.770\nTechnically the official version of SMB\nthat is implemented in the new version\n\n90\n00:04:20.770 --> 00:04:22.729\nof windows is SMB version 4.\n\n91\n00:04:22.729 --> 00:04:25.420\nAnd it's got things like\nsession encryption,\n\n92\n00:04:25.420 --> 00:04:27.648\nthat samba doesn't support, right?\n\n93\n00:04:27.648 --> 00:04:29.511\nIf I just want to share\nfiles on the network and\n\n94\n00:04:29.511 --> 00:04:32.310\nuse basic network connectivity,\nSamba works great.\n\n95\n00:04:32.310 --> 00:04:35.250\nBut, if I wanna start getting into more\nadvanced things, I'll tell you what'll\n\n96\n00:04:35.250 --> 00:04:38.060\nhappen, you're gonna start moving back\nover to NFS is what you're gonna do,\n\n97\n00:04:38.060 --> 00:04:40.370\ncuz then you get all\nthe advanced bells and whistles.\n\n98\n00:04:40.370 --> 00:04:42.250\nBut, Samba does have its place.\n\n99\n00:04:42.250 --> 00:04:43.990\nAnd so we certainly need to\nknow how to implement it.\n\n100\n00:04:43.990 --> 00:04:46.620\nAnd implementing it on Red Hat,\nis actually not that hard,\n\n101\n00:04:46.620 --> 00:04:50.820\nbecause with most of our installs,\nSamba is already there.\n\n102\n00:04:50.820 --> 00:04:52.510\nIn fact, I believe,\n\n103\n00:04:52.510 --> 00:04:56.900\nif you do anything except the minimal\ninstall, Samba is already installed.\n\n104\n00:04:56.900 --> 00:04:57.720\nAnd on the minimal install,\n\n105\n00:04:57.720 --> 00:05:00.540\nI believe Samba is already\nthere it's just not turned on.\n\n106\n00:05:00.540 --> 00:05:03.300\nIt's really not a whole lot\nof effort to get it in there.\n\n107\n00:05:03.300 --> 00:05:05.480\nIt's just getting it configured and\ngetting it turned on.\n\n108\n00:05:05.480 --> 00:05:07.890\nSo I wanna start with configuring a sever.\n\n109\n00:05:07.890 --> 00:05:10.180\nA server that will share\nfolders on the network, so\n\n110\n00:05:10.180 --> 00:05:11.730\nWindows machines can access us.\n\n111\n00:05:11.730 --> 00:05:14.230\nAnd then at the end of the episode\nI'll talk about being a client,\n\n112\n00:05:14.230 --> 00:05:17.160\nthat you can actually have your\nRed Hat machine, if you're\n\n113\n00:05:17.160 --> 00:05:21.620\nrunning on a work station you can browse\nthe network and connect to Samba share.\n\n114\n00:05:21.620 --> 00:05:25.950\nSMB shares that are on Microsoft severs so\nyou get that kind of cross compatibility\n\n115\n00:05:25.950 --> 00:05:29.210\nand we should lump Mac OS into this\nbecause Apple did the same thing.\n\n116\n00:05:29.210 --> 00:05:32.330\nApple basically worked SMB in and\n\n117\n00:05:32.330 --> 00:05:35.450\nApple went a different route because\nthey licensed SNB from Microsoft.\n\n118\n00:05:35.450 --> 00:05:38.845\nThey actually pay for it, so\nthey have a better compatibility but\n\n119\n00:05:38.845 --> 00:05:41.203\nthey're still at only SNB version 3 not 4.\n\n120\n00:05:41.203 --> 00:05:43.010\nSo like they can't do encryption either.\n\n121\n00:05:43.010 --> 00:05:45.670\nBut in Linux we have\nthe free version with some.\n\n122\n00:05:45.670 --> 00:05:48.890\n&gt;&gt; That must have been a tough check\nto write and send over to Microsoft.\n\n123\n00:05:48.890 --> 00:05:51.515\nI know they're not\nthe greatest of friends.\n\n124\n00:05:51.515 --> 00:05:52.330\n[LAUGH]\n&gt;&gt; That's true.\n\n125\n00:05:52.330 --> 00:05:54.480\nMicrosoft is a different\ncompany that they used to\n\n126\n00:05:54.480 --> 00:05:55.390\nbe but-\n&gt;&gt; True\n\n127\n00:05:55.390 --> 00:05:57.330\n&gt;&gt; The other thing to remember is,\n\n128\n00:05:57.330 --> 00:06:01.300\nif you want to get a foothold\nin the business desktop world,\n\n129\n00:06:01.300 --> 00:06:02.460\nyou need this kind of connectivity.\n\n130\n00:06:02.460 --> 00:06:04.620\nIt doesn't matter if you like or\nhate Microsoft.\n\n131\n00:06:04.620 --> 00:06:06.560\nYou need to be compatible\nto make this work.\n\n132\n00:06:06.560 --> 00:06:07.412\nThat's what they're doing.\n\n133\n00:06:07.412 --> 00:06:12.104\nAnd eventually the goal is hopefully they\ncan make people realize they don't need\n\n134\n00:06:12.104 --> 00:06:13.370\nWindows any more.\n\n135\n00:06:13.370 --> 00:06:16.350\nThat they can use Linux and\nthis is the foothold to do it.\n\n136\n00:06:16.350 --> 00:06:19.540\nAll right, so let's see how we can\nget that foothold put in place.\n\n137\n00:06:19.540 --> 00:06:22.330\nI'm gonna start right here on\nmy trusty Red Hat box that we've\n\n138\n00:06:22.330 --> 00:06:23.755\nbeen using throughout this series.\n\n139\n00:06:23.755 --> 00:06:26.040\nAnd I'm gonna drop into a terminal.\n\n140\n00:06:26.040 --> 00:06:29.590\nI'm gonna so all of this from the\nterminal, because that way you see a way\n\n141\n00:06:29.590 --> 00:06:34.500\nthat works in both the GUI and\nin headless system, cuz on a server\n\n142\n00:06:34.500 --> 00:06:37.380\nwe're not normally gonna have the GUI so\nI'll do it all through the terminal.\n\n143\n00:06:37.380 --> 00:06:39.850\nIt doesn't truly matter\nbecause at the end of the day,\n\n144\n00:06:39.850 --> 00:06:42.290\nthere are some GUI utilities out there for\n\n145\n00:06:42.290 --> 00:06:47.030\nconfiguring Samba, but they're not\na part of the official Samba release.\n\n146\n00:06:47.030 --> 00:06:49.400\nThey're third parties that\nwrote GUIs to bring them in.\n\n147\n00:06:49.400 --> 00:06:54.210\nSo, I don't like to use those because\nsometimes new features come in to Samba\n\n148\n00:06:54.210 --> 00:06:57.080\nand you've got to wait for\nthe GUIs to update and then inevitably,\n\n149\n00:06:57.080 --> 00:07:00.270\nwhoever was maintaining the Samba GUI,\nstops maintaining it and\n\n150\n00:07:00.270 --> 00:07:00.960\nnow you've got to switch.\n\n151\n00:07:00.960 --> 00:07:05.260\nSo I always recommend just use the command\nline for configuring Samba, it's not that\n\n152\n00:07:05.260 --> 00:07:08.930\nhard to get configured although\nyou will see it is a lot of steps.\n\n153\n00:07:08.930 --> 00:07:10.970\nI'm gonna through a lot of\nsteps here in the episode.\n\n154\n00:07:10.970 --> 00:07:15.422\nAnd don't worry about feverishly writing\nthese down, we'll put the show notes,\n\n155\n00:07:15.422 --> 00:07:19.046\nthese little guys right here along\nwith the episode on the website so\n\n156\n00:07:19.046 --> 00:07:21.669\nthat you're able to get those and\nsee the steps.\n\n157\n00:07:21.669 --> 00:07:24.326\nCuz it is a lot, it's easy to miss things.\n\n158\n00:07:24.326 --> 00:07:26.676\nAll right, the first thing I\nwanna do is I wanna check and\n\n159\n00:07:26.676 --> 00:07:28.490\nsee if Samba's installed on the machine.\n\n160\n00:07:28.490 --> 00:07:32.900\nAnd it likely is but\nit doesn't hurt to run a quick check.\n\n161\n00:07:32.900 --> 00:07:35.670\nNow I'm going to be doing\na ton of commands here.\n\n162\n00:07:35.670 --> 00:07:39.410\nAnd all of these commands need\nto be run as an administrator,\n\n163\n00:07:39.410 --> 00:07:43.320\nneed to be run as root basically.\n\n164\n00:07:43.320 --> 00:07:47.266\nAnd so I would really need to do\na sudu for every single command.\n\n165\n00:07:47.266 --> 00:07:51.357\nIf you're one of those people that\ndon't like to do sudu over and over and\n\n166\n00:07:51.357 --> 00:07:55.045\nover again, then what you can do is,\nwell there is a few options,\n\n167\n00:07:55.045 --> 00:07:57.554\nyou can use \"su\" and become the root user.\n\n168\n00:07:57.554 --> 00:08:02.380\nAnd then that way, every command you\nissue is now going to be issued as root.\n\n169\n00:08:02.380 --> 00:08:04.630\nSee how my user name just changed to root?\n\n170\n00:08:04.630 --> 00:08:09.040\nThe negative with this is if you forget,\nyou now have an open shell as root, and\n\n171\n00:08:09.040 --> 00:08:10.220\nit's just sitting there.\n\n172\n00:08:10.220 --> 00:08:13.280\nAnd if somebody came along and\nsat down after you got up,\n\n173\n00:08:13.280 --> 00:08:14.860\nnow they'd have root\naccess to the machine.\n\n174\n00:08:14.860 --> 00:08:17.159\nSo that's not really\nthe recommended way to do it.\n\n175\n00:08:18.230 --> 00:08:19.870\nRunning individual sudo commands is.\n\n176\n00:08:19.870 --> 00:08:24.710\nI mean you could also cheat and do like\na sudo sh to launch a shell as root.\n\n177\n00:08:24.710 --> 00:08:25.540\nBut the same thing.\n\n178\n00:08:25.540 --> 00:08:26.867\nSame thing as doing su.\n\n179\n00:08:26.867 --> 00:08:30.299\nSo I'm gonna go ahead and type sudo every\ntime just cuz I'm in the habit of doing\n\n180\n00:08:30.299 --> 00:08:33.112\nthat, which is funny that I say\nthat cuz I forget to type it a lot.\n\n181\n00:08:33.112 --> 00:08:34.085\n&gt;&gt; You forget all the time.\n\n182\n00:08:34.085 --> 00:08:35.329\n[LAUGH]\n&gt;&gt; But\n\n183\n00:08:35.329 --> 00:08:36.681\nthat is the recommended way to do it.\n\n184\n00:08:36.681 --> 00:08:39.012\nSo I'm gonna do it the recommended way but\nin real life land,\n\n185\n00:08:39.012 --> 00:08:40.627\nfeel free to use one of the alternatives.\n\n186\n00:08:40.627 --> 00:08:42.552\n&gt;&gt; Don's in the habit of\nforgetting to use sudo.\n\n187\n00:08:42.552 --> 00:08:43.072\nThat's right.\n\n188\n00:08:43.072 --> 00:08:44.824\n[LAUGH]\n&gt;&gt; I guess the better way is I'm in\n\n189\n00:08:44.824 --> 00:08:46.946\nthe habit of having to remember-\n&gt;&gt; There you go.\n\n190\n00:08:46.946 --> 00:08:48.289\n[LAUGH]\n&gt;&gt; All right, so\n\n191\n00:08:48.289 --> 00:08:50.454\nlet's start off just by checking\nto see if this thing's installed.\n\n192\n00:08:50.454 --> 00:08:53.232\nI'm gonna do a sudo yum install.\n\n193\n00:08:53.232 --> 00:08:55.700\nAnd I'm looking for Samba.\n\n194\n00:08:55.700 --> 00:09:00.245\nAnd if I'm gonna be a Samba server,\ntechnically I just need Samba and\n\n195\n00:09:00.245 --> 00:09:02.800\nsamba-common, right?\n\n196\n00:09:02.800 --> 00:09:05.140\nThose are kinda the two that I need.\n\n197\n00:09:05.140 --> 00:09:09.403\nIf I'm gonna be a Samba client,\nthere is samba-client also.\n\n198\n00:09:09.403 --> 00:09:14.880\nAnd I usually do install the client on\nthe server, and let me tell you why.\n\n199\n00:09:14.880 --> 00:09:17.658\nI don't need it, but there's\na couple of utilities we can use to\n\n200\n00:09:17.658 --> 00:09:20.660\ntest to see whether our shares\nare showing on the network.\n\n201\n00:09:20.660 --> 00:09:23.620\nAnd those utilities are part of\nthe samba-client package, so\n\n202\n00:09:23.620 --> 00:09:25.400\nI like to install it too.\n\n203\n00:09:25.400 --> 00:09:28.010\nIt doesn't need to stay there, you can\nalways remove it if you wanted, but\n\n204\n00:09:28.010 --> 00:09:29.030\nit really doesn't hurt.\n\n205\n00:09:29.030 --> 00:09:31.680\nAnd I think what we'll find is that all\nthree of them are already installed\n\n206\n00:09:31.680 --> 00:09:33.880\nanyway, so it doesn't truly matter.\n\n207\n00:09:33.880 --> 00:09:36.702\nActually no, I'm missing Samba and\nsamba-client.\n\n208\n00:09:36.702 --> 00:09:39.560\nOddly enough, samba-common, already there.\n\n209\n00:09:39.560 --> 00:09:42.240\nSo, all right, well we'll go ahead and\nget that installed.\n\n210\n00:09:43.470 --> 00:09:46.380\nAnd there we go and so now I've got\nthem in place, and I'm in business.\n\n211\n00:09:46.380 --> 00:09:48.090\nI can't remember if that's the default, or\n\n212\n00:09:48.090 --> 00:09:52.420\nI might have removed them before the show,\nsometimes I get in there and mess around.\n\n213\n00:09:52.420 --> 00:09:56.320\nBut anyhow, so right now I've got Samba\ninstalled, and I'm ready to get to work.\n\n214\n00:09:56.320 --> 00:09:59.640\nSo, here's the steps we need to\ngo through to get Samba working.\n\n215\n00:09:59.640 --> 00:10:05.220\nFirst off, we need to think about how\nwe're going to authenticate users.\n\n216\n00:10:05.220 --> 00:10:07.610\nIn Samba, we've got three real choices.\n\n217\n00:10:07.610 --> 00:10:10.020\nIf you go and read the documentation,\nthere's like five choices, but\n\n218\n00:10:10.020 --> 00:10:12.780\ntwo of them are super obsolete and\nwe don't really mess with those anymore.\n\n219\n00:10:12.780 --> 00:10:14.690\nSo there's three real choices.\n\n220\n00:10:14.690 --> 00:10:16.860\nChoice number one, we don't authenticate.\n\n221\n00:10:16.860 --> 00:10:18.910\nWe have anonymous access to folders.\n\n222\n00:10:18.910 --> 00:10:22.377\nIf somebody can browse through the folder,\nthey can get in and\n\n223\n00:10:22.377 --> 00:10:25.652\nwe either give them full rewrite or\nwe just give them read.\n\n224\n00:10:25.652 --> 00:10:26.995\n&gt;&gt; I like it, let's do that.\n\n225\n00:10:26.995 --> 00:10:28.930\n[LAUGH]\n&gt;&gt; Sometimes, it's suitable.\n\n226\n00:10:28.930 --> 00:10:29.860\n&gt;&gt; It is.\n\n227\n00:10:29.860 --> 00:10:32.310\n&gt;&gt; Let's say we have a small business.\n\n228\n00:10:33.340 --> 00:10:35.130\nA dentist office, you have five employees.\n\n229\n00:10:35.130 --> 00:10:36.900\nAnd you just need to\nshare in your network.\n\n230\n00:10:36.900 --> 00:10:39.290\nAnd you only have your\nemployees on the network.\n\n231\n00:10:39.290 --> 00:10:41.090\nYou don't let other people on the network.\n\n232\n00:10:41.090 --> 00:10:43.080\nYou could use Samba and restrict it.\n\n233\n00:10:43.080 --> 00:10:46.730\nWe can always use the firewall to control\nwho can even connect in the first place so\n\n234\n00:10:46.730 --> 00:10:47.756\nmaybe we don't do authentication.\n\n235\n00:10:47.756 --> 00:10:49.501\nThat works.\n\n236\n00:10:49.501 --> 00:10:53.380\nOption number two is we do\nwork group authentication.\n\n237\n00:10:53.380 --> 00:10:55.350\nA work group means I\nmaintain the usernames and\n\n238\n00:10:55.350 --> 00:10:57.410\npasswords right here on this server.\n\n239\n00:10:57.410 --> 00:10:58.380\nNow that's effective.\n\n240\n00:10:58.380 --> 00:11:00.250\nNow I've got user names and passwords, but\n\n241\n00:11:00.250 --> 00:11:04.020\nif I have five servers, I've got to create\nusers and passwords on all five servers.\n\n242\n00:11:04.020 --> 00:11:05.340\nIt's a bit of a hassle, right?\n\n243\n00:11:05.340 --> 00:11:08.814\nBut If I've only got one server, work\ngroup authentication works really well.\n\n244\n00:11:08.814 --> 00:11:12.550\nAnd then the third option is\nActive Directory authentication.\n\n245\n00:11:12.550 --> 00:11:16.220\nIf there's a Microsoft Active Directory,\nActive Directory is really just running\n\n246\n00:11:16.220 --> 00:11:18.600\nLDAP and it uses Kerberos for\nauthentication.\n\n247\n00:11:18.600 --> 00:11:23.150\nWell LDAP and Kerberos were both\ndeveloped in Unix originally and\n\n248\n00:11:23.150 --> 00:11:24.940\nthen brought over to Windows.\n\n249\n00:11:24.940 --> 00:11:28.300\nSo we can actually get our Linux box,\nour Red Hat box, to reach out and\n\n250\n00:11:28.300 --> 00:11:30.660\nauthenticate against\nan Active Directory server if we want.\n\n251\n00:11:30.660 --> 00:11:32.479\nSo I need to figure out\nwhich one I'm gonna do.\n\n252\n00:11:32.479 --> 00:11:34.468\nWell I'm not gonna do anonymous.\n\n253\n00:11:34.468 --> 00:11:37.642\n&gt;&gt; [LAUGH]\n&gt;&gt; Actually, I'll show them my example.\n\n254\n00:11:37.642 --> 00:11:39.980\nI'll do where I allow\nsome anonymous stuff.\n\n255\n00:11:39.980 --> 00:11:42.040\nI'll do read-only for anonymous.\n\n256\n00:11:42.040 --> 00:11:45.370\nAnd I'll do a folder that requires a user\nname and password to get read write.\n\n257\n00:11:45.370 --> 00:11:47.910\nSo we'll kind of go both ways on that one.\n\n258\n00:11:47.910 --> 00:11:52.530\nOn the Active Directory side, the nice\npart is if you point to an AD server,\n\n259\n00:11:52.530 --> 00:11:54.160\nyou don't need to create\nuser accounts ahead of time.\n\n260\n00:11:54.160 --> 00:11:56.686\nThey already exist in the ADs so\nwe don't have to worry about it, right?\n\n261\n00:11:56.686 --> 00:11:57.752\nSo I'll show you how to do that too.\n\n262\n00:11:57.752 --> 00:12:00.419\nSo we'll kinda see all\nthree examples as we go.\n\n263\n00:12:00.419 --> 00:12:04.761\nBut I'm gonna start planning for\nwork group authentication.\n\n264\n00:12:04.761 --> 00:12:05.882\nFor work group authentication,\n\n265\n00:12:05.882 --> 00:12:08.410\nI've got to create the user\naccounts right here on my system.\n\n266\n00:12:08.410 --> 00:12:12.060\nSo I've got a user account for\nme, right, I'm dpezet.\n\n267\n00:12:12.060 --> 00:12:13.510\nSo I've got my account.\n\n268\n00:12:13.510 --> 00:12:18.330\nI can create other accounts for people\nif I want, so I could do a useradd and\n\n269\n00:12:18.330 --> 00:12:20.020\nmaybe I create one for Daniel, right?\n\n270\n00:12:20.020 --> 00:12:23.630\nSo I'm gonna create a dlowry account,\nand get that one put in there.\n\n271\n00:12:25.240 --> 00:12:28.841\nI would need to set a password for Daniel.\n\n272\n00:12:28.841 --> 00:12:35.321\nSo I'll just assign a password for\nhim and, oop, my password was too weak.\n\n273\n00:12:35.321 --> 00:12:36.060\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] So\n\n274\n00:12:36.060 --> 00:12:38.827\nlet's pick one that's a little stronger.\n\n275\n00:12:38.827 --> 00:12:41.008\nAnd now-\n&gt;&gt; Make them match.\n\n276\n00:12:41.008 --> 00:12:42.390\n&gt;&gt; Well, I guess that's a good point.\n\n277\n00:12:42.390 --> 00:12:43.050\nThat would help.\n\n278\n00:12:43.050 --> 00:12:44.850\nSo let me type it a fourth time.\n\n279\n00:12:44.850 --> 00:12:45.472\nThere we go.\n\n280\n00:12:45.472 --> 00:12:46.970\nAll right, so now Daniel's got a password.\n\n281\n00:12:46.970 --> 00:12:48.600\nVery exciting, right?\n\n282\n00:12:48.600 --> 00:12:52.570\nFrom here, I can then go in and\nstart to create groups, all right?\n\n283\n00:12:52.570 --> 00:12:54.140\nSo I might have a group and\n\n284\n00:12:54.140 --> 00:12:55.940\nit's recommended that you use groups for\nthis stuff.\n\n285\n00:12:55.940 --> 00:13:00.480\nSo I'll do a group add and\nI'm gonna create group called employees.\n\n286\n00:13:00.480 --> 00:13:03.630\nAnd the reason I'm creating a group is I\nneed to assign permissions to the folders\n\n287\n00:13:03.630 --> 00:13:05.910\nthat I'm gonna share out, and\nI don't want to have to go in and\n\n288\n00:13:05.910 --> 00:13:09.920\nsay Daniel has access, and I have access,\nand employee three and employee four.\n\n289\n00:13:09.920 --> 00:13:12.950\nIf I can put them all in a group,\nI can just give the group access.\n\n290\n00:13:12.950 --> 00:13:14.631\nThat makes life a lot easier, all right?\n\n291\n00:13:14.631 --> 00:13:16.826\nSo these are standard Unix\nusers that I'm creating.\n\n292\n00:13:16.826 --> 00:13:19.183\nThey're going right into\nour regular database and\n\n293\n00:13:19.183 --> 00:13:20.997\nthey're being kind of stuck in there.\n\n294\n00:13:20.997 --> 00:13:23.400\nI'm gonna take and add our account.\n\n295\n00:13:23.400 --> 00:13:26.289\nSo I'm gonna do a usermod -a and\n\n296\n00:13:26.289 --> 00:13:31.319\nI'm gonna add myself to\nthe employees group, whoops.\n\n297\n00:13:31.319 --> 00:13:32.312\nIf I get my syntax right.\n\n298\n00:13:32.312 --> 00:13:37.816\nI need usermod-a-g, and I'll add Daniel.\n\n299\n00:13:37.816 --> 00:13:40.332\nActually, I could of\ndone at the same time,\n\n300\n00:13:40.332 --> 00:13:42.785\nyou can add more than\none user in that list.\n\n301\n00:13:42.785 --> 00:13:47.020\nAnd [LAUGH] that's not\nhow you spell your name.\n\n302\n00:13:47.020 --> 00:13:48.210\nThere we go, all right?\n\n303\n00:13:48.210 --> 00:13:50.166\nSo now we're both in the employees group.\n\n304\n00:13:50.166 --> 00:13:53.546\nSo far, all standard Linux commands,\nUnix commands, right?\n\n305\n00:13:53.546 --> 00:13:55.894\nI'm just creating users and\ngroups, nothing special there,\n\n306\n00:13:55.894 --> 00:13:56.833\nnothing Samba related.\n\n307\n00:13:56.833 --> 00:13:58.830\nHere's where we get into the Samba side.\n\n308\n00:13:58.830 --> 00:14:02.150\nThat's our Unix password,\nwe need a Samba password.\n\n309\n00:14:02.150 --> 00:14:05.860\nWhen somebody comes in via SNB, they're\ngonna send a username and a password, and\n\n310\n00:14:05.860 --> 00:14:09.310\nit maintains it's own separate\npassword from the account.\n\n311\n00:14:09.310 --> 00:14:10.580\nNow why do that?\n\n312\n00:14:10.580 --> 00:14:11.840\nWell, remember what I\nsaid about encryption?\n\n313\n00:14:11.840 --> 00:14:15.370\nRemember about how\nauthentication is not quite\n\n314\n00:14:15.370 --> 00:14:18.070\nup to the highest levels with smb\nbecause it's reverse engineered.\n\n315\n00:14:18.070 --> 00:14:20.980\nSo they maintain a separate password so\nthat if it gets compromised,\n\n316\n00:14:20.980 --> 00:14:22.270\nit limits exposure a little bit.\n\n317\n00:14:22.270 --> 00:14:24.190\nSo I'm gonna come in and say\n\n318\n00:14:27.420 --> 00:14:32.270\nsmbpasswd for my account, right?\n\n319\n00:14:32.270 --> 00:14:36.256\nSo, I'm adding that Samba password for\nmy account and then I'll come in and\n\n320\n00:14:36.256 --> 00:14:39.073\nI'll punch in whatever that\npassword is going to be.\n\n321\n00:14:39.073 --> 00:14:41.948\nSo, I'm just gonna set it to\nthe word password, all lowercase.\n\n322\n00:14:41.948 --> 00:14:45.938\nI'll do the same for Daniel, so\nI'm adding that Samba password.\n\n323\n00:14:45.938 --> 00:14:47.960\nThis is an important step\nthat a lot of people forget.\n\n324\n00:14:47.960 --> 00:14:51.940\nA lot of people go and set this stuff\nup and then they wonder like hey,\n\n325\n00:14:51.940 --> 00:14:54.780\nwhy isn't this account working or\nwhatever.\n\n326\n00:14:54.780 --> 00:14:57.650\nSo now I've got my users,\nI've got my groups.\n\n327\n00:14:57.650 --> 00:14:59.580\nI've got passwords\nassigned to the accounts.\n\n328\n00:14:59.580 --> 00:15:01.590\nAnd we're good to go on the accounts.\n\n329\n00:15:01.590 --> 00:15:04.690\nNow, if I've doing anonymous\nauthentication, I could skip this step.\n\n330\n00:15:04.690 --> 00:15:07.460\nIf I'm doing Active Directory\nauthentication, I could skip this step.\n\n331\n00:15:07.460 --> 00:15:10.330\nBut for work group, got to have accounts\nsomewhere so I just created that.\n\n332\n00:15:10.330 --> 00:15:13.000\n&gt;&gt; Probably be a good idea at\nthat point to create some sort of\n\n333\n00:15:13.000 --> 00:15:16.620\nscripted utility that will change\nboth passwords at the same time.\n\n334\n00:15:16.620 --> 00:15:19.910\nSo that when the user wants to change\ntheir password, it changes them for both,\n\n335\n00:15:19.910 --> 00:15:20.790\nand it's the same.\n\n336\n00:15:20.790 --> 00:15:24.320\n&gt;&gt; Absolutely, yeah, and writing a simple\nshell script or whatever to do that,\n\n337\n00:15:24.320 --> 00:15:27.359\nor there's GUIs out there that'll do it,\ntoo, and kinda knock it all out at once.\n\n338\n00:15:28.540 --> 00:15:30.020\nAll right, so I've got that next.\n\n339\n00:15:30.020 --> 00:15:32.020\nI want to create some\nfolders to share out, right?\n\n340\n00:15:32.020 --> 00:15:36.550\nSo I'm going to create some directories,\nand\n\n341\n00:15:36.550 --> 00:15:37.960\nwhat I'm gonna do is I'm\ngonna create two folders.\n\n342\n00:15:37.960 --> 00:15:40.510\nI'll create one called public and\none called private.\n\n343\n00:15:40.510 --> 00:15:42.680\nThe public one,\nI'm gonna make that available for\n\n344\n00:15:42.680 --> 00:15:45.500\nanonymous users, anybody can get to it.\n\n345\n00:15:45.500 --> 00:15:48.320\nI'm gonna take the private one and\nmake that available just for employees.\n\n346\n00:15:48.320 --> 00:15:50.563\nIf you're an employee, if you\nauthenticate, you can connect to it.\n\n347\n00:15:50.563 --> 00:15:52.766\nAnd you can create files and\ndo whatever you need.\n\n348\n00:15:52.766 --> 00:15:54.370\nSo a public and a private.\n\n349\n00:15:54.370 --> 00:15:57.016\nSo I'm gonna start by\ncreating my first one.\n\n350\n00:15:57.016 --> 00:15:58.844\nI'm gonna create a directory.\n\n351\n00:15:58.844 --> 00:16:02.500\nI'm gonna do -p to create the parent\ndirectory at the same time.\n\n352\n00:16:02.500 --> 00:16:05.400\nAnd m so I can set the mode for\nthe file permissions.\n\n353\n00:16:05.400 --> 00:16:07.630\nI'm gonna give this one 755.\n\n354\n00:16:07.630 --> 00:16:11.410\nSo the owner will have rewrite, execute.\n\n355\n00:16:11.410 --> 00:16:13.950\nThe group will have read and execute.\n\n356\n00:16:13.950 --> 00:16:15.600\nAnd everyone else will have read and\nexecute.\n\n357\n00:16:15.600 --> 00:16:18.330\nSo the owner will be the only\nperson who's actually got write\n\n358\n00:16:18.330 --> 00:16:20.030\npermissions on this one.\n\n359\n00:16:20.030 --> 00:16:23.130\nAnd I'm gonna set this as /shares/public.\n\n360\n00:16:23.130 --> 00:16:28.580\nAll right, now that /shares, that-\n&gt;&gt; [LAUGH] You can do it Donnie.\n\n361\n00:16:28.580 --> 00:16:29.826\n&gt;&gt; I went to school, I promise.\n\n362\n00:16:29.826 --> 00:16:30.935\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n363\n00:16:30.935 --> 00:16:34.340\nthat /shares,That's something\nI'm in the habit of doing.\n\n364\n00:16:34.340 --> 00:16:38.760\nIn SMD we create file shares or\nprinter shares, so\n\n365\n00:16:38.760 --> 00:16:41.370\nI just think of slash shares, but\nthat's just me, That's a Don thing.\n\n366\n00:16:41.370 --> 00:16:44.380\nThat's not a documented, you can\nput your folders wherever you want,\n\n367\n00:16:44.380 --> 00:16:45.710\nyou can call them whatever you want.\n\n368\n00:16:45.710 --> 00:16:46.925\n&gt;&gt; And people do that.\n\n369\n00:16:46.925 --> 00:16:49.180\n[LAUGH]\n&gt;&gt; Yeah, We'll have to do a little bit of\n\n370\n00:16:49.180 --> 00:16:51.100\nSELinux trickery a little bit later,\nso obviously,\n\n371\n00:16:51.100 --> 00:16:52.690\nyou'll need to remember that path.\n\n372\n00:16:52.690 --> 00:16:54.210\nBut you can put it wherever.\n\n373\n00:16:54.210 --> 00:16:55.750\nI just like to put them all in Shares.\n\n374\n00:16:55.750 --> 00:16:58.490\nAnd a lot of time, I'll move it to a\ndifferent partition or a different drive.\n\n375\n00:16:58.490 --> 00:17:01.530\nAnd by having it as a folder like that,\nI can move them all at once.\n\n376\n00:17:01.530 --> 00:17:03.400\nMakes life a little bit easier, right?\n\n377\n00:17:03.400 --> 00:17:04.280\nSo I'm gonna create that one.\n\n378\n00:17:04.280 --> 00:17:07.820\nAnd I'm gonna do the same thing for\nthe private folder.\n\n379\n00:17:07.820 --> 00:17:10.500\nBut I'm gonna change the permissions\na little bit on my private folder.\n\n380\n00:17:10.500 --> 00:17:13.760\nI'm gonna go 770, all right.\n\n381\n00:17:13.760 --> 00:17:18.100\nSo the owner will have read write execute,\nthe group will have read write execute.\n\n382\n00:17:18.100 --> 00:17:22.090\nEverybody else, nothing, right, cuz you've\ngotta authenticate to get to this folder.\n\n383\n00:17:22.090 --> 00:17:23.980\nI don't want any\nunauthenticated users coming.\n\n384\n00:17:23.980 --> 00:17:25.765\nI'm just blanking that out.\n\n385\n00:17:25.765 --> 00:17:27.173\nAll right.\n\n386\n00:17:27.173 --> 00:17:29.950\nNext,\n&gt;&gt; What I need to do\n\n387\n00:17:29.950 --> 00:17:32.210\nis I need to change\nthe ownership of those files.\n\n388\n00:17:32.210 --> 00:17:38.270\nIf I look at what they were set to by\ndefault, they're set to root, right?\n\n389\n00:17:38.270 --> 00:17:40.800\nSo the root is the owner of those files.\n\n390\n00:17:40.800 --> 00:17:43.710\nWell, am I ever gonna log\nin as root via the network?\n\n391\n00:17:43.710 --> 00:17:45.960\nNo, so I need to kind of patch this,\n\n392\n00:17:45.960 --> 00:17:49.990\nusually root access isn't allowed on\nthe network like with SSH it's blocked.\n\n393\n00:17:49.990 --> 00:17:52.340\nBut Samba's a different protocol,\nand actually it doesn't block it.\n\n394\n00:17:52.340 --> 00:17:54.580\nSo I could come in as root and\nthat's an attack vector.\n\n395\n00:17:54.580 --> 00:17:59.060\nSo I'm gonna change that, and on a public\nfolder like this I don't really care\n\n396\n00:17:59.060 --> 00:18:03.000\nwho the owner is because it's public,\nanybody can get in, right?\n\n397\n00:18:03.000 --> 00:18:05.890\nSo I'm gonna change who the owner is.\n\n398\n00:18:05.890 --> 00:18:09.660\nI'll do a little sudu,\nI'll do a change owner.\n\n399\n00:18:09.660 --> 00:18:11.230\nAnd I'm gonna do it,\n\n400\n00:18:11.230 --> 00:18:13.070\nI'm gonna do recursive because\nI'm in the habit of that, but\n\n401\n00:18:13.070 --> 00:18:16.100\nthere's technically nothing in the folder\nso I don't have to do it recursive.\n\n402\n00:18:16.100 --> 00:18:20.070\nBut I'm gonna point to /share, I probably\nneed to specify who the owner is.\n\n403\n00:18:20.070 --> 00:18:24.700\nI'm gonna set this to nobody,\nnobody for the owner and nobody for\n\n404\n00:18:24.700 --> 00:18:27.250\nthe group, for that public folder.\n\n405\n00:18:28.280 --> 00:18:31.220\nAnd in that way, it just technically\ndoesn't have an owner, and\n\n406\n00:18:31.220 --> 00:18:32.890\nthe owner permission is no longer applied.\n\n407\n00:18:32.890 --> 00:18:35.400\nIf you look up here, my owner was 755, so\n\n408\n00:18:35.400 --> 00:18:38.540\nwe end up being down here\nwith these Read and Execute.\n\n409\n00:18:38.540 --> 00:18:42.190\nWell, what actually happens\nis if you come in as a guest,\n\n410\n00:18:42.190 --> 00:18:44.820\nthe guest account gets mapped to nobody.\n\n411\n00:18:44.820 --> 00:18:47.350\nAnd so they'll show as nobody and\nthey'll get read and\n\n412\n00:18:47.350 --> 00:18:50.420\nwrite unless I restrict that in the Samba\npermissions a little bit later.\n\n413\n00:18:50.420 --> 00:18:53.320\nSo just setting that down to nobody.\n\n414\n00:18:53.320 --> 00:18:54.280\nI'll do the same thing for\n\n415\n00:18:54.280 --> 00:18:59.120\nmy private one, except here I do care\nabout who the owner is on this one.\n\n416\n00:18:59.120 --> 00:19:00.900\nAnd so I'm gonna set the owner to me.\n\n417\n00:19:00.900 --> 00:19:02.880\nJust so\nthat I can work with them if I need to.\n\n418\n00:19:02.880 --> 00:19:04.410\nBut the group is what I really care about.\n\n419\n00:19:04.410 --> 00:19:06.550\nI'm going to set the group to employees,\nright.\n\n420\n00:19:06.550 --> 00:19:09.500\nBecause I want my employees to be able to\naccess this folder and work with this and\n\n421\n00:19:09.500 --> 00:19:11.380\nI've got those permissions set too.\n\n422\n00:19:11.380 --> 00:19:14.270\nStandard Linux permissions, this is\nstuff I would set up if I was just doing\n\n423\n00:19:14.270 --> 00:19:17.170\nstraight up Linux connectivity,\nnot even involving Samba.\n\n424\n00:19:17.170 --> 00:19:20.210\nSo we're kind of in line\nwith our normal procedures.\n\n425\n00:19:20.210 --> 00:19:21.700\nAll right, now the Samba part.\n\n426\n00:19:23.250 --> 00:19:28.150\nSamba configuration resides almost\nentirely in one configuration file.\n\n427\n00:19:28.150 --> 00:19:31.020\nAnd that configuration\nfile can get really big.\n\n428\n00:19:31.020 --> 00:19:33.350\nWhen you install Samba,\nit actually creates a default one.\n\n429\n00:19:33.350 --> 00:19:36.560\nAnd I find that it's actually not\nterribly useful for most people.\n\n430\n00:19:36.560 --> 00:19:37.330\nSo, let me show you.\n\n431\n00:19:37.330 --> 00:19:43.980\nIf I go into /etc/samba and\nwe take a look in there.\n\n432\n00:19:43.980 --> 00:19:48.777\nThe two files I'm looking for\nare SMB.comf and SMB.comf.example.\n\n433\n00:19:48.777 --> 00:19:49.609\nAll right.\n\n434\n00:19:49.609 --> 00:19:54.560\nSMB.comf.example is really nice\nbecause it's fully documented.\n\n435\n00:19:54.560 --> 00:19:58.610\nIt has all the syntax of all the different\noptions that we can throw in in\n\n436\n00:19:58.610 --> 00:19:59.810\nexamples, and so on.\n\n437\n00:19:59.810 --> 00:20:02.190\nI mean,\nit's got a lot of information in it.\n\n438\n00:20:02.190 --> 00:20:03.730\nBut the file is huge.\n\n439\n00:20:03.730 --> 00:20:05.850\nIt's got just a ton in there.\n\n440\n00:20:05.850 --> 00:20:11.820\nIf you look at smb.com, that other one,\nwell this one is a lot more small.\n\n441\n00:20:11.820 --> 00:20:13.610\nIt's shrunk down quite a bit.\n\n442\n00:20:13.610 --> 00:20:16.940\nBut when you look at it,\nthe default one is really just set up for\n\n443\n00:20:16.940 --> 00:20:19.350\nprinters, and home directories.\n\n444\n00:20:19.350 --> 00:20:22.070\nAnd I'm not sharing printers or\nhome directories.\n\n445\n00:20:22.070 --> 00:20:24.330\nSo that's not really\nsomething I'm interested in.\n\n446\n00:20:24.330 --> 00:20:27.630\nSo the one that comes with it is\nnot really setup the way I want.\n\n447\n00:20:27.630 --> 00:20:31.100\nAnd for me to go and edit that file is\nactually more work that just to wait and\n\n448\n00:20:31.100 --> 00:20:32.380\nget started from scratch.\n\n449\n00:20:32.380 --> 00:20:34.050\nSo that's exactly what I'm gonna do.\n\n450\n00:20:34.050 --> 00:20:40.190\nI'm gonna wipe out Smb.com and I'm just\ngonna create a new one from scratch.\n\n451\n00:20:43.060 --> 00:20:45.860\nSo we're just gonna edit that file and\nhere we go.\n\n452\n00:20:47.590 --> 00:20:50.670\nWhen you build up a Samba configuration\nthere's really two parts to it.\n\n453\n00:20:50.670 --> 00:20:53.370\nThe first part which is\nthe general Samba settings,\n\n454\n00:20:53.370 --> 00:20:56.240\nthe stuff that applies to\nthe global Samba service.\n\n455\n00:20:56.240 --> 00:20:59.870\nAnd the second part is all our shares,\nall the printers, folders, and\n\n456\n00:20:59.870 --> 00:21:01.850\nother things that you want to\nshare out on their settings.\n\n457\n00:21:01.850 --> 00:21:04.910\nSo I'm gonna start off with the general\nstuff and then we'll get into each folder.\n\n458\n00:21:04.910 --> 00:21:06.540\nThe general stuff is\npretty straight forward.\n\n459\n00:21:06.540 --> 00:21:08.780\nWhen it comes to the general side,\n\n460\n00:21:08.780 --> 00:21:12.160\nwhat we really need to do is\nspecify how we're authenticating.\n\n461\n00:21:12.160 --> 00:21:13.980\nYou need to remember that I said\nthere are different choices for\n\n462\n00:21:13.980 --> 00:21:15.020\nhow with authenticate.\n\n463\n00:21:15.020 --> 00:21:18.390\nSo I'm going to create\na section called global.\n\n464\n00:21:18.390 --> 00:21:19.680\nAnd in this file,\n\n465\n00:21:19.680 --> 00:21:22.740\neach section is identified with a little\nlabel here with square brackets.\n\n466\n00:21:22.740 --> 00:21:24.070\nRight?\nSo this is the global.\n\n467\n00:21:24.070 --> 00:21:28.850\nA little bit later, I'm gonna create\nsections for my folders and other things.\n\n468\n00:21:28.850 --> 00:21:31.720\nAnd so, each of those will have\ntheir own little square brackets and\n\n469\n00:21:31.720 --> 00:21:33.340\nthe information in there.\n\n470\n00:21:33.340 --> 00:21:36.000\nThe first thing I need to do\nis set the name for my server.\n\n471\n00:21:36.000 --> 00:21:37.520\nRemember I mentioned netfiles?\n\n472\n00:21:37.520 --> 00:21:41.110\nRight, Samba uses NetBIOS to\nidentify machines on the network.\n\n473\n00:21:41.110 --> 00:21:43.290\nSo I need to give this one a name and\ncall it whatever.\n\n474\n00:21:43.290 --> 00:21:46.020\nI'm gonna call mine FILESERVER.\n\n475\n00:21:46.020 --> 00:21:51.700\nAnd this is one of the few times that case\ndoesn't really matter because in Windows,\n\n476\n00:21:51.700 --> 00:21:52.780\ncase doesn't matter, right?\n\n477\n00:21:52.780 --> 00:21:56.940\nIn Unix it does, but whatever case it\nis you put it in here, on the network,\n\n478\n00:21:56.940 --> 00:21:58.080\nit will always be capitalized.\n\n479\n00:21:58.080 --> 00:21:59.540\nI'm just kind of in the habit\nof capitalizing it.\n\n480\n00:21:59.540 --> 00:22:01.220\nSame thing goes for the work group name.\n\n481\n00:22:01.220 --> 00:22:03.900\nWhatever you put here, it will always\nbe capitalized when it implements.\n\n482\n00:22:05.030 --> 00:22:10.120\nThen I need to come in and\nsay a few kind of default options.\n\n483\n00:22:10.120 --> 00:22:10.930\nMap to guest.\n\n484\n00:22:12.870 --> 00:22:14.200\nI'll put bad user.\n\n485\n00:22:14.200 --> 00:22:18.340\nSo if I ever get a bad username that comes\nin, somebody puts a name that's not valid,\n\n486\n00:22:18.340 --> 00:22:20.720\nI'll just flip it over and\ntry guest access for them.\n\n487\n00:22:20.720 --> 00:22:21.600\nI may not want that.\n\n488\n00:22:21.600 --> 00:22:23.910\nHey, if you give me a bad username,\nyou're out of luck.\n\n489\n00:22:23.910 --> 00:22:26.230\nThat's what I would want if I didn't\nhave any folders with guest access.\n\n490\n00:22:26.230 --> 00:22:26.940\nBut I am, I'm going\n\n491\n00:22:26.940 --> 00:22:29.080\nto have a public folder that has\npublic folder that has guest access.\n\n492\n00:22:29.080 --> 00:22:32.030\nSo if somebody gives a bad username,\nI'll just give them a guest access.\n\n493\n00:22:32.030 --> 00:22:35.500\nThere's no sense in making them try and\nreauthenticate.\n\n494\n00:22:35.500 --> 00:22:36.310\nSo I'll put that.\n\n495\n00:22:37.520 --> 00:22:43.590\nDNS proxy NetBIOS by default\nuses WINS to do lookups, which\n\n496\n00:22:43.590 --> 00:22:48.010\nis the old Windows Internetwork Naming\nSystem, I think is what WINS stands for.\n\n497\n00:22:48.010 --> 00:22:50.960\nAnd WINS isn't really used anymore.\n\n498\n00:22:50.960 --> 00:22:54.640\nSo we can actually set up Samba to proxy\nthose communications over to DNS and\n\n499\n00:22:54.640 --> 00:22:56.700\ndo the lookup over on the DNS side.\n\n500\n00:22:56.700 --> 00:22:59.220\nWe don't typically need that, so\nI'm just gonna set that to no.\n\n501\n00:23:00.580 --> 00:23:03.750\nAll right,\nthen the big question of the day, right?\n\n502\n00:23:03.750 --> 00:23:07.390\nIf I'm doing anonymous authentication,\nI still need to come in here and\n\n503\n00:23:07.390 --> 00:23:10.640\nset the security mode to user.\n\n504\n00:23:10.640 --> 00:23:13.920\nBecause anonymous is technically a user,\nit gets mapped to guest.\n\n505\n00:23:13.920 --> 00:23:15.770\nAnd so that's user authentication.\n\n506\n00:23:15.770 --> 00:23:19.350\nIf I wanna authenticate Daniel and I's\naccounts, that's workgroup mode, right,\n\n507\n00:23:19.350 --> 00:23:20.110\nthose accounts right here.\n\n508\n00:23:20.110 --> 00:23:21.743\nThat's user authentication.\n\n509\n00:23:21.743 --> 00:23:25.965\nIf I want to authenticate against\na active directory server though,\n\n510\n00:23:25.965 --> 00:23:30.203\nthen instead of user I'm gonna say ADS,\nactive directory service.\n\n511\n00:23:30.203 --> 00:23:32.340\nOkay, so I would put in ADS right here.\n\n512\n00:23:32.340 --> 00:23:35.363\nSo there's two different configurations,\nworkgroup and\n\n513\n00:23:35.363 --> 00:23:37.727\nADS where we really need\nto get involved here.\n\n514\n00:23:37.727 --> 00:23:41.353\nOn the work group side,\nwe say security equals user.\n\n515\n00:23:41.353 --> 00:23:46.610\nAnd then we say workgroup equals and\nwhatever we want to call the workgroup.\n\n516\n00:23:46.610 --> 00:23:51.530\nWell, in the Windows platform,\nthe default workgroup name is WORKGROUP.\n\n517\n00:23:51.530 --> 00:23:52.349\nThat makes it easy.\n\n518\n00:23:52.349 --> 00:23:53.044\nSo we might call that.\n\n519\n00:23:53.044 --> 00:23:55.988\nBut if you changed your workgroup name,\nyou can put that in here, too.\n\n520\n00:23:55.988 --> 00:23:57.476\nThat's fine, right?\n\n521\n00:23:57.476 --> 00:24:02.624\nIf I was connecting to an Active\nDirectory, what I would put instead\n\n522\n00:24:02.624 --> 00:24:07.499\nis I would say, security = ADS,\nand then I would say realm = and\n\n523\n00:24:07.499 --> 00:24:11.770\nthe fully qualified domain name for\nmy domain, right?\n\n524\n00:24:11.770 --> 00:24:16.366\nSo it might be domain.itpro.tv or\n\n525\n00:24:16.366 --> 00:24:23.190\nad .ITpro.TV, or whatever it is\nthat your domain happens to be.\n\n526\n00:24:23.190 --> 00:24:24.420\nAnd I can't stop there.\n\n527\n00:24:24.420 --> 00:24:28.120\nThe other thing I have to\nspecify is the password server.\n\n528\n00:24:28.120 --> 00:24:30.530\nNow Microsoft makes a big\ndeal out of this that\n\n529\n00:24:30.530 --> 00:24:32.430\nin an Active Directory you\nhave domain controllers.\n\n530\n00:24:32.430 --> 00:24:34.330\nServers that are responsible for\nauthentication.\n\n531\n00:24:34.330 --> 00:24:37.920\nAnd those Domain Controllers\nare all created equal.\n\n532\n00:24:37.920 --> 00:24:40.540\nThey say you might have 50 Domain\ncontrollers, they're all the same.\n\n533\n00:24:40.540 --> 00:24:41.390\nThat's not exactly true.\n\n534\n00:24:41.390 --> 00:24:42.730\nThere's one of them that's special.\n\n535\n00:24:42.730 --> 00:24:44.570\nThere's one of them that's\ncalled the PDC Emulator, and\n\n536\n00:24:44.570 --> 00:24:46.670\nit's the one that's responsible for\npassword changes.\n\n537\n00:24:46.670 --> 00:24:47.510\nSo I need to come in here and\n\n538\n00:24:47.510 --> 00:24:51.540\nsay, password server, and\ntell it which server that is.\n\n539\n00:24:51.540 --> 00:24:59.050\nSo it might be dc12, or whatever,\nand so I'll put dc12.ad.itpro.tv.\n\n540\n00:24:59.050 --> 00:25:02.440\nIt just needs to know what server to go to\nwhen we do a password change, all right?\n\n541\n00:25:02.440 --> 00:25:05.424\nSo we gotta punch that one in,\nand then we'll have that.\n\n542\n00:25:05.424 --> 00:25:08.988\nSo this is the configuration I\nwould use for Active Directory.\n\n543\n00:25:08.988 --> 00:25:11.800\nIn my case, though, I'm not doing\nActive Directory, I'm doing workgroup, so\n\n544\n00:25:11.800 --> 00:25:12.750\nI don't need those lines.\n\n545\n00:25:12.750 --> 00:25:15.080\nInstead, I'm using these\ntwo lines right here.\n\n546\n00:25:15.080 --> 00:25:17.394\nSecurity = user, workgroup = WORKGROUP.\n\n547\n00:25:20.169 --> 00:25:25.590\nAll right, so [COUGH] once I've got that,\nthat's it for my global configuration.\n\n548\n00:25:25.590 --> 00:25:28.190\nNow I need to start sharing my folders,\nright?\n\n549\n00:25:28.190 --> 00:25:31.880\nSo my first shared folder\nis gonna be public and\n\n550\n00:25:31.880 --> 00:25:35.450\nmy second one is going to be private,\nright?\n\n551\n00:25:35.450 --> 00:25:37.250\nThose are the two folders that I made.\n\n552\n00:25:37.250 --> 00:25:39.627\nWhat goes in this label is\nwhat the end-users will see,\n\n553\n00:25:39.627 --> 00:25:42.272\nwhen they browse the network\nthey're gonna see these names.\n\n554\n00:25:42.272 --> 00:25:44.175\nThe names don't have to match the folder.\n\n555\n00:25:44.175 --> 00:25:46.614\nI could've called the folder\nsomething completely different.\n\n556\n00:25:46.614 --> 00:25:47.764\nBut this is the important part,\n\n557\n00:25:47.764 --> 00:25:50.329\nthis is what the end-users are gonna\nsee when they browse the network.\n\n558\n00:25:51.380 --> 00:25:52.360\nAnd then under that,\n\n559\n00:25:52.360 --> 00:25:55.490\nthere's a handful of settings I need to\nthrow in to identify how the folder works.\n\n560\n00:25:55.490 --> 00:25:58.610\nThis first one will be easy because\nI don't wanna authenticate people.\n\n561\n00:25:58.610 --> 00:26:01.000\nI just want them to come in and\nto have access and be done, right?\n\n562\n00:26:01.000 --> 00:26:05.677\nSo, I'm gonna say path = and\nI'm gonna point to that path,\n\n563\n00:26:05.677 --> 00:26:08.259\nall right, /shares/public.\n\n564\n00:26:08.259 --> 00:26:11.346\nThen, I'm gonna say, browsable.\n\n565\n00:26:11.346 --> 00:26:13.690\nIn other words, do I want people\nto be able to browse and find it.\n\n566\n00:26:13.690 --> 00:26:14.960\nYou can actually hide shares.\n\n567\n00:26:14.960 --> 00:26:17.130\nPeople have to know they're\nthere to get to them.\n\n568\n00:26:17.130 --> 00:26:19.090\nI want this one to be browsable.\n\n569\n00:26:19.090 --> 00:26:20.700\nSo I'll say yes.\n\n570\n00:26:20.700 --> 00:26:21.930\nWriteable?\n\n571\n00:26:21.930 --> 00:26:22.568\nI'll say yes.\n\n572\n00:26:22.568 --> 00:26:25.140\nAll right,\nnow I had the file system permissions but\n\n573\n00:26:25.140 --> 00:26:27.432\nthose were set to the nobody account,\nright?\n\n574\n00:26:27.432 --> 00:26:31.413\nAnd guest comes in as nobody,\nwhich means they're gonna get read and\n\n575\n00:26:31.413 --> 00:26:33.482\nwrite permissions on that folder.\n\n576\n00:26:33.482 --> 00:26:37.580\nBy saying writeable here, I'm gonna make\nit with the actually get writable, okay?\n\n577\n00:26:37.580 --> 00:26:42.897\nIf I said writable no,\nthen I would not be able to write.\n\n578\n00:26:42.897 --> 00:26:46.484\nThere's another option that goes\nalong with this which is read-only,\n\n579\n00:26:46.484 --> 00:26:47.727\nit's kinda redundant.\n\n580\n00:26:47.727 --> 00:26:48.991\nIf I say read-only no,\n\n581\n00:26:48.991 --> 00:26:53.114\nthen that means obviously I'm gonna\nhave the ability to write also, right?\n\n582\n00:26:53.114 --> 00:26:56.403\nSo you can use either one or\noftentimes you see people put both,\n\n583\n00:26:56.403 --> 00:26:58.896\nit actually doesn't matter\nif you put both in.\n\n584\n00:26:58.896 --> 00:27:01.497\nAs long as they agree, it'll be fine.\n\n585\n00:27:01.497 --> 00:27:08.474\nAll right, then I need to say,\nguest ok = yes.\n\n586\n00:27:08.474 --> 00:27:10.193\nThis one's gonna allow anonymous, right?\n\n587\n00:27:10.193 --> 00:27:11.684\nSo I've gotta say guest ok = yes,\n\n588\n00:27:11.684 --> 00:27:13.907\notherwise anonymous user's\nnot gonna make it in.\n\n589\n00:27:13.907 --> 00:27:16.300\nAnd then actually I think that's it.\n\n590\n00:27:16.300 --> 00:27:18.050\nYep, that's all I need for this one.\n\n591\n00:27:18.050 --> 00:27:18.560\nThat one was easy.\n\n592\n00:27:19.630 --> 00:27:23.000\nPrivate is gonna be a little bit\nharder because on this one I do want\n\n593\n00:27:23.000 --> 00:27:23.900\nto authenticate.\n\n594\n00:27:23.900 --> 00:27:27.930\nSo what I'm gonna do is I'm gonna\ncopy what I put up here for\n\n595\n00:27:27.930 --> 00:27:32.560\npublic and I'm gonna come down here\nto private and just paste that in.\n\n596\n00:27:32.560 --> 00:27:34.400\nAnd I'm gonna edit it\nto match what I need.\n\n597\n00:27:34.400 --> 00:27:38.900\nSo, I need this one to be /shares/private,\nall right?\n\n598\n00:27:38.900 --> 00:27:41.340\nI want it to be browsable,\nI want it to be writable.\n\n599\n00:27:41.340 --> 00:27:42.990\nI don't need it to be read-only.\n\n600\n00:27:42.990 --> 00:27:44.610\nGuest okay, no.\n\n601\n00:27:45.780 --> 00:27:47.440\nI don't want it to be guest okay.\n\n602\n00:27:47.440 --> 00:27:48.850\nI want to authenticate.\n\n603\n00:27:48.850 --> 00:27:53.070\nAnd the authentication line that comes up\nnext gets to be a little bit tricky, okay?\n\n604\n00:27:53.070 --> 00:28:00.516\nI'm gonna say valid users = and\nfrom here I have choices.\n\n605\n00:28:00.516 --> 00:28:04.032\nI can put usernames, I can put group\nnames, I can put all sorts of crazy\n\n606\n00:28:04.032 --> 00:28:08.050\nthings, you can put computer names,\nalthough that's not usually used.\n\n607\n00:28:08.050 --> 00:28:09.960\nBut you can start to put things\nin here based on what you want.\n\n608\n00:28:09.960 --> 00:28:14.670\nSo I could say that I want dpezet and\ndLowrie to be able to access this.\n\n609\n00:28:14.670 --> 00:28:16.860\nYou just name after name after name.\n\n610\n00:28:16.860 --> 00:28:18.878\nThat's one way, but I created a group.\n\n611\n00:28:18.878 --> 00:28:23.020\nAnd the group'll save me some time here\nbecause every time I hire an employee,\n\n612\n00:28:23.020 --> 00:28:26.840\nI don't wanna have to come edit this\nfile and restart Samba, that's annoying.\n\n613\n00:28:26.840 --> 00:28:29.330\nIf I just put a group name,\nI can add people to the group and\n\n614\n00:28:29.330 --> 00:28:31.220\nI don't have to go and reconfigure Samba.\n\n615\n00:28:31.220 --> 00:28:34.240\nSo I'm gonna change that\nto be the employees group.\n\n616\n00:28:34.240 --> 00:28:36.390\nNow there is a little problem here.\n\n617\n00:28:36.390 --> 00:28:39.370\nIn that it doesn't know whether\nthat's a user or a group.\n\n618\n00:28:39.370 --> 00:28:43.580\nSo we have to denote groups by\nsticking an @ symbol at the beginning.\n\n619\n00:28:43.580 --> 00:28:45.030\nSo @employees.\n\n620\n00:28:45.030 --> 00:28:46.760\nNow it knows I'm talking about a group.\n\n621\n00:28:46.760 --> 00:28:49.380\nI could continue on and\nadd individual users if I wanted, or\n\n622\n00:28:49.380 --> 00:28:51.050\neven other groups if I wanted.\n\n623\n00:28:51.050 --> 00:28:53.570\nBut in my case,\nit's just gonna be employees.\n\n624\n00:28:53.570 --> 00:28:56.870\nSo now guest is not okay,\nyou have to authenticate,\n\n625\n00:28:56.870 --> 00:29:00.450\nand when you send me a username and\na password, I'm gonna run that.\n\n626\n00:29:00.450 --> 00:29:05.370\nAnd I need to see you in that employees\ngroup, and then it's going to work.\n\n627\n00:29:05.370 --> 00:29:09.100\nNow I'm in work group mode, so it's gonna\nlook right here for the employees group.\n\n628\n00:29:09.100 --> 00:29:10.770\nIf I was in Active Directory mode,\n\n629\n00:29:10.770 --> 00:29:13.890\nright, then it would do the look\nup against the Active Directory.\n\n630\n00:29:13.890 --> 00:29:16.610\nAnd AD would say whether\nthat group existed and\n\n631\n00:29:16.610 --> 00:29:17.990\nwhether users were in that group.\n\n632\n00:29:17.990 --> 00:29:21.260\nSo this is all gonna be local for me, but\n\n633\n00:29:21.260 --> 00:29:23.240\nnow that I've got that in place,\nthat's it.\n\n634\n00:29:23.240 --> 00:29:25.540\nAnd I would just continue adding more and\nmore folders.\n\n635\n00:29:25.540 --> 00:29:26.810\nThe global part wasn't so hard.\n\n636\n00:29:26.810 --> 00:29:29.320\nThere were five commands that\nI put in the global part.\n\n637\n00:29:29.320 --> 00:29:31.810\nIf I did AD,\nthere'd be six commands in there.\n\n638\n00:29:31.810 --> 00:29:34.410\nAnd then after that, the amount of\ncommands just depends on how many folders,\n\n639\n00:29:34.410 --> 00:29:35.380\nhow many printers you're sharing.\n\n640\n00:29:35.380 --> 00:29:37.600\nAnd all the different things\nyou may want to add after that.\n\n641\n00:29:37.600 --> 00:29:40.202\nAll right, so I've got that all in there.\n\n642\n00:29:40.202 --> 00:29:41.660\nLet me just get out of this file,\n\n643\n00:29:41.660 --> 00:29:44.160\nlet me get rid of those empty\nlines I chucked at the end.\n\n644\n00:29:45.300 --> 00:29:46.256\nNot-\n&gt;&gt; [CROSSTALK] Not that it\n\n645\n00:29:46.256 --> 00:29:46.973\nbothers anything.\n\n646\n00:29:46.973 --> 00:29:48.575\n&gt;&gt; Yeah, it's my pet peeve.\n\n647\n00:29:48.575 --> 00:29:51.596\nIt used to be a big deal,\nlike in really old versions of Red Hat,\n\n648\n00:29:51.596 --> 00:29:54.961\nit used to get super angry when you\nhad a bunch of empty lines at the end.\n\n649\n00:29:54.961 --> 00:29:56.818\nBut not anymore.\n\n650\n00:29:56.818 --> 00:29:59.860\nAll right, old habits are hard to-\n&gt;&gt; [CROSSTALK] Yes, they are.\n\n651\n00:29:59.860 --> 00:30:03.928\n&gt;&gt; All right, so now I've got my\nSamba configuration in place and\n\n652\n00:30:03.928 --> 00:30:05.730\nI should be good to go.\n\n653\n00:30:05.730 --> 00:30:10.100\nWhat's left is I do need to start Samba,\nI have some security concerns too.\n\n654\n00:30:10.100 --> 00:30:12.990\nI need to open connections\non the firewall and\n\n655\n00:30:12.990 --> 00:30:16.540\nthere's that pesky SE Linux thing\nthat runs in the background.\n\n656\n00:30:16.540 --> 00:30:21.310\nSE Linux that restricts services to\ncertain folders, Samba has no idea, and\n\n657\n00:30:21.310 --> 00:30:24.330\nSE Linux has no idea about this\n/shares folder that I made, so\n\n658\n00:30:24.330 --> 00:30:25.680\nI've got to open that up too.\n\n659\n00:30:25.680 --> 00:30:27.880\nBut I've kind of run out of time on this.\n\n660\n00:30:27.880 --> 00:30:31.536\nI hate to break up to a second one on it,\nbut I have enough configuration left that\n\n661\n00:30:31.536 --> 00:30:34.777\nwe're gonna have to break this one up\ninto a part two and go from there.\n\n662\n00:30:34.777 --> 00:30:37.927\nSo technically,\njust to kind of place ourselves,\n\n663\n00:30:37.927 --> 00:30:40.649\ntechnically I'm done configuring Samba.\n\n664\n00:30:40.649 --> 00:30:42.995\nI haven't started it yet,\nthat's a problem.\n\n665\n00:30:42.995 --> 00:30:44.880\n&gt;&gt; [LAUGH]\n&gt;&gt; I mean, I haven't marked it to start\n\n666\n00:30:44.880 --> 00:30:46.890\nwhen I boot up, so I have to do that.\n\n667\n00:30:46.890 --> 00:30:48.220\nBut the configuration's done.\n\n668\n00:30:48.220 --> 00:30:51.130\nOur folders are set up,\nour users, our groups are set up.\n\n669\n00:30:51.130 --> 00:30:54.670\nThe Samba configuration is done, so\nwe've seen everything we need for Samba.\n\n670\n00:30:54.670 --> 00:30:57.750\nEverything else is really Red Hat stuff.\n\n671\n00:30:57.750 --> 00:31:00.606\nGoing in and opening the Red Hat firewall,\nconfiguring SE Linux and\n\n672\n00:31:00.606 --> 00:31:01.718\nturning on permissions.\n\n673\n00:31:01.718 --> 00:31:06.375\nEverything I've done up to this point\nwould really be the same on Ubuntu or\n\n674\n00:31:06.375 --> 00:31:08.411\nDBN or one of the other distros.\n\n675\n00:31:08.411 --> 00:31:11.495\nWe'll get into the Red Hat specifics in\nthis next episodes that we can get in and\n\n676\n00:31:11.495 --> 00:31:12.115\npair that off.\n\n677\n00:31:12.115 --> 00:31:14.871\nBut just know if you're watching this and\nfollowing it step by step,\n\n678\n00:31:14.871 --> 00:31:18.055\nmake sure you watch part two [LAUGH] or\nyou're gonna lose some important stuff and\n\n679\n00:31:18.055 --> 00:31:18.980\nit's not gonna work.\n\n680\n00:31:18.980 --> 00:31:19.850\n&gt;&gt; All right, Don, well,\n\n681\n00:31:19.850 --> 00:31:22.740\nwe look forward to seeing those\nadministrative tasks that we're gonna need\n\n682\n00:31:22.740 --> 00:31:28.450\nto complete before we actually have\na full-fledged working Samba installation.\n\n683\n00:31:28.450 --> 00:31:31.420\nAnd that being said,\nour time has expired for this episode.\n\n684\n00:31:31.420 --> 00:31:32.850\nWe thank you for this one, though.\n\n685\n00:31:32.850 --> 00:31:34.050\nWe'll see you in the next one.\n\n686\n00:31:34.050 --> 00:31:36.630\nWe thank you guys for watching,\nbut we are signing off.\n\n687\n00:31:36.630 --> 00:31:39.120\nFor IT Pro TV,\nI've been your host Daniel Lowrie.\n\n688\n00:31:39.120 --> 00:31:39.638\n&gt;&gt; And I'm Don Pezet.\n\n689\n00:31:39.638 --> 00:31:41.116\n&gt;&gt; We'll see you next time.\n\n690\n00:31:41.116 --> 00:31:48.059\n[MUSIC]\n\n691\n00:31:48.059 --> 00:31:50.915\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "193577377"
        },
        {
          "description": "In this episode, Daniel and Don continue to explain and demonstrate setting up Samba for sharing files with Microsoft Windows clients. They pick back up by performing some Red Hat focused administrative tasks that will complete the Samba connectivity setup. This includes settings up SE-Linux, configuring the firewall, and starting the Samba service.",
          "length": "1176",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-2-4-2-samba_and_smb_pt2-111816.00_25_50_28.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-2-4-2-samba_and_smb_pt2-111816.00_25_50_28.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-2-4-2-samba_and_smb_pt2-111816.00_25_50_28.Still001-sm.jpg",
          "title": "Samba and SMB Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.140 --> 00:00:06.085\nWelcome to ITProTV,\nI'm your host Don [CROSSTALK]\n\n2\n00:00:06.085 --> 00:00:08.814\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:08.814 --> 00:00:12.530\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.530 --> 00:00:14.014\n&gt;&gt; All right, greetings, everyone.\n\n5\n00:00:14.014 --> 00:00:16.304\nAnd welcome to another\ngreat episode of ITProTV.\n\n6\n00:00:16.304 --> 00:00:18.048\nI'm your host, Daniel Lowrie.\n\n7\n00:00:18.048 --> 00:00:20.918\nIn today's episode we're\ncontinuing on with more on our\n\n8\n00:00:20.918 --> 00:00:23.200\nRed Hat Enterprise Linux version 7 series.\n\n9\n00:00:23.200 --> 00:00:27.840\nAnd joining back in the studio,\nour good friend for more Samba, Don Pezet.\n\n10\n00:00:27.840 --> 00:00:28.415\nDon, welcome back, sir.\n\n11\n00:00:28.415 --> 00:00:29.055\nHow's it going today?\n\n12\n00:00:29.055 --> 00:00:30.520\n&gt;&gt; Hey, I am doing great.\n\n13\n00:00:30.520 --> 00:00:32.388\nIt's Don the Rambling Man Pezet.\n\n14\n00:00:32.388 --> 00:00:34.831\n&gt;&gt; [LAUGH]\n&gt;&gt; Yeah,\n\n15\n00:00:34.831 --> 00:00:36.700\nwe spent most of Pt 1\ngetting Samba configured.\n\n16\n00:00:36.700 --> 00:00:39.232\nAnd technically, in my defense-\n&gt;&gt; It is configured, [CROSSTALK]\n\n17\n00:00:39.232 --> 00:00:40.520\n&gt;&gt; It is configured.\n\n18\n00:00:40.520 --> 00:00:42.485\nWe got Samba completely\nconfigured in Pt 1.\n\n19\n00:00:42.485 --> 00:00:47.145\nBut before we can turn it on,\ncuz the temptation is there.\n\n20\n00:00:47.145 --> 00:00:49.880\nLike, all right, I'm ready,\nI'm gonna start those services, I'm done.\n\n21\n00:00:49.880 --> 00:00:51.610\nWe have a couple of little\nRed Hat maintenance\n\n22\n00:00:51.610 --> 00:00:54.510\nthings that we need to go through, right,\nbefore we're ready to actually turn it on.\n\n23\n00:00:54.510 --> 00:00:58.260\nOtherwise, if we go and test it right now,\nwe're not gonna have much luck, right?\n\n24\n00:00:58.260 --> 00:01:00.790\nSo what are some of the things\nthat we need to take care of?\n\n25\n00:01:00.790 --> 00:01:04.430\nWell first off,\nRed Hat has a handy, dandy,\n\n26\n00:01:04.430 --> 00:01:07.650\nlittle firewall built right\ninto RHDL by default.\n\n27\n00:01:07.650 --> 00:01:10.243\nAnd I guess maybe you've turned it off.\n\n28\n00:01:10.243 --> 00:01:13.430\nBut assuming you got it turned on,\nwhich hopefully you do, we're just\n\n29\n00:01:13.430 --> 00:01:16.800\nneed to make sure that we allow Samba\nclients to connect through our firewall.\n\n30\n00:01:16.800 --> 00:01:18.670\nOtherwise, we're just\nnot gonna get very far.\n\n31\n00:01:18.670 --> 00:01:20.030\nSo I need to throw that in.\n\n32\n00:01:20.030 --> 00:01:22.310\nAlso we've got SELinux.\n\n33\n00:01:22.310 --> 00:01:25.070\nNow SELinux, we haven't filmed\nour security episodes, yet.\n\n34\n00:01:25.070 --> 00:01:28.770\nBut SELinux is a special\nsecurity sublayer inside of\n\n35\n00:01:28.770 --> 00:01:33.130\nRed Hat Enterprise Linux that\nhelps secure the system.\n\n36\n00:01:33.130 --> 00:01:37.730\nMost of you are familiar with chroot,\nand how we can take an application.\n\n37\n00:01:37.730 --> 00:01:41.060\nAnd instead of it seeing slash\nas the root of your drive,\n\n38\n00:01:41.060 --> 00:01:43.080\nin other words being able to\nbrowse the whole file system.\n\n39\n00:01:43.080 --> 00:01:45.430\nWe can change it so\nthat when it looks at slash,\n\n40\n00:01:45.430 --> 00:01:47.160\nit just sees a particular subfolder.\n\n41\n00:01:47.160 --> 00:01:50.590\nIt creates a jail for\nthat application, and holds it to it.\n\n42\n00:01:50.590 --> 00:01:53.750\nAnd stops one application from being\nable to affect files from other apps.\n\n43\n00:01:53.750 --> 00:01:56.790\nWell, SELinux does the same thing,\n\n44\n00:01:56.790 --> 00:02:00.340\nexcept it doesn't change what\npeople see on the file system.\n\n45\n00:02:00.340 --> 00:02:02.350\nIt just changes what access they have.\n\n46\n00:02:02.350 --> 00:02:03.690\nSo they'll see the whole file system.\n\n47\n00:02:03.690 --> 00:02:06.016\nBut if they try and read from a folder\nthey're not allowed to, it gets blocked.\n\n48\n00:02:06.016 --> 00:02:09.110\nIf they try and write to a folder\nthey're not allowed to, it gets blocked.\n\n49\n00:02:09.110 --> 00:02:11.980\nAnd it really, really,\nreally locks it down.\n\n50\n00:02:11.980 --> 00:02:15.888\nWell, when we configured Samba,\nwe pointed it to a folder,\n\n51\n00:02:15.888 --> 00:02:19.950\n/shares/public and /shares/private.\n\n52\n00:02:19.950 --> 00:02:21.270\nAnd by default,\n\n53\n00:02:21.270 --> 00:02:24.760\nthe Samba service does not have permission\nto even read from those folders.\n\n54\n00:02:24.760 --> 00:02:26.722\nSo again,\nif we had started it up right now,\n\n55\n00:02:26.722 --> 00:02:30.420\nDELinux would've blocked the Samba\nservice from even seeing its folders.\n\n56\n00:02:30.420 --> 00:02:32.600\nBetter yet, the firewall\nblocking our clients from even\n\n57\n00:02:32.600 --> 00:02:33.680\nconnecting to the server.\n\n58\n00:02:33.680 --> 00:02:35.388\nEffectively, everything's broke, right?\n\n59\n00:02:35.388 --> 00:02:36.710\nNetwork access is broken.\n\n60\n00:02:36.710 --> 00:02:37.590\nLocal access is broken.\n\n61\n00:02:37.590 --> 00:02:40.490\nEverything's broken, so\nwe gotta take care of that.\n\n62\n00:02:40.490 --> 00:02:43.605\nAnd be careful,\nif you read any internet guides out there.\n\n63\n00:02:43.605 --> 00:02:45.478\nCuz I swear, if I see it one more time,\n\n64\n00:02:45.478 --> 00:02:48.362\nI keep seeing these instructions\nfrom reputable people.\n\n65\n00:02:48.362 --> 00:02:51.890\nAnd it says, okay,\nstep number five, disable SELinux.\n\n66\n00:02:51.890 --> 00:02:53.328\nAnd I'm like, well,\nwhat the heck are you doing?\n\n67\n00:02:53.328 --> 00:02:55.280\n&gt;&gt; [LAUGH]\n&gt;&gt; [CROSSTALK] The reason it's there,\n\n68\n00:02:55.280 --> 00:02:56.325\ndisable the firewall.\n\n69\n00:02:56.325 --> 00:02:57.318\nYou can open ports on the firewall.\n\n70\n00:02:57.318 --> 00:02:58.290\nIt's not that hard.\n\n71\n00:02:58.290 --> 00:03:00.345\nSo let's do things the right way, okay?\n\n72\n00:03:00.345 --> 00:03:02.963\nWe're gonna open this up\nthrough SELinux and let it in.\n\n73\n00:03:02.963 --> 00:03:06.896\nAnd so let me just get into my handy,\ndandy shell here, and\n\n74\n00:03:06.896 --> 00:03:08.839\nwe're gonna do this, now.\n\n75\n00:03:08.839 --> 00:03:12.527\nRight now, I've got my /shares folder,\nright here.\n\n76\n00:03:12.527 --> 00:03:16.110\nIt's in the root of my hard drive,\nso /shares.\n\n77\n00:03:16.110 --> 00:03:17.490\nIt's owned by root.\n\n78\n00:03:17.490 --> 00:03:20.216\nIt's got some permissions that are set\non it so that the owner has read,\n\n79\n00:03:20.216 --> 00:03:20.950\nwrite, execute.\n\n80\n00:03:20.950 --> 00:03:23.220\nEverybody else has read and\nexecute to that folder.\n\n81\n00:03:23.220 --> 00:03:27.800\nAnd if I look inside of that,\nthere's my private and public.\n\n82\n00:03:27.800 --> 00:03:32.230\nWe set up the public one to be owned by\nnobody, which would effectively be guests.\n\n83\n00:03:32.230 --> 00:03:35.642\nAnd the other one by me and\nthe employees group.\n\n84\n00:03:35.642 --> 00:03:37.400\nAnd we've got appropriate\npermissions there.\n\n85\n00:03:37.400 --> 00:03:41.060\nBut there is read and\nwrite permissions assigned, and\n\n86\n00:03:41.060 --> 00:03:42.970\nthat's where SELinux comes in.\n\n87\n00:03:42.970 --> 00:03:45.080\nIt's gonna block both of those by default.\n\n88\n00:03:45.080 --> 00:03:51.310\nSo what we need to do is we need to change\nthe security context of those folders.\n\n89\n00:03:51.310 --> 00:03:56.640\nThe default for a folder with no context\nis to be significantly restricted.\n\n90\n00:03:56.640 --> 00:03:59.410\nReally, there's not much of anything\nthat's allowed to access this\n\n91\n00:03:59.410 --> 00:04:00.630\nfolder, right now.\n\n92\n00:04:00.630 --> 00:04:03.440\nI need to change the context\nto let SELinux know that this\n\n93\n00:04:03.440 --> 00:04:04.572\nis being used for Samba.\n\n94\n00:04:04.572 --> 00:04:10.690\nAnd so to do that, we have the chcon\nutility, the change context utility.\n\n95\n00:04:10.690 --> 00:04:14.590\nAnd I need to tell it what type\nof context it's going to be.\n\n96\n00:04:14.590 --> 00:04:19.470\nAnd in this case,\nit's going to be samba_share_t, right?\n\n97\n00:04:19.470 --> 00:04:20.880\nNow I'm not making that up.\n\n98\n00:04:20.880 --> 00:04:21.960\nIt's not just a name I thought of.\n\n99\n00:04:21.960 --> 00:04:26.930\nThis is an actual context that's included\nwith the default SELinux configuration.\n\n100\n00:04:26.930 --> 00:04:29.690\nAnd basically what that\ncontext does is it says,\n\n101\n00:04:29.690 --> 00:04:32.550\nallow the Samba service to\ninteract with these folders.\n\n102\n00:04:32.550 --> 00:04:36.080\nSo we're just adding it to the list\nof stuff that Samba's allowed to see.\n\n103\n00:04:36.080 --> 00:04:39.220\nOther services, like Apache,\nwon't be able to see these folders.\n\n104\n00:04:39.220 --> 00:04:41.400\nBecause Apache's not a part\nof the sound by context.\n\n105\n00:04:41.400 --> 00:04:44.210\nSo this is kind of\nrestricting that access down.\n\n106\n00:04:44.210 --> 00:04:48.169\nAnd I need to do that for\nthese /shares/public folder,\n\n107\n00:04:48.169 --> 00:04:50.898\nas well as the private folder, right?\n\n108\n00:04:50.898 --> 00:04:55.230\nAnd really, any folder that I make\nthat is going to be a part of Samba,\n\n109\n00:04:55.230 --> 00:04:59.866\nthen I need to change that security\ncontext to make sure that SELinux knows\n\n110\n00:04:59.866 --> 00:05:01.760\nwhat it is, all right?\n\n111\n00:05:01.760 --> 00:05:03.650\nSo I've got that in place.\n\n112\n00:05:03.650 --> 00:05:07.760\nNow SELinux should be allowing it through,\nand we should be in business there.\n\n113\n00:05:07.760 --> 00:05:08.520\n&gt;&gt; Well done.\n\n114\n00:05:08.520 --> 00:05:12.331\nNow I totally understand why people\ntell you, just shut off SELinux.\n\n115\n00:05:12.331 --> 00:05:13.609\nCuz that was really difficult.\n\n116\n00:05:13.609 --> 00:05:14.120\n[LAUGH]\n&gt;&gt; Well,\n\n117\n00:05:14.120 --> 00:05:17.491\nyou know the hard part is\nfiguring out the context name.\n\n118\n00:05:17.491 --> 00:05:19.380\nSo I know I want Samba\nto access this folder.\n\n119\n00:05:19.380 --> 00:05:20.180\nWhat's it called?\n\n120\n00:05:20.180 --> 00:05:25.485\nI wouldn't have thought of samba_share_t\nIt just doesn't roll right off the tongue,\n\n121\n00:05:25.485 --> 00:05:26.340\nright?\n\n122\n00:05:26.340 --> 00:05:27.950\nSo you have to go and look it up.\n\n123\n00:05:27.950 --> 00:05:32.800\nWell, it's kinda easy to put SELinux in\npermissive mode and not worry about it.\n\n124\n00:05:32.800 --> 00:05:35.280\nAnd that's it, so\npeople just taking an easy route out.\n\n125\n00:05:35.280 --> 00:05:38.890\nAnd the other thing is people look at it\nand say, well, what do I need SELinux for\n\n126\n00:05:38.890 --> 00:05:42.380\nif I've got a firewall blocking hackers\nfrom even getting to my server?\n\n127\n00:05:42.380 --> 00:05:45.150\nThen I don't need an underlying sublayer.\n\n128\n00:05:45.150 --> 00:05:49.555\nBut if they get past your firewall,\nSELinux is your only protection.\n\n129\n00:05:49.555 --> 00:05:51.485\nYou kinda need it, so don't disable it.\n\n130\n00:05:51.485 --> 00:05:52.315\nDo yourself a favor.\n\n131\n00:05:52.315 --> 00:05:53.775\nKeep it in place.\n\n132\n00:05:53.775 --> 00:05:54.715\nJust learn how to use it.\n\n133\n00:05:54.715 --> 00:05:55.698\nThat's all you gotta do.\n\n134\n00:05:55.698 --> 00:05:57.695\n[LAUGH] I guess you can\nsay that about anything.\n\n135\n00:05:57.695 --> 00:05:58.496\nJust learn how to use it.\n\n136\n00:05:58.496 --> 00:05:59.717\n&gt;&gt; [CROSSTALK] learn how to\nfly the space shuttle, Don.\n\n137\n00:05:59.717 --> 00:06:00.649\nThat's all you gotta do.\n\n138\n00:06:00.649 --> 00:06:01.660\nYou're going into space.\n\n139\n00:06:01.660 --> 00:06:03.733\n[LAUGH]\n&gt;&gt; [LAUGH] All right, so I've got that.\n\n140\n00:06:03.733 --> 00:06:05.293\nI haven't messed with the firewall,\nthough.\n\n141\n00:06:05.293 --> 00:06:07.426\nSo let me go fix that firewall, too.\n\n142\n00:06:07.426 --> 00:06:10.600\nSame thing, I could disable the firewall,\nbut I'm gonna do it right.\n\n143\n00:06:10.600 --> 00:06:14.550\nAnd I'm gonna take the firewall and\nI'm going to allow Samba through it.\n\n144\n00:06:14.550 --> 00:06:17.853\nNow you can do a really specific\nfirewall rule that says these\n\n145\n00:06:17.853 --> 00:06:20.266\nare the only IPs that\nare allowed to come in.\n\n146\n00:06:20.266 --> 00:06:22.600\nI'm gonna keep mine a little more generic,\nright?\n\n147\n00:06:22.600 --> 00:06:25.057\nI'm just gonna say, hey,\nSamba clients are allowed to connected in.\n\n148\n00:06:25.057 --> 00:06:26.749\nCuz I've got that guest folder.\n\n149\n00:06:26.749 --> 00:06:29.660\nAnd so I don't wanna go too crazy with\nthe restrictions on a guest folder.\n\n150\n00:06:29.660 --> 00:06:33.940\nSo I'm gonna create a permanent rule,\nnot a temporary one, that's important.\n\n151\n00:06:33.940 --> 00:06:38.530\nAnd then it's gonna be on my zone=public,\nwhich is the default zone for\n\n152\n00:06:38.530 --> 00:06:40.390\nremote access to my system.\n\n153\n00:06:40.390 --> 00:06:44.590\nAnd I'm gonna add a service.\n\n154\n00:06:44.590 --> 00:06:49.457\nAnd it's got a pre-built, and my head's\nkinda sitting on top of all this.\n\n155\n00:06:49.457 --> 00:06:53.880\nBut it's got a pre, kinda built-in,\nservice name there, for Samba.\n\n156\n00:06:53.880 --> 00:06:57.413\nSo that we can see, add-server, and\nthen I guess I'm word-wrapping, too.\n\n157\n00:06:57.413 --> 00:07:00.124\nThis is kind of a longer command.\n\n158\n00:07:00.124 --> 00:07:01.240\nThere we go.\n&gt;&gt; There it is.\n\n159\n00:07:01.240 --> 00:07:05.601\n&gt;&gt; So firewall-cmd --permanent, so\nit'll stay there after a reboot.\n\n160\n00:07:05.601 --> 00:07:08.811\n--zone=public, so remote access coming in.\n\n161\n00:07:08.811 --> 00:07:12.800\n--add-server, and,\nnot server, it's service.\n\n162\n00:07:12.800 --> 00:07:15.090\nI need to get the syntax right or\nthis is not gonna work.\n\n163\n00:07:15.090 --> 00:07:20.010\nSo I'm adding a service, and that\nservice that I'm adding is Samba, right?\n\n164\n00:07:20.010 --> 00:07:22.290\nSo that's gonna add that to the firewall.\n\n165\n00:07:22.290 --> 00:07:24.690\nInteresting thing, though, is that\nthat doesn't take effect right away.\n\n166\n00:07:25.750 --> 00:07:31.970\nSo I'm just gonna force it to\ndo that by doing a --reload.\n\n167\n00:07:31.970 --> 00:07:32.610\nThere we go.\n\n168\n00:07:32.610 --> 00:07:33.740\nThat's gonna make it load those rules.\n\n169\n00:07:33.740 --> 00:07:36.700\nSo now my SELinux rules are opened up for\nSamba,\n\n170\n00:07:36.700 --> 00:07:40.918\nmy firewall is opened up for Samba,\nand now I'm open for business.\n\n171\n00:07:40.918 --> 00:07:44.690\nWell, except for that kind of important\npart about starting the Samba-\n\n172\n00:07:44.690 --> 00:07:45.580\n&gt;&gt; The services.\n\n173\n00:07:45.580 --> 00:07:46.409\n&gt;&gt; So I need to start them.\n\n174\n00:07:46.409 --> 00:07:50.340\nThere's a few different ways to\ngo about starting the services.\n\n175\n00:07:50.340 --> 00:07:52.942\nI need them to start every\ntime the system boots.\n\n176\n00:07:52.942 --> 00:07:55.500\nAnd I need them to start right now.\n\n177\n00:07:55.500 --> 00:07:58.066\nAnd fortunately I do have a single\ncommand that I can use to kinda issue all\n\n178\n00:07:58.066 --> 00:07:58.706\nthat out at once.\n\n179\n00:07:58.706 --> 00:07:59.612\nSo I'm gonna do a-\n&gt;&gt; Reboot.\n\n180\n00:07:59.612 --> 00:08:00.628\n[LAUGH]\n&gt;&gt; Well,\n\n181\n00:08:00.628 --> 00:08:02.678\nyou certainly could go that route.\n\n182\n00:08:02.678 --> 00:08:06.506\nI'm gonna use systemctl,\nI'm gonna do enable, and I'm gonna use\n\n183\n00:08:06.506 --> 00:08:11.090\nthat nice new feature introduced in\nRHEL 7.2, which is the --now command.\n\n184\n00:08:11.090 --> 00:08:17.050\n--now let's you enable more than\none service at the same time.\n\n185\n00:08:17.050 --> 00:08:19.638\nAnd if they're not started,\nit'll start them at the same time.\n\n186\n00:08:19.638 --> 00:08:21.951\nSo this really makes\nthe commands a lot more simple.\n\n187\n00:08:21.951 --> 00:08:24.021\nAnd there's two services I need to start.\n\n188\n00:08:24.021 --> 00:08:28.180\nsmb.service, that's obviously\nthe one we're working with.\n\n189\n00:08:28.180 --> 00:08:35.970\nBut I also need to start the nmb.service,\nwhich is what's managing NetBIOS, right?\n\n190\n00:08:35.970 --> 00:08:38.098\nSo I need to have that\nNetBIOS piece going.\n\n191\n00:08:38.098 --> 00:08:40.909\nAnd then that's going to start it,\nas well, right?\n\n192\n00:08:40.909 --> 00:08:44.000\nSo if I run, let me move up the screen\na bit, here, so that you can see it.\n\n193\n00:08:44.000 --> 00:08:48.151\nAnd we've got smb.service and nmb.service.\n\n194\n00:08:48.151 --> 00:08:51.287\nDaniel and I had a brief conversation\nabout it before the show that,\n\n195\n00:08:51.287 --> 00:08:53.530\ntechnically, the NetBIOS side of things.\n\n196\n00:08:53.530 --> 00:08:56.630\nIf you stop SMB, NetBIOS is still working.\n\n197\n00:08:56.630 --> 00:08:59.091\nBut if you stop NetBIOS,\nSMB is no longer working.\n\n198\n00:08:59.091 --> 00:09:01.470\nSo you really need to have\nboth of those up and running.\n\n199\n00:09:01.470 --> 00:09:02.550\nBy doing it this way,\n\n200\n00:09:02.550 --> 00:09:05.290\nthey both get enabled to start\nwith when the system boots.\n\n201\n00:09:05.290 --> 00:09:06.880\nAnd they both run.\n\n202\n00:09:06.880 --> 00:09:10.530\nUnfortunately, I don't get a lot of\nfeedback on this one, as far as output.\n\n203\n00:09:10.530 --> 00:09:12.120\nIt shows that it created the links and\nstuff.\n\n204\n00:09:12.120 --> 00:09:14.980\nBut I don't necessarily see\nthat the service has started.\n\n205\n00:09:14.980 --> 00:09:21.438\nSo what I can do is just\na quick systemctl status.\n\n206\n00:09:21.438 --> 00:09:24.670\nAnd I'm gonna look at the smb.service.\n\n207\n00:09:24.670 --> 00:09:26.910\nAnd its output is\nactually pretty detailed.\n\n208\n00:09:26.910 --> 00:09:30.450\nSo I have to add a little -l to it\nto see everything that comes out.\n\n209\n00:09:30.450 --> 00:09:32.970\nAnd [COUGH] when I look at it,\n\n210\n00:09:32.970 --> 00:09:38.260\nI should be able to see that we\nare loaded and active, right?\n\n211\n00:09:38.260 --> 00:09:38.881\nSo that's good.\n\n212\n00:09:38.881 --> 00:09:41.900\nWe're gonna start when the system starts,\nand we're active right now.\n\n213\n00:09:41.900 --> 00:09:42.760\nSo we're up and running.\n\n214\n00:09:42.760 --> 00:09:46.160\nAnd that just shows you how that\n--now does both, enabling and\n\n215\n00:09:46.160 --> 00:09:47.910\nstarting the service up.\n\n216\n00:09:47.910 --> 00:09:51.010\nAnd if I look in here,\nit looks like everything's good.\n\n217\n00:09:51.010 --> 00:09:55.360\nI do actually have a little warning here\nabout an unknown parameter encountered for\n\n218\n00:09:55.360 --> 00:09:56.040\nNetBIOS.\n\n219\n00:09:56.040 --> 00:10:02.022\nSo I might have a syntax error when I\nset my NetBIOS name for file servers.\n\n220\n00:10:02.022 --> 00:10:05.172\nSo I'll need to double-check that and find\nout what that little warning is about.\n\n221\n00:10:05.172 --> 00:10:08.756\nThat's why it's always kinda nice to\nlook at the status for these things and\n\n222\n00:10:08.756 --> 00:10:09.820\nsee what's going on.\n\n223\n00:10:09.820 --> 00:10:12.969\nI'm gonna check the other service, also.\n\n224\n00:10:12.969 --> 00:10:18.720\nSo we'll take a look at nmb, and take\na look at that one, and it is started up.\n\n225\n00:10:18.720 --> 00:10:19.390\nIt looks good.\n\n226\n00:10:19.390 --> 00:10:23.900\nSays, Samba name server\nDPLAPTOP is now up and running.\n\n227\n00:10:23.900 --> 00:10:26.940\nSo I do have a bit of a problem there,\ndon't I?\n\n228\n00:10:26.940 --> 00:10:30.350\nIt's showing my Samba\nname server DPLAPTOP.\n\n229\n00:10:30.350 --> 00:10:32.570\nIt's not showing the NetBIOS\nname that I set.\n\n230\n00:10:32.570 --> 00:10:35.576\nSo I must have made a typo\nin the config files.\n\n231\n00:10:35.576 --> 00:10:37.650\nSo I'll need to fix that, and\nthen I can restart the service, and\n\n232\n00:10:37.650 --> 00:10:38.910\nthat'll get squared away.\n\n233\n00:10:38.910 --> 00:10:40.155\nBut the service is up and running.\n\n234\n00:10:40.155 --> 00:10:42.040\nI've just got the wrong name, apparently.\n\n235\n00:10:42.040 --> 00:10:44.920\nSo we'll get that fixed,\nbut we're up and going.\n\n236\n00:10:44.920 --> 00:10:49.231\nAnd now we're actually a running,\nfunctional Samba server,\n\n237\n00:10:49.231 --> 00:10:51.032\nminus my one little typo.\n\n238\n00:10:51.032 --> 00:10:52.605\nAll right, well, let's take a look and\n\n239\n00:10:52.605 --> 00:10:54.890\nsee if we can't figure out what\nI screwed up on this thing.\n\n240\n00:10:54.890 --> 00:10:59.310\nI'm sure it's just a simple\ntypo in my samba.conf file.\n\n241\n00:10:59.310 --> 00:11:02.610\nSo I'm gonna come in here and, oops,\nwell, I guess I can look at it.\n\n242\n00:11:02.610 --> 00:11:04.630\nActually I see the error,\nit's right here on my first line.\n\n243\n00:11:04.630 --> 00:11:07.150\nSo I had that unknown parameter NetBIOS.\n\n244\n00:11:07.150 --> 00:11:10.750\nAnd it's supposed to be\nnetbios name = FILESERVER.\n\n245\n00:11:10.750 --> 00:11:14.200\nAnd I just put netbios because,\napparently, I wasn't paying attention.\n\n246\n00:11:14.200 --> 00:11:16.847\nSo let me just get in there and\nedit that file.\n\n247\n00:11:16.847 --> 00:11:18.021\nAnd I'm gonna change that [CROSSTALK]\n&gt;&gt; Just put an errata in the show.\n\n248\n00:11:18.021 --> 00:11:19.284\n[LAUGH]\n&gt;&gt; Well,\n\n249\n00:11:19.284 --> 00:11:20.904\nat least we caught it before\nit made it on the site.\n\n250\n00:11:20.904 --> 00:11:23.610\nSo [LAUGH] there we go.\n\n251\n00:11:23.610 --> 00:11:27.147\nSo now it's the NetBIOS\nname that I'm setting,\n\n252\n00:11:27.147 --> 00:11:30.610\nnot just some whatever\nbad parameter that was.\n\n253\n00:11:30.610 --> 00:11:31.366\n&gt;&gt; [CROSSTALK] command that doesn't work.\n\n254\n00:11:31.366 --> 00:11:33.317\n[LAUGH]\n&gt;&gt; All right, so\n\n255\n00:11:33.317 --> 00:11:38.418\nlet me do a quick systemctl\nrestart of smb.service.\n\n256\n00:11:38.418 --> 00:11:41.489\nAnd I don't think I have to do it,\nbut I'm gonna go ahead and\n\n257\n00:11:41.489 --> 00:11:43.462\nrestart the NetBIOS service, also.\n\n258\n00:11:43.462 --> 00:11:45.010\nJust to be on the safe side.\n\n259\n00:11:45.010 --> 00:11:49.839\nAnd the error was showing up under SMB,\nso let's do a systemctl\n\n260\n00:11:49.839 --> 00:11:53.635\nstatus of the smb.service.\n\n261\n00:11:56.050 --> 00:12:00.044\nAnd, oop, I forgot my -l, but\nI can tell already there's less red,\n\n262\n00:12:00.044 --> 00:12:02.010\nwhich is a good sign.\n\n263\n00:12:02.010 --> 00:12:05.510\nSo when I look at it, here,\nnow I can see that it started up.\n\n264\n00:12:05.510 --> 00:12:07.390\nAnd it looks like I'm in good shape.\n\n265\n00:12:07.390 --> 00:12:09.560\nSo all right,\ntook care of that little error, right?\n\n266\n00:12:09.560 --> 00:12:12.370\nThe syntax errors,\nthat's what gets you every time.\n\n267\n00:12:12.370 --> 00:12:16.410\nOkay, so, as far as Samba's concerned,\nour server's done.\n\n268\n00:12:16.410 --> 00:12:19.157\nWe're up, we're running,\nwe're in business.\n\n269\n00:12:19.157 --> 00:12:20.240\nWell, how do we know?\n\n270\n00:12:20.240 --> 00:12:22.373\nHow do we know that this\nthing's working in [CROSSTALK]\n\n271\n00:12:22.373 --> 00:12:23.102\n&gt;&gt; Prove it, Don Pezet.\n\n272\n00:12:23.102 --> 00:12:24.389\n[LAUGH]\n&gt;&gt; I know.\n\n273\n00:12:24.389 --> 00:12:26.610\nSo there's a number of\ndifferent ways to check.\n\n274\n00:12:26.610 --> 00:12:28.899\nThere's actually a bunch of\nutilities that you can go and\n\n275\n00:12:28.899 --> 00:12:31.770\ndownload that let you browse for\nNetBIOS stuff on the network and so on.\n\n276\n00:12:31.770 --> 00:12:34.420\nBut I'll be honest with you guys,\nyou really don't need that stuff.\n\n277\n00:12:34.420 --> 00:12:38.600\nThe easiest way to go and\ncheck is Red Hat Enterprise Linux.\n\n278\n00:12:38.600 --> 00:12:41.664\nIf you have the GUI installed,\nwhich on any workstation you would,\n\n279\n00:12:41.664 --> 00:12:44.909\nit already has the NetBIOS client as\na part of it, and it's ready to go.\n\n280\n00:12:44.909 --> 00:12:47.720\nAnd you don't even have to install or\nconfigure anything, right?\n\n281\n00:12:47.720 --> 00:12:54.330\nYou can easily see that if you\ngo up here to your file browser.\n\n282\n00:12:54.330 --> 00:12:57.410\nAnd when you're in the file browser,\nwhose name is escaping me, right now.\n\n283\n00:12:57.410 --> 00:12:59.650\nIt's like Nautilus or something like that.\n\n284\n00:12:59.650 --> 00:13:01.420\nBut when we go into the file browser,\n\n285\n00:13:01.420 --> 00:13:03.810\nyou're normally browsing\nyour local file system.\n\n286\n00:13:03.810 --> 00:13:06.510\nBut if you look way down here at\nthe bottom, you got Browse the Network and\n\n287\n00:13:06.510 --> 00:13:07.700\nConnect to a Server.\n\n288\n00:13:07.700 --> 00:13:12.580\nIf you choose Browse the Network,\nyou'll see a Windows Network.\n\n289\n00:13:12.580 --> 00:13:16.050\nIt's already got Samba configured to look\nfor Windows networks that are out there.\n\n290\n00:13:16.050 --> 00:13:18.698\nAnd in fact,\nmine's already found the FILESERVER.\n\n291\n00:13:18.698 --> 00:13:19.700\nIt's showing up right there.\n\n292\n00:13:19.700 --> 00:13:22.294\nIf it didn't find it,\nI could browse into Windows Network.\n\n293\n00:13:22.294 --> 00:13:25.830\nAnd it's gonna look, and\nit's gonna find stuff that's out there.\n\n294\n00:13:25.830 --> 00:13:30.644\nAnd we've got CONTROL4HOME,\nnot entirely sure what that is.\n\n295\n00:13:30.644 --> 00:13:33.610\nGRASSVALLEY, those are some of our\nvideo switches that we have here.\n\n296\n00:13:33.610 --> 00:13:34.960\nIPA, that's a beer.\n\n297\n00:13:34.960 --> 00:13:35.914\n&gt;&gt; That's what I thought.\n\n298\n00:13:35.914 --> 00:13:37.614\n[LAUGH]\n&gt;&gt; Not sure what that one is.\n\n299\n00:13:37.614 --> 00:13:39.770\n&gt;&gt; Peter must have set that up.\n\n300\n00:13:39.770 --> 00:13:44.660\n&gt;&gt; WORKGROUP, right, WORKGROUP was what\nI created on my RHEL server, here.\n\n301\n00:13:44.660 --> 00:13:47.150\nAnd if I browse into WORKGROUP,\nthere's the FILESERVER, right?\n\n302\n00:13:47.150 --> 00:13:49.420\nSo I didn't configure\nanything on the client side.\n\n303\n00:13:49.420 --> 00:13:53.580\nIt's already there, it's already done, and\nI can browse right into that FILESERVER.\n\n304\n00:13:53.580 --> 00:13:55.690\nAnd I can start to see what's what.\n\n305\n00:13:55.690 --> 00:13:58.490\nHere I've got private and public.\n\n306\n00:13:58.490 --> 00:14:03.590\nAnd if I go into the private folder,\nI have to authenticate, right?\n\n307\n00:14:03.590 --> 00:14:05.980\nIf I don't authenticate,\nI can't get into it.\n\n308\n00:14:05.980 --> 00:14:09.600\nIf I go into the other folder, the public\none, I don't have to authenticate.\n\n309\n00:14:09.600 --> 00:14:10.456\nIt's anonymous, right?\n\n310\n00:14:10.456 --> 00:14:13.440\nSo if I cancel, there we go, and\n\n311\n00:14:13.440 --> 00:14:16.970\nI go into public instead,\nit didn't make me authenticate.\n\n312\n00:14:16.970 --> 00:14:19.272\nAnd I can jump in here and\ncreate a new folder.\n\n313\n00:14:19.272 --> 00:14:20.328\nI'll call it test1.\n\n314\n00:14:20.328 --> 00:14:22.150\nI just created a new folder, right?\n\n315\n00:14:22.150 --> 00:14:23.180\nDidn't give me any grief.\n\n316\n00:14:23.180 --> 00:14:28.679\nIf I go back to my shell,\nin my shell I can go to /shares,\n\n317\n00:14:28.679 --> 00:14:33.010\nor I can just do a list of /shares/public.\n\n318\n00:14:34.120 --> 00:14:35.590\nAnd there's that test1 folder, right?\n\n319\n00:14:35.590 --> 00:14:38.510\nSo I was just able to use Samba to\ncommunicate across and get to it.\n\n320\n00:14:38.510 --> 00:14:41.670\nNow testing from the local machine\nis not a great way to verify\n\n321\n00:14:41.670 --> 00:14:42.810\nthe firewall's working.\n\n322\n00:14:42.810 --> 00:14:44.900\nSo I really do need to\ntest from another machine.\n\n323\n00:14:44.900 --> 00:14:47.312\nI could go and fire up a Windows machine.\n\n324\n00:14:47.312 --> 00:14:49.570\nBut I just happen to be on a Mac,\nright now.\n\n325\n00:14:49.570 --> 00:14:53.120\nAnd Macs have a neat feature where\nyou can tell it what protocol to use.\n\n326\n00:14:53.120 --> 00:14:58.620\nSo up top here,\nif I just go to my Go &gt; Connect to Server,\n\n327\n00:14:58.620 --> 00:15:02.110\nI can come in here and\nI can tell it who I wanna connect to.\n\n328\n00:15:02.110 --> 00:15:05.990\nAnd I'm gonna say smb://, and\nI need the server's IP address.\n\n329\n00:15:05.990 --> 00:15:09.460\nI guess I should've got that before,\nso let me pull that up.\n\n330\n00:15:09.460 --> 00:15:13.030\nI am 10.0.14.199.\n\n331\n00:15:13.030 --> 00:15:15.490\nYou'd think I'd have\nthat memorized by now.\n\n332\n00:15:15.490 --> 00:15:17.458\n10.0.14.199, so\nI'm going to connect to that server.\n\n333\n00:15:17.458 --> 00:15:22.834\nAnd when I connect,\nit's gonna ask me to authenticate, right?\n\n334\n00:15:22.834 --> 00:15:27.290\nSo here it goes, Connecting, and\nthere we go, and now it's asking.\n\n335\n00:15:27.290 --> 00:15:29.198\nIf I wanna go in as a guest,\nI can, anonymous.\n\n336\n00:15:29.198 --> 00:15:30.840\nBut I'm gonna do a registered user.\n\n337\n00:15:30.840 --> 00:15:36.191\nI'm gonna connect as dpezet, and\nI'll punch in my password, right.\n\n338\n00:15:36.191 --> 00:15:38.939\nActually, I believe I set\nthat to the easy password.\n\n339\n00:15:38.939 --> 00:15:39.920\n&gt;&gt; [LAUGH]\n&gt;&gt; Let me try that one, and\n\n340\n00:15:39.920 --> 00:15:41.680\nI'm gonna go and connect up.\n\n341\n00:15:41.680 --> 00:15:43.140\nIt'll tell me if I got the wrong one.\n\n342\n00:15:43.140 --> 00:15:46.830\nSo it's reaching out, and sending user\nname and password, and authenticating.\n\n343\n00:15:46.830 --> 00:15:50.280\nAnd now I see the private and\nthe public folders.\n\n344\n00:15:50.280 --> 00:15:54.460\nAnd I can choose, that private folder's\nwhat I wanna connect to, at least for now.\n\n345\n00:15:54.460 --> 00:15:57.010\nI'm gonna get connected, and\nas soon as that's done, it's gonna pop up.\n\n346\n00:15:57.010 --> 00:16:00.639\nHere it is, and if I go to create a New\nFolder in here, I'll just call this test2.\n\n347\n00:16:00.639 --> 00:16:03.757\nAnd there we go, and\nit'll access it and put data in there.\n\n348\n00:16:03.757 --> 00:16:07.500\nAnd I know I used SMB\nbecause I typed in that URL.\n\n349\n00:16:07.500 --> 00:16:09.280\nAnd if I'm on a Windows machine,\nit would be the same thing.\n\n350\n00:16:09.280 --> 00:16:11.820\nI browse a network, I see that folder,\nI get in, and I connect.\n\n351\n00:16:11.820 --> 00:16:14.830\nI've now got that cross-compatibility.\n\n352\n00:16:14.830 --> 00:16:18.790\nMy Windows machines can access\nfile shares on my Linux box.\n\n353\n00:16:18.790 --> 00:16:22.050\nAnd my Linux box can access file\nshares on the Windows machines.\n\n354\n00:16:22.050 --> 00:16:23.340\nThat's what Samba's all about.\n\n355\n00:16:23.340 --> 00:16:24.990\nIt's Windows compatibility.\n\n356\n00:16:24.990 --> 00:16:27.820\nIf you don't have any Windows\nservers in your network anywhere,\n\n357\n00:16:27.820 --> 00:16:28.904\ndon't mess with Samba.\n\n358\n00:16:28.904 --> 00:16:30.150\nDon't even install the thing, right?\n\n359\n00:16:30.150 --> 00:16:30.982\n&gt;&gt; What's the point?\n\n360\n00:16:30.982 --> 00:16:34.290\n&gt;&gt; Yeah, yeah, NFS, it'll do a better\njob for you in an all Linux.\n\n361\n00:16:34.290 --> 00:16:37.770\nAnd even a Linux and Mac environment\ncuz Macs have NFS built in too.\n\n362\n00:16:37.770 --> 00:16:39.430\nSo go that route.\n\n363\n00:16:39.430 --> 00:16:43.160\nBut if you're in a Windows environment or\nan environment that just has\n\n364\n00:16:43.160 --> 00:16:45.770\na handful of Window's machines,\nSamba can come in handy.\n\n365\n00:16:45.770 --> 00:16:48.970\nEspecially with the Active Directory stuff\nbecause then you can have a centralized\n\n366\n00:16:48.970 --> 00:16:50.030\nuser database.\n\n367\n00:16:50.030 --> 00:16:53.250\nAnd use that for accessing file\nshares on Windows as well as on Mac.\n\n368\n00:16:54.800 --> 00:16:57.383\nAll right, so\nthat is basically it for Samba.\n\n369\n00:16:57.383 --> 00:17:00.840\nOnce that's up and going,\nwe're in business and we're done.\n\n370\n00:17:00.840 --> 00:17:02.500\nAnd as long as it runs happy,\n\n371\n00:17:02.500 --> 00:17:05.540\nwe might need to add users to\nthe employees group overtime, right.\n\n372\n00:17:05.540 --> 00:17:07.425\nBut we don't have to mess\nwith Samba to do that.\n\n373\n00:17:07.425 --> 00:17:08.972\nWe might need to add\nsome more file shares.\n\n374\n00:17:08.972 --> 00:17:13.260\nAnd if you add more file shares, remember\nyou've got to edit that smb.cnof file?\n\n375\n00:17:13.260 --> 00:17:16.080\nAnd you gotta restart the service cuz\nit only reads that config file when\n\n376\n00:17:16.080 --> 00:17:16.934\nthe service starts.\n\n377\n00:17:16.934 --> 00:17:19.472\nAnd then it'll advertise\nout the other folders.\n\n378\n00:17:19.472 --> 00:17:22.613\nThat's a little bit of a hassle because,\nwhen you restart the service,\n\n379\n00:17:22.613 --> 00:17:24.640\nwhat happens to everybody who's connected?\n\n380\n00:17:24.640 --> 00:17:26.000\nThey get really angry, right?\n\n381\n00:17:26.000 --> 00:17:27.750\nSo adding more shares and\n\n382\n00:17:27.750 --> 00:17:30.210\nfolders maybe something you have\nto do after hours or whatever.\n\n383\n00:17:30.210 --> 00:17:32.070\nSo just be aware of that\nout there in the real word.\n\n384\n00:17:32.070 --> 00:17:34.960\nBut otherwise, it's pretty\nstraight-forward, and you're in business.\n\n385\n00:17:34.960 --> 00:17:38.156\nAnd then do remember that there are\ngraphical user interfaces out there for\n\n386\n00:17:38.156 --> 00:17:39.370\nSamba that you can go and download.\n\n387\n00:17:39.370 --> 00:17:42.560\nI just don't like to use them because\nthey come and go so fast, right?\n\n388\n00:17:42.560 --> 00:17:46.490\nIt's hard to find one that's been actively\nsupported for a long period of time.\n\n389\n00:17:46.490 --> 00:17:48.948\nAnd that's just because Samba,\n\n390\n00:17:48.948 --> 00:17:53.990\nit hasn't been able to keep up with\nthe times as much as it used to.\n\n391\n00:17:53.990 --> 00:17:57.810\nYou could actually be a domain controller\nin Samba back in the NT4 days and\n\n392\n00:17:57.810 --> 00:17:59.370\neven the early Windows 2000 days.\n\n393\n00:17:59.370 --> 00:18:04.230\nBut now you can't be a domain controller\nin the modern Active Directory.\n\n394\n00:18:04.230 --> 00:18:06.015\nSo they kinda lost functionality, and\n\n395\n00:18:06.015 --> 00:18:08.360\nthere just hasn't been the investment\nin the service to correct that.\n\n396\n00:18:08.360 --> 00:18:14.600\nSo I don't know, thanks to things\nlike federated services and things.\n\n397\n00:18:14.600 --> 00:18:18.830\nYou can just link up the Active Directory\nwith an OpenLDAP server, for example.\n\n398\n00:18:18.830 --> 00:18:20.690\nAnd you don't need that domain\ncontroller functionality.\n\n399\n00:18:20.690 --> 00:18:24.050\nSo some of that started to go away,\nand that's watered Samba down a bit.\n\n400\n00:18:24.050 --> 00:18:25.210\n&gt;&gt; Well, Don, I'll tell you what.\n\n401\n00:18:25.210 --> 00:18:29.770\nI've seen a myriad of different tutorials,\nwalkthroughs, FAQs,\n\n402\n00:18:29.770 --> 00:18:35.180\nyou name it, on getting Samba to\nwork with Windows and Linux clients.\n\n403\n00:18:35.180 --> 00:18:38.279\nAnd I'm not just saying this because\nyou are my boss or whatever.\n\n404\n00:18:38.279 --> 00:18:40.370\n&gt;&gt; [LAUGH]\n&gt;&gt; But that one was one of the best.\n\n405\n00:18:40.370 --> 00:18:43.290\nAnd it was very straightforward,\nnothing seemed too complex.\n\n406\n00:18:43.290 --> 00:18:46.530\nIt was lengthy, right,\ntook us two episodes to get it done.\n\n407\n00:18:46.530 --> 00:18:49.350\nBecause there were some administrative\ntasks that we had to accomplish.\n\n408\n00:18:49.350 --> 00:18:53.236\nSetting up the conf file, making\nsure we get the file name server, or\n\n409\n00:18:53.236 --> 00:18:56.860\nthe NetBIOS thing right, and\nsmb.conf, that's always fun.\n\n410\n00:18:56.860 --> 00:19:00.113\nBut as far as like, from start to finish,\nthis was very simple,\n\n411\n00:19:00.113 --> 00:19:01.650\nvery straightforward.\n\n412\n00:19:01.650 --> 00:19:05.760\nNothing too complex that our users out\nthere wouldn't be able to follow through.\n\n413\n00:19:05.760 --> 00:19:07.250\nGreat stuff, and we appreciate that.\n\n414\n00:19:07.250 --> 00:19:07.960\n&gt;&gt; Yeah, no problem.\n\n415\n00:19:07.960 --> 00:19:10.400\n&gt;&gt; That being said,\nwe are done for the day.\n\n416\n00:19:10.400 --> 00:19:13.210\nWe're done with Samba,\nmoving on to bigger and better things.\n\n417\n00:19:13.210 --> 00:19:15.420\nSo hopefully we'll see you guys\non those upcoming episodes.\n\n418\n00:19:15.420 --> 00:19:17.690\nAs for this one,\nit is time for us to sign off.\n\n419\n00:19:17.690 --> 00:19:20.140\nFor ITProTV, I've been your host,\nDaniel Lowrie.\n\n420\n00:19:20.140 --> 00:19:20.960\n&gt;&gt; And I'm Don Pezet.\n\n421\n00:19:20.960 --> 00:19:21.900\n&gt;&gt; We'll see you next time.\n\n422\n00:19:21.900 --> 00:19:29.434\n[MUSIC]\n\n423\n00:19:29.434 --> 00:19:31.040\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "193565364"
        }
      ],
      "title": "Networking"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Don explain the File System Hierarchy found in Red Hat Enterprise Linux. Here, they take you through and explain the intended purpose of common directories like `/boot`, `/etc`, `/proc`, `/opt`, and `/sbin`.",
          "length": "2179",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-3-1-file_system_hierarchy-111816.00_36_01_06.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-3-1-file_system_hierarchy-111816.00_36_01_06.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-3-1-file_system_hierarchy-111816.00_36_01_06.Still001-sm.jpg",
          "title": "File System Hierarchy",
          "transcript": "WEBVTT\n\n1\n00:00:00.021 --> 00:00:06.290\nWelcome to ITProTV, I'm your host Don-\n&gt;&gt; [CROSSTALK]\n\n2\n00:00:06.290 --> 00:00:08.183\n[MUSIC]\n\n3\n00:00:08.183 --> 00:00:12.075\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.075 --> 00:00:13.785\n&gt;&gt; All right, greetings everyone and\n\n5\n00:00:13.785 --> 00:00:16.010\nwelcome to another great\nepisode of ITProTV.\n\n6\n00:00:16.010 --> 00:00:17.580\nI'm your host Daniel Lowrie.\n\n7\n00:00:17.580 --> 00:00:21.210\nIn today's episode its more on\nour Red Hat enterprise Linux,\n\n8\n00:00:21.210 --> 00:00:22.840\nwell version number seven is out.\n\n9\n00:00:22.840 --> 00:00:24.360\nCan you believe that?\n\n10\n00:00:24.360 --> 00:00:27.900\nAnd joining us in the studio again to help\nus out with that endeavor is our good\n\n11\n00:00:27.900 --> 00:00:29.130\nfriend Mr. Don Pezet.\n\n12\n00:00:29.130 --> 00:00:29.930\nDon, welcome back sir.\n\n13\n00:00:29.930 --> 00:00:30.480\nHow's it going?\n\n14\n00:00:30.480 --> 00:00:31.153\n&gt;&gt; It is going great, Daniel.\n\n15\n00:00:31.153 --> 00:00:33.011\nYou left a big enough pause in there,\nwe could always edit and\n\n16\n00:00:33.011 --> 00:00:34.807\nchange it to version eight,\nversion nine and keep going.\n\n17\n00:00:34.807 --> 00:00:35.503\n&gt;&gt; Every time.\n\n18\n00:00:35.503 --> 00:00:36.165\nIt's my plan.\n\n19\n00:00:36.165 --> 00:00:38.851\n[LAUGH]\n&gt;&gt; Which does work out kind of well\n\n20\n00:00:38.851 --> 00:00:42.951\nbecause what we're about to talk about\nis the file system hierarchy found in\n\n21\n00:00:42.951 --> 00:00:44.552\nRed Hat, which remarkably,\n\n22\n00:00:44.552 --> 00:00:48.420\nhas been pretty unchanged since all\nthe way back in Red Hat version one.\n\n23\n00:00:48.420 --> 00:00:51.170\nSo it's a pretty stable thing.\n\n24\n00:00:51.170 --> 00:00:54.285\nBut it is something that we need to be\nfamiliar with, and there have been a few\n\n25\n00:00:54.285 --> 00:00:56.733\nlittle changes in Red Hat 7 that\nwe need to be aware of also.\n\n26\n00:00:56.733 --> 00:01:00.582\nSo that's what we're gonna take a look\nat it and what this is all really\n\n27\n00:01:00.582 --> 00:01:05.010\ncentering around, is when you do\na Red Hat Enterprise Linux install.\n\n28\n00:01:05.010 --> 00:01:07.670\nAnd you start browsing the hard drive,\nthere's a directory structure.\n\n29\n00:01:07.670 --> 00:01:10.690\nThere's a number of different folders and\n\n30\n00:01:10.690 --> 00:01:15.600\nthey all have really interesting names\nlike /usr, /etc, /boot, and so on.\n\n31\n00:01:15.600 --> 00:01:18.840\nAnd you might ask yourself,\nwhat are all these folders?\n\n32\n00:01:18.840 --> 00:01:22.740\nAll different junk in there and why do\nthey choose to name some of these things,\n\n33\n00:01:22.740 --> 00:01:25.360\nthese different names.\n\n34\n00:01:25.360 --> 00:01:28.388\nAnd the reason is, or\nthe short answer is that Red Hat didn't.\n\n35\n00:01:28.388 --> 00:01:30.025\nRed Hat didn't name any of this stuff.\n\n36\n00:01:30.025 --> 00:01:33.824\nThat there is an open standard\nout there which is called\n\n37\n00:01:33.824 --> 00:01:40.030\nthe Filesystem Hierarchy Standard and it's\nactually put together by an organization.\n\n38\n00:01:40.030 --> 00:01:41.930\nLet me bring up their web page here.\n\n39\n00:01:41.930 --> 00:01:43.980\nI've got it in the background here,\nhere we go.\n\n40\n00:01:43.980 --> 00:01:47.710\nThe Filesystem Hierarchy Standard,\ntheir web page is not much to look at.\n\n41\n00:01:47.710 --> 00:01:50.248\nI think it's written in HTML 1.1.\n\n42\n00:01:50.248 --> 00:01:52.451\nI mean, it's yeah, it's kinda old school.\n\n43\n00:01:52.451 --> 00:01:58.349\nBut if you ever wanna see this on your\nown, the website is pathname.com/fhs.\n\n44\n00:01:58.349 --> 00:02:00.426\nThat's where they have\nthe Filesystem Hierarchy Standard.\n\n45\n00:02:00.426 --> 00:02:01.534\n&gt;&gt; If it ain't broke, Don, don't fix it.\n\n46\n00:02:01.534 --> 00:02:02.196\n&gt;&gt; [LAUGH] Yeah.\n\n47\n00:02:02.196 --> 00:02:05.111\n&gt;&gt; [LAUGH]\n&gt;&gt; And they haven't fixed it since 2004,\n\n48\n00:02:05.111 --> 00:02:06.840\nwas the last update on this one.\n\n49\n00:02:06.840 --> 00:02:09.155\nIt looked outdated in 2004 too,\nby the way.\n\n50\n00:02:09.155 --> 00:02:11.240\n&gt;&gt; [LAUGH] Yes it did.\n\n51\n00:02:11.240 --> 00:02:14.080\n&gt;&gt; When I got started with Linux,\nand I think you and\n\n52\n00:02:14.080 --> 00:02:16.940\nI talked about this but\nhow it was before a show or\n\n53\n00:02:16.940 --> 00:02:20.390\nsomething about, what's your first\nversion of Linux that you worked with?\n\n54\n00:02:20.390 --> 00:02:23.160\nAnd mine was a very early\nversion of Slackware.\n\n55\n00:02:23.160 --> 00:02:25.011\nAnd I think you had said [CROSSTALK]?\n\n56\n00:02:25.011 --> 00:02:25.853\n&gt;&gt; Red Hat.\n\n57\n00:02:25.853 --> 00:02:27.350\n&gt;&gt; It was Red Hat.\n\n58\n00:02:27.350 --> 00:02:31.330\nWell, one of my big complaints\nabout Linux in the very beginning\n\n59\n00:02:31.330 --> 00:02:35.500\nwas how things were so\ninconsistent between the distros.\n\n60\n00:02:35.500 --> 00:02:38.950\nThat you could do something on Slackware,\nand turn around and\n\n61\n00:02:38.950 --> 00:02:40.910\ngo to Red Hat and it wouldn't work.\n\n62\n00:02:40.910 --> 00:02:43.680\nOr I'd have software that\nworked perfectly under Debian,\n\n63\n00:02:43.680 --> 00:02:46.225\nand then I would jump over to Gentoo,\nand good luck.\n\n64\n00:02:46.225 --> 00:02:48.150\n&gt;&gt; [LAUGH]\n&gt;&gt; You had so\n\n65\n00:02:48.150 --> 00:02:53.210\nmany different things that were not right\nwhen you went from distro to distro.\n\n66\n00:02:53.210 --> 00:02:57.380\nAnd so, if you went to a website to\ndownload software like Wire Shark or\n\n67\n00:02:57.380 --> 00:02:58.570\nLibre Office or whatever,\n\n68\n00:02:58.570 --> 00:03:02.560\nthey would have to have install packages\nfor all these different operating systems.\n\n69\n00:03:02.560 --> 00:03:05.720\nAnd they'd usually just pick\nthe most popular distros.\n\n70\n00:03:05.720 --> 00:03:08.920\nAnd if you weren't popular, tough luck,\nyou didn't get the software.\n\n71\n00:03:08.920 --> 00:03:12.540\nAnd so that really kinda hurt\nLinux in the early days.\n\n72\n00:03:12.540 --> 00:03:16.295\nWell, the manufacturers, the vendors, the\ndevelopers, they all recognize that too.\n\n73\n00:03:16.295 --> 00:03:18.570\nWhich was just becoming\ntoo much of a pain.\n\n74\n00:03:18.570 --> 00:03:22.520\nAnd so most of the Linux distros\nthat were out there adopted what's\n\n75\n00:03:22.520 --> 00:03:24.760\ncalled the Filesystem Hierarchy Standard.\n\n76\n00:03:24.760 --> 00:03:25.850\nSo the folder names and\n\n77\n00:03:25.850 --> 00:03:30.860\nthe folder locations are actually\nconsistent across the different distros.\n\n78\n00:03:30.860 --> 00:03:36.668\nAnd that way, if I write a program and\nmy installation script says we're gonna\n\n79\n00:03:36.668 --> 00:03:42.860\ninstall into slash op slash Don Co,\nor whatever, whatever that folder is.\n\n80\n00:03:42.860 --> 00:03:48.440\nI can expect that slash op folder to\nexist on several different distros.\n\n81\n00:03:48.440 --> 00:03:51.420\nSo now I can write one set\nof installation scripts.\n\n82\n00:03:51.420 --> 00:03:56.730\nNow, I might have to package it\nas an RPM for Red Hat, CentOS,\n\n83\n00:03:56.730 --> 00:04:01.760\nand Fedora, and\npackage it as a Debian package.\n\n84\n00:04:01.760 --> 00:04:05.580\nIt was a DPM or whatever that\nwe use under Debian and Ubuntu.\n\n85\n00:04:05.580 --> 00:04:07.990\nI might have to repackage\nit different ways.\n\n86\n00:04:07.990 --> 00:04:12.590\nBut the file contents on the inside and\nthe scripts that I use,\n\n87\n00:04:12.590 --> 00:04:13.370\nthose are identical.\n\n88\n00:04:13.370 --> 00:04:17.816\nSo now it's just really running a package\nconverter which is not really different\n\n89\n00:04:17.816 --> 00:04:22.199\nthan saying, I'm gonna zip it up here and\nI'm gonna be zip it over here, or RAR or\n\n90\n00:04:22.199 --> 00:04:25.309\nARJ, or whatever, ARJ,\nthat's getting a little old.\n\n91\n00:04:25.309 --> 00:04:28.176\n&gt;&gt; [LAUGH]\n&gt;&gt; But whatever archive it is I wanna use.\n\n92\n00:04:28.176 --> 00:04:29.610\nIt's really not any different than that.\n\n93\n00:04:29.610 --> 00:04:33.300\nSo developing software that becomes\nportable, easy to move between distros,\n\n94\n00:04:33.300 --> 00:04:38.020\nbecomes a heck of a lot easier when\npeople follow a consistent standard and\n\n95\n00:04:38.020 --> 00:04:39.640\nFHS is that standard.\n\n96\n00:04:39.640 --> 00:04:41.980\nSo Red Hat follows it,\n\n97\n00:04:41.980 --> 00:04:46.030\nalthough they have tweaked it a little bit\ncuz God forbid people follow a standard.\n\n98\n00:04:46.030 --> 00:04:49.190\nIn their defense though the standard,\nhasn't changed since 2004,\n\n99\n00:04:49.190 --> 00:04:50.360\nthat's 12 years ago.\n\n100\n00:04:50.360 --> 00:04:54.640\nThe filming of this episode and\nthat's a long time.\n\n101\n00:04:54.640 --> 00:04:56.050\nThings have changed since then.\n\n102\n00:04:56.050 --> 00:04:59.918\nThings have evolved so, if you ever\nget bored though go to the website,\n\n103\n00:04:59.918 --> 00:05:04.910\npathname.com/fhs, and they've got\nthe document in ten different formats.\n\n104\n00:05:04.910 --> 00:05:06.380\nBut I'll just pull up the web one here.\n\n105\n00:05:06.380 --> 00:05:08.490\nThis is the file system\nhierarchy standard.\n\n106\n00:05:08.490 --> 00:05:13.030\nAnd they basically lay out all the\ndifferent folders that are expected to be\n\n107\n00:05:13.030 --> 00:05:14.620\npresent on a machine.\n\n108\n00:05:14.620 --> 00:05:19.084\nAnd kind of what their purpose is, so\nif you look we'll see defined here /bin,\n\n109\n00:05:19.084 --> 00:05:26.280\n/boot, /dev, /etc, /home,\nthere's /opt that I mentioned and so on.\n\n110\n00:05:26.280 --> 00:05:28.580\nThey're all listed right here.\n\n111\n00:05:28.580 --> 00:05:30.830\nAnd as long as vendors,\n\n112\n00:05:30.830 --> 00:05:35.360\ndistros follow this pattern, it makes it\na heck of a lot easier for us to operate.\n\n113\n00:05:35.360 --> 00:05:36.980\nNow, here's where it gets weird.\n\n114\n00:05:36.980 --> 00:05:40.340\nIs that they'll tell us things like,\nhey your slash s bin and\n\n115\n00:05:40.340 --> 00:05:42.420\nthat should be system binaries.\n\n116\n00:05:42.420 --> 00:05:46.020\nWell, what counts as a system binary?\n\n117\n00:05:47.100 --> 00:05:51.130\nRed Hat may have one opinion of\nwhat counts as a system binary, and\n\n118\n00:05:51.130 --> 00:05:55.620\nboon two canonical might have a different\nopinion of what counts as a system binary.\n\n119\n00:05:55.620 --> 00:05:59.500\nAnd so, we start ending up with\nsome things being in S bin, and\n\n120\n00:05:59.500 --> 00:06:04.700\nother things being over in bin,\nessential user command binaries, right?\n\n121\n00:06:04.700 --> 00:06:07.000\nOr even the ones that\nare hidden inside of usr,\n\n122\n00:06:07.000 --> 00:06:12.080\nthere's a /usr/bin and a /usr/sbin and\nso those get moved off.\n\n123\n00:06:12.080 --> 00:06:16.707\nWell you'll see down here,\nthe /usr hierarchy and you start to see,\n\n124\n00:06:16.707 --> 00:06:20.719\nthere, /user/bin,\n/user/sbin right there, right?\n\n125\n00:06:20.719 --> 00:06:24.579\nAnd these are non-essential\nstandard system binaries, okay?\n\n126\n00:06:24.579 --> 00:06:28.015\nSo there is a little bit of\ninterpretation that goes into this.\n\n127\n00:06:28.015 --> 00:06:31.520\nAnd if you read up on, you can click on,\nyou can start to tell about it and\n\n128\n00:06:31.520 --> 00:06:35.493\nkinda what you think, what you go in there\nand what did you do but it doesn't get as\n\n129\n00:06:35.493 --> 00:06:39.360\ndetailed to saying here's what we\nconsider non-essential binaries.\n\n130\n00:06:39.360 --> 00:06:43.013\nThat's still left up to the distros and\nthat still creates some confusion.\n\n131\n00:06:43.013 --> 00:06:47.630\nAnd so Red Hat has actually taken some\nsteps on their side to even simplify that\n\n132\n00:06:47.630 --> 00:06:50.767\nto kind of resolve it and\nmake it a little bit easier.\n\n133\n00:06:50.767 --> 00:06:56.460\nSo let's stop looking at the standard and\nstart looking at the Red Hat install.\n\n134\n00:06:56.460 --> 00:06:58.350\nNow I could use the CLI for this but\n\n135\n00:06:58.350 --> 00:07:04.160\nI'm gonna use the GUI and\njust browse into My Computer.\n\n136\n00:07:04.160 --> 00:07:07.221\nAnd we're gonna take a look\nat that file system hierarchy\n\n137\n00:07:07.221 --> 00:07:09.210\nas it's laid out right here, okay.\n\n138\n00:07:10.360 --> 00:07:14.454\nAnd we start to look at it,\nwe'll see some folders like /bin,\n\n139\n00:07:14.454 --> 00:07:18.590\n/boot, these are all ones that we're\nkind of used to see in this series,\n\n140\n00:07:18.590 --> 00:07:22.590\nif you've watched most of our episodes,\nwe've definitely spent some time in /etc\n\n141\n00:07:22.590 --> 00:07:27.310\ndoing configurations and things in /lib,\nwhere system D is all tucked away.\n\n142\n00:07:27.310 --> 00:07:30.132\nSo those are folders that we've seen and\nworked with.\n\n143\n00:07:30.132 --> 00:07:35.148\nSome of these other ones, we haven't\nreally worked with at all like /home,\n\n144\n00:07:35.148 --> 00:07:40.175\nI haven't really talked about in any\nof our episodes, or /media or /proc.\n\n145\n00:07:40.175 --> 00:07:41.719\nI don't think I mentioned /proc at all.\n\n146\n00:07:41.719 --> 00:07:43.995\nSo what the heck are these things?\n\n147\n00:07:43.995 --> 00:07:47.292\nLet me run through the critical ones and\nwe'll get a chance to see what they are.\n\n148\n00:07:47.292 --> 00:07:50.473\nLet me start with boot, right, /boot.\n\n149\n00:07:50.473 --> 00:07:54.316\nThis is where the boot operating systems,\nboot files are.\n\n150\n00:07:54.316 --> 00:07:59.991\nWhen we talk about the systemd and\nnit process The system\n\n151\n00:07:59.991 --> 00:08:03.995\nprocess is launched\nafter the system boots.\n\n152\n00:08:03.995 --> 00:08:07.590\nIn the boot folder is how we\nactually boot our system.\n\n153\n00:08:07.590 --> 00:08:10.710\nOur Linux kernel actually resides\nright there inside of boot.\n\n154\n00:08:10.710 --> 00:08:14.390\nIf I browse into it you'll see a bunch of\nstuff in here like my grub boot loader.\n\n155\n00:08:14.390 --> 00:08:17.860\nI'll see the initial RAM\ndrive that's created.\n\n156\n00:08:17.860 --> 00:08:20.010\nWhen the kernel loads it needs\nsome temporary storage and\n\n157\n00:08:20.010 --> 00:08:23.230\nit generates a RAM drive to operate\ninside, and so we see that.\n\n158\n00:08:23.230 --> 00:08:26.010\nAnd as we scroll down\nhere towards the bottom,\n\n159\n00:08:27.060 --> 00:08:30.530\nVM linuz with a Z and\nthen a version number.\n\n160\n00:08:30.530 --> 00:08:32.240\nThis is my kernel.\n\n161\n00:08:32.240 --> 00:08:38.360\nNow when I install this work station it\nwas running Red Hat enterprise Linux 7.2.\n\n162\n00:08:38.360 --> 00:08:42.390\nAnd then after we filmed about ten\nepisodes the released 7.3 and so\n\n163\n00:08:42.390 --> 00:08:43.790\nmy work station updated.\n\n164\n00:08:43.790 --> 00:08:46.150\nAnd so I actually have two\nkernels sitting here, right?\n\n165\n00:08:46.150 --> 00:08:47.600\nThe one from 7.2 and the new one from 7.3.\n\n166\n00:08:47.600 --> 00:08:50.390\nAnd you can see the different\nversion number there.\n\n167\n00:08:50.390 --> 00:08:53.800\nThis one's sub release 327,\nthis one's sub release 514.\n\n168\n00:08:53.800 --> 00:08:54.710\nAnd so\n\n169\n00:08:54.710 --> 00:08:59.400\nwhen this system boots, I get a menu that\nlet's me pick which one I want to boot to.\n\n170\n00:08:59.400 --> 00:09:02.990\nIt defaults to the newest one, but if I\nhave a problem I can always scale back.\n\n171\n00:09:02.990 --> 00:09:07.600\nThat's what's being stored right here in\nthe boot folder, are all those things\n\n172\n00:09:07.600 --> 00:09:11.480\nthat happen when my system boots up and\nstarts to do what it needs to do.\n\n173\n00:09:11.480 --> 00:09:15.920\n&gt;&gt; So Don, like our system here it\nupdated and got the new kernel.\n\n174\n00:09:15.920 --> 00:09:18.570\nOnce we realize we have a stable\nsystem with that kernel it's okay for\n\n175\n00:09:18.570 --> 00:09:20.780\nus to delete the old one?\n\n176\n00:09:20.780 --> 00:09:21.420\n&gt;&gt; You can.\n\n177\n00:09:21.420 --> 00:09:24.330\nIt's usually a good idea to keep two.\n\n178\n00:09:24.330 --> 00:09:26.400\nWhich is kind of what we see here.\n\n179\n00:09:26.400 --> 00:09:28.030\nAnd that's what it does by default.\n\n180\n00:09:28.030 --> 00:09:32.160\nIs that as it continues to update, it's\nnot gonna just keep piling them in there.\n\n181\n00:09:32.160 --> 00:09:34.180\nIt usually just keeps that one and\nthe one before.\n\n182\n00:09:34.180 --> 00:09:35.650\nBut you can load as many\nas you want in there.\n\n183\n00:09:35.650 --> 00:09:38.080\nThere might even be a specific need for\nthat.\n\n184\n00:09:38.080 --> 00:09:41.870\nYou might have debug kernels, ones that\nhave all the debugging flags enabled.\n\n185\n00:09:41.870 --> 00:09:45.380\nAnd then you might have production\nkernels and different things for testing.\n\n186\n00:09:45.380 --> 00:09:46.420\nIf you're a developer,\n\n187\n00:09:46.420 --> 00:09:49.760\nyou may find that you need several canals\nto achieve what you're trying to achieve,\n\n188\n00:09:50.760 --> 00:09:53.100\nmost of us don't do that and so\nyou'll just see two in there.\n\n189\n00:09:53.100 --> 00:09:55.370\n&gt;&gt; So because of the standard then\nthat we've been talking about,\n\n190\n00:09:55.370 --> 00:09:58.320\nif we move the canals out of that\nfolder which we could probably do,\n\n191\n00:09:58.320 --> 00:10:03.340\nall right, because we have the access,\nwe would then make the system dis-stable.\n\n192\n00:10:03.340 --> 00:10:04.350\nYes, yeah.\nTypically and\n\n193\n00:10:04.350 --> 00:10:05.820\nthere's actually multiple reasons.\n\n194\n00:10:05.820 --> 00:10:07.590\nNot just because we're\nbreaking the file hierarchy,\n\n195\n00:10:07.590 --> 00:10:11.440\nbecause when we boot,\nwe expect that boot folder to be there.\n\n196\n00:10:11.440 --> 00:10:14.640\nAnd the boot folder is normally\nactually a separate partition, and\n\n197\n00:10:14.640 --> 00:10:17.680\nso it's the first thing that get\nmounted when we start to go and run.\n\n198\n00:10:17.680 --> 00:10:20.500\nThat /boot is like it can't be encrypted\n\n199\n00:10:20.500 --> 00:10:22.027\nbecause if it's encrypted\nwe can't get to the kernel.\n\n200\n00:10:22.027 --> 00:10:23.396\n[LAUGH]\n&gt;&gt; [CROSSTALK] out of luck, right?\n\n201\n00:10:23.396 --> 00:10:27.053\nVersus the rest of our storage\nthat might all be encrypted and so\n\n202\n00:10:27.053 --> 00:10:29.675\nit needs to be separate and\nspecial, right?\n\n203\n00:10:29.675 --> 00:10:32.345\nAnd that's all part of our\nunderlying operating system there.\n\n204\n00:10:32.345 --> 00:10:34.955\nBut we expect there to be\na folder called /boot.\n\n205\n00:10:34.955 --> 00:10:37.095\nIt may be a dedicated hard drive.\n\n206\n00:10:37.095 --> 00:10:38.275\nIt might be a partition on a drive.\n\n207\n00:10:38.275 --> 00:10:40.360\nIt might just be a folder\ninside of my main disk.\n\n208\n00:10:40.360 --> 00:10:41.680\nBut we expect it to be there.\n\n209\n00:10:41.680 --> 00:10:44.690\nThat's the path that we're gonna look for\nwhen we go to find that kernel.\n\n210\n00:10:46.110 --> 00:10:49.490\nAll right, after that we've got our\nother folders that kinda lay out.\n\n211\n00:10:49.490 --> 00:10:50.690\nThe next one is dev.\n\n212\n00:10:50.690 --> 00:10:53.550\nI know I've talked about dev\na little bit in other episodes.\n\n213\n00:10:53.550 --> 00:10:57.660\nAll of the hardware on your system,\nphysical and virtual hardware,\n\n214\n00:10:57.660 --> 00:11:02.310\nis identified and given a name and\nrepresented as a file.\n\n215\n00:11:02.310 --> 00:11:05.950\nSo all our hardware is represented as\na file and that file is inside of dev.\n\n216\n00:11:05.950 --> 00:11:10.100\nAnd there's a service called\nudev that runs at boot time and\n\n217\n00:11:10.100 --> 00:11:14.760\nassigns names to all of your hardware, and\nthen updates these files to point to them.\n\n218\n00:11:14.760 --> 00:11:17.328\nSo if I browse in here,\nI'm gonna see a bunch of files.\n\n219\n00:11:17.328 --> 00:11:21.360\nAnd each of these files\nare actually pointing to hardware.\n\n220\n00:11:21.360 --> 00:11:26.060\nLike /dev/cerom or /dev/console.\n\n221\n00:11:26.060 --> 00:11:29.670\nThese are actually shortcut names,\nthe real hardware will have slightly more\n\n222\n00:11:29.670 --> 00:11:32.610\nannoying names which we'll\nsee down here a little bit.\n\n223\n00:11:32.610 --> 00:11:37.550\nSo like my hard drives will\nnormally be SD whatever.\n\n224\n00:11:37.550 --> 00:11:42.210\nSo if I look here I've got SDA\nthat's my first hard drive.\n\n225\n00:11:42.210 --> 00:11:44.760\nAnd then on that hard\ndrive I've got SDA1 SDA2,\n\n226\n00:11:44.760 --> 00:11:48.540\nI've got two partitions\non that hard drive.\n\n227\n00:11:48.540 --> 00:11:51.440\nI've got SDB C and\nD I've got three more hard drives.\n\n228\n00:11:51.440 --> 00:11:55.230\nThey haven't got any partitions on them\nat all I haven't messed with those yet.\n\n229\n00:11:55.230 --> 00:11:56.990\nI can see other hardware in here.\n\n230\n00:11:56.990 --> 00:12:05.360\nThe CD drive is SR let's find it SR Zero,\nthat's my cd rom drive right there.\n\n231\n00:12:05.360 --> 00:12:09.370\nYou'll see standard error,\nstandard in and standard out.\n\n232\n00:12:09.370 --> 00:12:12.960\nThose are the input and output processes\nwhen we're working in the terminal, right?\n\n233\n00:12:12.960 --> 00:12:15.060\nHow we get errors and\nsee things on screen.\n\n234\n00:12:15.060 --> 00:12:17.810\nNow, that is considered virtual hardware.\n\n235\n00:12:17.810 --> 00:12:21.100\nThere's not an actual hardware piece\nthat represents standard error.\n\n236\n00:12:21.100 --> 00:12:26.120\nIt's just a software piece that, hey when\nI output text Do I throw it on the screen\n\n237\n00:12:26.120 --> 00:12:29.420\nwhich would be standard out or\nI throw it out as error that may or\n\n238\n00:12:29.420 --> 00:12:31.880\nmay not be display,\nthat would be standard error or\n\n239\n00:12:31.880 --> 00:12:34.330\nam I feeding it as input\nthat will be standard input.\n\n240\n00:12:34.330 --> 00:12:36.870\nSo you've got each of those\ndifferent little pieces there\n\n241\n00:12:36.870 --> 00:12:39.850\nthat's all hardware that's\npart of the system.\n\n242\n00:12:39.850 --> 00:12:43.740\nAnd all of the TTYs, right those\nare all the consoles that we have.\n\n243\n00:12:43.740 --> 00:12:45.740\nTTY is short for teletype.\n\n244\n00:12:45.740 --> 00:12:49.980\nAnd it used to be the actual text\nmode console of each interface and\n\n245\n00:12:49.980 --> 00:12:52.190\nI know there's-\n&gt;&gt; Why so many?\n\n246\n00:12:52.190 --> 00:12:55.610\n&gt;&gt; Yeah I know there are 63 of the things.\n\n247\n00:12:55.610 --> 00:12:56.390\n&gt;&gt; Yeah.\n\n248\n00:12:56.390 --> 00:12:59.670\n&gt;&gt; There's actually only six by default,\nthe other ones are all disabled, but\n\n249\n00:12:59.670 --> 00:13:00.550\nwe can enable them and\n\n250\n00:13:00.550 --> 00:13:03.820\nstart to take advantage of them\n&gt;&gt; Some of the TTYs are actually used when\n\n251\n00:13:03.820 --> 00:13:07.420\nyou're Telneting and\nSSHing out versus coming in, and so\n\n252\n00:13:07.420 --> 00:13:08.280\nthose come into play, too.\n\n253\n00:13:08.280 --> 00:13:10.310\nThey become VTYs at that point.\n\n254\n00:13:10.310 --> 00:13:12.800\nAnd you'll see these guys,\nTTYS0 through S3.\n\n255\n00:13:12.800 --> 00:13:15.070\nThose are for com ports.\n\n256\n00:13:15.070 --> 00:13:16.590\nI might have com1, com2, com3, com4.\n\n257\n00:13:16.590 --> 00:13:20.910\nNot everybody does anymore,\nbut those show up in there.\n\n258\n00:13:20.910 --> 00:13:22.610\nAll these names for\n\n259\n00:13:22.610 --> 00:13:27.770\nthe hardware, if I look at something,\nvcsa5, or vcsa in general.\n\n260\n00:13:27.770 --> 00:13:30.160\nOften I actually can't remember\nwhat the heck that is.\n\n261\n00:13:30.160 --> 00:13:32.930\nBut I could go and\npull the udev documentation and\n\n262\n00:13:32.930 --> 00:13:35.860\nit will actually have in there\nwhat that means and I can find it.\n\n263\n00:13:35.860 --> 00:13:37.780\nThe key thing is,\nwhen the system boots up,\n\n264\n00:13:37.780 --> 00:13:43.380\nall hardwares are represented as a file\nand I expect to find those files in /dev.\n\n265\n00:13:43.380 --> 00:13:46.600\nAnd this is one that I don't think I\nhave ever seen a distro mess with this.\n\n266\n00:13:46.600 --> 00:13:47.570\n&gt;&gt; Yeah.\n&gt;&gt; Cuz if you mess with this,\n\n267\n00:13:47.570 --> 00:13:49.050\nyou-\n&gt;&gt; You got problems.\n\n268\n00:13:49.050 --> 00:13:49.560\n&gt;&gt; You got problems.\n\n269\n00:13:49.560 --> 00:13:50.085\nYeah.\n&gt;&gt; [LAUGH].\n\n270\n00:13:50.085 --> 00:13:50.985\n&gt;&gt; There's gonna be all sorts\n\n271\n00:13:50.985 --> 00:13:52.150\nof issues there.\n\n272\n00:13:52.150 --> 00:13:54.840\nBut you will see where\nsome things get linked.\n\n273\n00:13:54.840 --> 00:13:55.980\nAnd so if you looked.\n\n274\n00:13:55.980 --> 00:13:56.650\nAm I running LVM?\n\n275\n00:13:56.650 --> 00:13:57.400\nLet's see.\n\n276\n00:13:59.340 --> 00:14:02.730\nIf I'm not, then in our LVM episodes,\n\n277\n00:14:02.730 --> 00:14:06.300\nyou'll get a chance to see,\nI'm not running it.\n\n278\n00:14:06.300 --> 00:14:10.090\nAll right, well, where it creates these\nbasically like virtual hard drives\n\n279\n00:14:10.090 --> 00:14:11.400\nthat are mapped to real hard drives.\n\n280\n00:14:11.400 --> 00:14:12.100\nAnd when you look in here,\n\n281\n00:14:12.100 --> 00:14:14.490\nthey'll just be links that\nare then pointing to subfolders.\n\n282\n00:14:14.490 --> 00:14:16.270\nAnd the actual drives will\nbe defined down in there.\n\n283\n00:14:16.270 --> 00:14:18.890\nSo there can be a little\nmore complexity to this.\n\n284\n00:14:18.890 --> 00:14:21.655\nBut what I'm looking at right now, these\nare all just kind of regular hardware.\n\n285\n00:14:21.655 --> 00:14:25.250\nAll right, so that's /dev.\n\n286\n00:14:25.250 --> 00:14:28.880\n/ETC which is et cetera\nis what it's short for.\n\n287\n00:14:28.880 --> 00:14:32.010\nThat folder is really full\nof configuration files.\n\n288\n00:14:32.010 --> 00:14:35.780\nIf you watch any of the other episodes\nwhere we configured darn near anything.\n\n289\n00:14:35.780 --> 00:14:38.670\nThe network interfaces, Samba and NFS.\n\n290\n00:14:40.430 --> 00:14:42.110\nFirewall, any of that stuff.\n\n291\n00:14:42.110 --> 00:14:45.410\nThe configuration files\nare stored inside of /etc.\n\n292\n00:14:45.410 --> 00:14:46.390\nSo if you browse in there,\n\n293\n00:14:46.390 --> 00:14:50.820\nit's gonna be made up of a ton of things\nthat are all just different services and\n\n294\n00:14:50.820 --> 00:14:55.780\napplications and what they do or\nwhy they're even there.\n\n295\n00:14:55.780 --> 00:15:00.285\nSo dhcp, dns mask, all those other things\nthat are kinda running in the background.\n\n296\n00:15:00.285 --> 00:15:04.230\nThat one's easy, /mnt.\n\n297\n00:15:04.230 --> 00:15:06.790\n/mnt is usually empty.\n\n298\n00:15:06.790 --> 00:15:07.775\nIf you browse into that,\n\n299\n00:15:07.775 --> 00:15:12.360\nthere's typically nothing in there,\nuntil you start to mount things.\n\n300\n00:15:12.360 --> 00:15:13.890\nMnt is short for mount.\n\n301\n00:15:13.890 --> 00:15:17.190\nAnd if you mount a cd drive,\nif you mount a network share,\n\n302\n00:15:17.190 --> 00:15:20.920\nif you mount a A partition right?\n\n303\n00:15:20.920 --> 00:15:25.075\nA lot of times it will default to going\nright into MNT then you can create\n\n304\n00:15:25.075 --> 00:15:26.660\nsub-folders there and onto it.\n\n305\n00:15:26.660 --> 00:15:32.030\nSo if you watched our NFS episode,\nI mounted documents and\n\n306\n00:15:32.030 --> 00:15:35.750\nreports to some NFS shares and\nso they show up right there.\n\n307\n00:15:35.750 --> 00:15:39.461\nI mount the CD-ROM drive /mnt/cd-rom.\n\n308\n00:15:39.461 --> 00:15:41.750\nHTFS I don't remember.\n\n309\n00:15:41.750 --> 00:15:43.720\nI don't remember mounting\nanything to that.\n\n310\n00:15:43.720 --> 00:15:44.230\nWell it's empty.\n\n311\n00:15:44.230 --> 00:15:45.330\nIt might not be mounting anything.\n\n312\n00:15:45.330 --> 00:15:46.760\n&gt;&gt; Home and Garden file system?\n\n313\n00:15:46.760 --> 00:15:47.610\n[LAUGH]\n&gt;&gt; There we go, yeah.\n\n314\n00:15:47.610 --> 00:15:49.835\nIt's the green file system.\n\n315\n00:15:49.835 --> 00:15:51.147\n&gt;&gt; [LAUGH]\n&gt;&gt; So anyhow, I don't remember what\n\n316\n00:15:51.147 --> 00:15:51.667\nthat one was.\n\n317\n00:15:51.667 --> 00:15:53.876\nAnd these names,\nyou can make them whatever you want.\n\n318\n00:15:53.876 --> 00:15:57.695\nI can have a folder here called Bob and\nI can mount a partition or CD or whatever.\n\n319\n00:15:57.695 --> 00:15:58.503\nIt's up to you.\n\n320\n00:15:58.503 --> 00:16:01.052\nBut that's the original intent of MNT.\n\n321\n00:16:01.052 --> 00:16:04.051\nAnd I'll tell you,\nnot every distro uses it anymore.\n\n322\n00:16:04.051 --> 00:16:07.450\nIn fact,\nRed Hat itself doesn't use it anymore.\n\n323\n00:16:07.450 --> 00:16:08.489\nYou can use it.\n\n324\n00:16:08.489 --> 00:16:12.131\nIf you go to the PROM, the terminal, you\ncan mount things to it, it's no big deal,\n\n325\n00:16:12.131 --> 00:16:13.238\nI did that with CD-ROM.\n\n326\n00:16:13.238 --> 00:16:15.100\nBut if you look at my desktop,\n\n327\n00:16:15.100 --> 00:16:20.710\nnotice I've got a Red Hat Enterprise Linux\n7.2 server CD right here in my drive.\n\n328\n00:16:20.710 --> 00:16:23.820\nAnd if I browse into that, I mean,\nit's there, that's the CD.\n\n329\n00:16:23.820 --> 00:16:27.524\nSo, if that's the CD,\nit obviously is not in the CD-ROM, right?\n\n330\n00:16:27.524 --> 00:16:29.790\nWell, it's not.\n\n331\n00:16:29.790 --> 00:16:30.539\n&gt;&gt; That wouldn't make sense, Don.\n\n332\n00:16:30.539 --> 00:16:32.805\n&gt;&gt; That wouldn't make sense.\n&gt;&gt; [LAUGH] It's just not doing it.\n\n333\n00:16:32.805 --> 00:16:36.384\n&gt;&gt; A lot of distros now use what's\ncalled an auto mounter, right?\n\n334\n00:16:36.384 --> 00:16:39.777\nIf this is a workstation,\nan end user puts a CD or a USB key in,\n\n335\n00:16:39.777 --> 00:16:43.790\ndo you want them to drop to terminal and\ndo a Mount command to mount that?\n\n336\n00:16:43.790 --> 00:16:44.382\n&gt;&gt; Yes.\n\n337\n00:16:44.382 --> 00:16:45.688\n&gt;&gt; They don't know what\nthe heck they're doing.\n\n338\n00:16:45.688 --> 00:16:47.472\n&gt;&gt; [LAUGH]\n&gt;&gt; It would be fun.\n\n339\n00:16:47.472 --> 00:16:49.056\nSo instead, there's an auto-mounter.\n\n340\n00:16:49.056 --> 00:16:49.907\nAnd the auto-mounters,\n\n341\n00:16:49.907 --> 00:16:52.620\nI don't know why, but for whatever reason,\nthey just don't like to mount to mnt.\n\n342\n00:16:52.620 --> 00:16:56.878\nActually I kind of do know why,\nwhich is mnt is a central place, and\n\n343\n00:16:56.878 --> 00:16:59.476\nwe've got permissions to worry about.\n\n344\n00:16:59.476 --> 00:17:02.328\nSo a lot of them will take those mounts\nand instead of mounting them to mnt,\n\n345\n00:17:02.328 --> 00:17:03.620\nwill mount them somewhere else.\n\n346\n00:17:03.620 --> 00:17:05.796\nIn Red Hat,\nthey actually get mounted into slash,\n\n347\n00:17:05.796 --> 00:17:07.525\nlet's see if I can remember where it is.\n\n348\n00:17:07.525 --> 00:17:08.719\nIt's like /user.\n\n349\n00:17:08.719 --> 00:17:11.598\nActually, I can cheat, and just pull the\nproperties of this thing, it'll tell me.\n\n350\n00:17:11.598 --> 00:17:14.553\nIt's [LAUGH] if we can.\n\n351\n00:17:14.553 --> 00:17:16.762\n&gt;&gt; Off the top of my head it's at.\n\n352\n00:17:16.762 --> 00:17:18.182\n&gt;&gt; You know I'm lying,\nit's not gonna tell me.\n\n353\n00:17:18.182 --> 00:17:19.264\nWe can find it in the Mount output.\n\n354\n00:17:19.264 --> 00:17:24.140\nBut I believe it's like /user/media.\n\n355\n00:17:24.140 --> 00:17:27.301\nLet me go and\nsee if we can't spot where that one is.\n\n356\n00:17:27.301 --> 00:17:32.554\n[COUGH] And, You know what?\n\n357\n00:17:32.554 --> 00:17:34.212\nActually, I'm not sure that- [CROSSTALK].\n\n358\n00:17:34.212 --> 00:17:35.010\nRun, there we go.\n\n359\n00:17:35.010 --> 00:17:37.424\nIt would make sense that it\nwould be /media, wouldn't it?\n\n360\n00:17:37.424 --> 00:17:38.216\n&gt;&gt; It would make sense.\n\n361\n00:17:38.216 --> 00:17:38.781\n&gt;&gt; You think it would go there but\nit isn't.\n\n362\n00:17:38.781 --> 00:17:43.460\n[LAUGH] So if we go into slash run,\nit's buried into /run.\n\n363\n00:17:43.460 --> 00:17:48.462\nAnd then inside of run,\nwe've got a user folder right there.\n\n364\n00:17:48.462 --> 00:17:50.575\nAnd then here's my user ID.\n\n365\n00:17:50.575 --> 00:17:55.717\nI'm user ID 1,000, right so,\n/run/users/1000 and\n\n366\n00:17:55.717 --> 00:17:59.200\nhere's the stuff that I've mounted.\n\n367\n00:17:59.200 --> 00:18:03.552\nAnd I've mounted more than one disc\nsince I've had this system online, and\n\n368\n00:18:03.552 --> 00:18:07.836\nso there's things that are showing up\nin here, and it will be one of these,\n\n369\n00:18:07.836 --> 00:18:11.188\nI could guess or I should have\ndone this in the first place.\n\n370\n00:18:11.188 --> 00:18:11.986\nJust go to terminal, and\n\n371\n00:18:11.986 --> 00:18:14.314\nin the terminal if you just run mount\nit will tell you where the heck it is.\n\n372\n00:18:14.314 --> 00:18:18.379\nAnd I can find it in here, so it's in,\nactually it wasn't in /run/user.\n\n373\n00:18:18.379 --> 00:18:21.446\nIt’s in /run/media and then /dpezet.\n\n374\n00:18:21.446 --> 00:18:24.934\nThere's my username, and\nthe Red Hat Enterprise Linux disk.\n\n375\n00:18:24.934 --> 00:18:27.437\nSo if I browse back to that,\nlet me get out of user.\n\n376\n00:18:27.437 --> 00:18:29.770\nSo I'm gonna to go /run/media.\n\n377\n00:18:31.895 --> 00:18:33.259\nAnd then there's that dpezet, and\n\n378\n00:18:33.259 --> 00:18:35.310\nthen there's Red Hat Enterprise Linux\nserver disk.\n\n379\n00:18:35.310 --> 00:18:39.444\nSo, the reason I'm bringing this up is\nI've obviously deviated from the standard.\n\n380\n00:18:39.444 --> 00:18:40.772\nI'm not mounting to /nmt.\n\n381\n00:18:40.772 --> 00:18:43.019\nBut that's the purpose of the folder.\n\n382\n00:18:43.019 --> 00:18:46.283\nAnd even though Red Hat doesn't use it\nanymore, they had the common sense to say,\n\n383\n00:18:46.283 --> 00:18:48.520\nyou know what, let's leave the mnt folder.\n\n384\n00:18:48.520 --> 00:18:51.654\nThat way if somebody has scripts or\nwhatever that use it, like\n\n385\n00:18:51.654 --> 00:18:55.947\nthe VMware Tools installation scripts,\nthey still use /mnt, and it still works.\n\n386\n00:18:55.947 --> 00:18:57.819\nSo they left it there for\nbackwards compatibility.\n\n387\n00:18:57.819 --> 00:19:02.052\nSo, they've changed but\nthey haven't broken the FHS by doing that.\n\n388\n00:19:02.052 --> 00:19:07.101\nAll right, let's see what's next, /opt.\n\n389\n00:19:07.101 --> 00:19:08.059\n/opt is my favorite folder.\n\n390\n00:19:08.059 --> 00:19:12.088\n[LAUGH] It was ignored by a lot\nof Linux distros for a while.\n\n391\n00:19:12.088 --> 00:19:16.150\nI came from the BSD world, and\nin BSD we always use the opt folder.\n\n392\n00:19:16.150 --> 00:19:18.399\nAny optional software you install.\n\n393\n00:19:18.399 --> 00:19:22.868\nIn other words, all the third party junk\nthat you put on top of Red Hat when you're\n\n394\n00:19:22.868 --> 00:19:27.900\ndone with your install, that's supposed to\ngo into /opt, and I'm gonna say supposed.\n\n395\n00:19:27.900 --> 00:19:31.738\n&gt;&gt; I thought it was optical software\n[LAUGH]. It's all about I strings.\n\n396\n00:19:31.738 --> 00:19:35.903\nBut it's any of our optional stuff,\nso for example, I install Red Hat,\n\n397\n00:19:35.903 --> 00:19:38.429\nrhel right off of the install disk here,\nand\n\n398\n00:19:38.429 --> 00:19:42.960\nthen afterwards I went to the LibreOffice\nwebsite and I install LibreOffice.\n\n399\n00:19:42.960 --> 00:19:46.472\nNow, when I installed it,\nit added itself right here to the menu,\n\n400\n00:19:46.472 --> 00:19:48.942\nso I've got good old\nLibreOffice right here.\n\n401\n00:19:48.942 --> 00:19:53.154\nBut if I browse on my hard\ndrive into that /opt folder,\n\n402\n00:19:53.154 --> 00:19:56.373\nI'll see there's LibreOffice 5.2.\n\n403\n00:19:56.373 --> 00:19:58.159\nThere's the optional\nsoftware that was installed.\n\n404\n00:19:58.159 --> 00:20:02.187\nAnd I can browse in and here's LibreOffice\nand all of its other files and\n\n405\n00:20:02.187 --> 00:20:03.006\nall its junk.\n\n406\n00:20:03.006 --> 00:20:04.337\nIt is a little bloated a bit.\n\n407\n00:20:04.337 --> 00:20:06.825\nBut we can see all that\nright there in /ops.\n\n408\n00:20:06.825 --> 00:20:08.902\nSo all the things that you install\nshould be going there, right?\n\n409\n00:20:08.902 --> 00:20:13.726\nThere are people who write installers and\nthey start copying things to /sbin or\n\n410\n00:20:13.726 --> 00:20:15.380\n/lib or whatever.\n\n411\n00:20:15.380 --> 00:20:16.367\nI'm not supposed to do that, right?\n\n412\n00:20:16.367 --> 00:20:19.481\nI mean if they have a library\nit can go in /lib, but\n\n413\n00:20:19.481 --> 00:20:21.939\nit's supposed to be going into /opt.\n\n414\n00:20:21.939 --> 00:20:24.475\n&gt;&gt; Don,\nis opt typically within the path variable?\n\n415\n00:20:24.475 --> 00:20:28.187\n&gt;&gt; You know, I'm not sure if opt is.\n\n416\n00:20:28.187 --> 00:20:32.357\nThe individual programs aren't so\nit doesn't really matter if opt is or not.\n\n417\n00:20:32.357 --> 00:20:38.660\nBut let's just take a look at\nwhat my path ends up when I-\n\n418\n00:20:38.660 --> 00:20:39.503\n&gt;&gt; Just echo path.\n\n419\n00:20:39.503 --> 00:20:40.456\n&gt;&gt; Yeah I should have done that.\n\n420\n00:20:40.456 --> 00:20:41.533\n&gt;&gt; [LAUGH] yeah.\n\n421\n00:20:41.533 --> 00:20:45.356\nI thought it would be faster just to\npull up all the set variables and\n\n422\n00:20:45.356 --> 00:20:48.450\nthat didn't work, but\nI'm going to do my percents.\n\n423\n00:20:48.450 --> 00:20:52.365\n&gt;&gt; No it's dollar sign all capital.\n\n424\n00:20:52.365 --> 00:20:53.156\n&gt;&gt; Darn it, Daniel.\n\n425\n00:20:53.156 --> 00:20:54.203\n&gt;&gt; Yes sir.\n\n426\n00:20:54.203 --> 00:20:55.035\nThere you go.\n\n427\n00:20:55.035 --> 00:20:55.780\n&gt;&gt; There we go, all right.\n\n428\n00:20:55.780 --> 00:20:57.432\nAnd yeah, no /opt.\n\n429\n00:20:57.432 --> 00:20:58.255\n&gt;&gt; No /opt.\n\n430\n00:20:58.255 --> 00:21:00.893\n&gt;&gt; So, and really if you put /opt\nin there, it wouldn't help cuz all\n\n431\n00:21:00.893 --> 00:21:04.390\nthe different application folders\nare underneath it, it would have to go in.\n\n432\n00:21:04.390 --> 00:21:06.681\nSometimes when you install though\nit'll add something to your path.\n\n433\n00:21:06.681 --> 00:21:09.175\nThat can certainly happen,\nbut yeah it's not in there.\n\n434\n00:21:09.175 --> 00:21:14.145\nInstead, what you'll see sometimes is\nwhere it'll be installed into /opt, and\n\n435\n00:21:14.145 --> 00:21:17.420\nthen they'll do a link in /user/svan or\nsomething.\n\n436\n00:21:17.420 --> 00:21:20.388\nAnd then that way the svan\nfolder is in your path, and\n\n437\n00:21:20.388 --> 00:21:24.855\nnow it can call that other application,\nso you'll see that from time to time.\n\n438\n00:21:24.855 --> 00:21:28.495\nAll right, let's see, so\nthat is good old /opt.\n\n439\n00:21:28.495 --> 00:21:30.983\nProc, I mentioned proc a minute ago.\n\n440\n00:21:30.983 --> 00:21:35.502\n/proc, which is short for\nprocess, right, or processes.\n\n441\n00:21:35.502 --> 00:21:39.484\nWhen Linux or\nreally when Unix was originally developed,\n\n442\n00:21:39.484 --> 00:21:45.018\nthe goal was to represent as much of your\noperating system as they could as files.\n\n443\n00:21:45.018 --> 00:21:49.130\nSo your hardware, your memory, and all\nsorts of things you represented as files.\n\n444\n00:21:49.130 --> 00:21:51.488\nWell, that happens with\nyour processes too.\n\n445\n00:21:51.488 --> 00:21:55.148\nYour processes, all their statistics and\ndescriptions, and\n\n446\n00:21:55.148 --> 00:21:59.120\ninformation about them is being\nwritten to files inside of /proc.\n\n447\n00:21:59.120 --> 00:22:01.860\nSo when you run a program,\nlike if I start sendmail,\n\n448\n00:22:01.860 --> 00:22:04.727\nsendmail will create a couple\nof entries inside /proc\n\n449\n00:22:04.727 --> 00:22:08.928\nto let me know that it's running, and\nthat it's running with this process ID.\n\n450\n00:22:08.928 --> 00:22:09.995\nAnd it's got these cues and\n\n451\n00:22:09.995 --> 00:22:12.890\nthis is the amount of data that\nit's moving in a particular time.\n\n452\n00:22:12.890 --> 00:22:15.159\nSo when we run things\nlike the Top utility,\n\n453\n00:22:15.159 --> 00:22:19.459\nTop is actually gathering a lot of its\ninformation right from the /proc folder.\n\n454\n00:22:19.459 --> 00:22:23.909\nIf you ever browse in there, I'm not gonna\ndo it with the GUI because that's kind of\n\n455\n00:22:23.909 --> 00:22:28.040\npointless, but if I go into there from\nthe command line, we can take a look and\n\n456\n00:22:28.040 --> 00:22:29.520\nyou will see a ton of stuff.\n\n457\n00:22:29.520 --> 00:22:32.444\nLet me just make my\nwindow a bit bigger here.\n\n458\n00:22:32.444 --> 00:22:36.794\nSo, looking inside of it,\nyou're gonna see a lot of really\n\n459\n00:22:36.794 --> 00:22:41.880\ninteresting things like this kcore,\nwhich is my kernel core right?\n\n460\n00:22:41.880 --> 00:22:44.972\nThe memory and\nother information that kernel is using,\n\n461\n00:22:44.972 --> 00:22:48.675\nwhich actually represents the maximum\naddress size on my system.\n\n462\n00:22:48.675 --> 00:22:49.879\nSo it looks like this massive file.\n\n463\n00:22:49.879 --> 00:22:52.322\nIt's actually not big at all.\n\n464\n00:22:52.322 --> 00:22:56.130\nBut up here, I've got these folders\nthat are just numbers, right?\n\n465\n00:22:56.130 --> 00:22:58.706\nEach number represents a process ID,\nright?\n\n466\n00:22:58.706 --> 00:23:00.821\nThese are all processes\nrunning on my system.\n\n467\n00:23:00.821 --> 00:23:05.610\nIf I do a PSAUX, right, here's all\nthe processes running on my system.\n\n468\n00:23:05.610 --> 00:23:10.129\nAnd when I look at them, they've all\ngot a process ID that's right here.\n\n469\n00:23:10.129 --> 00:23:15.302\nSo, 501, 508, 700,\nlooks like I'm all the way up to 5863.\n\n470\n00:23:15.302 --> 00:23:22.822\nAnd if I take a, let me do a New Tab here.\n\n471\n00:23:22.822 --> 00:23:24.440\nAnd I'm just going to run Top, right?\n\n472\n00:23:24.440 --> 00:23:29.095\nSo there's Top up and running,\nand if I go back over here,\n\n473\n00:23:29.095 --> 00:23:34.420\nI'm gonna pull up the processes again and\nthere's Top.\n\n474\n00:23:34.420 --> 00:23:37.364\nSo Top is running with\na process ID of 5945.\n\n475\n00:23:37.364 --> 00:23:42.905\nSo if I come in here and look for\n5945, it's got a folder,\n\n476\n00:23:42.905 --> 00:23:46.861\nand inside of it, it's got all this stuff.\n\n477\n00:23:46.861 --> 00:23:51.283\nThese are all descriptions of that\nprocess, I can view the processes status,\n\n478\n00:23:51.283 --> 00:23:52.359\nit's session ID.\n\n479\n00:23:52.359 --> 00:23:55.335\nI can view all these different things\nthat are really just information about\n\n480\n00:23:55.335 --> 00:23:55.903\nthe process.\n\n481\n00:23:55.903 --> 00:23:58.358\nBeing represented as files, okay?\n\n482\n00:23:58.358 --> 00:24:02.170\nThese are really poignant to certain\nareas in the memory and so on.\n\n483\n00:24:02.170 --> 00:24:05.190\nSo these really transitive files,\nthey come and they go,\n\n484\n00:24:05.190 --> 00:24:08.320\nthe data is constantly changing,\nit's not a static entity.\n\n485\n00:24:08.320 --> 00:24:11.999\nAnd what's inside of them is often times\nnot binary data on the hard drive, but\n\n486\n00:24:11.999 --> 00:24:15.191\nactually data that's in the RAM\non your system, what's going on?\n\n487\n00:24:15.191 --> 00:24:16.939\n&gt;&gt; And once those processor are killed,\n\n488\n00:24:16.939 --> 00:24:20.980\ndoes that automatically delete this\nfolder and all this stuff will disappear?\n\n489\n00:24:20.980 --> 00:24:22.120\n&gt;&gt; It's supposed to.\n\n490\n00:24:22.120 --> 00:24:24.178\n&gt;&gt; It's supposed to. [LAUGH].\n&gt;&gt; If a program crashes out,\n\n491\n00:24:24.178 --> 00:24:26.530\nsometimes that doesn't happen.\n\n492\n00:24:26.530 --> 00:24:27.989\nSometimes things get left behind.\n\n493\n00:24:27.989 --> 00:24:30.889\nThere are times where it's\ndone intentionally though, so\n\n494\n00:24:30.889 --> 00:24:32.710\nsee there 5945 is now gone.\n\n495\n00:24:32.710 --> 00:24:34.310\nI can closed out top and it's gone.\n\n496\n00:24:34.310 --> 00:24:39.210\nThere are some though, like my SQL\nwhere it'll leave behind a lock\n\n497\n00:24:39.210 --> 00:24:43.990\nfile to indicate that the database\nis offline and that it's okay for\n\n498\n00:24:43.990 --> 00:24:46.100\nme to do things like back\nup the database files.\n\n499\n00:24:46.100 --> 00:24:49.282\nVersus if it's running, I shouldn't back\nup the database files directly because\n\n500\n00:24:49.282 --> 00:24:50.741\nthey're locked by the system in use.\n\n501\n00:24:50.741 --> 00:24:54.335\nSo, you may find some lock files,\nor pid files or things like that,\n\n502\n00:24:54.335 --> 00:24:57.920\nthat get left behind that or\nare just there is an identifier.\n\n503\n00:24:57.920 --> 00:25:00.270\nBut otherwise, usually it just crashes or\nwhat leaves stuff behind].\n\n504\n00:25:00.270 --> 00:25:02.040\nAnd a reboot will normally purge it all.\n\n505\n00:25:02.040 --> 00:25:04.828\nBut we don't want to get to\nthat point if we can avoid it.\n\n506\n00:25:04.828 --> 00:25:05.575\n&gt;&gt; No, we don't.\n\n507\n00:25:05.575 --> 00:25:08.050\n[LAUGH]\n&gt;&gt; All right, so that's slash PROC.\n\n508\n00:25:08.050 --> 00:25:14.640\nWe also have /srv, and\n/srv is pretty much one of those\n\n509\n00:25:14.640 --> 00:25:19.760\nvestigial folders that used to be\nimportant and now not much uses it.\n\n510\n00:25:19.760 --> 00:25:23.310\nAnd the idea was that services\nwould put their data there.\n\n511\n00:25:23.310 --> 00:25:27.538\nSo if I had services like httpd,\nand mySQL,\n\n512\n00:25:27.538 --> 00:25:31.778\nwhich I don't think I\nneed the d on that one.\n\n513\n00:25:31.778 --> 00:25:35.417\nLet's see, yeah there we go.\n\n514\n00:25:35.417 --> 00:25:37.896\nSo if we have httpd or Apache [SOUND].\nSo, if we have hdpt, or Apache,\n\n515\n00:25:37.896 --> 00:25:42.439\nwe have mySQL, we have other things\nthat I've installed that when those\n\n516\n00:25:42.439 --> 00:25:46.930\nservices run, they would store their\nfiles and information in /SRV.\n\n517\n00:25:46.930 --> 00:25:51.830\nI am not aware of any software\nthat still stores data there.\n\n518\n00:25:51.830 --> 00:25:54.790\nSo if I do a systemctl\nstart mariadb.service and\n\n519\n00:25:54.790 --> 00:25:58.780\nit's not called mariadb, is it?\n\n520\n00:25:58.780 --> 00:26:06.309\nMaybe it's called mysql.\n\n521\n00:26:06.309 --> 00:26:07.509\nApparently, I don't remember\nwhat that one is called.\n\n522\n00:26:07.509 --> 00:26:09.611\nBut we can-.\n\n523\n00:26:09.611 --> 00:26:10.746\n&gt;&gt; Maybe just Maria.\n\n524\n00:26:10.746 --> 00:26:13.520\n&gt;&gt; I know, it's-\n&gt;&gt; There you go, that one works.\n\n525\n00:26:13.520 --> 00:26:15.314\n&gt;&gt; I'll start that one, but.\n\n526\n00:26:15.314 --> 00:26:17.615\nWhat the heck is that thing called?\n\n527\n00:26:17.615 --> 00:26:18.825\n&gt;&gt; [LAUGH]\n&gt;&gt; Now, I'm curious.\n\n528\n00:26:18.825 --> 00:26:21.336\nBut, I can start these things up, and\n\n529\n00:26:21.336 --> 00:26:26.688\nwhat you'll see is that if you go into\n/SRV It didn't create anything, right.\n\n530\n00:26:26.688 --> 00:26:29.912\nAnd that's because they really don't store\ntheir stuff there anymore, a lot of them\n\n531\n00:26:29.912 --> 00:26:33.040\nare stored in /var, slash V-A-R,\nthat's where Apache puts its website.\n\n532\n00:26:33.040 --> 00:26:37.990\nIf you go to /var/www/html there's\nall that data that's in there.\n\n533\n00:26:37.990 --> 00:26:41.400\nMariaDB and MySQL,\nthey also go to /var for things.\n\n534\n00:26:41.400 --> 00:26:43.590\nBut you can move them\nother places if you want.\n\n535\n00:26:43.590 --> 00:26:47.580\nSo, srv really doesn't get used anymore\nbut it is still there, again for\n\n536\n00:26:47.580 --> 00:26:48.420\nbackwards compatibility.\n\n537\n00:26:48.420 --> 00:26:53.870\nIf somebody has software that expects it\nto be there, it will indeed be there, so.\n\n538\n00:26:53.870 --> 00:26:57.760\nSo, let's see, that was slash srv,\nslash S-Y-S, slash sys.\n\n539\n00:26:57.760 --> 00:27:00.691\nThis is a weird one,\na weird one for me at least.\n\n540\n00:27:00.691 --> 00:27:01.521\n&gt;&gt; Yeah.\n\n541\n00:27:01.521 --> 00:27:03.432\n[LAUGH]\n&gt;&gt; So I just got done talking about /proc,\n\n542\n00:27:03.432 --> 00:27:07.007\nand how it has all this process stuff,\nand information, well so does /sys.\n\n543\n00:27:07.007 --> 00:27:09.062\nSo there we go, that's it.\n\n544\n00:27:09.062 --> 00:27:11.797\n&gt;&gt; That's it,\nWonder Twin Powers, Activate.\n\n545\n00:27:11.797 --> 00:27:14.130\n&gt;&gt; So you might ask yourself,\nwhy do we have two of these things?\n\n546\n00:27:14.130 --> 00:27:17.840\nAnd the reason is that when\nLinux was originally developed,\n\n547\n00:27:17.840 --> 00:27:19.440\nyou did not have hot plug hardware.\n\n548\n00:27:19.440 --> 00:27:22.611\nThere was not hardware that you could\nadd after the machine was already on.\n\n549\n00:27:22.611 --> 00:27:27.047\nIf you remember like the old,\nwhat were they, DIN5 keyboards?\n\n550\n00:27:27.047 --> 00:27:30.878\nOr even PS/2 keyboards, If you booted your\nsystem up with no keyboard attached, and\n\n551\n00:27:30.878 --> 00:27:33.250\nthen you plugged in a PS/2\nkeyboard what happened?\n\n552\n00:27:33.250 --> 00:27:34.190\nNothing.\n\n553\n00:27:34.190 --> 00:27:35.760\nYou couldn't use the keyboard.\n\n554\n00:27:35.760 --> 00:27:38.590\nIt had to be there at boot time,\nand that's all of our hardware was.\n\n555\n00:27:38.590 --> 00:27:42.174\nBut today, modern computers,\nnow all sorts of stuff is hot plug.\n\n556\n00:27:42.174 --> 00:27:46.577\nYeah USB stuff and Bluetooth,\nand all sorts of crazy junk.\n\n557\n00:27:46.577 --> 00:27:50.115\nSo, /SYS is for the hot plug stuff, and so\n\n558\n00:27:50.115 --> 00:27:55.525\nthat's a little bit different than /PROC\nand so if we browse into slash SYS and\n\n559\n00:27:55.525 --> 00:28:01.730\npoke around, you'll see devices and\nfirmware, buses and so on.\n\n560\n00:28:01.730 --> 00:28:05.828\nFor hot plug devices that are again being\nrepresented as files on the system.\n\n561\n00:28:05.828 --> 00:28:12.320\nSo, this is constantly updating based on\nme adding hardware and removing hardware.\n\n562\n00:28:12.320 --> 00:28:14.160\nAnd I'll see that information.\n\n563\n00:28:14.160 --> 00:28:16.630\nIt's usually identified by its PCI ID,\n\n564\n00:28:16.630 --> 00:28:20.010\nso I have no idea what this\nparticular piece of hardware is.\n\n565\n00:28:20.010 --> 00:28:23.120\nCould be a wireless card,\ncould be whatever.\n\n566\n00:28:23.120 --> 00:28:28.450\nBut if browse into it, you start to see\nall this information about the physical\n\n567\n00:28:28.450 --> 00:28:35.515\ndevice, and it gets kind of hard to-\n&gt;&gt; Follow the board news.\n\n568\n00:28:35.515 --> 00:28:36.745\n&gt;&gt; Yeah, I dont know.\n\n569\n00:28:36.745 --> 00:28:40.905\nBut once you get in here, see how this\nlooks almost identical to what I saw\n\n570\n00:28:40.905 --> 00:28:42.865\nbrowsing around in some of /proc right?\n\n571\n00:28:42.865 --> 00:28:46.735\nIt's really the same kind of information,\nbut for transient hardware.\n\n572\n00:28:46.735 --> 00:28:48.375\nHardware that comes and goes.\n\n573\n00:28:48.375 --> 00:28:51.600\nAll right so that is slash S-Y-S.\n\n574\n00:28:51.600 --> 00:28:55.620\nAll right, one I kind of already\nmentioned before was /usr, right?\n\n575\n00:28:55.620 --> 00:28:57.520\nThe usr folder is kinda weird.\n\n576\n00:28:57.520 --> 00:29:02.040\nWhen we go into usr,\nyou'll see a lot of duplicate folders.\n\n577\n00:29:02.040 --> 00:29:06.274\nI see a /bin and I've got a /usr/bin.\n\n578\n00:29:06.274 --> 00:29:09.448\nI've got /sbin and /usr/sbin.\n\n579\n00:29:09.448 --> 00:29:13.130\nI've got /lib and /usr/lib.\n\n580\n00:29:13.130 --> 00:29:14.360\nSo what's this all about?\n\n581\n00:29:14.360 --> 00:29:15.083\n&gt;&gt; Nobody likes a copycat.\n\n582\n00:29:15.083 --> 00:29:15.990\n&gt;&gt; That's right.\n\n583\n00:29:15.990 --> 00:29:18.861\n&gt;&gt; [LAUGH]\n&gt;&gt; So the way it used to work,\n\n584\n00:29:18.861 --> 00:29:24.139\nwas that if something was installed\nas part of the operating system,\n\n585\n00:29:24.139 --> 00:29:26.440\nit went into /bin or /sbin.\n\n586\n00:29:26.440 --> 00:29:29.090\nAnd if it was installed by\nthe users after the fact,\n\n587\n00:29:29.090 --> 00:29:33.210\nit went in to /user/sbin, or /users/bin.\n\n588\n00:29:33.210 --> 00:29:34.420\nAnd the difference between bin and\n\n589\n00:29:34.420 --> 00:29:39.710\nsbin is bin was something that was\nintended just for this machine,\n\n590\n00:29:39.710 --> 00:29:44.480\nsbin was something suitable for\nbeing shared across multiple machines.\n\n591\n00:29:44.480 --> 00:29:47.580\nAnd so there were these two\ndifferences there also.\n\n592\n00:29:47.580 --> 00:29:50.480\nWell, it does get confusing very fast.\n\n593\n00:29:50.480 --> 00:29:55.559\nAnd so technically, when I install\na binary, It could be in four\n\n594\n00:29:55.559 --> 00:30:01.130\ndifferent places: /bin,\n/user/bin, /sbin, /user/sbin.\n\n595\n00:30:01.130 --> 00:30:06.920\nAnd if we look at our path, which I'll\nremember Daniel's Instructions here.\n\n596\n00:30:06.920 --> 00:30:11.582\nYou can just look that I've got /usr/bin,\n/usr/sbin.\n\n597\n00:30:11.582 --> 00:30:13.747\nThere's /bin, /sbin.\n\n598\n00:30:13.747 --> 00:30:18.399\nI also have /usr/local/bin,\n/usr/local/sbin.\n\n599\n00:30:18.399 --> 00:30:21.937\nI mean, there are tons of these, and\neven ones in my own home directory,\n\n600\n00:30:21.937 --> 00:30:23.390\nbinaries all over the place.\n\n601\n00:30:23.390 --> 00:30:25.530\nIt's like a madhouse, right?\n\n602\n00:30:25.530 --> 00:30:29.334\nSo, Red Hat recognized that and said hey,\nwe don't want to break the standard but\n\n603\n00:30:29.334 --> 00:30:30.590\nwe got to fix this.\n\n604\n00:30:30.590 --> 00:30:35.420\nAnd so what they did is if\nyou take a look at your root,\n\n605\n00:30:35.420 --> 00:30:38.610\nnotice how my bin folder\nis actually a link.\n\n606\n00:30:38.610 --> 00:30:41.101\nIt's linking to /user/bin.\n\n607\n00:30:41.101 --> 00:30:47.350\nAnd my sbin folder is linking to\n\\user\\sbin and my lib folder is \\user\\lib.\n\n608\n00:30:47.350 --> 00:30:49.170\nThey said look let's\njust link these together.\n\n609\n00:30:49.170 --> 00:30:50.180\n&gt;&gt; No more redundancy.\n\n610\n00:30:50.180 --> 00:30:52.070\n&gt;&gt; Yes.\nThe old folder exists,\n\n611\n00:30:52.070 --> 00:30:53.420\nif you go to it you just end up in it.\n\n612\n00:30:53.420 --> 00:30:55.230\nEverything's in one place.\n\n613\n00:30:55.230 --> 00:30:58.510\nWell we still have the local\nversion of the folders also.\n\n614\n00:30:58.510 --> 00:31:00.820\nBut now the rest it's all\nbeing tucked right here.\n\n615\n00:31:00.820 --> 00:31:04.080\nSo again, not breaking\nthe file system hierarchy, but\n\n616\n00:31:04.080 --> 00:31:05.290\nsimplifying it and changing it.\n\n617\n00:31:05.290 --> 00:31:11.790\nSo Red Hat has deviated from the FHS,\nBut not in a way that breaks anything.\n\n618\n00:31:11.790 --> 00:31:16.406\nAll right, let's see, just last one\nthat I want to talk about here before\n\n619\n00:31:16.406 --> 00:31:20.443\nwe wrap this up because I know\nI'm short on time is /var, okay?\n\n620\n00:31:20.443 --> 00:31:24.690\n/var is the various folder, right?\n\n621\n00:31:24.690 --> 00:31:26.520\nI've heard different\npeople say it stands for\n\n622\n00:31:26.520 --> 00:31:28.230\ndifferent things, variable and whatever.\n\n623\n00:31:28.230 --> 00:31:31.945\nBut it really, it's just various junk.\n\n624\n00:31:31.945 --> 00:31:33.465\n&gt;&gt; Like Apache.\n\n625\n00:31:33.465 --> 00:31:34.970\n[LAUGH].\n&gt;&gt; Like, like Apache.\n\n626\n00:31:34.970 --> 00:31:38.470\nSo one of the things is /usr?\n\n627\n00:31:38.470 --> 00:31:43.600\nAccording to the FHS, /usr is\nsupposed to be mounted as read-only.\n\n628\n00:31:43.600 --> 00:31:46.749\nNow, when I installed my system,\nI let it auto-partition.\n\n629\n00:31:46.749 --> 00:31:51.741\nAnd if I do a, a mount here and take a\nlook, I can see that /usr is actually not\n\n630\n00:31:51.741 --> 00:31:55.021\nmounted on its own,\nat least I don't think it is.\n\n631\n00:31:55.021 --> 00:31:57.160\nLet me just scan through here real quick.\n\n632\n00:31:57.160 --> 00:31:58.506\nI should have just grepped it.\n\n633\n00:32:02.816 --> 00:32:06.020\nAnd if we take a peek right there.\n\n634\n00:32:06.020 --> 00:32:09.180\nOkay.\nSo, yeah, it's not mounted separately.\n\n635\n00:32:09.180 --> 00:32:10.909\nThis is just a release\nagent pointing to that.\n\n636\n00:32:10.909 --> 00:32:13.266\nSo, /usr is not mounted separately.\n\n637\n00:32:13.266 --> 00:32:15.080\nSo for me, I couldn't mount it read-only.\n\n638\n00:32:15.080 --> 00:32:18.181\nBut according to the FHS,\nit's supposed to be mounted read-only.\n\n639\n00:32:18.181 --> 00:32:22.858\nSo when vendors write software and\nthe software goes into /usr or\n\n640\n00:32:22.858 --> 00:32:24.396\n/sbin or whatever.\n\n641\n00:32:24.396 --> 00:32:27.542\nThey can't store their data files there\nbecause it's supposed to be read-only.\n\n642\n00:32:27.542 --> 00:32:31.920\nAnd so, /var was created for\nthem to have a place to put their junk.\n\n643\n00:32:31.920 --> 00:32:36.366\nAnd so,\nthe program would be in /usr/sbin or\n\n644\n00:32:36.366 --> 00:32:40.017\n/usr or /local/sbin or whatever.\n\n645\n00:32:40.017 --> 00:32:42.160\nBut all the data files\nwould be over in /var.\n\n646\n00:32:42.160 --> 00:32:45.834\nAnd that is enforced by a lot\nof programs these days.\n\n647\n00:32:45.834 --> 00:32:48.031\nRed Hat doesn't care,\nRed Hat will let you write /user.\n\n648\n00:32:48.031 --> 00:32:52.863\nBut if I take a look inside of\n/var you'll be able to see real\n\n649\n00:32:52.863 --> 00:32:55.096\nquick where I've got www.\n\n650\n00:32:55.096 --> 00:32:57.010\nThat's where Apache is storing its files.\n\n651\n00:32:57.010 --> 00:32:59.700\nOr webmin, I installed that in\none of the earlier episodes.\n\n652\n00:32:59.700 --> 00:33:00.770\nThat one's showing up.\n\n653\n00:33:00.770 --> 00:33:05.290\nWe've got, usually Sendmail\npops up in here somewhere.\n\n654\n00:33:05.290 --> 00:33:06.169\nI don't see it.\n\n655\n00:33:06.169 --> 00:33:07.626\n&gt;&gt; There's Kerberos.\n\n656\n00:33:07.626 --> 00:33:08.363\n&gt;&gt; Yeah, Kerberos.\n\n657\n00:33:08.363 --> 00:33:10.050\nIf we do authentication there.\n\n658\n00:33:10.050 --> 00:33:11.290\nGotta have your gopher/folder, right?\n\n659\n00:33:11.290 --> 00:33:12.563\n&gt;&gt; Yeah, that's a must have.\n\n660\n00:33:12.563 --> 00:33:13.076\n[LAUGH]\n&gt;&gt; [LAUGH] So\n\n661\n00:33:13.076 --> 00:33:15.134\na couple different items that\nare showing up in there.\n\n662\n00:33:15.134 --> 00:33:18.208\nAnd there's even subfolders\nin here like the opt folder.\n\n663\n00:33:18.208 --> 00:33:21.085\nBut you'll see where it's not\nreally being used by anything.\n\n664\n00:33:21.085 --> 00:33:22.943\nBut it's just there.\n&gt;&gt; There was a linked mail folder,\n\n665\n00:33:22.943 --> 00:33:24.323\nmaybe it was linking back to.\n\n666\n00:33:24.323 --> 00:33:24.939\n&gt;&gt; There we go.\n\n667\n00:33:24.939 --> 00:33:26.758\nAll right yep,\nit's linking over to the spool.\n\n668\n00:33:26.758 --> 00:33:28.849\nSo the spool folder's really important,\nright?\n\n669\n00:33:28.849 --> 00:33:32.127\nYour printing service and\nyour email queues and a lot of that stuff.\n\n670\n00:33:32.127 --> 00:33:34.458\nThey all end up in the spool folder.\n\n671\n00:33:34.458 --> 00:33:38.851\nAnd so if I take a look in there,\nI'll see the Postfix.\n\n672\n00:33:38.851 --> 00:33:42.220\nWhich is my email system\nthat replaced Sendmail.\n\n673\n00:33:42.220 --> 00:33:44.600\nSo that's what we're gonna see there.\n\n674\n00:33:44.600 --> 00:33:46.870\nI've got Samba that we\ninstalled in another episode.\n\n675\n00:33:46.870 --> 00:33:48.438\nThese guys are all being stuck in here.\n\n676\n00:33:48.438 --> 00:33:50.741\nSamba can handle shared\nprinters on the network.\n\n677\n00:33:50.741 --> 00:33:53.620\nSo it needs a place to store\nprint jobs while it's waiting.\n\n678\n00:33:53.620 --> 00:33:54.840\nThat's the place.\n\n679\n00:33:54.840 --> 00:33:58.355\nSo that's all being put inside of /var,\nit's a pretty important folder.\n\n680\n00:33:58.355 --> 00:33:59.847\nEspecially if you're running Apache.\n\n681\n00:33:59.847 --> 00:34:03.930\nCuz if you take a look at /var/www.\n\n682\n00:34:03.930 --> 00:34:07.812\nInside of there you'll have either\njust an HTML folder like I do.\n\n683\n00:34:07.812 --> 00:34:11.424\nOr if you have vhost configured you'll\nsee all your vhost folders in here.\n\n684\n00:34:11.424 --> 00:34:14.065\nSince I just have one host, I've got HTML.\n\n685\n00:34:14.065 --> 00:34:15.300\nAnd there it is.\n\n686\n00:34:15.300 --> 00:34:16.688\nNow notice how it's empty.\n\n687\n00:34:16.688 --> 00:34:19.266\nIf I browse to it,\nApache has a default web page.\n\n688\n00:34:19.266 --> 00:34:20.845\nBut the default web page is read only.\n\n689\n00:34:20.845 --> 00:34:23.175\nAnd so\nit can put that in its install folder.\n\n690\n00:34:23.175 --> 00:34:26.096\nBut if I wanna start customizing\nthe system and making my own pages.\n\n691\n00:34:26.096 --> 00:34:28.490\nI'm gonna put them right here and\nthat's why it has to go in /var.\n\n692\n00:34:28.490 --> 00:34:31.243\nSo that's why that one is there.\n\n693\n00:34:31.243 --> 00:34:35.638\nAll right, so while not the most\nexciting topic in the world.\n\n694\n00:34:35.638 --> 00:34:38.417\nIt is nice to see that all of these\ncrazy names in the file system\n\n695\n00:34:38.417 --> 00:34:39.438\naren't just made up.\n\n696\n00:34:39.438 --> 00:34:42.422\nIt's not just some arbitrary\nthing that Red Hat decided to do.\n\n697\n00:34:42.422 --> 00:34:45.679\nBut instead is Red Hat\nadhering to a standard.\n\n698\n00:34:45.679 --> 00:34:48.700\nTo make it where Linux\ndistributions can interoperate.\n\n699\n00:34:48.700 --> 00:34:51.398\nAnd that was a pivotal\nthing that helped Linux,\n\n700\n00:34:51.398 --> 00:34:54.376\nin general,\nbecome an accepted operating system.\n\n701\n00:34:54.376 --> 00:34:57.901\nBecause up until then it was\njust a pain to get any software\n\n702\n00:34:57.901 --> 00:34:59.669\nto run on multiple distros.\n\n703\n00:34:59.669 --> 00:35:04.399\nAnd so Linux was kind of a joke\nin the eyes of most businesses.\n\n704\n00:35:04.399 --> 00:35:05.748\nThey just wouldn't want to deploy it.\n\n705\n00:35:05.748 --> 00:35:07.402\nAnd that's certainly not the case anymore.\n\n706\n00:35:07.402 --> 00:35:08.178\n&gt;&gt; [LAUGH] Yeah.\n&gt;&gt; Right?\n\n707\n00:35:08.178 --> 00:35:11.760\nAnd it's things like these, the FHS,\nthat help us to achieve that.\n\n708\n00:35:11.760 --> 00:35:13.161\n&gt;&gt; Well, and\nyou make great points there, right?\n\n709\n00:35:13.161 --> 00:35:14.723\nThe fact that they have standardized this.\n\n710\n00:35:14.723 --> 00:35:17.782\nTo say, well, if we all play nice and\nwe all do the same thing.\n\n711\n00:35:17.782 --> 00:35:20.698\nThen we can all share in\nthe benefits of that.\n\n712\n00:35:20.698 --> 00:35:21.927\nAnd that's exactly what they've done.\n\n713\n00:35:21.927 --> 00:35:25.178\nAnd I know if you're new to Linux\nyou look at all of these different,\n\n714\n00:35:25.178 --> 00:35:27.014\nDon has called them crazy file names.\n\n715\n00:35:27.014 --> 00:35:28.098\n&gt;&gt; [LAUGH]\n&gt;&gt; And they are.\n\n716\n00:35:28.098 --> 00:35:30.160\nThey're very strange at first look.\n\n717\n00:35:30.160 --> 00:35:31.785\nBut the more you work with them.\n\n718\n00:35:31.785 --> 00:35:34.018\nAnd now that you have some\nfamiliarity with them.\n\n719\n00:35:34.018 --> 00:35:35.850\nThe more sense they start to make.\n\n720\n00:35:35.850 --> 00:35:37.045\nAnd trust us.\n\n721\n00:35:37.045 --> 00:35:39.955\nIf you're going to actually use Linux\nas an operating system in any way,\n\n722\n00:35:39.955 --> 00:35:40.586\nshape or form.\n\n723\n00:35:40.586 --> 00:35:42.355\nYou will get familiar with them very,\nvery quickly.\n\n724\n00:35:42.355 --> 00:35:46.240\nBecause it's something you're\ngoing to do on a regular basis.\n\n725\n00:35:46.240 --> 00:35:49.213\n&gt;&gt; Don, you did a masterful job\non explaining these things to us.\n\n726\n00:35:49.213 --> 00:35:51.948\nAnd you got to use the word\nvestigial in a very good way.\n\n727\n00:35:51.948 --> 00:35:54.025\n&gt;&gt; [LAUGH] Yeah.\n&gt;&gt; All right, kudos to you for that.\n\n728\n00:35:54.025 --> 00:35:57.402\nAnd kudos to you guys for watching,\nbut it is time for us to sign off.\n\n729\n00:35:57.402 --> 00:35:58.950\nSo we thank you for joining us.\n\n730\n00:35:58.950 --> 00:36:01.920\nSigning out for ITProTV,\nI've been your host Daniel Lowrie.\n\n731\n00:36:01.920 --> 00:36:02.870\n&gt;&gt; And I'm Don Pezet.\n\n732\n00:36:02.870 --> 00:36:04.933\n&gt;&gt; We'll see you next time.\n\n733\n00:36:04.933 --> 00:36:11.083\n[MUSIC]\n\n734\n00:36:11.083 --> 00:36:14.214\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "193560717"
        },
        {
          "description": "In this episode, Daniel and Don demonstrate and explain how to manage storage and file systems in RHEL7. They start with foundations like MBR and GPT partitions. Then they walk you through partitioning a disk with command line utilities like fdisk, gdisk, and parted, as well as the graphical tool gparted. Finally, you will see how to put a filesystem on your disks and then mounting and unmounting the new volume.",
          "length": "2261",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-managing_file_systems-112116-PGM.00_37_26_28.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-managing_file_systems-112116-PGM.00_37_26_28.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-managing_file_systems-112116-PGM.00_37_26_28.Still001-sm.jpg",
          "title": "Managing File Systems",
          "transcript": "WEBVTT\n\n1\n00:00:00.300 --> 00:00:01.451\nWelcome to ITProTV.\n\n2\n00:00:01.451 --> 00:00:06.896\nI'm your host Don Pezet- [CROSSTALK]\n\n3\n00:00:06.896 --> 00:00:08.128\n[MUSIC]\n\n4\n00:00:08.128 --> 00:00:11.679\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.679 --> 00:00:12.370\n&gt;&gt; All right,\n\n6\n00:00:12.370 --> 00:00:16.664\ngreetings everyone and welcome to\nanother exciting episode of ITProTV.\n\n7\n00:00:16.664 --> 00:00:20.496\nI'm your host Daniel Lowrie and in today's\nepisode we are moving on with more in our\n\n8\n00:00:20.496 --> 00:00:23.200\nRed Hat Enterprise Linux version 7 series.\n\n9\n00:00:23.200 --> 00:00:26.355\nAnd coming back to lend us,\nhold our hands if you will and\n\n10\n00:00:26.355 --> 00:00:29.791\nexplain these things to us our\ngood friend, Mr. Don Pezet.\n\n11\n00:00:29.791 --> 00:00:31.470\nDon welcome back sir,\nhow is it going today?\n\n12\n00:00:31.470 --> 00:00:32.341\n&gt;&gt; Nice to be back Daniel,\n\n13\n00:00:32.341 --> 00:00:35.062\nready to dive right back in to\nthe world of Red Hat enterprise Linux.\n\n14\n00:00:35.062 --> 00:00:38.408\nIn this episode were going to be taking\na look at managing our file systems.\n\n15\n00:00:38.408 --> 00:00:42.484\nAnd its a pretty important thing and\nI know what some of you guys are thinking,\n\n16\n00:00:42.484 --> 00:00:45.936\nhey Red Hat's not really that much\ndifferent that any other Linux\n\n17\n00:00:45.936 --> 00:00:47.030\njust around there.\n\n18\n00:00:47.030 --> 00:00:49.088\nIf I need to format a disk, or whatever,\n\n19\n00:00:49.088 --> 00:00:52.192\nI pretty much do it just\nlike any other disk right?\n\n20\n00:00:52.192 --> 00:00:54.176\nAnd you'd be correct to a certain extent,\n\n21\n00:00:54.176 --> 00:00:56.760\nwe have a lot of the same\ntools that are available.\n\n22\n00:00:56.760 --> 00:00:59.530\nBut where things start to\nget a little bit different\n\n23\n00:00:59.530 --> 00:01:03.130\nis that we have to remember that\nRed Hat is commercial software.\n\n24\n00:01:03.130 --> 00:01:06.580\nRed Hat Enterprise Linux, and\nthat means it comes with official support.\n\n25\n00:01:06.580 --> 00:01:10.310\nAnd as a result there's really\nonly a couple of tools that we're\n\n26\n00:01:10.310 --> 00:01:12.920\nallowed to use if we wanna\nmaintain that support.\n\n27\n00:01:12.920 --> 00:01:16.740\nSo there's certain things that you can\ndo any day of the week on another distro\n\n28\n00:01:16.740 --> 00:01:20.080\nthat we wanna stay away\nfrom here on Red Hat.\n\n29\n00:01:20.080 --> 00:01:24.550\nThings like converting file systems,\neven extending file systems, right?\n\n30\n00:01:24.550 --> 00:01:27.040\nDaniel, I'm sure you've\nhad to do this before.\n\n31\n00:01:27.040 --> 00:01:29.810\nYou build up an ext3 filesystem or\nsomething like that and\n\n32\n00:01:29.810 --> 00:01:32.530\nlater on you decide to stretch it out,\nmake it a little bigger.\n\n33\n00:01:32.530 --> 00:01:34.840\nSo there's utilities for\nthat that you can run.\n\n34\n00:01:34.840 --> 00:01:37.860\nWell, Red Hat doesn't allow that,\nif you want support at least.\n\n35\n00:01:37.860 --> 00:01:42.460\nSo, they support that under LVM and\nBTRFS but not under EXT3.\n\n36\n00:01:42.460 --> 00:01:45.855\nSo, weird little caveats like that are\njust things that we need to remember as we\n\n37\n00:01:45.855 --> 00:01:48.880\nwork with Red Hat enterprise\nLinux out there in production.\n\n38\n00:01:48.880 --> 00:01:53.953\nThat they want you to do the things\nthat are fully tested and stable and\n\n39\n00:01:53.953 --> 00:01:58.869\nmature, not the latest and\ngreatest thing that's cutting edge.\n\n40\n00:01:58.869 --> 00:02:02.280\nIt's gonna have bugs, it's gonna need\nsupport, it's gonna need tweaking.\n\n41\n00:02:02.280 --> 00:02:03.680\nThat's not what we wanna do in business.\n\n42\n00:02:03.680 --> 00:02:06.340\nSo Red Hat Enterprise Linux, a little\nbit different than the other distros.\n\n43\n00:02:06.340 --> 00:02:10.270\n&gt;&gt; So Don, you would say even though\nwe're binding our hands per se,\n\n44\n00:02:10.270 --> 00:02:12.770\nit's binding our hands with\nstuff that is going to work.\n\n45\n00:02:12.770 --> 00:02:14.830\n&gt;&gt; Absolutely, yeah,\nthat's the tradeoff we make, right?\n\n46\n00:02:14.830 --> 00:02:18.870\nSo you gotta pick,\ndo you want bleeding cutting edge or\n\n47\n00:02:18.870 --> 00:02:22.010\ndo you want stability that might\nbe a few years older, right?\n\n48\n00:02:22.010 --> 00:02:24.620\nSo it does take a little longer\nto get certain features.\n\n49\n00:02:24.620 --> 00:02:27.840\nBut let's one through see what we can\ndo and we'll talk when each one and\n\n50\n00:02:27.840 --> 00:02:30.230\nthen majority than we have\nalternate ways of doing.\n\n51\n00:02:30.230 --> 00:02:34.215\nSo we still end up getting great\nfunctionality without having to sacrifice\n\n52\n00:02:34.215 --> 00:02:35.047\nthe features.\n\n53\n00:02:35.047 --> 00:02:35.730\nAll right.\n\n54\n00:02:35.730 --> 00:02:38.460\nFirst off, this whole thing is\nabout managing file systems.\n\n55\n00:02:38.460 --> 00:02:39.630\nWhat the heck is a file system?\n\n56\n00:02:39.630 --> 00:02:42.161\nWell, when you get a hard drive and\nyou want to put files on it,\n\n57\n00:02:42.161 --> 00:02:43.690\nyou can't just chuck them on there.\n\n58\n00:02:43.690 --> 00:02:46.020\nYou've got to have the hard drive\nprepared to store those files so\n\n59\n00:02:46.020 --> 00:02:47.230\nyou'll be able to find them.\n\n60\n00:02:47.230 --> 00:02:48.966\nAnd there are a numerous\ndifferent ways we can store them.\n\n61\n00:02:48.966 --> 00:02:52.848\nAnd Red Hat Enterprise Linux supports\nall the ways that we see in other Linux\n\n62\n00:02:52.848 --> 00:02:53.800\ndistro.\n\n63\n00:02:53.800 --> 00:02:59.100\nThere's the standard EXT file system\nthat we use in most Linux distros or\n\n64\n00:02:59.100 --> 00:03:00.810\nXFS is what it's called sometimes.\n\n65\n00:03:00.810 --> 00:03:06.490\nBut EXT 2, 3, 4, each of the different\nversions, all supported by Red Hat.\n\n66\n00:03:06.490 --> 00:03:11.628\nWe also have the non Red Hat or\nnon Linux type file systems like UFS from\n\n67\n00:03:11.628 --> 00:03:17.580\nthe Unix world, we have FAT, FAT32,\nand NTFS all from the Microsoft world.\n\n68\n00:03:17.580 --> 00:03:21.785\nWe actually don't have support for\nHFS, at least not natively,\n\n69\n00:03:21.785 --> 00:03:26.296\nwhich is the Apple, what is it,\nApple Journal Extended File System,\n\n70\n00:03:26.296 --> 00:03:30.203\nit's some crazy weird name that-\n&gt;&gt; It's really, really.\n\n71\n00:03:30.203 --> 00:03:33.212\nYeah, HFS, Extended Journal File System.\n\n72\n00:03:33.212 --> 00:03:35.088\n[LAUGH]\n&gt;&gt; It's just [LAUGH] The names don't\n\n73\n00:03:35.088 --> 00:03:38.580\nall make sense, necessarily,\nbut they all serve a purpose.\n\n74\n00:03:38.580 --> 00:03:43.370\nNow, in the RedHat world, in the Linux\nworld, you're gonna hear a lot about two\n\n75\n00:03:43.370 --> 00:03:48.660\nfinal systems that are kind of considered\ncutting edge at that's ReiserFS and BTRFS.\n\n76\n00:03:49.720 --> 00:03:53.910\nReiserFS was one of the first ones to\ncome out that introduced journaling.\n\n77\n00:03:53.910 --> 00:03:54.422\nIn other words,\n\n78\n00:03:54.422 --> 00:03:56.696\nwhen you wrote to the hard drive,\nyou didn't write directly to the data.\n\n79\n00:03:56.696 --> 00:03:58.530\nYou wrote to a journal first.\n\n80\n00:03:58.530 --> 00:04:01.150\nAnd only when the journal was 100%\ncomplete was it then written to\n\n81\n00:04:01.150 --> 00:04:02.330\nthe actual data.\n\n82\n00:04:02.330 --> 00:04:05.690\nAnd the reason it did that was, if you\nwere halfway through writing data, and\n\n83\n00:04:05.690 --> 00:04:07.050\nyou lost power.\n\n84\n00:04:07.050 --> 00:04:11.780\nIf you were writing to the actual data,\nwell that data's not corrupt.\n\n85\n00:04:11.780 --> 00:04:14.280\nBut if you're writing to a journal\ninstead, when the system reboots,\n\n86\n00:04:14.280 --> 00:04:15.540\nit just throws away the journal.\n\n87\n00:04:15.540 --> 00:04:16.610\nIncomplete write, that's it.\n\n88\n00:04:16.610 --> 00:04:18.710\nAnd we still have the original data,\nit's nice and safe.\n\n89\n00:04:18.710 --> 00:04:20.830\n&gt;&gt; So\nthat's was what ReiserFS was pushing.\n\n90\n00:04:20.830 --> 00:04:24.190\nIt had some interesting\npolitical stuff that happened.\n\n91\n00:04:25.540 --> 00:04:27.599\nThe developer was arrested for\nmurder, but anyway.\n\n92\n00:04:27.599 --> 00:04:29.089\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] That stuff happened,\n\n93\n00:04:29.089 --> 00:04:33.510\nand so ReiserFS is kind of going away,\nis replaced by BTRFS, sadly a true story.\n\n94\n00:04:33.510 --> 00:04:35.989\nSo BTRFS is kind of the replacement.\n\n95\n00:04:35.989 --> 00:04:39.881\nAnd so a lot of people are talking about,\nif you're using Fedora Linux BTRFS should\n\n96\n00:04:39.881 --> 00:04:42.850\nbe on your radar, you have that\noption when you do the install.\n\n97\n00:04:42.850 --> 00:04:48.456\nWhen we installed RHEL, you probably\nnoticed we didn't have the option and\n\n98\n00:04:48.456 --> 00:04:52.231\nthat is because BTRFS is\nonly in preview on RHEL 7.\n\n99\n00:04:52.231 --> 00:04:57.210\nSo, if you use BTRFS, you're not\ngoing to get support from RedHat.\n\n100\n00:04:57.210 --> 00:04:59.770\nI mean they will give you some pointers or\nwhatever but they are not going to\n\n101\n00:04:59.770 --> 00:05:03.560\nguarantee any kind of SLA on it,\nbecause it's still considered preview.\n\n102\n00:05:03.560 --> 00:05:05.960\nSo, when we're dealing with\nRedHat enterprise Linux,\n\n103\n00:05:05.960 --> 00:05:08.390\nwe wanna stick to the tried and true.\n\n104\n00:05:08.390 --> 00:05:13.810\nThe EXT 2, 3 and 4, and really the EXT\nfile systems are pretty much all the same.\n\n105\n00:05:13.810 --> 00:05:17.195\nThey're are all based on EXT 2,\nbut they have added functionality.\n\n106\n00:05:17.195 --> 00:05:22.499\nAnd EXT 4 has journaling functionality\nin it just like Riser SF does.\n\n107\n00:05:22.499 --> 00:05:25.630\nAnd so\nEXT4 is kinda the one we're gonna go with.\n\n108\n00:05:25.630 --> 00:05:30.150\nIn a typical day it gives us great\nperformance, has journaling support,\n\n109\n00:05:30.150 --> 00:05:31.540\ndoes a lot that we need it to do.\n\n110\n00:05:31.540 --> 00:05:35.110\nIt works great with LVM, and Raid,\nand all the other technologies.\n\n111\n00:05:35.110 --> 00:05:36.730\nSo usually that's what\nwe're gonna deal with.\n\n112\n00:05:36.730 --> 00:05:39.327\nSo in this show,\nI'm gonna focus mostly on EXT4.\n\n113\n00:05:39.327 --> 00:05:42.709\nBut I will kind of point out some of the\nother file systems as we go just in case\n\n114\n00:05:42.709 --> 00:05:44.410\nyou need to deal with those, right.\n\n115\n00:05:44.410 --> 00:05:47.590\nSo I happen to have a RedHat\nbox right in front of me.\n\n116\n00:05:47.590 --> 00:05:51.300\nAnd on this box, it has got a couple\nof hard drives that aren't formatted.\n\n117\n00:05:51.300 --> 00:05:53.360\nThey just have absolutely no\nformat on them whatsoever,\n\n118\n00:05:53.360 --> 00:05:54.570\nno file system, no anything.\n\n119\n00:05:54.570 --> 00:05:56.060\nIt is completely blank.\n\n120\n00:05:56.060 --> 00:05:58.580\nAnd so I need to get them ready for use.\n\n121\n00:05:58.580 --> 00:06:03.190\nAnd the first thing we need to do is\nthink about what file system we are going\n\n122\n00:06:03.190 --> 00:06:06.930\nto use, because there are some file\nsystems like if I want to go really old or\n\n123\n00:06:06.930 --> 00:06:11.820\non Fat 16 or something crazy, will only\nsupport partitions of a certain size, or\n\n124\n00:06:11.820 --> 00:06:12.810\na mounts of partition.\n\n125\n00:06:12.810 --> 00:06:16.970\nSo, the first thing I have\nto do is create partitions.\n\n126\n00:06:16.970 --> 00:06:20.290\nBut before I create the partitions, I need\nto think about what file system I'm gonna\n\n127\n00:06:20.290 --> 00:06:22.557\nuse, and make sure I size my\npartitions appropriately.\n\n128\n00:06:22.557 --> 00:06:25.914\nIf you're using EXT4, it's not really\na problem we have to worry about.\n\n129\n00:06:25.914 --> 00:06:29.545\nEXT4 can go huge on the partition,\nseveral petabytes in size,\n\n130\n00:06:29.545 --> 00:06:33.680\nversus some of the older file\nsystems that are much more limited.\n\n131\n00:06:33.680 --> 00:06:36.720\nSo in my case,\nI just need to see my physical disks and\n\n132\n00:06:36.720 --> 00:06:38.900\nget them partitioned up and ready.\n\n133\n00:06:38.900 --> 00:06:43.850\nSo the first thing to do here is\njust take a look at those disks are.\n\n134\n00:06:43.850 --> 00:06:46.060\nAnd we have a nice little utility.\n\n135\n00:06:46.060 --> 00:06:50.575\nAll the work I'm gonna do here in this\nepisode is really going to be tied to root\n\n136\n00:06:50.575 --> 00:06:51.830\nlevel permissions.\n\n137\n00:06:51.830 --> 00:06:53.590\nSo you've gotta be root to\nbe able to do this stuff.\n\n138\n00:06:53.590 --> 00:06:56.880\nSo I'm gonna sudu everything,\nwhich is kinda annoying.\n\n139\n00:06:56.880 --> 00:07:00.371\nYou might drop to a root shell if you want\nand you just do an su or a sudu sh or\n\n140\n00:07:00.371 --> 00:07:01.783\nwhatever it is you wanna do.\n\n141\n00:07:01.783 --> 00:07:04.940\nBut anyhow, so\nI'm gonna make sure I do that.\n\n142\n00:07:04.940 --> 00:07:07.062\nAnd I'm gonna use the f-disk utility.\n\n143\n00:07:07.062 --> 00:07:09.871\nThe f-disk utility is great for\npartitioning out a disk.\n\n144\n00:07:09.871 --> 00:07:11.858\nIt's been around for a long, long time.\n\n145\n00:07:11.858 --> 00:07:13.218\nIt's not going any where any time soon,\n\n146\n00:07:13.218 --> 00:07:15.290\nit's a great way to throw\npartitions on there.\n\n147\n00:07:15.290 --> 00:07:19.759\nAnd, if i do F-disk-L it's going\nto give me a list of my disks and\n\n148\n00:07:19.759 --> 00:07:23.351\nI can see some of the ones\nlike my RHEL swap and route.\n\n149\n00:07:23.351 --> 00:07:27.451\nAnd if I look at those,\nthese aren't individual hard drives.\n\n150\n00:07:27.451 --> 00:07:32.040\nWhen you look at discs in\nRedHat there's static discs and\n\n151\n00:07:32.040 --> 00:07:35.030\nthere's device mapped discs.\n\n152\n00:07:35.030 --> 00:07:39.570\nAnd each one of these, say you've got\nthis mapper, these are device mapped.\n\n153\n00:07:39.570 --> 00:07:42.920\nSo this could be a hard drive,\n\n154\n00:07:42.920 --> 00:07:47.880\nit could be a partition on a drive,\nit could be a remote file system.\n\n155\n00:07:47.880 --> 00:07:51.760\nIt can be any number of things\nthat is being mapped to a name.\n\n156\n00:07:51.760 --> 00:07:57.320\nSo this RHEL root, that's actually\na partition that is my root drive.\n\n157\n00:07:57.320 --> 00:08:01.946\nAnd then my swap partition and\nmy home folder partition.\n\n158\n00:08:01.946 --> 00:08:04.768\nAnd they're each being mapped,\nso I see that /dev/map.\n\n159\n00:08:04.768 --> 00:08:08.671\nThese are sometimes called DM Disks right,\nso device maps DL.\n\n160\n00:08:08.671 --> 00:08:10.147\n&gt;&gt; Don, is the purpose of that so\n\n161\n00:08:10.147 --> 00:08:14.174\na little more easily readable by the\nperson that's using it, and what is sdb1?\n\n162\n00:08:14.174 --> 00:08:16.010\nI don't know what that is.\n\n163\n00:08:16.010 --> 00:08:18.950\n&gt;&gt; Yeah, that's a big part of it, and\nalso there's so many different ways of\n\n164\n00:08:18.950 --> 00:08:22.480\narranging disks in the back end,\nthat you lose track of the names too easy.\n\n165\n00:08:22.480 --> 00:08:24.880\nSo for example if I have a physical disk,\n\n166\n00:08:24.880 --> 00:08:28.290\nit might be more like\nwhat I'm seeing above.\n\n167\n00:08:28.290 --> 00:08:34.700\nWhere they're sda, sdb, sdc and so on, but\nI might have NFS discs that are mounted,\n\n168\n00:08:34.700 --> 00:08:41.720\nI might have CD ROMs that are R,\nD, whatever, or SR0 and so on.\n\n169\n00:08:41.720 --> 00:08:44.000\nSo you see different ones,\ndifferent names, and\n\n170\n00:08:44.000 --> 00:08:45.170\nit's kind of hard to keep those straight.\n\n171\n00:08:45.170 --> 00:08:47.480\nSo by mapping them,\nwe can give them a consistent name.\n\n172\n00:08:47.480 --> 00:08:49.804\nWe'll really see it when we get into\nthe logical volume manager, LVM.\n\n173\n00:08:49.804 --> 00:08:51.770\nWe'll do another episode on that one.\n\n174\n00:08:51.770 --> 00:08:55.160\nWhere now you've got volume groups and\nlogical volumes and physical volumes.\n\n175\n00:08:55.160 --> 00:08:57.560\nAnd they've all got different names and\nit just gets confusing.\n\n176\n00:08:57.560 --> 00:09:00.120\nSo by assigning names to it,\nit helps us keep that straight, so.\n\n177\n00:09:00.120 --> 00:09:02.590\nBut I can look through here and\nI can see these disks.\n\n178\n00:09:02.590 --> 00:09:04.390\nAnd notice SDA.\n\n179\n00:09:04.390 --> 00:09:07.790\nSDA is my first hard drive, right?\n\n180\n00:09:07.790 --> 00:09:10.550\nSo that's why it's got the A, and\nthat's referring to the disk itself.\n\n181\n00:09:10.550 --> 00:09:14.983\nMine's 68.7 gigs, it probably works\nout to actually like a 64 gig disk.\n\n182\n00:09:14.983 --> 00:09:19.957\nAnd if I scroll down a bit I can see\nit's got two partitions, SDA1 and SDA2.\n\n183\n00:09:19.957 --> 00:09:23.023\nSo this one's already been\npartitioned out and divided up, and\n\n184\n00:09:23.023 --> 00:09:26.910\nit's got disks inside of it, or\npartitions inside of it that I can use.\n\n185\n00:09:26.910 --> 00:09:32.060\nThese other disks though, like sdc,\nsdd, they've got no partitions in them,\n\n186\n00:09:32.060 --> 00:09:34.140\nthey're completely blank drives, and\n\n187\n00:09:34.140 --> 00:09:37.780\nso I want to get some partitions\nthrown on there and start to use them.\n\n188\n00:09:37.780 --> 00:09:42.230\nNow, I'm gonna use the CLI for right now,\nthere is a GUI that we can use,\n\n189\n00:09:42.230 --> 00:09:45.560\nand some of you out there are probably\nthinking right now, yeah gpart d.\n\n190\n00:09:45.560 --> 00:09:46.300\nI love gparted.\n\n191\n00:09:46.300 --> 00:09:50.170\nit's great.\nIt's the graphical partition editor.\n\n192\n00:09:50.170 --> 00:09:51.860\n&gt;&gt; It really is a nice piece of equipment.\n\n193\n00:09:51.860 --> 00:09:55.402\n&gt;&gt; It really is and it's totally not\nsupported on Red Hat Enterprise Linux.\n\n194\n00:09:55.402 --> 00:09:57.179\n[LAUGH]\n&gt;&gt; Why would they do that?\n\n195\n00:09:57.179 --> 00:09:58.670\n[LAUGH]\n&gt;&gt; That would be crazy.\n\n196\n00:09:58.670 --> 00:09:59.583\n&gt;&gt; That would be too simple.\n\n197\n00:09:59.583 --> 00:10:01.609\n&gt;&gt; [LAUGH] Gparted is really nice,\nI like it.\n\n198\n00:10:01.609 --> 00:10:04.352\nI use it everywhere except on rhel.\n\n199\n00:10:04.352 --> 00:10:07.459\nIf you go on the Redhat\nrepositories it's not there, right?\n\n200\n00:10:07.459 --> 00:10:13.191\nSo if I do a yum list gparted,\nthat utility that we're used to finding,\n\n201\n00:10:13.191 --> 00:10:15.890\nno matching packages to list.\n\n202\n00:10:15.890 --> 00:10:16.567\nIt's not there,\n\n203\n00:10:16.567 --> 00:10:19.190\nit's not one of the supported\npartitioning utilities, all right?\n\n204\n00:10:19.190 --> 00:10:24.671\nSo if you want a GUI for this stuff,\nwe have the GNOME disk utility which is,\n\n205\n00:10:24.671 --> 00:10:30.990\nif you've installed the GUI, you can\ngo up to Applications and Utilities.\n\n206\n00:10:30.990 --> 00:10:35.307\nAnd it's right there under, whoops,\nUtilities and Disks, that guy right there.\n\n207\n00:10:35.307 --> 00:10:38.882\nSo that's the GNOME Graphical\ndisk utility.\n\n208\n00:10:38.882 --> 00:10:42.090\nAnd so I can come in here and\nI can see those disks I was talking about.\n\n209\n00:10:42.090 --> 00:10:42.933\nRight there, SD.\n\n210\n00:10:42.933 --> 00:10:46.810\nThis is SDA, B, C, D,\nright we got the name down there.\n\n211\n00:10:46.810 --> 00:10:48.910\nContents are unknown,\nthere's no partition.\n\n212\n00:10:48.910 --> 00:10:55.015\nI could take a disk like SDD here, and\nI could just go in and partition it.\n\n213\n00:10:55.015 --> 00:10:59.175\nAnd it'll actually partition it and\nput a file system on it at the same time.\n\n214\n00:10:59.175 --> 00:11:01.525\nIt's like easy for\nme you know and it's just so\n\n215\n00:11:01.525 --> 00:11:04.055\nmuch more simple to use if you have a GUI.\n\n216\n00:11:05.155 --> 00:11:06.174\nWhat if you don't have a GUI?\n\n217\n00:11:06.174 --> 00:11:09.381\nWell then you can't use this utility,\nthis utility goes away and\n\n218\n00:11:09.381 --> 00:11:11.965\nwe go back to fdisk and\nour other programs all right?\n\n219\n00:11:13.370 --> 00:11:17.999\nNow before I started going with\nfdisk I do wanna point out another\n\n220\n00:11:17.999 --> 00:11:19.723\nutility to be aware of.\n\n221\n00:11:19.723 --> 00:11:24.480\nFdisk is really it's\nbeen around a long time.\n\n222\n00:11:24.480 --> 00:11:26.950\nAnd the way fdisk was\nused originally was with\n\n223\n00:11:26.950 --> 00:11:29.880\nour traditional master boot record disks.\n\n224\n00:11:29.880 --> 00:11:34.290\nBut you're starting to move over to\nwhat are called gpt disks right.\n\n225\n00:11:34.290 --> 00:11:38.770\nAnd within the new partition table scheme,\nyou can have more partitions.\n\n226\n00:11:38.770 --> 00:11:42.100\nWhen we use the old schema,\nwhen we use the old master boot record,\n\n227\n00:11:42.100 --> 00:11:45.050\nyou're limited to four\npartitions per disk, right?\n\n228\n00:11:45.050 --> 00:11:48.890\nSo when you looked at my SDA back up here,\nI had two partitions.\n\n229\n00:11:48.890 --> 00:11:50.750\nI could create two more, all right?\n\n230\n00:11:50.750 --> 00:11:52.190\nSo you're limited to four.\n\n231\n00:11:52.190 --> 00:11:54.130\nNow, there are ways to cheat around that.\n\n232\n00:11:54.130 --> 00:11:57.440\nYour fourth one,\nyou could make an extended partition.\n\n233\n00:11:57.440 --> 00:12:00.510\nAnd then inside the extended partitions\nyou could create logic partitions, and\n\n234\n00:12:00.510 --> 00:12:02.480\nthey weren't real,\nthey were inside of that one extension.\n\n235\n00:12:02.480 --> 00:12:05.070\nSo you still technically\nhad four partitions.\n\n236\n00:12:05.070 --> 00:12:08.570\nWhen you got to GPT discs, you can\nhave as many partitions as you want.\n\n237\n00:12:08.570 --> 00:12:09.540\nYou can create a ton.\n\n238\n00:12:09.540 --> 00:12:12.060\nYou'll run out of names for\n\n239\n00:12:12.060 --> 00:12:14.740\nmounts before you run out of\npartitions that you can create.\n\n240\n00:12:14.740 --> 00:12:16.720\nSo when I go into the command line and\n\n241\n00:12:16.720 --> 00:12:20.140\nI show you using fdisk, that's the old\nschool, that's master boot record.\n\n242\n00:12:20.140 --> 00:12:23.140\nWell for most of us, we're doing one\npartition on the disk anyway, so\n\n243\n00:12:23.140 --> 00:12:24.600\nwhat what do we care if\nit's the old school?\n\n244\n00:12:24.600 --> 00:12:26.720\nThat's gonna get us\nthe maximum compatibility,\n\n245\n00:12:26.720 --> 00:12:28.530\nthat's where most of us are gonna stay.\n\n246\n00:12:28.530 --> 00:12:34.250\nBut if you want to do GPT, you can, we\nhave a newer utility called gdisk, right?\n\n247\n00:12:34.250 --> 00:12:39.050\nAnd gdisk, it should be installed by\ndefault in your Red Hat Enterprise Linux,\n\n248\n00:12:39.050 --> 00:12:42.030\nunless you did a minimal install,\nyou might need to add it in.\n\n249\n00:12:42.030 --> 00:12:47.030\nBut with gdisk, you can jump right in and\nyou can start to create GPT disks.\n\n250\n00:12:47.030 --> 00:12:51.400\nSame basic process as fdisk, but\ndone through a slightly different utility.\n\n251\n00:12:51.400 --> 00:12:52.230\n&gt;&gt; And even the commands,\n\n252\n00:12:52.230 --> 00:12:56.110\nif I'm not mistaken, are very similar in\nthe way that it works, is that correct?\n\n253\n00:12:56.110 --> 00:12:57.128\n&gt;&gt; Yeah, I mean here,\nwe can just run through it real quick.\n\n254\n00:12:57.128 --> 00:13:01.150\nIf I do a, well hey,\nlet me make sure I pseudo all this.\n\n255\n00:13:01.150 --> 00:13:03.470\nI'm gonna do an fdisk/dev/sdb,\nright, and so\n\n256\n00:13:03.470 --> 00:13:04.970\nI'm gonna jump in here and I get a prompt.\n\n257\n00:13:04.970 --> 00:13:09.393\nAnd if you press m you see all the\ndifferent things we can do.there's only\n\n258\n00:13:09.393 --> 00:13:11.546\nreally a couple that we care about.\n\n259\n00:13:11.546 --> 00:13:14.301\nIn today's world, hard drive storage is so\n\n260\n00:13:14.301 --> 00:13:18.700\ninexpensive that we rarely petition\nout disks in any meaningful way.\n\n261\n00:13:18.700 --> 00:13:21.910\nWe normally just have one big fat\npetition on the disk, and that's it.\n\n262\n00:13:21.910 --> 00:13:27.100\nSo, we are normally going to jump right in\nand do n, for adding a new partition and\n\n263\n00:13:27.100 --> 00:13:30.800\nthen once it's created we're going to do\nw to write that to the disk and exit.\n\n264\n00:13:30.800 --> 00:13:32.300\nThat's really all we need.\n\n265\n00:13:32.300 --> 00:13:35.670\nI am going to get n to create a new one,\nit's asking me if primary, extended.\n\n266\n00:13:35.670 --> 00:13:40.410\nRemember I got the four limits there\nof my partitions, so I got four free.\n\n267\n00:13:40.410 --> 00:13:43.580\nI'm gonna choose to create\na primary which was the default.\n\n268\n00:13:43.580 --> 00:13:46.220\nI'll do partition number one,\nagain, just the default.\n\n269\n00:13:46.220 --> 00:13:50.280\nAnd then the first sector and the last\nsector, if I wanted to specific sizes.\n\n270\n00:13:50.280 --> 00:13:52.330\nNow this used to be really\nannoying back in the day,\n\n271\n00:13:52.330 --> 00:13:54.650\nbecause you had to calculate\nout sectors and all that mess.\n\n272\n00:13:54.650 --> 00:13:56.450\nIt's actually not hard at all today.\n\n273\n00:13:56.450 --> 00:13:59.590\nNormally you want to take the first free\nsector, which is already lit up for me.\n\n274\n00:13:59.590 --> 00:14:01.170\nSo I can press enter on that.\n\n275\n00:14:01.170 --> 00:14:02.920\nAnd then the last sector.\n\n276\n00:14:02.920 --> 00:14:08.367\nWhich I can specify the sector number if I\nknow it, which you'd be psychotic to know.\n\n277\n00:14:08.367 --> 00:14:10.511\n&gt;&gt; [LAUGH]\n&gt;&gt; And we know this is the last one,\n\n278\n00:14:10.511 --> 00:14:12.800\nit tells you right there on\nthe screen what the last one was.\n\n279\n00:14:12.800 --> 00:14:13.628\nBut what if I could specify the size?\n\n280\n00:14:13.628 --> 00:14:15.415\nI wanna make a 500 gig partition.\n\n281\n00:14:15.415 --> 00:14:20.650\nWell, this drive might not,\nactually it is 500.\n\n282\n00:14:20.650 --> 00:14:22.631\nWell, anyhow,\nI wanna make a 250 gig partition,\n\n283\n00:14:22.631 --> 00:14:24.181\nwe'll pick one I know I can make, right.\n\n284\n00:14:24.181 --> 00:14:29.800\nThen you can actually just say, +size,\nand then the number, followed by.\n\n285\n00:14:29.800 --> 00:14:34.390\nOr I'm sorry, actually the, written as,\nlet's see if I can remember it.\n\n286\n00:14:34.390 --> 00:14:37.130\nIt's + the number and then K, M, or G.\n\n287\n00:14:37.130 --> 00:14:39.360\nSo kilobyte, megabyte, or gigabyte.\n\n288\n00:14:39.360 --> 00:14:41.850\nAnd that would specify it and\nyou wouldn't have to necessarily know.\n\n289\n00:14:41.850 --> 00:14:45.869\nSo I can just jump right in and\nsay that and that makes life a lot easier.\n\n290\n00:14:45.869 --> 00:14:51.123\nSo I'm gonna do +250 GB right there.\n\n291\n00:14:51.123 --> 00:14:52.373\nGotta leave the B off it.\n\n292\n00:14:52.373 --> 00:14:53.038\n&gt;&gt; No B.\n\n293\n00:14:53.038 --> 00:14:54.632\n&gt;&gt; There we go,\nit does get a little picky.\n\n294\n00:14:54.632 --> 00:14:57.964\nAnd there we go, it now calculates out\nwhere that sector will be forming so\n\n295\n00:14:57.964 --> 00:15:01.040\nI don't actually have to know it,\nwhich is really nice.\n\n296\n00:15:01.040 --> 00:15:05.960\nAnd then I can just hit w and it saves it,\nand it even re-syncs the discs for\n\n297\n00:15:05.960 --> 00:15:08.130\nme, so the system is now aware of it.\n\n298\n00:15:08.130 --> 00:15:09.440\nIt now knows that I've got it.\n\n299\n00:15:09.440 --> 00:15:14.076\nIf I do an fdisc-l/dev/sdb whoops,\n\n300\n00:15:14.076 --> 00:15:18.050\nif I pseudo that, there we go.\n\n301\n00:15:18.050 --> 00:15:20.580\nI can see I got one partition,\nit's laid out right there,\n\n302\n00:15:20.580 --> 00:15:24.430\nand you set it up as a Linux system,\nit's ready for me to go with.\n\n303\n00:15:24.430 --> 00:15:29.560\nRight, if I wanted to do that with gdisk,\nit's basically the same basic process.\n\n304\n00:15:29.560 --> 00:15:32.423\nI'll just do /dev/sdc this time.\n\n305\n00:15:32.423 --> 00:15:34.004\nI'll do the other disk.\n\n306\n00:15:34.004 --> 00:15:37.199\nAnd when I go in there, see how it looks,\nand it says, all right, I'm gonna look for\n\n307\n00:15:37.199 --> 00:15:39.010\nthat master boot record and\nsee if it's there.\n\n308\n00:15:39.010 --> 00:15:40.083\nAnd there isn't one.\n\n309\n00:15:40.083 --> 00:15:43.611\nOr I'm gonna look for a GPT and\nsee if it's there, and there isn't one.\n\n310\n00:15:43.611 --> 00:15:47.711\nThe other ones, you've got BSD, which\nis from if you're running free BSD or\n\n311\n00:15:47.711 --> 00:15:49.300\nopen BSD, one of those guys.\n\n312\n00:15:49.300 --> 00:15:55.626\nThey would create a APM, which is\nthe really old Apple partitioning format.\n\n313\n00:15:55.626 --> 00:15:59.810\nApple now uses the newer BSD one, so\nthat's how they'll normally show up.\n\n314\n00:15:59.810 --> 00:16:02.679\nBut it looks for those,\nit doesn't see them, and so\n\n315\n00:16:02.679 --> 00:16:04.580\nwe're creating new GPT entries.\n\n316\n00:16:04.580 --> 00:16:06.073\nAnd from here,\nif you still have question marker,\n\n317\n00:16:06.073 --> 00:16:07.950\nyou'll see basically the same options.\n\n318\n00:16:07.950 --> 00:16:11.629\nN to add a new partition and\nW to write an exit.\n\n319\n00:16:11.629 --> 00:16:13.570\nSo not all that much different.\n\n320\n00:16:13.570 --> 00:16:15.290\nI can create a partition here.\n\n321\n00:16:15.290 --> 00:16:16.600\nI can have up to 128 partitions.\n\n322\n00:16:16.600 --> 00:16:20.990\nGot a 500 gig drive,\nI can make a ton of partitions,\n\n323\n00:16:20.990 --> 00:16:22.840\nI'll run out of names to give them.\n\n324\n00:16:22.840 --> 00:16:24.420\nBut in my case, I just want one.\n\n325\n00:16:24.420 --> 00:16:25.770\nSo I don't have that\nlimit of four anymore.\n\n326\n00:16:25.770 --> 00:16:28.500\nI don't need extended and\nlogical and all that mess.\n\n327\n00:16:28.500 --> 00:16:30.710\nAnd then I can specify the size\njust like I did before.\n\n328\n00:16:30.710 --> 00:16:37.060\nSo I save plus 250G just\nlike on the other one.\n\n329\n00:16:37.060 --> 00:16:42.940\nBut notice on this one I don't have\njust KMG now I have terabyte and\n\n330\n00:16:42.940 --> 00:16:44.340\npetabyte right.\n\n331\n00:16:44.340 --> 00:16:49.803\nSo if I want to have huge partitions, EXT4\ncan handle it, but MBR can't, GPT can.\n\n332\n00:16:49.803 --> 00:16:54.010\nSo here's where I can really start\nto get big on this stuff and\n\n333\n00:16:54.010 --> 00:16:55.670\nI can get that created.\n\n334\n00:16:56.870 --> 00:16:59.800\nAnd once that's done, there it goes,\nit's created it and it's setup for\n\n335\n00:16:59.800 --> 00:17:01.050\na Linux file system.\n\n336\n00:17:01.050 --> 00:17:04.370\nAnd I'm typically going to want\nit to say Linux file system.\n\n337\n00:17:04.370 --> 00:17:07.240\nThe exception would be if I\nwas creating a swap disk.\n\n338\n00:17:07.240 --> 00:17:10.890\nIf I wanted to create a swap disk\nthen I could change that type.\n\n339\n00:17:10.890 --> 00:17:13.900\nAnd I just hit Enter, which was for\n8300, the default type.\n\n340\n00:17:13.900 --> 00:17:16.520\nBut if I hit L, I would have gotten\na list of all of these different codes.\n\n341\n00:17:16.520 --> 00:17:18.700\nAnd one of them would\nhave said Linux swap.\n\n342\n00:17:18.700 --> 00:17:19.690\nI could have chosen that.\n\n343\n00:17:19.690 --> 00:17:22.505\nMost of us you create the swap\npartition when you install Redhat.\n\n344\n00:17:22.505 --> 00:17:24.510\nIt's part of the installation wizard.\n\n345\n00:17:24.510 --> 00:17:27.800\nAfter that you really never mess with it.\n\n346\n00:17:27.800 --> 00:17:29.660\nAlright.\nI'm just going to hit W to exit out.\n\n347\n00:17:29.660 --> 00:17:32.680\nThat's going to get it put in place.\n\n348\n00:17:32.680 --> 00:17:33.620\nNow it's done.\n\n349\n00:17:33.620 --> 00:17:36.830\nFrom here, I'm pretty good to go.\n\n350\n00:17:36.830 --> 00:17:38.010\nI've got these two partitions.\n\n351\n00:17:38.010 --> 00:17:39.160\nThey're there and I'm ready to use them.\n\n352\n00:17:39.160 --> 00:17:41.770\nNow I've got to stick\na file system on them.\n\n353\n00:17:41.770 --> 00:17:44.790\nIf you've got another file system you're\nnot going to be able to access it.\n\n354\n00:17:44.790 --> 00:17:47.367\nAnd so, if I want to check a file system\non there I've got a different set of\n\n355\n00:17:47.367 --> 00:17:48.780\nutilities to use.\n\n356\n00:17:48.780 --> 00:17:52.100\nNow, before I jump into that, though,\nI do want to mention one other thing.\n\n357\n00:17:52.100 --> 00:17:57.080\nWhich is, I mentioned GParted at the\nbeginning of the episode, because it's so\n\n358\n00:17:57.080 --> 00:17:59.860\npopular out there, and\nit's not supported in Red hat.\n\n359\n00:17:59.860 --> 00:18:02.410\nBut, Parted actually is.\n\n360\n00:18:02.410 --> 00:18:07.660\nNot the GUI version of it,\nbut if you run sudo parted.\n\n361\n00:18:09.160 --> 00:18:12.490\nIt's installed by default\nin most of the packages.\n\n362\n00:18:12.490 --> 00:18:14.750\nIf you do the minimal, it's not,\nyou'll have to install it.\n\n363\n00:18:14.750 --> 00:18:16.710\nAnd from here, if you do a help,\n\n364\n00:18:16.710 --> 00:18:20.670\nyou'll see that it can actually\ndo GPT as well as MDR.\n\n365\n00:18:20.670 --> 00:18:23.040\nIt can do both right here in one place.\n\n366\n00:18:23.040 --> 00:18:25.310\nSo it makes it a little bit\neasier if you like this one.\n\n367\n00:18:25.310 --> 00:18:29.520\nIt is much more kind of menu driven and\nyou work through and create what you want.\n\n368\n00:18:29.520 --> 00:18:31.910\nGet everything set and\nkind of put in place, but\n\n369\n00:18:31.910 --> 00:18:34.140\nI need to select a disk before\nI can really get to work.\n\n370\n00:18:34.140 --> 00:18:37.200\nAnd then from there, you can start to\ncreate all your partitions and so on.\n\n371\n00:18:37.200 --> 00:18:39.710\nSo part ed does exist.\n\n372\n00:18:39.710 --> 00:18:43.730\nIt is a little more involved, because you\nhave a lot more options inside of here.\n\n373\n00:18:43.730 --> 00:18:46.170\nSo I still tend to use fdisk and gdisk.\n\n374\n00:18:46.170 --> 00:18:46.830\nThey're built in.\n\n375\n00:18:46.830 --> 00:18:47.510\nThey're supported.\n\n376\n00:18:47.510 --> 00:18:48.230\nThat's kind of the way to go.\n\n377\n00:18:48.230 --> 00:18:49.820\n&gt;&gt; They're pretty straightforward too.\n\n378\n00:18:49.820 --> 00:18:52.970\n&gt;&gt; Yeah, but\n&gt;&gt; Some people like part here is G part\n\n379\n00:18:52.970 --> 00:18:54.100\ndefinitely a different story.\n\n380\n00:18:54.100 --> 00:18:55.310\n&gt;&gt; Definitely, yes.\n\n381\n00:18:55.310 --> 00:18:57.060\n&gt;&gt; So, all right, let me get out of that.\n\n382\n00:18:58.210 --> 00:19:00.260\nAnd let's move on to file system on there.\n\n383\n00:19:00.260 --> 00:19:04.190\nNow to format a disk, to get it ready for\nus, or format a petition and get it ready\n\n384\n00:19:04.190 --> 00:19:08.960\nfor us, we have a utility called MKFS,\nwhich is the make file system utility.\n\n385\n00:19:08.960 --> 00:19:12.410\nNow, MKFS has a ton of\noptions that extend on to it.\n\n386\n00:19:12.410 --> 00:19:15.240\nAnd any time a new file system comes out,\nlike when BTRFS came out,\n\n387\n00:19:15.240 --> 00:19:19.460\nsomebody will write a module for that,\nit'll stick on MKFS so you can use it.\n\n388\n00:19:19.460 --> 00:19:22.390\nWell the thing is, you've got to\nremember all these different types and\n\n389\n00:19:22.390 --> 00:19:23.570\nnames, and so on.\n\n390\n00:19:23.570 --> 00:19:28.530\nSo, what Redhat has done, is they've put\na bunch of aliases in to help us with\n\n391\n00:19:28.530 --> 00:19:31.690\nMKFS so we don't have to remember\nall those crazy options, right?\n\n392\n00:19:31.690 --> 00:19:38.650\nAnd all of those little aliases or\nwhatever, are stored In /user/sbin.\n\n393\n00:19:38.650 --> 00:19:42.910\nAnd I mean there's a ton\nof stuff in there, right?\n\n394\n00:19:42.910 --> 00:19:45.450\nBut if we,\nlet's kinda shorten that a little bit,\n\n395\n00:19:45.450 --> 00:19:49.670\nI'm just going to do a search for\nmk* right, because it's all make stuff.\n\n396\n00:19:49.670 --> 00:19:51.110\nAnd-\n&gt;&gt; Works really well.\n\n397\n00:19:51.110 --> 00:19:52.870\n&gt;&gt; Well I mean if I get my syntax right.\n\n398\n00:19:52.870 --> 00:19:53.390\nThere we go.\n\n399\n00:19:53.390 --> 00:19:54.620\nAnd that's what I wanted.\n\n400\n00:19:54.620 --> 00:19:58.130\nSo what you'll see as you look at\neach of these is that some of them,\n\n401\n00:19:58.130 --> 00:20:00.910\nlike make dictionary, that's completely\nunrelated to the file systems.\n\n402\n00:20:00.910 --> 00:20:03.830\nBut then I've got mkdosfs, and so on.\n\n403\n00:20:03.830 --> 00:20:07.740\nBut notice all these guys have mkfs.,\nsomething.\n\n404\n00:20:07.740 --> 00:20:12.640\nAnd so\nwe've got .btrfs is the very first one.\n\n405\n00:20:15.070 --> 00:20:17.040\nLet me just change that a bit here we go.\n\n406\n00:20:17.040 --> 00:20:21.550\nSo looking at these guys there\n.btrfs.cramfs ext 2, 3, 4, fat, minux.\n\n407\n00:20:21.550 --> 00:20:25.610\nWe've got xfs, all these different\nones kind of laid out here.\n\n408\n00:20:25.610 --> 00:20:27.940\nEach of those are just aliases.\n\n409\n00:20:27.940 --> 00:20:30.430\nAnd MKFS is actually just a wrapper.\n\n410\n00:20:30.430 --> 00:20:33.910\nIt's not even a true program itself.\n\n411\n00:20:33.910 --> 00:20:38.520\nIt's a front end to all of these\nmodules that are back ends.\n\n412\n00:20:38.520 --> 00:20:39.910\nAnd some of these modules\naren't even real.\n\n413\n00:20:39.910 --> 00:20:46.460\nIf you look at mkfs.msdos and mkfs.vfat,\nthey're both just pointing to mkfs.fat.\n\n414\n00:20:46.460 --> 00:20:50.300\nWhich in turn is just a backend for\nthe MKFS wrapper.\n\n415\n00:20:50.300 --> 00:20:54.490\nAnd at the end of the day it gets super\nconfusing right to remember all these\n\n416\n00:20:54.490 --> 00:20:55.000\ndifferent things.\n\n417\n00:20:55.000 --> 00:20:57.500\nAnd what they're really trying to do\nis just save us from doing command line\n\n418\n00:20:57.500 --> 00:21:00.260\narguments to specify what\nfile system type it is.\n\n419\n00:21:00.260 --> 00:21:03.760\nJust to make life a little bit easier\nyou can see what's supported and\n\n420\n00:21:03.760 --> 00:21:05.340\nrun it right from here.\n\n421\n00:21:05.340 --> 00:21:08.400\nAnd you'll notice like NTFS is missing and\nHFS and\n\n422\n00:21:08.400 --> 00:21:11.000\nthose other guys,\nthey're just not officially supported.\n\n423\n00:21:11.000 --> 00:21:13.588\nYou can install Fuse and\nadd support for them but\n\n424\n00:21:13.588 --> 00:21:17.175\nit's not part of the default\nRed Hat distribution.\n\n425\n00:21:17.175 --> 00:21:19.718\nAll right, so if I wanna make\nuse of one of these things,\n\n426\n00:21:19.718 --> 00:21:21.140\nwell I certainly can, right?\n\n427\n00:21:21.140 --> 00:21:24.050\nSo I can jump in and\nI need to format my hard drives.\n\n428\n00:21:24.050 --> 00:21:31.220\nI created two, right, so if I do my\nfdisk- well, I need to see this one.\n\n429\n00:21:31.220 --> 00:21:32.655\nWhoops.\nHow do you spell sudo?\n\n430\n00:21:32.655 --> 00:21:35.720\nfdisk-l/dev/sdb and I take a look at it.\n\n431\n00:21:35.720 --> 00:21:42.990\nSo there's sdb1 is the 250 gig drive I\ncreated on just the regular MBR type disk.\n\n432\n00:21:42.990 --> 00:21:44.140\nAnd so I'm going to format that one.\n\n433\n00:21:44.140 --> 00:21:47.930\nI'm going to put an EXT,\nI'll do the EXT4 on it, right.\n\n434\n00:21:47.930 --> 00:21:53.130\nSo I can punch that in the old fashioned\nway, which is I can say pseudo\n\n435\n00:21:53.130 --> 00:21:58.230\nMKFS dash T and\nthen whatever my partition type is.\n\n436\n00:21:58.230 --> 00:22:01.350\nSo if I want to do EXT2 or 3 or 4 or\n\n437\n00:22:01.350 --> 00:22:05.590\nif I want to do fat or\nwhatever I provide it as a type.\n\n438\n00:22:05.590 --> 00:22:07.690\nBut I have to remember\nthe name of that type.\n\n439\n00:22:07.690 --> 00:22:09.560\nNow if I can't remember the name,\n\n440\n00:22:09.560 --> 00:22:11.420\nthat's where it gets a little\nbit confusing right?\n\n441\n00:22:11.420 --> 00:22:14.910\nBut I can punch in here and\njust say I'm going to do it ext4 and\n\n442\n00:22:14.910 --> 00:22:19.730\nI can specify the disk for\npartition that I'm about to format.\n\n443\n00:22:19.730 --> 00:22:23.240\nSo dash t end partition type.\n\n444\n00:22:23.240 --> 00:22:29.790\nBut if I use the alias, I can just\ndelete the l And do that, right?\n\n445\n00:22:29.790 --> 00:22:31.685\nSo what did it really save me from typing?\n\n446\n00:22:31.685 --> 00:22:33.572\n&gt;&gt; [CROSSTALK]\n&gt;&gt; Dash t.\n\n447\n00:22:33.572 --> 00:22:34.710\n&gt;&gt; Yeah.\n[LAUGH]\n\n448\n00:22:34.710 --> 00:22:36.031\n&gt;&gt; But what I find it useful,\n\n449\n00:22:36.031 --> 00:22:39.214\nis I can never remember exactly\nwhat that name should be, and so\n\n450\n00:22:39.214 --> 00:22:41.930\nnow I can just go and look for\nthe alias and there it is.\n\n451\n00:22:41.930 --> 00:22:44.960\nRight, so mkfs.ext4 is that alias.\n\n452\n00:22:44.960 --> 00:22:46.730\nIt's effectively the same thing.\n\n453\n00:22:46.730 --> 00:22:49.470\nSo if I run it here, it's going to format.\n\n454\n00:22:49.470 --> 00:22:51.050\nAnd so now I just formatted sdb1.\n\n455\n00:22:51.050 --> 00:22:54.520\nIf I wanna do sdc1,\nI'll do that one the other way.\n\n456\n00:22:54.520 --> 00:22:56.530\nI'll say -t ext4 and\nrun it, and there you go.\n\n457\n00:22:56.530 --> 00:23:01.250\nSame command,\njust two different ways of writing it.\n\n458\n00:23:01.250 --> 00:23:02.350\nAll right?\n\n459\n00:23:02.350 --> 00:23:05.230\nSo that's what those aliases are for,\nand what they do.\n\n460\n00:23:05.230 --> 00:23:07.840\n&gt;&gt; Now Don, there are other\ncommands that are extremely\n\n461\n00:23:07.840 --> 00:23:09.240\nsimilar\n&gt;&gt; And\n\n462\n00:23:09.240 --> 00:23:11.770\nsyntax that do the exact\nsame thing as well.\n\n463\n00:23:11.770 --> 00:23:14.630\nSo I've noticed things like user add and\n\n464\n00:23:14.630 --> 00:23:17.360\nadd user, do the same thing, well they\njust do them a little bit differently.\n\n465\n00:23:17.360 --> 00:23:19.720\nAnd it's the same case with this, correct.\n\n466\n00:23:19.720 --> 00:23:23.240\n&gt;&gt; Yeah and it goes back, and I guess I\nshould have explained this a little better\n\n467\n00:23:23.240 --> 00:23:26.740\nis, I said that we have all these aliases\nthat are kind of like a back end, and\n\n468\n00:23:26.740 --> 00:23:28.440\nMKFS is the front end\n&gt;&gt; But\n\n469\n00:23:28.440 --> 00:23:31.550\nMKFS is actually doing the work either.\n\n470\n00:23:31.550 --> 00:23:37.300\nIt's a front end and it actually ties to\nother programs also and so if you look.\n\n471\n00:23:37.300 --> 00:23:39.510\nLet me just pull that directly back up.\n\n472\n00:23:39.510 --> 00:23:42.365\nWhen you look in here,\nI've got all this MKFS stuff, and\n\n473\n00:23:42.365 --> 00:23:44.580\nif you look right here MKE2FS, all right.\n\n474\n00:23:45.900 --> 00:23:52.180\nThat is the actual program that\nlets us lay a Ext2 file system,\n\n475\n00:23:52.180 --> 00:23:56.770\nor even Ext3 and Ext4, it does all\nthree of them, onto a file system.\n\n476\n00:23:56.770 --> 00:24:04.158\nSo when I ran mkfs.ext4, it actually\ncalled in the background, mke2fs.\n\n477\n00:24:04.158 --> 00:24:06.027\nRight, so\nthat's what actually did the real work.\n\n478\n00:24:06.027 --> 00:24:09.423\nAnd you'll find there's other utilities\nout there that people load that do all\n\n479\n00:24:09.423 --> 00:24:12.930\nsorts of crazy things, different names and\nMKFS kind of serves as that front end.\n\n480\n00:24:12.930 --> 00:24:14.810\nSo we don't have to remember\nall those different utilities.\n\n481\n00:24:14.810 --> 00:24:16.550\nIt's just about making our\nlife a little easier for us.\n\n482\n00:24:17.620 --> 00:24:19.919\nAs easy as it's gonna get, yeah.\n\n483\n00:24:19.919 --> 00:24:25.360\n[LAUGH] All right, so now my discs\nare formatted, I'm done right?\n\n484\n00:24:25.360 --> 00:24:27.916\nNot really, I can't get at my data.\n\n485\n00:24:27.916 --> 00:24:29.610\nFormatting, it's important, right?\n\n486\n00:24:29.610 --> 00:24:32.390\nSo now it's got a file system,\nI can start to copy files to it.\n\n487\n00:24:32.390 --> 00:24:33.930\nBut I need some way to get at it.\n\n488\n00:24:33.930 --> 00:24:37.840\nAnd in the Linux world,\nreally the Unix world in general,\n\n489\n00:24:37.840 --> 00:24:41.910\neach partition needs to be\nmounted to a mount point.\n\n490\n00:24:41.910 --> 00:24:45.080\nAnd a mount point is just a folder\nin your folder system hierarchy.\n\n491\n00:24:45.080 --> 00:24:47.490\nYou've already got some things mounted,\nright?\n\n492\n00:24:47.490 --> 00:24:49.640\nIf you just run the mount command,\n\n493\n00:24:49.640 --> 00:24:52.830\nif you just run mount,\nit'll show you everything that's mounted.\n\n494\n00:24:52.830 --> 00:24:56.540\nAnd you can spot in here,\nlike /dev/sda1, right?\n\n495\n00:24:57.830 --> 00:25:00.160\nThat is sda, that's my first hard drive.\n\n496\n00:25:00.160 --> 00:25:04.158\nAnd 1, that's my first partition on\nthat hard drive, it's mounted to /boot.\n\n497\n00:25:04.158 --> 00:25:09.090\nSo the /boot folder is it's own\npartition and that makes sense.\n\n498\n00:25:09.090 --> 00:25:11.130\nMost distro's do that today because,\n\n499\n00:25:11.130 --> 00:25:14.510\nin order to boot UEFI needs to be able\nto read from it, if you have UEFI.\n\n500\n00:25:14.510 --> 00:25:17.200\nIt needs to be able to read from it, so\n\n501\n00:25:17.200 --> 00:25:22.120\nit can't be encrypted and it needs to\nbe a file system that UEFI understands.\n\n502\n00:25:22.120 --> 00:25:26.230\nA lot of times it will end up being\nfat32 or if you look at this one, xfs.\n\n503\n00:25:26.230 --> 00:25:28.470\nAll right, so\na standard file system format.\n\n504\n00:25:28.470 --> 00:25:32.270\nBut then the rest of my system,\nlike the root folder,\n\n505\n00:25:32.270 --> 00:25:35.860\nwell in my case the root\nis actually a DM disc.\n\n506\n00:25:35.860 --> 00:25:40.375\nSo it's a map, and we'll talk more about\nthat in the LVM episode, but here it is.\n\n507\n00:25:40.375 --> 00:25:44.840\nJust the root is being mounted, and\nit might be the ext4 or some other file\n\n508\n00:25:44.840 --> 00:25:48.360\nsystem, they don't have to all be the same\nfile system you can mix and match.\n\n509\n00:25:48.360 --> 00:25:51.850\nBut these are all being mounted\nwhen the systems boots up.\n\n510\n00:25:51.850 --> 00:25:54.280\nAnd you can use the mount command to\n\n511\n00:25:54.280 --> 00:25:56.340\nmount these file systems\nwherever it is that you want.\n\n512\n00:25:56.340 --> 00:26:01.220\nNow, key thing to remember about the mount\ncommand is that, it is not persistent.\n\n513\n00:26:01.220 --> 00:26:04.350\nYou run mount, and if you ever reboot,\neverything unmounts again, and so\n\n514\n00:26:04.350 --> 00:26:05.690\nit's gone.\n\n515\n00:26:05.690 --> 00:26:09.140\nIf I wanna use one of those disks,\nI just made to store my website,\n\n516\n00:26:09.140 --> 00:26:13.900\nthen I might make\na directory called /website.\n\n517\n00:26:13.900 --> 00:26:16.210\nAnd that's where I want my website to go,\nright?\n\n518\n00:26:16.210 --> 00:26:17.940\nAnd if I go in there right now?\n\n519\n00:26:19.100 --> 00:26:21.030\nIt's empty, all right?\n\n520\n00:26:21.030 --> 00:26:25.938\nBut if I mount something to it,\nso if I mount\n\n521\n00:26:25.938 --> 00:26:33.260\n/dev/sdb1 to /website, it's going to\nattach that partition to that folder.\n\n522\n00:26:33.260 --> 00:26:34.950\nAnd now I can browse in and\nI can access it.\n\n523\n00:26:34.950 --> 00:26:36.320\nAnd I'm putting things\ninto that partition.\n\n524\n00:26:36.320 --> 00:26:38.060\nNow the mount command\nused to be a lot harder.\n\n525\n00:26:38.060 --> 00:26:39.830\nYou used to have to tell it\nwhat the file system was.\n\n526\n00:26:39.830 --> 00:26:43.610\nSo you had to do a fs equals ext4 or\nwhatever.\n\n527\n00:26:43.610 --> 00:26:45.530\nWe don't have to do that anymore,\nit already detects,\n\n528\n00:26:45.530 --> 00:26:48.960\na nice thing to have as long as you're\ndealing with supported file systems.\n\n529\n00:26:48.960 --> 00:26:51.060\nIf you have some unsupported file\nsystem that won't auto-detect,\n\n530\n00:26:51.060 --> 00:26:54.440\nthen you will have to override that\nwith the fs command line argument.\n\n531\n00:26:54.440 --> 00:26:58.090\nBut now, if I go into /website,\nit's not empty anymore.\n\n532\n00:26:58.090 --> 00:26:59.770\nSee how it's got a lost and found?\n\n533\n00:26:59.770 --> 00:27:03.740\nEvery partition has a lost and found\nfolder where files that get fragmented and\n\n534\n00:27:03.740 --> 00:27:06.840\nbroken and the links aren't there, then\nthey end up in the lost and found folder.\n\n535\n00:27:06.840 --> 00:27:10.900\nBut I can start to create my website,\nI might have an index.html.\n\n536\n00:27:10.900 --> 00:27:15.000\nOops, I have some permission\nproblems to sort out.\n\n537\n00:27:15.000 --> 00:27:17.180\n[LAUGH] But\nI can start creating files in there,\n\n538\n00:27:17.180 --> 00:27:19.320\nand now I've got that index.html in place,\n\n539\n00:27:19.320 --> 00:27:22.310\nand I can start putting all of my website\nand all of that other information there.\n\n540\n00:27:22.310 --> 00:27:26.070\nIf I run mount,\nI can find it right here at the end.\n\n541\n00:27:26.070 --> 00:27:31.440\nThere's the mount line,\nbut added that folder.\n\n542\n00:27:31.440 --> 00:27:36.368\nSo, /dev/sdb1 is now mounted to /website,\nand\n\n543\n00:27:36.368 --> 00:27:40.624\nI get unmount it by\ndoing a umount /website.\n\n544\n00:27:42.410 --> 00:27:46.010\nAnd target's busy because I'm actually\nin the directory while I'm doing it, so\n\n545\n00:27:46.010 --> 00:27:48.620\nlet me get out of the directory and\nnow I can unmount it.\n\n546\n00:27:48.620 --> 00:27:51.380\nAnd notice, when I unmounted it,\nI didn't unmount it by the device name.\n\n547\n00:27:51.380 --> 00:27:54.770\nI unmounted it by the mount point,\n/website is where I mounted it to.\n\n548\n00:27:54.770 --> 00:27:58.170\nAnd so it's gonna unmount that, and\nnow it's out of the list, all right?\n\n549\n00:27:58.170 --> 00:28:03.380\nNow even if I left it unmounted,\nif I reboot, it's gonna come out, right?\n\n550\n00:28:03.380 --> 00:28:06.230\nBecause this is a not persistent thing,\nright?\n\n551\n00:28:06.230 --> 00:28:10.490\nSo if I put that mount back in place,\nit's there, and so there it is,\n\n552\n00:28:10.490 --> 00:28:12.110\nI can see it at the bottom of the list.\n\n553\n00:28:12.110 --> 00:28:15.000\nBut, what happens is when you boot,\n\n554\n00:28:15.000 --> 00:28:19.010\nit looks at this table called the file\nsystem table, or, F-S-T-A-B, fstab,\n\n555\n00:28:20.310 --> 00:28:24.790\nand it is in /etc.\n\n556\n00:28:24.790 --> 00:28:28.400\nAnd it has a listing of all the file\nsystems that will be mounted when\n\n557\n00:28:28.400 --> 00:28:29.490\nthe system boots.\n\n558\n00:28:29.490 --> 00:28:34.190\nAnd so I can see my /home folder,\nmy root, the swap folder.\n\n559\n00:28:34.190 --> 00:28:37.315\nIt's got each one in here except for boot.\n\n560\n00:28:37.315 --> 00:28:39.370\n/boot doesn't show up, right?\n\n561\n00:28:39.370 --> 00:28:42.136\nAnd that's because you\ndon't have an option /boot.\n\n562\n00:28:42.136 --> 00:28:45.790\n/boot has already been accessed prior\nto this file even being loaded so\n\n563\n00:28:45.790 --> 00:28:47.070\nit doesn't need to be in here.\n\n564\n00:28:47.070 --> 00:28:49.070\nBut the other ones are all,\nactually, you know what?\n\n565\n00:28:49.070 --> 00:28:51.097\nI'm saying /boot and there it is,\nright there in front of me.\n\n566\n00:28:51.097 --> 00:28:52.130\nIt's just got the UUID.\n\n567\n00:28:53.180 --> 00:28:56.440\nWhen things are listed in here there's\na few different formats for it.\n\n568\n00:28:56.440 --> 00:29:00.390\nAnd this one /dev/mapper, I mentioned\nthat one, like the dynamics, right?\n\n569\n00:29:00.390 --> 00:29:02.550\nAnd so you'll see those mapper ones.\n\n570\n00:29:02.550 --> 00:29:04.740\nThose are LVM or\nLogical Volume Managed ones.\n\n571\n00:29:04.740 --> 00:29:06.490\nWe'll talk about those in the LVM episode.\n\n572\n00:29:06.490 --> 00:29:10.810\nBut this one is from our NFS\nepisode that we did, right?\n\n573\n00:29:10.810 --> 00:29:12.860\nSo I'm pointing to a remote file system.\n\n574\n00:29:12.860 --> 00:29:17.080\nAnd on the boot one, it's got a UUID and\nthe reasoning there is,\n\n575\n00:29:17.080 --> 00:29:21.530\nwhen the system is booting up,\nit doesn't have, UDev hasn't run yet.\n\n576\n00:29:21.530 --> 00:29:22.900\nSo it hasn't assigned it a name.\n\n577\n00:29:22.900 --> 00:29:25.390\nSo it's gotta have the ID\nof that partition.\n\n578\n00:29:25.390 --> 00:29:29.120\nAnd fstab isn't really even being\nread at this point when it comes up\n\n579\n00:29:29.120 --> 00:29:31.180\nbecause it's focused on that boot folder.\n\n580\n00:29:31.180 --> 00:29:35.140\nSo this option isn't really\nall that important to us,\n\n581\n00:29:35.140 --> 00:29:37.050\ncuz it's really already\nto late at that point.\n\n582\n00:29:37.050 --> 00:29:37.880\n&gt;&gt; Yeah.\n\n583\n00:29:37.880 --> 00:29:41.410\n&gt;&gt; All right, but you will notice\nthat /website is not on the list.\n\n584\n00:29:41.410 --> 00:29:42.640\nIt's just not here, right?\n\n585\n00:29:42.640 --> 00:29:45.730\nSo if I reboot, this is where it\ngets read, /website gets left out.\n\n586\n00:29:45.730 --> 00:29:49.360\nSo if I want it to be persistent,\nI need to add it to this list.\n\n587\n00:29:49.360 --> 00:29:51.640\nAnd so I'm gonna edit that file.\n\n588\n00:29:51.640 --> 00:29:58.580\nI'm just gonna use vi and I'm gonna add\nin an entry for my new file system.\n\n589\n00:29:58.580 --> 00:30:02.520\nSo, I'm just gonna jump in here and\nwe'll get it added right on.\n\n590\n00:30:02.520 --> 00:30:05.370\nAnd I should have used a shortcut\nto get to the end of the line.\n\n591\n00:30:05.370 --> 00:30:06.210\nBut we'll do it the hard way.\n\n592\n00:30:06.210 --> 00:30:07.580\nAll right.\n\n593\n00:30:07.580 --> 00:30:09.400\nAdding an entry here is\nreally not that hard.\n\n594\n00:30:09.400 --> 00:30:10.930\nYou do need to know the file system,\nright?\n\n595\n00:30:10.930 --> 00:30:12.310\nSee, I've got that little column here?\n\n596\n00:30:12.310 --> 00:30:15.780\nThe mount command auto-detected it for\nme, but here we need to know it.\n\n597\n00:30:15.780 --> 00:30:20.560\nAnd so I'm gonna add this entry and\nwe start by where we're getting the data.\n\n598\n00:30:20.560 --> 00:30:23.720\nSo /dev/sdb1 is where I'm getting my data.\n\n599\n00:30:23.720 --> 00:30:28.780\nAnd then where I want to mount it to and\nI'm gonna mount mine to /website.\n\n600\n00:30:28.780 --> 00:30:32.420\nNow I put some tabs in here so it looks\nnice and pretty, you don't have to.\n\n601\n00:30:32.420 --> 00:30:35.170\nIt doesn't matter,\nyou just need a single space.\n\n602\n00:30:35.170 --> 00:30:37.890\nBut I'll try and keep it looking nice.\n\n603\n00:30:37.890 --> 00:30:42.180\nAnd then after that we've got the file\nsystem which mine is ext, right?\n\n604\n00:30:42.180 --> 00:30:47.060\nAnd so I can punch that in,\nI'll just add a little four mine's ext4,\n\n605\n00:30:47.060 --> 00:30:48.570\nand then my defaults.\n\n606\n00:30:48.570 --> 00:30:50.350\nNow, what are the defaults?\n\n607\n00:30:50.350 --> 00:30:55.330\nThere's a default collection of settings\nthat apply when I announce something, and\n\n608\n00:30:55.330 --> 00:30:57.840\nif I just leave this empty it's\nactually going to be angry with me.\n\n609\n00:30:57.840 --> 00:31:00.560\nBut if I just want to go with the defaults\ni can type that right in here.\n\n610\n00:31:00.560 --> 00:31:03.500\nBut notice like on this NFS disk,\nI overrode a few things.\n\n611\n00:31:03.500 --> 00:31:06.230\nI did R/O, I want it to be read only, and\n\n612\n00:31:06.230 --> 00:31:09.680\nI wanted to do synchronous rights\ninstead of asynchronous rights.\n\n613\n00:31:09.680 --> 00:31:14.940\nYou can override all sorts of crazy\nsettings and it really, there's a good\n\n614\n00:31:14.940 --> 00:31:18.740\n30 different options that you can specify\nand they're for all sorts of crazy things.\n\n615\n00:31:18.740 --> 00:31:20.840\nSo I'm not gonna drive\ninto those too far here.\n\n616\n00:31:20.840 --> 00:31:23.310\nBut just be aware that you\ncan tweak quite a bit.\n\n617\n00:31:24.330 --> 00:31:28.970\nAnd then the last here these zeros, what\nthe zeros are identifying are a couple of\n\n618\n00:31:28.970 --> 00:31:31.650\nlittle status pieces for\nwhen the system boots up.\n\n619\n00:31:31.650 --> 00:31:36.180\nAnd the way it works the first\none is actually telling us\n\n620\n00:31:36.180 --> 00:31:37.720\nif we run a system backup.\n\n621\n00:31:38.720 --> 00:31:40.680\nShould we backup this drive, okay?\n\n622\n00:31:40.680 --> 00:31:43.750\nSo if there's a 0, then yeah,\nwe can back it up.\n\n623\n00:31:43.750 --> 00:31:45.280\nIf there's a one, we don't, right?\n\n624\n00:31:46.390 --> 00:31:50.040\nSo in this scenario here, I see each one,\nactually, I might have that backwards.\n\n625\n00:31:50.040 --> 00:31:52.690\nHang on a second, let me, I wanna make\nsure I tell you guys the right thing.\n\n626\n00:31:52.690 --> 00:31:54.490\nAnd I don't think I have it in\nmy cheat sheet either, do I?\n\n627\n00:31:54.490 --> 00:31:55.170\nDarn it.\n\n628\n00:31:55.170 --> 00:31:57.920\nI might have that one backwards.\n\n629\n00:31:57.920 --> 00:32:01.743\nI'll get the show nodes that's updated to\nreflect it either zero tells us to back up\n\n630\n00:32:01.743 --> 00:32:04.653\nor zero tells us not to back up and\nonce obviously the opposite.\n\n631\n00:32:04.653 --> 00:32:06.597\nSo phase at backup status.\n\n632\n00:32:06.597 --> 00:32:11.913\nThe second zero is kinda the same thing\nBut for FSCK, when you boot up your\n\n633\n00:32:11.913 --> 00:32:17.230\nsystem, there's a file system check\nthat runs to look for errors.\n\n634\n00:32:17.230 --> 00:32:20.620\nAnd most systems have either a timer, so\n\n635\n00:32:20.620 --> 00:32:23.740\nevery 30 days it runs a check,\nor a counter.\n\n636\n00:32:23.740 --> 00:32:27.000\nThey say every x amount\nof boots we run a check.\n\n637\n00:32:27.000 --> 00:32:29.670\nAnd if you've reached\nthat number of boots,\n\n638\n00:32:29.670 --> 00:32:32.590\nif that timer is out,\nit changes this 0 to a 1.\n\n639\n00:32:32.590 --> 00:32:38.350\nAnd when it becomes a 1, the next time you\nboot, it'll run FSCK on that file system.\n\n640\n00:32:38.350 --> 00:32:43.280\nSo if I wanna run FSCK on my new\npartition, I can chuck a 1 in there, and\n\n641\n00:32:43.280 --> 00:32:46.090\nthat'll make it where it'll run\nFSCK the next time that it boots.\n\n642\n00:32:46.090 --> 00:32:48.780\nAnd if I leave the one in there,\nit'll check it every time that it boots.\n\n643\n00:32:48.780 --> 00:32:52.900\nSo it'll always run fsck, which may not\nachieve the goal that I'm looking for.\n\n644\n00:32:52.900 --> 00:32:54.510\nSo that's kinda up to me.\n\n645\n00:32:54.510 --> 00:32:57.430\nThe reason we specify here\nis there's some partitions,\n\n646\n00:32:57.430 --> 00:33:01.470\nlike the boot partition, that you can't\nreally check without unmounting it.\n\n647\n00:33:01.470 --> 00:33:02.920\nAnd you can't unmount\nit because you need it.\n\n648\n00:33:02.920 --> 00:33:05.770\nImagine what would happen if you\ntried to unmount your roof partition.\n\n649\n00:33:05.770 --> 00:33:07.150\nDoesn't work so well, right?\n\n650\n00:33:07.150 --> 00:33:10.200\nBut if you put the file system check here,\nit happens before we're in the system so\n\n651\n00:33:10.200 --> 00:33:11.430\nit's able to check that.\n\n652\n00:33:11.430 --> 00:33:14.080\nSo I'm just gonna add a 00\non here which is what you\n\n653\n00:33:14.080 --> 00:33:16.310\nnormally want on these partitions.\n\n654\n00:33:16.310 --> 00:33:19.220\nSo, and like I said, I'll look it up and\nstick it in the shoe\n\n655\n00:33:19.220 --> 00:33:22.310\nnotes whether it's supposed to be\n01 to force it to do a backup.\n\n656\n00:33:22.310 --> 00:33:25.970\n&gt;&gt; I think it's a,\nit says you can have a 0 or nothing.\n\n657\n00:33:25.970 --> 00:33:30.060\nAnd that's lets it know that it can\nbe left out or it doesn't have to be.\n\n658\n00:33:30.060 --> 00:33:32.180\nSo one is the dump and\nthe other is the FSCK.\n\n659\n00:33:32.180 --> 00:33:35.640\nAnd you make it one or something else.\n\n660\n00:33:35.640 --> 00:33:37.320\nAnd it changes the option.\n\n661\n00:33:37.320 --> 00:33:40.100\n&gt;&gt; Okay, so for right now the 0 is\ngonna tell us not to do the backups.\n\n662\n00:33:40.100 --> 00:33:41.970\nI guess I could have it\nright the first time.\n\n663\n00:33:41.970 --> 00:33:43.020\nSo everything's excluded.\n\n664\n00:33:43.020 --> 00:33:44.860\nWe'd probably wanna change that\nif we were running actual pipes.\n\n665\n00:33:45.900 --> 00:33:49.330\nBut now that it's in there,\nI've got my line for sdb1, and\n\n666\n00:33:49.330 --> 00:33:52.570\nif I ever reboot,\nit's gonna automatically remap that.\n\n667\n00:33:52.570 --> 00:33:53.740\nIt's gonna be right there in the system.\n\n668\n00:33:53.740 --> 00:33:55.040\nIt's gonna be available for me.\n\n669\n00:33:55.040 --> 00:33:57.850\nThat's an important step,\notherwise you're gonna reboot and\n\n670\n00:33:57.850 --> 00:34:00.790\nyou're gonna find that all of\nyour mounted stuff is gone.\n\n671\n00:34:00.790 --> 00:34:01.880\n&gt;&gt; And that would suck.\n\n672\n00:34:01.880 --> 00:34:05.660\n&gt;&gt; I mean, you can always fix it with\na script or whatever, but the FS tab or\n\n673\n00:34:05.660 --> 00:34:09.920\nFile System table, it's still used on\nSystem D, it's still important to us.\n\n674\n00:34:09.920 --> 00:34:12.670\nYou put your file systems in there,\nand off you go.\n\n675\n00:34:12.670 --> 00:34:14.600\nSo not so bad.\n\n676\n00:34:14.600 --> 00:34:15.400\n&gt;&gt; Not too bad.\n\n677\n00:34:15.400 --> 00:34:18.510\nDon, anything else we need to cover\nwhen it comes to file systems?\n\n678\n00:34:18.510 --> 00:34:21.580\nI mean, we've actually covered\na lot of ground in this episode.\n\n679\n00:34:21.580 --> 00:34:26.140\nAnd you should be able at this\npoint to get a disk partitioned,\n\n680\n00:34:26.140 --> 00:34:30.970\nto get a file system on it, and even make\nit persistent within your distribution.\n\n681\n00:34:30.970 --> 00:34:32.050\nAnything else we need to cover?\n\n682\n00:34:32.050 --> 00:34:33.220\nI mean that's kind of the basics.\n\n683\n00:34:33.220 --> 00:34:35.845\n&gt;&gt; There's only one other thing, I haven't\nreally mentioned that we'll cover more\n\n684\n00:34:35.845 --> 00:34:38.535\nin another episode, which is SELinux.\n\n685\n00:34:38.535 --> 00:34:43.175\nSELinux is running by default\non every install model of\n\n686\n00:34:43.175 --> 00:34:46.635\nRed Hat unless you disabled it during\nthe install, it is on by default.\n\n687\n00:34:46.635 --> 00:34:51.515\nAnd SELinux controls what programs\nare allowed to access what directories.\n\n688\n00:34:51.515 --> 00:34:54.280\nWell the directory you just made,\nor the one that I just made.\n\n689\n00:34:54.280 --> 00:34:55.580\n&gt;&gt; Se Linux doesn't know about it.\n\n690\n00:34:55.580 --> 00:34:58.820\nAnd so nothing is going to be\nallowed to access that folder.\n\n691\n00:34:58.820 --> 00:35:03.550\nYou can if you sudo and whatever,\naccess it as route, you can access and\n\n692\n00:35:03.550 --> 00:35:04.470\ndo crazy things.\n\n693\n00:35:04.470 --> 00:35:07.250\nIf you fire up, I wanna this to be\na website, so if I fire up Apache,\n\n694\n00:35:07.250 --> 00:35:10.530\nthe Apache service is not\nallowed to talk to this folder.\n\n695\n00:35:10.530 --> 00:35:14.380\nIt's outside of the context\nthat program runs in.\n\n696\n00:35:14.380 --> 00:35:17.944\nSo after creating a partition like this,\nnow we need to go in and\n\n697\n00:35:17.944 --> 00:35:21.660\nget SELinux squared away to approve\nthis folder for that access.\n\n698\n00:35:21.660 --> 00:35:22.790\nAnd that varies by program.\n\n699\n00:35:22.790 --> 00:35:27.870\nSo we'll cover that in a dedicated SELinux\nepisode that's coming down the line.\n\n700\n00:35:27.870 --> 00:35:31.520\nThe other thing is, if you're\ntrying to move something, like for\n\n701\n00:35:31.520 --> 00:35:33.480\nexample the home directory.\n\n702\n00:35:33.480 --> 00:35:35.020\nThe home directory is in /home, and\n\n703\n00:35:35.020 --> 00:35:39.770\nmaybe you put it just right along\nside your regular root folder\n\n704\n00:35:39.770 --> 00:35:43.200\nduring the install, and you decide now you\nwanna move it off to a separate drive.\n\n705\n00:35:43.200 --> 00:35:46.300\nWell, you can create the separate drive,\nand\n\n706\n00:35:46.300 --> 00:35:52.290\nthen you need to copy all the data from\nthe existing path over to the new path.\n\n707\n00:35:52.290 --> 00:35:56.220\nAnd when you run the mount command, it\nwill basically over ride the local path.\n\n708\n00:35:56.220 --> 00:35:58.760\nBut all the files, they're still there.\n\n709\n00:35:58.760 --> 00:36:02.450\nSo you really need to move them from the\noriginal location to the new location, so\n\n710\n00:36:02.450 --> 00:36:04.050\nthe original location is empty.\n\n711\n00:36:04.050 --> 00:36:06.410\nWhen you do a mount, the mount point,\n\n712\n00:36:06.410 --> 00:36:09.020\nthe folder that you're pointing at,\nshould be empty.\n\n713\n00:36:09.020 --> 00:36:13.350\nIf it's got stuff in it, it will\nbasically become hidden and inaccessible.\n\n714\n00:36:13.350 --> 00:36:14.410\nBut the data will still be there.\n\n715\n00:36:14.410 --> 00:36:17.380\nSo you usually wanna make sure that you've\ngot an empty folder that you're mounting\n\n716\n00:36:17.380 --> 00:36:19.970\nto, and that the data has been moved off.\n\n717\n00:36:19.970 --> 00:36:24.457\nAnd then there's some programs, like the\nhome folder, where the system expects them\n\n718\n00:36:24.457 --> 00:36:28.574\nto be online very early on, and if you're\nmessing around with the mount point,\n\n719\n00:36:28.574 --> 00:36:32.384\nyou can end up in a situation where some\nservices fail to boot and you need to\n\n720\n00:36:32.384 --> 00:36:36.778\nactually wait until after the file systems\nare all online before services start up.\n\n721\n00:36:36.778 --> 00:36:37.468\nSo just be aware.\n\n722\n00:36:37.468 --> 00:36:39.930\nYou might need to do a little testing\nif you're moving folders around.\n\n723\n00:36:39.930 --> 00:36:41.910\nBut if you're just creating\nyour own custom mount points,\n\n724\n00:36:41.910 --> 00:36:45.032\nthen it's usually not an issue and\nSU Lenox is all you have to worry about.\n\n725\n00:36:45.032 --> 00:36:47.672\n&gt;&gt; All right, well that SU Lenox\nshow is gonna be a lot of fun.\n\n726\n00:36:47.672 --> 00:36:48.440\n&gt;&gt; [LAUGH]\n&gt;&gt; We've got so\n\n727\n00:36:48.440 --> 00:36:52.840\nmany things that it touches upon, it's\nreally building up to be an interesting\n\n728\n00:36:52.840 --> 00:36:54.570\nset of episodes, I can't wait for those.\n\n729\n00:36:54.570 --> 00:36:57.610\nBut Don, we do appreciate you\nteaching us how to use our new\n\n730\n00:36:57.610 --> 00:37:00.630\nfile systems maybe add a new disk,\npartition it out.\n\n731\n00:37:00.630 --> 00:37:03.170\nAnd create a file system on them so\nyou can actually use the thing,\n\n732\n00:37:03.170 --> 00:37:05.040\nthat's always a helpful thing.\n\n733\n00:37:05.040 --> 00:37:09.250\nAnd then, again, making it persistent\nby adding that line to the fstab.\n\n734\n00:37:09.250 --> 00:37:12.194\nAnd then you can reboot your system and\n[LAUGH] not worry about,\n\n735\n00:37:12.194 --> 00:37:14.243\nhey, where'd all that work I just did go?\n\n736\n00:37:14.243 --> 00:37:15.740\n&gt;&gt; [LAUGH]\n&gt;&gt; You know exactly where it is.\n\n737\n00:37:15.740 --> 00:37:19.000\nAll right, Don, well thank you for joining\nus yet again, and we do thank you guys for\n\n738\n00:37:19.000 --> 00:37:19.500\nwatching.\n\n739\n00:37:19.500 --> 00:37:22.950\nBut looking at the clock, looks like we\nare sorely out of time for this episode.\n\n740\n00:37:22.950 --> 00:37:25.470\nSo signing off from ITPRO.TV.\n\n741\n00:37:25.470 --> 00:37:26.727\nI've been your host Daniel Lowrie.\n\n742\n00:37:26.727 --> 00:37:27.658\n&gt;&gt; And I'm Don Pezet.\n\n743\n00:37:27.658 --> 00:37:29.641\n&gt;&gt; See you next time.\n\n744\n00:37:29.641 --> 00:37:35.448\n[MUSIC]\n\n745\n00:37:35.448 --> 00:37:38.887\n&gt;&gt; Thank you for watching, ITPRO.TV.\n\n",
          "vimeoId": "193757405"
        },
        {
          "description": "In this episode, Daniel and Don introduce you to the very powerful Logical Volume Manager(LVM) for managing disks in Linux. They begin with the basics of using LVM. This includes creating physical volumes, volume groups, and logical groups. Then they demonstrate mounting the logical volume, adding more storage to the groups, making things permanent in fstab, and even deleting volumes.",
          "length": "1938",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-3-3-logical_volume_manager-112216.00_32_00_11.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-3-3-logical_volume_manager-112216.00_32_00_11.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-3-3-logical_volume_manager-112216.00_32_00_11.Still001-sm.jpg",
          "title": "Logical Volume Manager",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:01.852\nWelcome to ITProTV,\nI'm your host, Don Pezet.\n\n2\n00:00:01.852 --> 00:00:08.322\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:08.322 --> 00:00:12.267\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.267 --> 00:00:13.575\n&gt;&gt; All right, greetings, everyone.\n\n5\n00:00:13.575 --> 00:00:16.810\nAnd welcome to another\ngreat episode of ITProTV.\n\n6\n00:00:16.810 --> 00:00:17.850\nI'm your host, Daniel Lowrie.\n\n7\n00:00:17.850 --> 00:00:18.700\nIn today's episode,\n\n8\n00:00:18.700 --> 00:00:23.150\nwe are continuing on with more on our\nRed Hat Enterprise Linux version 7 series.\n\n9\n00:00:23.150 --> 00:00:26.950\nAnd coming back for a little more of that\ntorture is our good friend Mr. Don Pezet.\n\n10\n00:00:26.950 --> 00:00:28.820\nDon, welcome back, how's it going today?\n\n11\n00:00:28.820 --> 00:00:29.732\n&gt;&gt; It is going great, Daniel.\n\n12\n00:00:29.732 --> 00:00:31.000\nReady to dive right back in and\n\n13\n00:00:31.000 --> 00:00:34.580\nin this episode we're gonna be taking\na look at the logical volume manager.\n\n14\n00:00:34.580 --> 00:00:38.110\nWhich is a really neat utility that's\nbuilt into Red Hat Enterprise Linux and\n\n15\n00:00:38.110 --> 00:00:42.030\nit lets us do some pretty\ninteresting things with our storage.\n\n16\n00:00:42.030 --> 00:00:45.250\nYou might have noticed, if you've\nbeen watching our episodes in order,\n\n17\n00:00:45.250 --> 00:00:49.570\nthat in our last episode we saw\nhow to create a partition and\n\n18\n00:00:49.570 --> 00:00:52.140\nput a file system on it and\nmount that file system.\n\n19\n00:00:52.140 --> 00:00:55.450\nAnd the whole time I worked with it,\nit was pretty straightforward,\n\n20\n00:00:55.450 --> 00:00:56.850\nnothing too crazy there.\n\n21\n00:00:56.850 --> 00:01:00.360\nBut, when I ran the mount command\nto see everything that was mounted,\n\n22\n00:01:00.360 --> 00:01:03.010\nyou might have noticed how my\ndrive looked a lot different than\n\n23\n00:01:03.010 --> 00:01:05.010\nall of the other drives\nthat were in there.\n\n24\n00:01:05.010 --> 00:01:08.590\nAnd the reason is the way we\ndid it in that last episode,\n\n25\n00:01:08.590 --> 00:01:10.390\nthat was the old way of doing things.\n\n26\n00:01:10.390 --> 00:01:14.180\nThe traditional here's a single\npartition and I wanna format it and\n\n27\n00:01:14.180 --> 00:01:15.580\nI wanna mount it and that's it.\n\n28\n00:01:15.580 --> 00:01:17.390\nThat's the old way of doing things.\n\n29\n00:01:17.390 --> 00:01:20.710\nThe new way is to use\nthe logical volume manager.\n\n30\n00:01:20.710 --> 00:01:23.590\nAnd the LVM puts an entire layer of\n\n31\n00:01:25.230 --> 00:01:27.850\nintelligence on top of our storage and\nlets us do a lot\n\n32\n00:01:27.850 --> 00:01:31.550\nof really cool things beyond just\nformatting and mounting drives.\n\n33\n00:01:31.550 --> 00:01:33.360\nAnd we can certainly do that,\nyou can still format and\n\n34\n00:01:33.360 --> 00:01:35.520\nmount a drive in the LVM if you want.\n\n35\n00:01:35.520 --> 00:01:37.850\nBut where the real power comes in,\n\n36\n00:01:37.850 --> 00:01:41.050\nis it lets us do things like\ncombine drives together.\n\n37\n00:01:41.050 --> 00:01:43.560\nSo I can have storage span across a disk.\n\n38\n00:01:43.560 --> 00:01:46.430\nI can do software raid arrays,\nwhere I have raid zero, raid one,\n\n39\n00:01:46.430 --> 00:01:48.900\nwhatever kind of running\nacross disks like that.\n\n40\n00:01:48.900 --> 00:01:52.060\nYou can expand disks,\nthat have already been created.\n\n41\n00:01:52.060 --> 00:01:54.600\nMaybe you're running low on space so\nyou throw in some more hard drives.\n\n42\n00:01:54.600 --> 00:01:57.620\nYou can shrink a disk, if it's got\nempty space on it you wanna free up for\n\n43\n00:01:57.620 --> 00:01:58.610\nsomewhere else.\n\n44\n00:01:58.610 --> 00:02:00.900\nYou can do snapshots, as a part of LVM.\n\n45\n00:02:00.900 --> 00:02:03.220\nThere's all sorts of crazy\nthings you can do in it.\n\n46\n00:02:03.220 --> 00:02:07.130\nAnd it's so powerful,\nthat if you do the default install\n\n47\n00:02:07.130 --> 00:02:12.120\nof Red Hat Enterprise Linux, that's how\nyour disks are set up, is through the LVM.\n\n48\n00:02:12.120 --> 00:02:13.460\nSo let me just show you.\n\n49\n00:02:13.460 --> 00:02:16.430\nI'm gonna take my install here\nwhich is a default install,\n\n50\n00:02:16.430 --> 00:02:19.280\nI did the server with GUI install.\n\n51\n00:02:19.280 --> 00:02:22.110\nAnd if I just do a quick\nmount command on it,\n\n52\n00:02:22.110 --> 00:02:26.370\nI'll see all these different things\nthat are kinda mounted on my system.\n\n53\n00:02:26.370 --> 00:02:28.790\nAnd you know,\nlet me stretch this out a little bit,\n\n54\n00:02:28.790 --> 00:02:31.059\nsee if I can't get it to\nword wrap a little less.\n\n55\n00:02:31.059 --> 00:02:32.451\nWell, that was effective.\n\n56\n00:02:32.451 --> 00:02:37.813\n[LAUGH] So if we kinda lay it out here so\neach line represents one entry,\n\n57\n00:02:37.813 --> 00:02:41.710\nyou'll see a bunch of\nreally interesting stuff.\n\n58\n00:02:41.710 --> 00:02:46.480\nNow, all this c group up here,\nthat's all system, if you look,\n\n59\n00:02:46.480 --> 00:02:51.090\nsee it's block I/O, memory, CPU, PIDs,\nthat's all performance information.\n\n60\n00:02:51.090 --> 00:02:54.130\nThat's not actual storage\nthat we work with.\n\n61\n00:02:54.130 --> 00:02:56.728\nBut, as we get a little bit lower,\n\n62\n00:02:56.728 --> 00:03:01.565\nyou're gonna start noticing\nentries like this one right here,\n\n63\n00:03:01.565 --> 00:03:05.706\n/dev/mapper/rhel-root, what\nthe heck is that.\n\n64\n00:03:05.706 --> 00:03:10.900\nWell, /dev/mapper,\nmapper is actually a little,\n\n65\n00:03:10.900 --> 00:03:14.670\nkind of a background service,\nthat maps names to objects.\n\n66\n00:03:14.670 --> 00:03:17.700\nVery much like udev, right,\nudev gives a name to an object.\n\n67\n00:03:17.700 --> 00:03:20.687\nBut in this case they are completely\ncustomizable names and the names mean\n\n68\n00:03:20.687 --> 00:03:24.260\nabsolutely nothing cuz we make them up,\nand then they point to something real.\n\n69\n00:03:24.260 --> 00:03:27.583\nSo this rhel-root is\nactually just an alias,\n\n70\n00:03:27.583 --> 00:03:32.600\nan alias pointing to some kind\nof storage device somewhere.\n\n71\n00:03:32.600 --> 00:03:37.233\nNow, why do that, why not have it show\nup as the real device like we saw in\n\n72\n00:03:37.233 --> 00:03:43.870\nthe other episodes where I had /dev/sda1,\nwhich is hard drive one, partition one.\n\n73\n00:03:43.870 --> 00:03:47.600\nSda1, or sdb2 or whatever,\nwhy not go that route?\n\n74\n00:03:47.600 --> 00:03:51.260\nWell, with a logical volume manager,\nwe have a lot of power.\n\n75\n00:03:51.260 --> 00:03:53.958\nBut in order to get that power,\nwe've gotta break things apart.\n\n76\n00:03:53.958 --> 00:03:59.190\nAnd so the logical volume manager\ntreats physical discs as one thing and\n\n77\n00:03:59.190 --> 00:04:02.110\nthen it groups them into these groups,\nand there's a second thing.\n\n78\n00:04:02.110 --> 00:04:05.740\nAnd then you create the partitions on top\nof the groups, there's a third thing.\n\n79\n00:04:05.740 --> 00:04:11.020\nSo every disk that we use, every file\nsystem that we put inside of the LVM,\n\n80\n00:04:11.020 --> 00:04:12.860\nthere's actually three pieces to it.\n\n81\n00:04:12.860 --> 00:04:14.920\nAnd so any time we mounted it or\nused it or whatever,\n\n82\n00:04:14.920 --> 00:04:17.890\nwe'd have to reference all three\npieces to get to the right object.\n\n83\n00:04:17.890 --> 00:04:21.980\nSo instead, it attaches an alias\nto it to make it easier.\n\n84\n00:04:21.980 --> 00:04:24.070\nAnd so that's why that\noutput looks different, and\n\n85\n00:04:24.070 --> 00:04:28.680\nas you scroll through the mount, on a\ndefault install, you'll see more of that.\n\n86\n00:04:28.680 --> 00:04:32.380\n/dev/mapper/rhel-home, or\n\n87\n00:04:32.380 --> 00:04:35.050\nthe swap is in here somewhere, and\nthe swap would be the same way.\n\n88\n00:04:36.250 --> 00:04:38.536\nIf I look here though, boot isn't.\n\n89\n00:04:38.536 --> 00:04:44.404\nBoot's nice and normal,\n/dev/sda1 on /boot, that's normal.\n\n90\n00:04:44.404 --> 00:04:49.181\nAnd the reasoning there is, when you\nfirst power on the system and the BIOS or\n\n91\n00:04:49.181 --> 00:04:54.199\nUEFI does its thing and then it goes to\nboot the kernel, LVM hasn't loaded yet.\n\n92\n00:04:54.199 --> 00:04:58.276\nSo we can't really access all these LVM\ndrives when we haven't even loaded LVM\n\n93\n00:04:58.276 --> 00:04:59.260\nitself yet.\n\n94\n00:04:59.260 --> 00:05:02.390\nSo the boot has to be\nmounted the traditional way.\n\n95\n00:05:02.390 --> 00:05:03.930\nThe old way still works just fine.\n\n96\n00:05:03.930 --> 00:05:06.150\n&gt;&gt; No putting the cart before the horse,\nas it were.\n\n97\n00:05:06.150 --> 00:05:09.530\n&gt;&gt; Exactly, and then everything else,\nwe can use LVM for.\n\n98\n00:05:09.530 --> 00:05:12.690\nSame thing goes for encryption,\nyou can't encrypt /boot.\n\n99\n00:05:12.690 --> 00:05:14.720\nOtherwise, you're gonna have\na hard time booting up.\n\n100\n00:05:14.720 --> 00:05:16.540\nSo that part stays unencrypted.\n\n101\n00:05:16.540 --> 00:05:19.480\nAnd then it's able to get you into\nthe whole rest of it from there.\n\n102\n00:05:19.480 --> 00:05:20.781\n&gt;&gt; That's why that's not working.\n\n103\n00:05:20.781 --> 00:05:22.260\n[LAUGH]\n&gt;&gt; Yep, so\n\n104\n00:05:22.260 --> 00:05:27.440\nthat's one of the challenges of\nproviding a secure and stable system.\n\n105\n00:05:27.440 --> 00:05:31.010\nSo for what we're gonna do here,\nwe're gonna leverage that LVM.\n\n106\n00:05:31.010 --> 00:05:33.830\nI actually have a couple extra\nhard drives in my system.\n\n107\n00:05:33.830 --> 00:05:39.820\nIf I do a fdisk -l, and\nlet me shrink that a little bit.\n\n108\n00:05:39.820 --> 00:05:43.000\nI just wanna display the hard drives cuz\notherwise it shows me a bunch of stuff.\n\n109\n00:05:43.000 --> 00:05:45.650\nSo I've got four hard drives in my system.\n\n110\n00:05:45.650 --> 00:05:51.470\nIt's /dev/sda all the way through sdd,\nso four drives.\n\n111\n00:05:51.470 --> 00:05:55.720\nAnd sda, that's the one that was set\nup during the install of our HEL, so\n\n112\n00:05:55.720 --> 00:05:58.820\nthat's the one that's partitioned out,\nand LVM is already applied to it.\n\n113\n00:05:58.820 --> 00:06:03.780\nBut these other three disks, sdb,\nsdc, sdd, they're all empty.\n\n114\n00:06:03.780 --> 00:06:07.750\nThey're empty disks, they're 512\ngig disks that are showing up here\n\n115\n00:06:07.750 --> 00:06:11.370\nas 550 gigs cuz of the two different\nways that we measure drives.\n\n116\n00:06:11.370 --> 00:06:13.930\nThere's the way that the hard\ndrive vendors measure them, and\n\n117\n00:06:13.930 --> 00:06:15.620\nthen there's the way the operating\nsystem measures them, so\n\n118\n00:06:15.620 --> 00:06:18.910\nthey kind of end up as two\ndifferent numbers, but anyhow.\n\n119\n00:06:18.910 --> 00:06:21.990\nSo those are the three drives and\nright now I don't have anything on them.\n\n120\n00:06:21.990 --> 00:06:26.230\nSo I could use fdisk and\nthrow some partitions on there,\n\n121\n00:06:26.230 --> 00:06:30.280\nI could then use MKFS to drop a file\nsystem on them, and then I could use mount\n\n122\n00:06:30.280 --> 00:06:33.390\nto mount them up directly as\nindividual disks, three of them.\n\n123\n00:06:34.430 --> 00:06:37.520\nBut if I wanna span my data across them,\nor\n\n124\n00:06:37.520 --> 00:06:42.160\nif I'm running out of space on disk one,\nthere's not really much I can do with it.\n\n125\n00:06:42.160 --> 00:06:43.110\nI can't add more to it.\n\n126\n00:06:43.110 --> 00:06:47.680\nAnd in fact, even if I had a smaller\npartition on one of these, Red Hat doesn't\n\n127\n00:06:47.680 --> 00:06:54.270\nsupport expanding the partition using\nthe resize2fs files or services like that.\n\n128\n00:06:54.270 --> 00:06:57.000\nThey want us to use LVM to do it.\n\n129\n00:06:57.000 --> 00:06:59.610\nSo instead,\nwhat we're gonna do is three things.\n\n130\n00:06:59.610 --> 00:07:04.290\nFirst off, we're gonna enable the LVM for\nthese three physical disks.\n\n131\n00:07:04.290 --> 00:07:10.070\nAnd then secondly, we're gonna group them\ntogether into this pool, a storage pool.\n\n132\n00:07:10.070 --> 00:07:12.710\nAnd from there,\nwe can start to put our volumes,\n\n133\n00:07:12.710 --> 00:07:15.460\nour partitions, inside of the pool.\n\n134\n00:07:15.460 --> 00:07:17.660\nAnd that's how we enable the LVM,\n\n135\n00:07:17.660 --> 00:07:19.860\nthree different steps that\nwe're gonna go through.\n\n136\n00:07:19.860 --> 00:07:22.252\nSo we're gonna start\nwith the physical disks.\n\n137\n00:07:22.252 --> 00:07:27.052\nAnd there's three utilities we need to\nknow to be able to use this effectively.\n\n138\n00:07:27.052 --> 00:07:31.080\nPvcreate, is the [COUGH]\n\n139\n00:07:31.080 --> 00:07:36.190\none that I'm gonna use to add\nthe disks to the physical pool.\n\n140\n00:07:36.190 --> 00:07:42.090\nSo, pv is physical volume and so I'm\ncreating physical volumes for LVM to use.\n\n141\n00:07:42.090 --> 00:07:45.400\nThe physical volumes already exist I'm\nreally just telling LVM about them.\n\n142\n00:07:45.400 --> 00:07:51.859\nI've got pvdisplay, which will show me my\nphysical disks that are added into LVM.\n\n143\n00:07:51.859 --> 00:07:55.787\nAnd then I have pvs,\nwhich is the physical volume show.\n\n144\n00:07:55.787 --> 00:07:59.648\nIt's an abbreviated pvdisplay,\nit just shows me the nuts and bolts.\n\n145\n00:07:59.648 --> 00:08:01.963\nI typically use pvs instead of pvdisplay,\n\n146\n00:08:01.963 --> 00:08:05.310\nuz pvdisplay showed us a lot\nof information, all right.\n\n147\n00:08:05.310 --> 00:08:07.760\nAnd if I run it right now I'm gonna see,\nwell,\n\n148\n00:08:07.760 --> 00:08:11.170\nit's gonna complain about me\nnot doing sudo, there we go.\n\n149\n00:08:11.170 --> 00:08:15.529\nThat I do actually have a physical\nvolume already loaded in,\n\n150\n00:08:15.529 --> 00:08:19.383\n/dev/sda, but\nI'm not I didn't do that, right?\n\n151\n00:08:19.383 --> 00:08:23.360\nWell, that was the defaulting slides SDB,\nSDC, SPD they're all not there.\n\n152\n00:08:24.580 --> 00:08:28.070\nNow, be aware that when you run\npvs the first time or pvdisplay,\n\n153\n00:08:28.070 --> 00:08:29.330\nit might not be there.\n\n154\n00:08:29.330 --> 00:08:33.330\nLVM is not installed by default unless\nyou choose to do Lvm during the install,\n\n155\n00:08:33.330 --> 00:08:35.180\nwhich actually is the default.\n\n156\n00:08:35.180 --> 00:08:37.030\nIf you're just hit next\n[INAUDIBLE] you'll have it.\n\n157\n00:08:37.030 --> 00:08:41.154\nBut, if you do a minimal install and\nyou choose to do a regular drive mount,\n\n158\n00:08:41.154 --> 00:08:42.736\nthen LVM isn't installed.\n\n159\n00:08:42.736 --> 00:08:44.709\nSo you might need to install it.\n\n160\n00:08:44.709 --> 00:08:50.158\nWhen you do, it's actually lvm2,\nrun version two of the thing.\n\n161\n00:08:50.158 --> 00:08:53.445\nI don't know if version\none is still in there,\n\n162\n00:08:53.445 --> 00:08:57.810\nlet's find out if lvm version\none is still floating around.\n\n163\n00:08:57.810 --> 00:09:01.720\n[COUGH] Or if it's just version, I think\nit's just version two in the repositories.\n\n164\n00:09:01.720 --> 00:09:03.240\nIt is, yep, so\nonly version two is there, so\n\n165\n00:09:03.240 --> 00:09:05.040\nwe don't have to worry about it too much.\n\n166\n00:09:05.040 --> 00:09:09.050\nUsed to be that you had to worry\nif you did a yum install and\n\n167\n00:09:09.050 --> 00:09:11.290\nyou just did LVM like that.\n\n168\n00:09:11.290 --> 00:09:14.030\nIt would map some most accurate\npackage to be version one,\n\n169\n00:09:14.030 --> 00:09:16.330\nwe had to make sure you specify the two.\n\n170\n00:09:16.330 --> 00:09:20.640\nSo anyway, if you wanna have it, just\nyum install lvm2 and I would absolve it,\n\n171\n00:09:20.640 --> 00:09:22.580\nit's already in your system.\n\n172\n00:09:22.580 --> 00:09:23.560\nAll right.\n\n173\n00:09:23.560 --> 00:09:26.310\nSo then I need to add my\nphysical disk in the LVM.\n\n174\n00:09:26.310 --> 00:09:30.015\nSo I'm gonna jump in here and do that\nreally quick, I'm gonna use pvcreate,\n\n175\n00:09:30.015 --> 00:09:31.849\nI'm gonna make sure I sudo this time.\n\n176\n00:09:31.849 --> 00:09:37.218\nI'm gonna pvcreate, and\nI'm just gonna tell it the disks that\n\n177\n00:09:37.218 --> 00:09:42.298\nI'm adding and so I can add /dev,\n/tdb, /sdc and so on.\n\n178\n00:09:42.298 --> 00:09:47.214\nBut, you might have noticed when\nI ran the pvdisplay up here that\n\n179\n00:09:47.214 --> 00:09:50.620\nthe disk that was added in is /dev/sda2.\n\n180\n00:09:50.620 --> 00:09:53.030\nSee how it's already\ngot a partition on it.\n\n181\n00:09:53.030 --> 00:09:57.420\nI do need to have at least one partition\nalready on the disk and ideally just one.\n\n182\n00:09:57.420 --> 00:09:58.890\nNow, that's where it gets a little weird,\n\n183\n00:09:58.890 --> 00:10:01.950\nbecause we're gonna create\nlogical volumes later.\n\n184\n00:10:01.950 --> 00:10:04.460\nBut a logical volume and\na partition are two different things.\n\n185\n00:10:04.460 --> 00:10:07.450\nSo I just need to have\na partition on the disk.\n\n186\n00:10:07.450 --> 00:10:10.640\nAnd there's no sense in breaking it up\ninto more than one partition, because\n\n187\n00:10:10.640 --> 00:10:14.160\nin the LVM we can create logical volumes\nthat are divided however we want, right?\n\n188\n00:10:14.160 --> 00:10:18.478\nSo any physical disk that you're gonna\nmove into LVM, you just need to create one\n\n189\n00:10:18.478 --> 00:10:22.435\nbig FAT partition on it and then lvm\nwill take care of all the rest later on.\n\n190\n00:10:22.435 --> 00:10:24.733\nSo let me run through and\ndo that real quick,\n\n191\n00:10:24.733 --> 00:10:28.040\nwhich we can just use good\nold fdisk to deal with that.\n\n192\n00:10:28.040 --> 00:10:34.490\nNow I just ran sudo pvcreate/dev/sdb and\npressed Enter to get that one put in.\n\n193\n00:10:34.490 --> 00:10:39.675\nIf you do a pvdisplay, darn it,\n[LAUGH] pseudo pvdisplay.\n\n194\n00:10:39.675 --> 00:10:41.050\n&gt;&gt; Sudo pvdisplay.\n\n195\n00:10:41.050 --> 00:10:44.290\n&gt;&gt; And take a look at it, I'll see\nthat it's actually brought it in and\n\n196\n00:10:44.290 --> 00:10:47.460\nbrought it in without a partition on it,\nright?\n\n197\n00:10:47.460 --> 00:10:50.710\nSo it's got it in here and\nthe pv size is showing as 512 gig.\n\n198\n00:10:52.584 --> 00:10:57.420\nThat's gonna automatically take\nthe whole disk, which is fine for me.\n\n199\n00:10:57.420 --> 00:11:05.250\nIf I do a fdisk-l for\n/dev/sdb and take a look at it.\n\n200\n00:11:05.250 --> 00:11:09.910\nI can see that it did\nactually take that disk and\n\n201\n00:11:09.910 --> 00:11:12.700\nbring it in, but\nit didn't create a partition.\n\n202\n00:11:12.700 --> 00:11:16.490\nAnd that can cause some problems\na little bit later if we're not careful.\n\n203\n00:11:16.490 --> 00:11:18.802\nSo I usually do recommend going ahead and\n\n204\n00:11:18.802 --> 00:11:23.300\ncreating at least one partition on there\nahead of time and getting it in place.\n\n205\n00:11:23.300 --> 00:11:24.470\nIt's not that big of a deal to do it.\n\n206\n00:11:24.470 --> 00:11:28.710\nSo I'm gonna do a pvremove and\n\n207\n00:11:28.710 --> 00:11:32.960\nget rid of sdb, so\nsuccessful ride gets out.\n\n208\n00:11:32.960 --> 00:11:36.603\nAnd then I'm just gonna use fdisk on that.\n\n209\n00:11:36.603 --> 00:11:41.563\n&gt;&gt; I find it interesting that lvm does\nnot have an ability to create partitions\n\n210\n00:11:41.563 --> 00:11:44.713\nunder such a powerful\ndisk management system,\n\n211\n00:11:44.713 --> 00:11:49.093\nbut you can't do partitioning, so [LAUGH]\n&gt;&gt; I'm glad you bring that up, Daniel,\n\n212\n00:11:49.093 --> 00:11:51.521\nbecause likewise,\nI kind of thought that was [INAUDIBLE].\n\n213\n00:11:51.521 --> 00:11:54.290\nWhy even make that a requirement if\nwe're gonna create volumes anyway.\n\n214\n00:11:54.290 --> 00:11:58.460\nBut it is, and we're gonna do another\nepisode a little bit later on the SSM,\n\n215\n00:11:58.460 --> 00:12:02.240\nthe system storage manager, and it\nactually takes care of it all at once, so\n\n216\n00:12:02.240 --> 00:12:03.820\nit makes it super easy.\n\n217\n00:12:03.820 --> 00:12:07.980\nWe're doing straight clean lvm here which\nwould actually work even on non Red Hat\n\n218\n00:12:07.980 --> 00:12:09.952\nsystems as long as it had LVM support.\n\n219\n00:12:09.952 --> 00:12:12.633\nBut the SSM, that's kind of\nthe new way to handle things and\n\n220\n00:12:12.633 --> 00:12:14.140\nit makes it a lot more automatic.\n\n221\n00:12:14.140 --> 00:12:15.750\nSo stay tuned for that episode.\n\n222\n00:12:15.750 --> 00:12:19.854\n&gt;&gt; I'm guessing somebody went I find\nit interesting that LVM does not do\n\n223\n00:12:19.854 --> 00:12:20.568\nthat [LAUGH]\n&gt;&gt; And\n\n224\n00:12:20.568 --> 00:12:21.346\nthen they did something about it [LAUGH].\n\n225\n00:12:21.346 --> 00:12:23.874\n&gt;&gt; Yeah, they said I will fix that.\n\n226\n00:12:23.874 --> 00:12:27.157\n&gt;&gt; All right, so I'm going to just real\nquick throw a partition on here and\n\n227\n00:12:27.157 --> 00:12:29.786\nI'm really just doing the default\nas you pretty much just\n\n228\n00:12:29.786 --> 00:12:33.052\nhit enter on all of these to create\none big partition, and there it is.\n\n229\n00:12:33.052 --> 00:12:37.580\nI'm gonna do the same thing with sdc and\nso I'm just hitting n for new and\n\n230\n00:12:37.580 --> 00:12:42.950\nthen just enter a bunch of times, and w,\nand then I'd do the same thing for sdd.\n\n231\n00:12:44.600 --> 00:12:48.912\nAnd we create a new partition, enter for\nall the defaults, and then w for writing.\n\n232\n00:12:48.912 --> 00:12:55.760\nSo now I've got SDb1, SDc1, and\nSDd1, and I can bring those in.\n\n233\n00:12:55.760 --> 00:12:58.280\nAnd that's gonna make sure I don't\nhave any crazy issues down the road,\n\n234\n00:12:58.280 --> 00:13:00.790\nwhich sometimes you can have when you\ndon't create the partitions ahead of time.\n\n235\n00:13:00.790 --> 00:13:03.570\nSo, let me go ahead and do a pvcreate.\n\n236\n00:13:03.570 --> 00:13:07.999\nNow I'm gonna bring these in and\nI'm gonna add them into the LVM.\n\n237\n00:13:07.999 --> 00:13:11.548\nI can add all three of them at once,\nif I want.\n\n238\n00:13:11.548 --> 00:13:12.490\nWait, that one's already in.\n\n239\n00:13:12.490 --> 00:13:19.450\nSo I can add the sdb1,\nI can add sdc1, and I can add sdd1.\n\n240\n00:13:19.450 --> 00:13:23.398\nBut know that I don't have\nto add them all at once,\n\n241\n00:13:23.398 --> 00:13:28.100\nmaybe I've only got two disks,\nI just have dv1 and sdc1.\n\n242\n00:13:29.120 --> 00:13:31.890\nAnd down the road I'm\nrunning out of space so\n\n243\n00:13:31.890 --> 00:13:35.030\nI grab a third hard drive and I throw\nit in there to add a little more space.\n\n244\n00:13:35.030 --> 00:13:37.340\nYou can do that,\nyou can add them later on.\n\n245\n00:13:37.340 --> 00:13:40.900\nIf I add them all here at once I\ndon't have to use them all, but\n\n246\n00:13:40.900 --> 00:13:43.800\nthey're just added in and LVM sees\nthem and they're ready to be used.\n\n247\n00:13:43.800 --> 00:13:45.940\nSo I'm gonna go ahead and\nget those checked in.\n\n248\n00:13:45.940 --> 00:13:49.940\n&gt;&gt; Cuz that's basically what we're doing\nright now, is just saying here's LVM,\n\n249\n00:13:49.940 --> 00:13:53.320\nhere are the disks that\nyou have access to, and\n\n250\n00:13:53.320 --> 00:13:56.280\nthen when I want to use them you\nknow about them so I can use them.\n\n251\n00:13:56.280 --> 00:14:01.019\n&gt;&gt; That's exactly right, so they're kind\nof reserved, just kind of being held on to\n\n252\n00:14:01.019 --> 00:14:04.284\nand if I run PVS now or\nthe physical volume show, darn it.\n\n253\n00:14:04.284 --> 00:14:04.993\n&gt;&gt; If you sudo.\n\n254\n00:14:04.993 --> 00:14:06.108\n&gt;&gt; I know, eventually I'll remember.\n\n255\n00:14:06.108 --> 00:14:09.230\n&gt;&gt; [LAUGH]\n&gt;&gt; I can see right there that I've got\n\n256\n00:14:09.230 --> 00:14:12.717\nsda2 which is active and\nit's got that rhel name,\n\n257\n00:14:12.717 --> 00:14:16.190\nkind of stuck on it from\nthe default install.\n\n258\n00:14:16.190 --> 00:14:20.940\nAnd then I've got these three other disks\nwhich are all flagged for lvm2, but\n\n259\n00:14:20.940 --> 00:14:25.100\nthey're not active and they don't\nhave a volume group assigned them.\n\n260\n00:14:25.100 --> 00:14:27.640\nTo actually use the disk we actually\nneed to get a volume create,\n\n261\n00:14:27.640 --> 00:14:29.390\nthat's where the group them together.\n\n262\n00:14:29.390 --> 00:14:33.377\nSo I'm gonna put the volume group and\nI'm purposefully going to leave sdd out.\n\n263\n00:14:33.377 --> 00:14:36.500\nSo I'm just going to group the first\ntwo discs and put them together.\n\n264\n00:14:36.500 --> 00:14:40.760\nSo we had pvcreate for\ncreating a physical volume,\n\n265\n00:14:40.760 --> 00:14:45.120\nnow I'm gonna do vgcreate to\ncreate a volume group, right?\n\n266\n00:14:45.120 --> 00:14:50.260\nSo volume group create lets me gather\nthe discs together and get them available.\n\n267\n00:14:50.260 --> 00:14:52.680\nI need to give it a name and\nyou can name it whatever you want.\n\n268\n00:14:52.680 --> 00:14:56.160\nThis one that's rhel, that's what red hat\ngave us so you can recognize like hey,\n\n269\n00:14:56.160 --> 00:14:57.326\nthat's their default in.\n\n270\n00:14:57.326 --> 00:15:02.710\nFor you, you might wanna think about what\nyour storage is going to be, or whatever.\n\n271\n00:15:02.710 --> 00:15:05.716\nI usually worry about that on the volumes,\nnot on the volume group,\n\n272\n00:15:05.716 --> 00:15:08.217\nso I usually do something really creative,\nlike vg1.\n\n273\n00:15:08.217 --> 00:15:10.139\n&gt;&gt; [LAUGH]\n&gt;&gt; I don't get creative with\n\n274\n00:15:10.139 --> 00:15:10.639\nvolume grouping.\n\n275\n00:15:10.639 --> 00:15:13.037\n&gt;&gt; So descriptive [LAUGH]\n&gt;&gt; You can though because,\n\n276\n00:15:13.037 --> 00:15:16.405\nyou might have one volume group that's set\nup with ssd's and one volume group that's\n\n277\n00:15:16.405 --> 00:15:19.445\nset up with traditional magnetic discs or\nwhatever, and you can do the naming\n\n278\n00:15:19.445 --> 00:15:22.275\nconvention to differentiate so\nnow you can tell the difference.\n\n279\n00:15:22.275 --> 00:15:25.775\nThat's really useful with tiered storage,\nbut I'm just gonna call mine vg1, so\n\n280\n00:15:25.775 --> 00:15:26.325\nvolume group one.\n\n281\n00:15:27.365 --> 00:15:30.035\nAnd now I need to tell it the discs\nthat I'm moving in there.\n\n282\n00:15:30.035 --> 00:15:35.200\nSo I just point to them the same\nway that I did a minute ago and\n\n283\n00:15:35.200 --> 00:15:35.950\nwe have the mention.\n\n284\n00:15:35.950 --> 00:15:43.950\nNow I've got a volume group and if I\nrerun pvdisplay or pvs, when I do that,\n\n285\n00:15:43.950 --> 00:15:48.320\nnow I can see that sdv1 and sdc1 are both\nin a volume group, they're right there and\n\n286\n00:15:48.320 --> 00:15:51.960\nthey're now active in LVM, so\nthey're up in there, they're running.\n\n287\n00:15:53.410 --> 00:15:55.787\nThere's no volumes on them, no partitions.\n\n288\n00:15:55.787 --> 00:15:57.190\nAnd we don't call them partitions,\n\n289\n00:15:57.190 --> 00:15:59.781\nwe call them volumes because they\ncan do a lot more than a partition.\n\n290\n00:15:59.781 --> 00:16:02.830\nA partition can only exist on one disk.\n\n291\n00:16:02.830 --> 00:16:05.276\nBut a volume can span disks, right?\n\n292\n00:16:05.276 --> 00:16:06.810\nSo that's where things really change.\n\n293\n00:16:06.810 --> 00:16:09.420\nSo here I've got them added in.\n\n294\n00:16:09.420 --> 00:16:12.760\nSDD1 is available for LVM,\nbut not actually in use yet.\n\n295\n00:16:12.760 --> 00:16:14.458\nSo it's just kinda sitting there and\nI'm gonna leave it like that.\n\n296\n00:16:14.458 --> 00:16:18.270\n&gt;&gt; Don, can you have multiple\ndiscs in multiple volume groups?\n\n297\n00:16:19.370 --> 00:16:22.300\n&gt;&gt; No it's really got,\nthere is a way to do it.\n\n298\n00:16:22.300 --> 00:16:24.150\n&gt;&gt; Okay, but it's not standard practice.\n\n299\n00:16:24.150 --> 00:16:25.670\n&gt;&gt; Right, you have to do partitions.\n\n300\n00:16:25.670 --> 00:16:29.170\nSo if I took one physical disk and\nI put two partitions on it, I could have\n\n301\n00:16:29.170 --> 00:16:31.910\none partition in one volume group and\nanother partition in another volume group.\n\n302\n00:16:31.910 --> 00:16:34.060\nYou can get into performance\nissues though when you do that.\n\n303\n00:16:34.060 --> 00:16:37.964\nSo it's not normally recommended and\nstorage is cheap these days so unless you\n\n304\n00:16:37.964 --> 00:16:42.240\njust have a physically small server, where\nyou don't have room for other drives.\n\n305\n00:16:42.240 --> 00:16:43.670\n&gt;&gt; Yeah.\n&gt;&gt; Unless it's that kind of scenario you\n\n306\n00:16:43.670 --> 00:16:44.320\nreally wouldn't do it.\n\n307\n00:16:46.070 --> 00:16:47.380\nAll right, so what I need to do now,\n\n308\n00:16:47.380 --> 00:16:52.482\nI have the physical volumes and\nnow I've got the volume group created.\n\n309\n00:16:52.482 --> 00:16:57.426\nAnd I've got vgdisplay,\njust like I had pvdisplay, and\n\n310\n00:16:57.426 --> 00:17:01.040\nI've got VGS just like I had PVS, right?\n\n311\n00:17:01.040 --> 00:17:05.410\nSo this is my volume group showing,\nI can see my volume groups right there.\n\n312\n00:17:05.410 --> 00:17:09.968\nAnd notice on my new volume group it's\ngot two physical volumes attached, right,\n\n313\n00:17:09.968 --> 00:17:11.700\nSDB and SDC.\n\n314\n00:17:11.700 --> 00:17:15.690\nIt has no logical volumes on it,\nI haven't created any volumes yet,\n\n315\n00:17:15.690 --> 00:17:18.650\nand It's 1 TB in size.\n\n316\n00:17:18.650 --> 00:17:20.850\nTwo 500 gig disks combined together.\n\n317\n00:17:20.850 --> 00:17:22.425\nI have a TB of storage\navailable right here.\n\n318\n00:17:22.425 --> 00:17:25.530\nIt's a pool of storage.\n\n319\n00:17:25.530 --> 00:17:32.030\nHere this one is 63 gigs in size and\nit's only got 64 megs free and\n\n320\n00:17:32.030 --> 00:17:34.980\nthat's because there's been volumes put\non it that have eaten up all the space.\n\n321\n00:17:34.980 --> 00:17:36.210\nSo there's really not any room on there.\n\n322\n00:17:36.210 --> 00:17:38.980\nThis one has no volume so\nit's completely empty.\n\n323\n00:17:38.980 --> 00:17:41.530\nSo now I need to create the volumes.\n\n324\n00:17:41.530 --> 00:17:45.810\nSo I had pvcreate for\nphysical volumes, I had vgcreate for\n\n325\n00:17:45.810 --> 00:17:50.140\nthe volume groups, and now I've got\nlvcreate for the logical volumes.\n\n326\n00:17:50.140 --> 00:17:53.270\nSo I'm gonna do lvcreate and\nspecify what I want.\n\n327\n00:17:53.270 --> 00:17:55.160\nMaybe I want storage for my website.\n\n328\n00:17:55.160 --> 00:17:59.840\nSo I'm gonna be basically\ncreating a website.\n\n329\n00:17:59.840 --> 00:18:02.440\nI need storage need to put it\nsomewhere I want to put it on LVM so\n\n330\n00:18:02.440 --> 00:18:05.360\nI can grow it over time as I need right.\n\n331\n00:18:05.360 --> 00:18:07.351\nSo I'm gonna start by,\n\n332\n00:18:07.351 --> 00:18:13.035\nlet me just make a directory I'm\ngonna do a little mkdir/website.\n\n333\n00:18:13.035 --> 00:18:13.894\nThere we go.\n\n334\n00:18:13.894 --> 00:18:17.225\nAll right, so\nI've created a directory for my website.\n\n335\n00:18:17.225 --> 00:18:19.045\nAnd now I need to create\na logical volume so\n\n336\n00:18:19.045 --> 00:18:22.215\nthat I can mount it to that directory and\nput my website in there.\n\n337\n00:18:22.215 --> 00:18:29.035\nSo I'm gonna do lvcreate and I need\nto tell it what size I want it to be.\n\n338\n00:18:29.035 --> 00:18:31.590\nNow I've got a terabyte of space, but\n\n339\n00:18:31.590 --> 00:18:33.540\nmaybe I don't want to use the whole\nterabyte right now, right?\n\n340\n00:18:33.540 --> 00:18:34.680\nAnd I'm gonna start small.\n\n341\n00:18:34.680 --> 00:18:36.180\nI'm gonna go 250 gigs, right?\n\n342\n00:18:36.180 --> 00:18:38.120\nSo I can do 250 and then a G.\n\n343\n00:18:38.120 --> 00:18:42.840\nAnd you can specify the size in M for\nmegabyte, G for\n\n344\n00:18:42.840 --> 00:18:44.900\ngigabyte, T for terabyte, P for petabyte.\n\n345\n00:18:44.900 --> 00:18:47.090\nSo you can actually go\nreally large on this.\n\n346\n00:18:47.090 --> 00:18:49.550\nRemember that you do have to\nkeep in mind your file system.\n\n347\n00:18:49.550 --> 00:18:53.050\nThat some file systems can't go gigantic.\n\n348\n00:18:53.050 --> 00:18:55.580\nSo you gotta live within\nthe limits of your file system.\n\n349\n00:18:55.580 --> 00:18:57.671\nIt'll create a volume of\nwhatever size you want, but\n\n350\n00:18:57.671 --> 00:18:59.819\nthat'll limit the amount of\nfile systems you can use.\n\n351\n00:18:59.819 --> 00:19:01.589\nAll right, so I'm gonna do 250 gigs, and\n\n352\n00:19:01.589 --> 00:19:04.220\nthen I need to tell it what volume\ngroup it's gonna be a part of.\n\n353\n00:19:04.220 --> 00:19:08.350\nThis is gonna be in volume group 1 cuz I\nmight have more than one volume group.\n\n354\n00:19:08.350 --> 00:19:11.030\nAnd then it's always a good\nidea to give it a name.\n\n355\n00:19:11.030 --> 00:19:14.010\nIf you don't give it a name,\nit's gonna auto generate one.\n\n356\n00:19:14.010 --> 00:19:17.710\nSame thing with creating a volume group,\nit can auto give that a name too.\n\n357\n00:19:17.710 --> 00:19:21.346\nAnd so this might end up being lvol0001.\n\n358\n00:19:21.346 --> 00:19:25.410\nWell, I can't remember what the heck\nthat is, so I want to call mine website.\n\n359\n00:19:25.410 --> 00:19:27.820\nSo that when I look at it, I know yeah,\nthat's my website storage.\n\n360\n00:19:27.820 --> 00:19:29.430\nThat makes sense.\n\n361\n00:19:29.430 --> 00:19:32.110\nSo I don't get creative\non my volume group names.\n\n362\n00:19:32.110 --> 00:19:33.930\nBut on my logical volume names,\nabsolutely,\n\n363\n00:19:33.930 --> 00:19:36.310\ncuz I just need to remember\nwhat the heck these things are.\n\n364\n00:19:36.310 --> 00:19:39.380\nAll right, so when I run that,\nthat's gonna create my logical volume, and\n\n365\n00:19:39.380 --> 00:19:40.380\nit's 250 gigs.\n\n366\n00:19:40.380 --> 00:19:45.640\nIf I do pvs, that didn't change\nmy physical discs at all,\n\n367\n00:19:45.640 --> 00:19:48.070\nso that output stays pretty much the same.\n\n368\n00:19:48.070 --> 00:19:56.500\nAlthough, you'll notice, sdb1, has 512\ngigs of storage, and 262 gigs free.\n\n369\n00:19:56.500 --> 00:19:57.960\nI just ate up 250 gigs.\n\n370\n00:19:57.960 --> 00:20:02.040\nAnd I didn't tell it what disk to use,\nI told it to use vg1,\n\n371\n00:20:02.040 --> 00:20:06.210\nthe volume group and so it grabbed\nfrom the very first disk available.\n\n372\n00:20:06.210 --> 00:20:10.430\nSo when it grabs storage out of these\nthings, by default it's doing it serially.\n\n373\n00:20:10.430 --> 00:20:12.760\nStarting from the beginning and\nthen moving to the end.\n\n374\n00:20:12.760 --> 00:20:17.660\nIt will not use SDC until\nSDB is completely full.\n\n375\n00:20:17.660 --> 00:20:18.282\nThen it'll go to the next disk.\n\n376\n00:20:18.282 --> 00:20:19.872\nAnd when that one's full\nit'll go to the third disk.\n\n377\n00:20:19.872 --> 00:20:21.567\nSo it's all going in order.\n\n378\n00:20:21.567 --> 00:20:24.192\nIf do a VGS, for volume group shell,\n\n379\n00:20:24.192 --> 00:20:28.620\nI'll see the same thing that I\nlost some storage right there.\n\n380\n00:20:28.620 --> 00:20:30.780\nAnd that I am showing a logical volume.\n\n381\n00:20:30.780 --> 00:20:34.160\nAnd if I do lvs, or lvdisplay for\n\n382\n00:20:34.160 --> 00:20:39.670\nthe full layout, I can see that I now\nhave a logical volume called website.\n\n383\n00:20:39.670 --> 00:20:43.490\nIt's in volume group one and\nit's 250 gigs in size.\n\n384\n00:20:43.490 --> 00:20:45.680\nSo now I've got that created.\n\n385\n00:20:45.680 --> 00:20:48.260\nSo now that it's created, I'm done, right?\n\n386\n00:20:48.260 --> 00:20:49.460\nI can walk away?\n\n387\n00:20:49.460 --> 00:20:52.360\nWell, I still need to format the thing and\nI need to mount it, right?\n\n388\n00:20:52.360 --> 00:20:55.210\nAnd before I can do either I need\nto figure out what name it got.\n\n389\n00:20:55.210 --> 00:20:57.650\nAnd this is where that mapper\ncomes into play, right?\n\n390\n00:20:57.650 --> 00:20:59.930\nSo there was that whole mapper thing.\n\n391\n00:20:59.930 --> 00:21:08.390\nIf you do a ls/dev/mapper/ and\n\n392\n00:21:08.390 --> 00:21:11.120\nlook in there,\nyou'll see some of the different mappings.\n\n393\n00:21:11.120 --> 00:21:16.160\nAnd it's created a mapping for\nme called vg1-website, right?\n\n394\n00:21:16.160 --> 00:21:20.210\nVg1 is the volume group and\nwebsite is the logical volume.\n\n395\n00:21:20.210 --> 00:21:22.790\nSo as long as I remember those two things,\nI can get to it.\n\n396\n00:21:22.790 --> 00:21:25.490\nRemember rhel was the volume\ngroup that Red Hat created, and\n\n397\n00:21:25.490 --> 00:21:29.220\nthey've got their home,\ntheir root and their swap, right.\n\n398\n00:21:29.220 --> 00:21:32.150\nWhich I didn't see in the mount output but\nI see it right here so I know it exists.\n\n399\n00:21:32.150 --> 00:21:34.290\nSo you can see that's\none way to get to it.\n\n400\n00:21:34.290 --> 00:21:36.600\nThere's also another mapping\nthat sometimes created,\n\n401\n00:21:36.600 --> 00:21:38.710\nlet's see if it was created for me here.\n\n402\n00:21:38.710 --> 00:21:42.550\nInside of /dev a lot of times\nit'll make a folder for\n\n403\n00:21:42.550 --> 00:21:44.630\nVG1 or whatever your volume group name is.\n\n404\n00:21:44.630 --> 00:21:46.050\nAnd inside of it you'll\nsee your logical volumes.\n\n405\n00:21:46.050 --> 00:21:48.680\nI say a lot of times cuz I've seen\nwhere it doesn't happen sometimes.\n\n406\n00:21:48.680 --> 00:21:50.120\nAnd no, I've got it there too.\n\n407\n00:21:50.120 --> 00:21:53.280\nSo I can refer to this two different ways.\n\n408\n00:21:53.280 --> 00:21:58.819\nI can refer to it as\n/dev/mapper/vg1-website like that,\n\n409\n00:21:58.819 --> 00:22:05.412\nor I can refer to it as /dev/vg1/website\nwhich is a little bit shorter.\n\n410\n00:22:05.412 --> 00:22:07.930\nIf that alias is there, I like to use it.\n\n411\n00:22:07.930 --> 00:22:09.970\nIt's just a lot more simple.\n\n412\n00:22:09.970 --> 00:22:15.040\nBut the Mapper, you'll notice in the mount\noutput that's what Red Hat is using.\n\n413\n00:22:15.040 --> 00:22:17.100\nThe Mapper one is always there.\n\n414\n00:22:17.100 --> 00:22:18.990\nI've never seen it not get created.\n\n415\n00:22:18.990 --> 00:22:21.930\nBut this one,\nI've seen some systems where I don't know\n\n416\n00:22:21.930 --> 00:22:24.870\nif somebody messed with udev or whatever\nwhere they didn't get created, but\n\n417\n00:22:24.870 --> 00:22:27.400\nI have seen some systems where\nthese don't get created.\n\n418\n00:22:27.400 --> 00:22:28.890\nAnd it usually involves raid arrays.\n\n419\n00:22:28.890 --> 00:22:30.340\nI don't have a raid array\non this system here,\n\n420\n00:22:30.340 --> 00:22:32.510\nit's just straightforward so\nI'm not having any issues.\n\n421\n00:22:32.510 --> 00:22:34.960\nBut there's times when you have third\nparty storage drivers that can get in\n\n422\n00:22:34.960 --> 00:22:38.030\nthe way of these device names.\n\n423\n00:22:38.030 --> 00:22:42.690\nAll right, so now that I know what it's\ncalled I can format it and I can mount it.\n\n424\n00:22:42.690 --> 00:22:44.430\nAnd it's really no different\nthan formatting and\n\n425\n00:22:44.430 --> 00:22:45.710\nmounting any other disk, right?\n\n426\n00:22:45.710 --> 00:22:47.950\nSo we just go through\nour normal kinda system.\n\n427\n00:22:47.950 --> 00:22:51.320\nSo I'm gonna do a mkfs.ext4.\n\n428\n00:22:51.320 --> 00:22:56.554\nI'll shoot you ext4 on this one,\n/dev/vg1/website,\n\n429\n00:22:56.554 --> 00:23:02.140\nor /dev/mapper or\n/vg1-website, either one.\n\n430\n00:23:02.140 --> 00:23:05.170\nAnd that's gonna go and\ndrop a file system on it.\n\n431\n00:23:05.170 --> 00:23:08.540\nAnd now that I've got the file system,\nI can mount /dev/,\n\n432\n00:23:08.540 --> 00:23:12.880\nI'll do the mapper this time, vg1-website.\n\n433\n00:23:12.880 --> 00:23:16.010\nAnd i'm gonna mount that to /website.\n\n434\n00:23:16.010 --> 00:23:21.755\nAnd now that it's mounted, let's do,\nwell, we'll just do mount, fine.\n\n435\n00:23:21.755 --> 00:23:24.610\nNow that it's mounted\nI'll see it right here.\n\n436\n00:23:24.610 --> 00:23:28.140\nThere's the mount that I put in,\nand it's added right in there,\n\n437\n00:23:28.140 --> 00:23:29.830\nand so I can browse into that.\n\n438\n00:23:29.830 --> 00:23:34.600\nIf I do a df -h, I can see my website,\n\n439\n00:23:34.600 --> 00:23:39.760\nand it's 250 gigs in size, or 246 gigs,\nwith a little bit of overhead, right?\n\n440\n00:23:39.760 --> 00:23:42.520\nSo there it is, it's created as a mount,\nand I can now start to work with it.\n\n441\n00:23:42.520 --> 00:23:47.494\nThat was a lot of work, and I could really\nachieve the same thing just by using\n\n442\n00:23:47.494 --> 00:23:53.044\nthe old system, so why go through all this\nwork when the old system worked just fine?\n\n443\n00:23:53.044 --> 00:23:55.703\nWell what happens here is\nI can go a step further.\n\n444\n00:23:55.703 --> 00:23:58.444\nAnd now I can do things\nlike expanding this out.\n\n445\n00:23:58.444 --> 00:24:00.462\nI can add more storage, I can do things.\n\n446\n00:24:00.462 --> 00:24:02.715\nI can thin provision if I want.\n\n447\n00:24:02.715 --> 00:24:04.780\nI set this to be 250 gigs.\n\n448\n00:24:04.780 --> 00:24:07.339\nIt's now eating 256 gigs out of the pool.\n\n449\n00:24:07.339 --> 00:24:08.961\nI could have thin provisioned it.\n\n450\n00:24:08.961 --> 00:24:12.191\nAnd now it would only eat the amount\nof storage it was actually using.\n\n451\n00:24:12.191 --> 00:24:13.231\nSo you've got some power.\n\n452\n00:24:13.231 --> 00:24:17.212\nIf I would have added --thin to the\ncommand when I created a logical volume,\n\n453\n00:24:17.212 --> 00:24:19.800\nit would have thin provisioned.\n\n454\n00:24:19.800 --> 00:24:22.362\nAnd so you can manipulate stuff like that.\n\n455\n00:24:22.362 --> 00:24:27.158\nBut the resizing is really the thing that\nmost of us are concerned about because\n\n456\n00:24:27.158 --> 00:24:30.190\nRedHat only supports resizing through LVM.\n\n457\n00:24:30.190 --> 00:24:33.185\nIf you do it another way and you have\na problem on tech support phone call and\n\n458\n00:24:33.185 --> 00:24:35.327\nthey'll say,\nsorry you should have used LVM.\n\n459\n00:24:35.327 --> 00:24:37.227\n&gt;&gt; [LAUGH]\n&gt;&gt; They're not that bad.\n\n460\n00:24:37.227 --> 00:24:39.550\nThey actually do try to help you, but\nthere's no guarantees at that point.\n\n461\n00:24:39.550 --> 00:24:41.294\nLVM's the way they officially support.\n\n462\n00:24:41.294 --> 00:24:44.703\nSo lets take a look at stretching\none of these things out, right?\n\n463\n00:24:44.703 --> 00:24:48.380\nI've got plenty of room in my\nvolume group already, right?\n\n464\n00:24:48.380 --> 00:24:53.880\nSo when I do a vgs,\nI see that I've got 700 gigs free.\n\n465\n00:24:53.880 --> 00:24:56.760\nBut maybe I wanna add\na terabyte to the website.\n\n466\n00:24:56.760 --> 00:24:59.680\nI'm about to just blow it out and\ndo all sorts of crazy stuff on there.\n\n467\n00:24:59.680 --> 00:25:01.360\nWell, I don't have a terabyte of space.\n\n468\n00:25:01.360 --> 00:25:03.490\nSo I could thin provision and\ncheat the system.\n\n469\n00:25:03.490 --> 00:25:04.940\nOr I could add another drive.\n\n470\n00:25:04.940 --> 00:25:06.550\nRemember, I still have SDD laying around.\n\n471\n00:25:06.550 --> 00:25:07.540\nThat's another 500 gigabytes.\n\n472\n00:25:07.540 --> 00:25:09.240\nI can add that into this group.\n\n473\n00:25:09.240 --> 00:25:11.770\nAnd now we can have some real fun.\n\n474\n00:25:11.770 --> 00:25:16.180\nSo if I want to add that one in,\ndid I put a partition on SDD?\n\n475\n00:25:17.270 --> 00:25:18.224\nYes, yep, cuz I brought it in.\n\n476\n00:25:18.224 --> 00:25:19.094\n&gt;&gt; You partitioned off.\n\n477\n00:25:19.094 --> 00:25:20.580\n&gt;&gt; I had to remember that\nI partitioned it, right?\n\n478\n00:25:20.580 --> 00:25:21.440\nSo this was a brand new disk.\n\n479\n00:25:21.440 --> 00:25:24.740\nGonna throw a partition on it and\nthen use pv create to bring it in.\n\n480\n00:25:24.740 --> 00:25:25.700\nBut I already did that.\n\n481\n00:25:25.700 --> 00:25:31.280\nSo when I do PVS,\nI've got SDD1 already in.\n\n482\n00:25:31.280 --> 00:25:34.010\nSo I really just need to add\nthat to the volume group.\n\n483\n00:25:34.010 --> 00:25:36.470\nVolume group one has disc SDB1,\n\n484\n00:25:36.470 --> 00:25:40.860\nand SDC1, I just need to add\nin SDD1 to that volume group.\n\n485\n00:25:40.860 --> 00:25:45.580\nSo to add that in,\nI'm gonna use a command.\n\n486\n00:25:45.580 --> 00:25:50.585\nWhich is vgextend,\nI'm extending my volume group.\n\n487\n00:25:50.585 --> 00:25:55.440\nAnd so I'm gonna vgextend vg1 /dev/sdd1.\n\n488\n00:25:55.440 --> 00:25:58.850\nI'm adding SDD1 into that volume group.\n\n489\n00:25:58.850 --> 00:26:01.460\nAnd so when I do that,\nit says it's extended.\n\n490\n00:26:01.460 --> 00:26:04.770\nAnd I can run PVS and\n\n491\n00:26:04.770 --> 00:26:08.870\nnow when I take a look at SDD1\nit's a part of volume group 1.\n\n492\n00:26:08.870 --> 00:26:13.950\nAnd when I re-run vgs, I can see\nthe volume group is now 1.5 terabytes.\n\n493\n00:26:15.270 --> 00:26:19.460\nAnd I've got 1.26 terabytes available,\ncuz I only used 250 gigs.\n\n494\n00:26:19.460 --> 00:26:21.410\nSo I just grew the volume group.\n\n495\n00:26:21.410 --> 00:26:22.125\nNow what did that do for my website?\n\n496\n00:26:22.125 --> 00:26:23.701\n&gt;&gt; Absolutely nothing.\n\n497\n00:26:23.701 --> 00:26:25.810\n&gt;&gt; Absolutely nothing, that's right.\n\n498\n00:26:25.810 --> 00:26:28.920\nBecause I've basically increased\nthe size of the virtual hard drive,\n\n499\n00:26:28.920 --> 00:26:31.630\nbut not the partition,\nnot the volume on top of it.\n\n500\n00:26:31.630 --> 00:26:33.920\nSo now I need to stretch the volume and\n\n501\n00:26:33.920 --> 00:26:37.960\nmake that a little bit bigger, and\nhere's where you might be thinking okay\n\n502\n00:26:37.960 --> 00:26:42.290\nwell we're gonna use that resize\nETFS right, get that in there?\n\n503\n00:26:42.290 --> 00:26:47.510\nNo we've got lvesize, lvresize is for\nthe logical volume resize and\n\n504\n00:26:47.510 --> 00:26:52.490\nso I'm going to come in and\nsay lvresize, and\n\n505\n00:26:52.490 --> 00:26:55.030\nthen I'll specify how much I'm adding,\nright?\n\n506\n00:26:55.030 --> 00:26:58.155\nSo I'm gonna add 1 terabyte, right?\n\n507\n00:26:58.155 --> 00:27:00.637\nOr however much space it is that\nyou're adding, you'll punch in.\n\n508\n00:27:00.637 --> 00:27:03.954\nAnd then who it is you're adding it to.\n\n509\n00:27:03.954 --> 00:27:07.598\nSo I'm gonna add it to /dev/vg1/website.\n\n510\n00:27:07.598 --> 00:27:11.049\nAnd so it's gonna look into vg1 and make\nsure that it's got a terabyte available,\n\n511\n00:27:11.049 --> 00:27:12.210\nwhich I do.\n\n512\n00:27:12.210 --> 00:27:16.100\nAnd then it's going to expand\nout that logical volume, right?\n\n513\n00:27:16.100 --> 00:27:19.879\nAnd so there it goes,\nlogical volume successfully re-sized.\n\n514\n00:27:19.879 --> 00:27:21.125\nHappened very quickly.\n\n515\n00:27:21.125 --> 00:27:26.237\nNow, if I do a df-h,\nand take a look at it,\n\n516\n00:27:26.237 --> 00:27:29.370\nit's still 246 gigs.\n\n517\n00:27:29.370 --> 00:27:31.531\nWhat the heck happened?\n\n518\n00:27:31.531 --> 00:27:36.670\nWell if you do an lvs to look at\nyour logical volumes, it did grow.\n\n519\n00:27:36.670 --> 00:27:38.920\nThe logical volume did grow.\n\n520\n00:27:38.920 --> 00:27:42.470\nBut ext4 is not seeing that.\n\n521\n00:27:42.470 --> 00:27:44.740\nIt doesn't know that it happened, okay?\n\n522\n00:27:44.740 --> 00:27:48.350\nSo there's a couple of little extra\nsteps we have to do to get this working.\n\n523\n00:27:48.350 --> 00:27:54.150\nAnd one of those is, well,\nwe shouldn't have to do it.\n\n524\n00:27:54.150 --> 00:27:56.750\nIf for\nsome reason lvs didn't show the growth,\n\n525\n00:27:56.750 --> 00:27:58.080\nwe might have to do a partition probe.\n\n526\n00:27:58.080 --> 00:28:00.100\nMeaning you're going to run part probe.\n\n527\n00:28:00.100 --> 00:28:05.000\nIt usually shows up so we shouldn't have\nto do it, but the part probe utility just\n\n528\n00:28:05.000 --> 00:28:07.960\nlooks for partition changes and\nmakes the system aware of them.\n\n529\n00:28:07.960 --> 00:28:10.710\nIn my case, and really in your case,\nit should automatically detect them so\n\n530\n00:28:10.710 --> 00:28:11.980\nwe can kind of skip that step.\n\n531\n00:28:11.980 --> 00:28:13.680\nBut the other thing we need to do.\n\n532\n00:28:13.680 --> 00:28:18.720\nIs, it's time, we need to break\nout the resize2fs utility right.\n\n533\n00:28:18.720 --> 00:28:21.920\nSo that's where we go in and\nwe tell it to jump up.\n\n534\n00:28:21.920 --> 00:28:26.728\nBut we had to do the lvresize first,\notherwise the resize2fs\n\n535\n00:28:26.728 --> 00:28:29.596\nwouldn't overwrite-\n&gt;&gt; Right, it wouldn't see anything, right,\n\n536\n00:28:29.596 --> 00:28:30.214\nit wouldn't be there yet.\n\n537\n00:28:30.214 --> 00:28:32.286\n&gt;&gt; It just wouldn't be aware of it.\n\n538\n00:28:32.286 --> 00:28:36.607\nSo now that's done, we can jump in\nhere and we can say resize2fs, and\n\n539\n00:28:36.607 --> 00:28:39.315\nI know I'm running ext 4, but ext 2, 3,\n\n540\n00:28:39.315 --> 00:28:44.020\nand 4 are actually the same thing,\nthey just have extra features added on.\n\n541\n00:28:44.020 --> 00:28:45.791\nSo the utility is still 2fs.\n\n542\n00:28:45.791 --> 00:28:53.627\nSo I'm gonna resize 2fs/dev/vg1/website,\nand there it goes.\n\n543\n00:28:53.627 --> 00:28:55.158\nIt extends out.\n\n544\n00:28:55.158 --> 00:29:01.265\nAnd now my pvs, vgs, and\nlvs output, they don't change.\n\n545\n00:29:01.265 --> 00:29:06.788\nBut if I do a df-h and take a look,\nI can see my website is now 1.3\n\n546\n00:29:06.788 --> 00:29:12.930\nterabytes in size, I'm using next\nto none of it, and there we go.\n\n547\n00:29:12.930 --> 00:29:14.050\nI didn't have to unmount it.\n\n548\n00:29:14.050 --> 00:29:15.130\nI didn't have to take it offline.\n\n549\n00:29:15.130 --> 00:29:16.390\nDidn't have to reboot the server.\n\n550\n00:29:16.390 --> 00:29:17.900\nDid all that while I was online.\n\n551\n00:29:17.900 --> 00:29:19.180\nAssuming you have hot plug drives, right?\n\n552\n00:29:19.180 --> 00:29:22.260\nOtherwise when I added that third drive I\nprobably would've needed to power off for\n\n553\n00:29:22.260 --> 00:29:26.750\nthat and power back on, but\nonce it's done that's it, it's now there,\n\n554\n00:29:26.750 --> 00:29:28.090\nit's mounted it's available.\n\n555\n00:29:28.090 --> 00:29:31.320\nThere's a few other steps I need to do if\nI'm actually going to put my website here.\n\n556\n00:29:31.320 --> 00:29:34.370\nI need to approve the context\nthrough FC Linux,\n\n557\n00:29:34.370 --> 00:29:37.930\nI'd need to add it to my f stab table,\nso it's there when we reboot.\n\n558\n00:29:37.930 --> 00:29:40.300\nWe need to set it up for\nour backup plans and so on.\n\n559\n00:29:40.300 --> 00:29:42.560\nBut otherwise it's there and it's done.\n\n560\n00:29:43.560 --> 00:29:49.720\nNow If we wanna tear it all down again,\nwell, the commands are the same.\n\n561\n00:29:49.720 --> 00:29:53.910\nWe got lvremoved, vgremoved and\npvremoved that we can go through,\n\n562\n00:29:53.910 --> 00:29:56.420\nwe can delete each of the objects.\n\n563\n00:29:56.420 --> 00:29:59.870\nYou can't remove a physical volume\nif it still has volume groups on it.\n\n564\n00:29:59.870 --> 00:30:02.650\nAnd you can't remove a volume group if\nit still has logical volumes on it.\n\n565\n00:30:02.650 --> 00:30:05.690\nSo you gotta delete your logical volumes\nfirst, then you delete your volume groups,\n\n566\n00:30:05.690 --> 00:30:07.100\nthen you delete your physical volumes.\n\n567\n00:30:07.100 --> 00:30:09.730\nAnd you basically back it all out,\nand now it's gone.\n\n568\n00:30:09.730 --> 00:30:12.180\nSo it's pretty easy to remove\nthat stuff after the fact.\n\n569\n00:30:12.180 --> 00:30:17.239\nBut once this is created, the flexibility\nthat we get with it is really impressive.\n\n570\n00:30:17.239 --> 00:30:20.790\nAnd I held this demonstration\njust to creating a volume and\n\n571\n00:30:20.790 --> 00:30:24.920\nresizing it cuzthat's what\nmost people are interested in.\n\n572\n00:30:24.920 --> 00:30:29.748\nBut if you want the advanced things such\nas snapshotting, thin provisioning and\n\n573\n00:30:29.748 --> 00:30:32.881\nraid arrays, I'm holding off for\nthe SSM for that.\n\n574\n00:30:32.881 --> 00:30:34.999\nBecause you can do it right from here,\nit's just hard.\n\n575\n00:30:34.999 --> 00:30:38.024\nSo in real life you're not gonna do\nit that way you're gonna use the SSM.\n\n576\n00:30:38.024 --> 00:30:40.236\nSo be sure to jump over\nto our SSM episode, and\n\n577\n00:30:40.236 --> 00:30:42.460\nwe'll see how to do\nthe more complex things.\n\n578\n00:30:42.460 --> 00:30:44.680\nIt's actually really easy,\neven this is easy.\n\n579\n00:30:44.680 --> 00:30:47.410\nSo I pretty much use the SSM for\neverything these days.\n\n580\n00:30:47.410 --> 00:30:50.672\nBut knowing these LVM tools are really\nnice because they work on pretty much\n\n581\n00:30:50.672 --> 00:30:51.822\nevery out there.\n\n582\n00:30:51.822 --> 00:30:55.052\nAnd the SSM is still fairly new.\n\n583\n00:30:55.052 --> 00:30:59.220\nIt's still an evolving technology so\na lot of people haven't adapted yet.\n\n584\n00:30:59.220 --> 00:31:03.794\nSo this is the tried and\ntrue way of working with the LVM.\n\n585\n00:31:03.794 --> 00:31:07.900\n&gt;&gt; LVM is definitely awesome stuff,\nand even if you do jump to SSM and\n\n586\n00:31:07.900 --> 00:31:13.610\nmake that leap and say, that's gonna be my\nstorage management choice, that's fine.\n\n587\n00:31:13.610 --> 00:31:16.250\nBut you're probably still gonna\nrun the LVM from time to time, so\n\n588\n00:31:16.250 --> 00:31:20.060\nit's really good for you to have this\nfoundation knowledge of LVM, because\n\n589\n00:31:20.060 --> 00:31:23.890\nI can't tell you how many times someone's\nasked me, I'm having trouble with LVM.\n\n590\n00:31:23.890 --> 00:31:27.137\nAnd you're like, yeah, okay,\nyou didn't do the PV group correctly and\n\n591\n00:31:27.137 --> 00:31:28.119\nall that other stuff.\n\n592\n00:31:28.119 --> 00:31:29.691\n&gt;&gt; [LAUGH]\n&gt;&gt; It's a lot of fun,\n\n593\n00:31:29.691 --> 00:31:31.798\nyou gotta walk it through\neach one of the steps, but\n\n594\n00:31:31.798 --> 00:31:35.190\nthere's a lot of power in there and that's\nbe the soup de jour for quite some time.\n\n595\n00:31:35.190 --> 00:31:38.060\nSo again, you're still probably going to\nhave to deal with that from time to time.\n\n596\n00:31:38.060 --> 00:31:41.100\nThat being said, Don,\nlooking forward to that SSM show.\n\n597\n00:31:41.100 --> 00:31:44.270\nAnd we do thank you for\ndropping by for this here episode.\n\n598\n00:31:44.270 --> 00:31:47.690\nAnd getting us even a little more\nacclimated into storage management inside\n\n599\n00:31:47.690 --> 00:31:48.830\nof Red Hat Linux.\n\n600\n00:31:48.830 --> 00:31:52.380\nBut we have elapsed our time for\ntoday, at least in this episode.\n\n601\n00:31:52.380 --> 00:31:54.747\nWe'll have to make another one on SSM.\n\n602\n00:31:54.747 --> 00:31:55.612\nThat will be a lot of fun.\n\n603\n00:31:55.612 --> 00:31:56.360\nWell hopefully we will see you guys there.\n\n604\n00:31:56.360 --> 00:31:59.048\nAs for us, we're going to go ahead and\nsign off for IT Pro TV.\n\n605\n00:31:59.048 --> 00:32:00.411\nI've been your host Daniel Lowry.\n\n606\n00:32:00.411 --> 00:32:01.527\n&gt;&gt; And I'm Don Pezet.\n\n607\n00:32:01.527 --> 00:32:04.295\n&gt;&gt; See you next time.\n\n608\n00:32:04.295 --> 00:32:10.020\n[MUSIC]\n\n609\n00:32:10.020 --> 00:32:13.594\nThank you for watching ITPRO.TV.\n\n",
          "vimeoId": "193755297"
        },
        {
          "description": "In this episode, Daniel and Don show you how to utilize file system Snapshots in Red Hat Enterprise Linux. They start by installing Snapper, the snapshot utility and then creating the storage structure needed to facilitate the use of snapshots. You'll also see how to create a Snapper config file and ultimately, take snapshots, work with snapshots, revert changes using snapshots, and deleting snapshots.",
          "length": "2003",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-3-4-file_system_snapshots-112216-.00_36_28_04.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-3-4-file_system_snapshots-112216-.00_36_28_04.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-3-4-file_system_snapshots-112216-.00_36_28_04.Still001-sm.jpg",
          "title": "File System Snapshots",
          "transcript": "WEBVTT\n\n1\n00:00:00.280 --> 00:00:03.696\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:03.696 --> 00:00:05.792\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:05.792 --> 00:00:08.209\n[MUSIC]\n\n4\n00:00:08.209 --> 00:00:11.727\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.727 --> 00:00:13.786\n&gt;&gt; All right, greetings everyone and\n\n6\n00:00:13.786 --> 00:00:16.672\nwelcome to another exciting\nepisode of ITProTV.\n\n7\n00:00:16.672 --> 00:00:19.774\nI am your host Daniel Lowrie and\nin todays episode well,\n\n8\n00:00:19.774 --> 00:00:22.616\nit's more on our red hat\nenterprise Linux series.\n\n9\n00:00:22.616 --> 00:00:26.098\nAnd joining us back in the studio\nis the man you know and love,\n\n10\n00:00:26.098 --> 00:00:29.119\nit is John Jerset, no,\nDon Pezet, that's right.\n\n11\n00:00:29.119 --> 00:00:29.943\n&gt;&gt; What's his name again?\n\n12\n00:00:29.943 --> 00:00:31.664\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, Daniel,\n\n13\n00:00:31.664 --> 00:00:34.365\nlet's kick this one off,\nwe're going snapshot crazy today.\n\n14\n00:00:34.365 --> 00:00:35.191\n&gt;&gt; This is gonna be fun.\n\n15\n00:00:35.191 --> 00:00:37.210\n&gt;&gt; Yup,\nwe're gonna jump back into the storage.\n\n16\n00:00:37.210 --> 00:00:39.803\nWe've been tackling these last few\nepisodes working inside of storage\n\n17\n00:00:39.803 --> 00:00:40.500\ninside of Red Hat.\n\n18\n00:00:40.500 --> 00:00:45.333\nI wanna cover one kind of important\nconcept which is volume snapshots.\n\n19\n00:00:45.333 --> 00:00:48.760\nSnapshots are a technology that's\nreally evolved quite a bit.\n\n20\n00:00:48.760 --> 00:00:51.600\nAnd we typically use it in\nthe sense of virtual machines.\n\n21\n00:00:51.600 --> 00:00:54.209\nSo if you've got KVM or VirtualBox, or\n\n22\n00:00:54.209 --> 00:00:58.650\nwhatever virtualization\nplatform you're using, VMWare.\n\n23\n00:00:58.650 --> 00:01:00.459\nThey all support doing snapshots\nof an entire machine, and\n\n24\n00:01:00.459 --> 00:01:01.737\nthat's great if you're virtualizing.\n\n25\n00:01:01.737 --> 00:01:02.596\n&gt;&gt; Love it.\n\n26\n00:01:02.596 --> 00:01:06.880\n&gt;&gt; If you're not virtualizing though,\nsnapshots aren't very useful, are they?\n\n27\n00:01:06.880 --> 00:01:09.200\nYou can't do them, well, that's not true.\n\n28\n00:01:09.200 --> 00:01:12.987\nWe can actually do snapshots thanks to\nthe LVM, the Logical Volume Manager.\n\n29\n00:01:12.987 --> 00:01:17.880\nWith the LVM, we're creating disk\npartitions that aren't real partitions,\n\n30\n00:01:17.880 --> 00:01:20.450\nthey're logical volumes that\nare laying on top of volume groups.\n\n31\n00:01:20.450 --> 00:01:24.690\nThat are being spread across disks and all\nthis other magic, and they lend themselves\n\n32\n00:01:24.690 --> 00:01:28.960\nto having snapshots created just like any\nkind of virtual machine that's out there.\n\n33\n00:01:28.960 --> 00:01:31.518\nSo we're gonna take a look at\nhow to do snapshots on volumes,\n\n34\n00:01:31.518 --> 00:01:33.840\neven on a non virtual machine,\non physical hardware.\n\n35\n00:01:34.960 --> 00:01:39.560\nSo I'm gonna pick back up with this stuff\nwe had set up in the very last episode.\n\n36\n00:01:39.560 --> 00:01:41.840\nIf you watched our LVM episode,\n\n37\n00:01:41.840 --> 00:01:46.560\nwe created some logical volumes and\nso on, I've deleted those.\n\n38\n00:01:46.560 --> 00:01:47.740\nBut I still have a volume group handy.\n\n39\n00:01:47.740 --> 00:01:50.970\nSo let me show you what I've got on this\nsystem and we'll kind of go from there.\n\n40\n00:01:50.970 --> 00:01:55.320\nIt is important to remember that what I'm\nabout to show you works on top of LVM.\n\n41\n00:01:55.320 --> 00:01:59.580\nSo if you've got traditional disks\ndefined like just /dev /sda1 and\n\n42\n00:01:59.580 --> 00:02:04.132\nyou've dropped a file system on it,\nyou can't really do snapshots there.\n\n43\n00:02:04.132 --> 00:02:07.503\nSo sorry, you can use Rsync to do\nsnapshots that certainly works but\n\n44\n00:02:07.503 --> 00:02:10.870\nit's really a file level thing\nversus a disk level thing.\n\n45\n00:02:10.870 --> 00:02:14.050\nSo what I'm gonna show you is disk\nlevel and it's done as part of the LVM.\n\n46\n00:02:14.050 --> 00:02:18.410\nSo if I take a look I've got\nmy three physical disks here,\n\n47\n00:02:18.410 --> 00:02:23.490\nsdb1, sdc1 and sdd1,\nthey're 500 gig disks.\n\n48\n00:02:23.490 --> 00:02:27.210\nAnd they're all in a volume group one,\nand so\n\n49\n00:02:27.210 --> 00:02:29.560\nI still have volume group\none sitting right here.\n\n50\n00:02:29.560 --> 00:02:32.590\nNow I deleted the volumes that\nwe've created in the last episodes.\n\n51\n00:02:32.590 --> 00:02:36.210\nSo I just have volume group one and\nit's one and a half terabytes in size.\n\n52\n00:02:36.210 --> 00:02:38.980\nAnd what I want us to remember\nis that it is one and\n\n53\n00:02:38.980 --> 00:02:43.780\na half terabytes in size, and\nthat it contains three disks.\n\n54\n00:02:43.780 --> 00:02:46.200\nThe three disks are gonna be important for\nlater.\n\n55\n00:02:46.200 --> 00:02:50.750\nNow, we can obviously add more disks if\nwe need to, or take disks out, and so on.\n\n56\n00:02:50.750 --> 00:02:52.270\nBut by having multiple disks,\n\n57\n00:02:52.270 --> 00:02:56.560\nit allows me to really achieve sizes that\nI wouldn't normally be able to achieve.\n\n58\n00:02:56.560 --> 00:02:58.600\nWhen I do snapshots,\n\n59\n00:02:58.600 --> 00:03:03.040\nsnapshots actually rely on some of that\nflexibility being able to add more space.\n\n60\n00:03:03.040 --> 00:03:06.880\nCuz as we take snapshots,\nthey need space to sit in, right,\n\n61\n00:03:06.880 --> 00:03:08.430\nthey're gonna occupy room.\n\n62\n00:03:08.430 --> 00:03:11.250\nAnd what a snapshot really does is\nit says I'm gonna take your disk,\n\n63\n00:03:11.250 --> 00:03:15.360\nyou've been making changes, putting data\nin there, and I'm gonna freeze it in time.\n\n64\n00:03:15.360 --> 00:03:18.740\nAnd now, anymore changes that you make\nto that disk are actually going to get\n\n65\n00:03:18.740 --> 00:03:20.960\nwritten to a separate volume.\n\n66\n00:03:20.960 --> 00:03:23.000\nAnd then you can freeze that\none in time if you want, and\n\n67\n00:03:23.000 --> 00:03:25.460\nthen we'll make more to another one and\nit keeps adding volumes.\n\n68\n00:03:25.460 --> 00:03:31.090\nNow where that gets tricky is if\nI create a one terabyte volume,\n\n69\n00:03:31.090 --> 00:03:35.200\nand I take a snapshot of it and freeze it\nin time, that's one terabyte of space,\n\n70\n00:03:35.200 --> 00:03:36.820\nthat volume might be next to empty.\n\n71\n00:03:36.820 --> 00:03:39.200\nBut now I've frozen that\none terabyte of space and\n\n72\n00:03:39.200 --> 00:03:42.180\nI start writing more data to another\nvolume, it's extremely wasteful.\n\n73\n00:03:42.180 --> 00:03:47.860\nSo if I want to setup snapshots,\nI have to do thin provisioned volumes and\n\n74\n00:03:47.860 --> 00:03:49.810\nthat's why I had to delete\nthe volumes from the last episode,\n\n75\n00:03:49.810 --> 00:03:50.990\nbecause they weren't thin provisioned.\n\n76\n00:03:50.990 --> 00:03:52.890\nI just laid them out,\ntaking up their full space,\n\n77\n00:03:52.890 --> 00:03:55.580\nwhich is what we normally\ndo on production service.\n\n78\n00:03:55.580 --> 00:03:56.190\nBut in lab and\n\n79\n00:03:56.190 --> 00:04:00.580\ntest environments we're snapshots of the\nmost useful we typically thin provision.\n\n80\n00:04:00.580 --> 00:04:03.900\nSo thin provision says this volumes only\ngoing to take up the amount of space that\n\n81\n00:04:03.900 --> 00:04:05.870\nit's actually using.\n\n82\n00:04:05.870 --> 00:04:06.820\nAnd as I throw in more and\n\n83\n00:04:06.820 --> 00:04:10.720\nmore data in there it will grow up\nto its maximum size so it can vary.\n\n84\n00:04:10.720 --> 00:04:14.000\nAnd that way when I freeze it\nin time it's frozen with just\n\n85\n00:04:14.000 --> 00:04:17.380\nthe data that's actually being used,\nmuch for efficient and\n\n86\n00:04:17.380 --> 00:04:20.060\neach snapshot that I add onto\nit is gonna be tracking changes.\n\n87\n00:04:20.060 --> 00:04:21.960\nI can still run out of space,\nthat still happens.\n\n88\n00:04:21.960 --> 00:04:24.406\nWe got to plan for\nthe amount of space of our snapshots and\n\n89\n00:04:24.406 --> 00:04:27.596\nas a result you typically don't wanna\nkeep snapshots around very long.\n\n90\n00:04:27.596 --> 00:04:31.059\nWhen your done with the snapshot you need\nto remove it and get it out of there and\n\n91\n00:04:31.059 --> 00:04:33.500\nthen you can move on and do other things.\n\n92\n00:04:33.500 --> 00:04:37.850\nAnd everything I'm gonna show you\nhere is done straight through LVM and\n\n93\n00:04:37.850 --> 00:04:40.320\nanother utility called Snapper.\n\n94\n00:04:40.320 --> 00:04:43.940\nThat's a part of the Red Hat distribution,\nso we're gonna see how to use those.\n\n95\n00:04:43.940 --> 00:04:47.500\nBut we're also gonna revisit this in the\nSSM episode cuz you'll see I have to do\n\n96\n00:04:47.500 --> 00:04:49.590\nquite a few different commands\nto get this all working.\n\n97\n00:04:49.590 --> 00:04:53.770\nIn the SSM, they make it a lot easier and\nso we'll typically manage it in the SSM.\n\n98\n00:04:53.770 --> 00:04:56.939\nBut I wanna show you how to do it with\njust snapper because a lot of people\n\n99\n00:04:56.939 --> 00:05:00.487\nprefer that if they don't want to get\ninvolved with the SSM since it's a little\n\n100\n00:05:00.487 --> 00:05:01.375\nbit cutting edge.\n\n101\n00:05:01.375 --> 00:05:02.490\n&gt;&gt; And they make a fine lawnmower.\n\n102\n00:05:02.490 --> 00:05:06.530\n[LAUGH]\n&gt;&gt; [LAUGH] And multipurpose tools.\n\n103\n00:05:06.530 --> 00:05:08.260\nAll right, so let's get to work,\n\n104\n00:05:08.260 --> 00:05:10.970\nfirst thing, I need a volume\nthat is thin provisioned, right?\n\n105\n00:05:10.970 --> 00:05:14.270\nSo in the last episode I created a volume\nfor my website, I'm gonna do that again.\n\n106\n00:05:14.270 --> 00:05:18.028\nI'm gonna create another volume for\nmy website and so I'm gonna use lvcreate.\n\n107\n00:05:18.028 --> 00:05:23.730\nAnd this time,\nbefore I create that volume,\n\n108\n00:05:23.730 --> 00:05:27.500\nI need it to be thin provisioned and I\nneed it to be able to support my snapshot.\n\n109\n00:05:27.500 --> 00:05:32.000\nAnd so, what I actually need to do,\nis I need to create a thin provision pool.\n\n110\n00:05:32.000 --> 00:05:36.340\nThat I can then start to throw my\nvolumes into and other things.\n\n111\n00:05:36.340 --> 00:05:42.240\nSo, I'm gonna create a pool first and I'm\ngonna use --thin when I designate this.\n\n112\n00:05:42.240 --> 00:05:48.590\nAnd so I'm gonna create vg1/pool1,\nso I'm just creating a pool.\n\n113\n00:05:48.590 --> 00:05:51.270\nI'm just calling it pool one,\ncuz I'm gonna stick volumes in there,\n\n114\n00:05:51.270 --> 00:05:52.130\nI might have my website.\n\n115\n00:05:52.130 --> 00:05:54.250\nI might have some other\nthings in that same pool, so\n\n116\n00:05:54.250 --> 00:05:56.120\nI'm just leaving it with a generic name.\n\n117\n00:05:56.120 --> 00:05:59.900\nSo inside of volume group one I'm\ngoing to create a pool of storage\n\n118\n00:05:59.900 --> 00:06:01.590\nthat's gonna be thin provisioned.\n\n119\n00:06:01.590 --> 00:06:04.610\nAnd you can create more than one\npool in the same volume group,\n\n120\n00:06:04.610 --> 00:06:08.750\nsome might be thin provisioned, some might\nnot be this one I want thin provisioned.\n\n121\n00:06:08.750 --> 00:06:16.090\nI do need to give it a size, and I'm gonna\nmake my size, I'll just go with 500 gigs.\n\n122\n00:06:16.090 --> 00:06:18.240\nThere it goes, and\nnow I've got a pool made.\n\n123\n00:06:18.240 --> 00:06:23.060\nNow notice it does say it's a Logical\nvolume but I called it pool1.\n\n124\n00:06:23.060 --> 00:06:24.710\nI want a Logical volume called website.\n\n125\n00:06:24.710 --> 00:06:28.800\nWell, I'm gonna be creating\na website inside of the pool, so\n\n126\n00:06:28.800 --> 00:06:31.330\nit's like a Logical volume nested\ninside of a Logical volume.\n\n127\n00:06:31.330 --> 00:06:34.140\nThin provisioning is\na little weird like that.\n\n128\n00:06:34.140 --> 00:06:37.550\nSo now I've got this pool of 500\ngigs of storage, and I can always\n\n129\n00:06:37.550 --> 00:06:40.950\ngrow the size of the pool if I need to\nif 500 gigs turns out not to be enough.\n\n130\n00:06:40.950 --> 00:06:44.690\nBut this is a nice good\nspace set aside for me here.\n\n131\n00:06:44.690 --> 00:06:46.960\nI'm going to create my logical volume.\n\n132\n00:06:46.960 --> 00:06:51.280\nThis is going to be the one for\nthe website, I'm going to say, -- thin.\n\n133\n00:06:51.280 --> 00:06:57.273\nI'm going to be creating\nthis inside of vg1/pool1.\n\n134\n00:06:57.273 --> 00:07:01.200\nI'm going to give it a virtual size,\nright?\n\n135\n00:07:01.200 --> 00:07:04.320\nSo this is the size that I want\nthis particular disk to be and\n\n136\n00:07:04.320 --> 00:07:06.810\nI'm gonna set it at 50 gigs, right?\n\n137\n00:07:06.810 --> 00:07:10.300\nSo just a small portion of that pool,\nso I still have room in the pool for\n\n138\n00:07:10.300 --> 00:07:10.840\nother things.\n\n139\n00:07:10.840 --> 00:07:12.760\nNow, what am I gonna use the other room?\n\n140\n00:07:12.760 --> 00:07:15.310\nWhat are the other 450 gigs used for?\n\n141\n00:07:15.310 --> 00:07:17.040\nTwo things, one, other volumes,\n\n142\n00:07:17.040 --> 00:07:20.270\nif I choose to make other ones or\ntwo, my snapshots.\n\n143\n00:07:20.270 --> 00:07:22.960\nI'm leaving 450 gigs of room for\nsnapshots on this so\n\n144\n00:07:22.960 --> 00:07:25.390\nI can keep taking snapshot\nafter snapshot after snapshot.\n\n145\n00:07:25.390 --> 00:07:28.810\nIf I fill this up 100%, 50 gigs, and\n\n146\n00:07:28.810 --> 00:07:34.514\nI change 100% of the disk five times over,\nI'll have space for it.\n\n147\n00:07:34.514 --> 00:07:35.896\nActually, it's more than\nfive times isn't it?\n\n148\n00:07:35.896 --> 00:07:38.973\nI'd have eight, nine, ten, ten times over?\n\n149\n00:07:38.973 --> 00:07:40.010\nI don't know, whatever.\n\n150\n00:07:40.010 --> 00:07:40.725\n&gt;&gt; A lot.\n\n151\n00:07:40.725 --> 00:07:42.126\n[LAUGH] [CROSSTALK]\n&gt;&gt; So yeah, I can change the full\n\n152\n00:07:42.126 --> 00:07:45.900\ncontent several times over or nine\ntimes is actually what it works out to.\n\n153\n00:07:45.900 --> 00:07:48.370\nSo, if I do that, I got room for\nit, and that's fine.\n\n154\n00:07:48.370 --> 00:07:50.990\nNow, if I stop here, it's gonna give\nit an auto name, which is annoying.\n\n155\n00:07:50.990 --> 00:07:55.872\nSo I'm gonna add a little bit more,\nI'm gonna say --name, website.\n\n156\n00:07:55.872 --> 00:08:00.597\nSo I'm creating a 50 gig\nvolume called website.\n\n157\n00:08:00.597 --> 00:08:05.368\nThat's in that thin provisioned pool and\ngetting it in place.\n\n158\n00:08:05.368 --> 00:08:07.130\nNow whoops, [LAUGH].\n\n159\n00:08:07.130 --> 00:08:09.370\nAssuming that I Sudo it, then I'll do it.\n\n160\n00:08:09.370 --> 00:08:09.970\nThere we go.\n\n161\n00:08:09.970 --> 00:08:10.720\n&gt;&gt; You forgot Sudo?\n\n162\n00:08:10.720 --> 00:08:11.560\nThat's unlike you Don.\n\n163\n00:08:11.560 --> 00:08:15.110\n&gt;&gt; I know.\nIt's just an inevitable thing that I do.\n\n164\n00:08:15.110 --> 00:08:17.730\n&gt;&gt; [LAUGH]\n&gt;&gt; So what does that look like?\n\n165\n00:08:17.730 --> 00:08:20.180\nWhat does it look like\nif I go an pull this up?\n\n166\n00:08:20.180 --> 00:08:24.020\nIf I go and do a Sudo PVS my physical\nvolumes, they didn't change at all,\n\n167\n00:08:24.020 --> 00:08:27.110\nthat's all kind of standard,\nnothing crazy there.\n\n168\n00:08:27.110 --> 00:08:32.260\nAlthough I do see in volume group one\nstdb1 just lost 500 gigs of storage.\n\n169\n00:08:32.260 --> 00:08:35.844\nWhen I created the pool, I told it\nit was a thin provision pool, but\n\n170\n00:08:35.844 --> 00:08:38.279\nit grabbed the whole 500 gigs didn't it.\n\n171\n00:08:38.279 --> 00:08:39.835\nSo not much thin about that.\n\n172\n00:08:39.835 --> 00:08:41.042\nIt's gone.\n\n173\n00:08:41.042 --> 00:08:44.565\nIf I take a look at the volume groups, and\n\n174\n00:08:44.565 --> 00:08:50.070\nI look there I can see volume group one,\n1.5TB down to 1TB.\n\n175\n00:08:50.070 --> 00:08:52.956\nSo again it lost the 500 gigs for that.\n\n176\n00:08:52.956 --> 00:08:57.740\nBut they when I pull up the LVS,\nmy logical volumes, and\n\n177\n00:08:57.740 --> 00:09:00.800\nI take a look here's where\nthings get a little bit strange.\n\n178\n00:09:00.800 --> 00:09:04.350\nI've got that 500 gig pool, right?\n\n179\n00:09:04.350 --> 00:09:09.100\nAnd I've got the 50 gig\nwebsite inside of pool1.\n\n180\n00:09:09.100 --> 00:09:10.980\nSee how it's got that note,\nright there, pool1.\n\n181\n00:09:10.980 --> 00:09:13.160\nAll these others are empty\nas far as a pool.\n\n182\n00:09:13.160 --> 00:09:14.440\nThis one has a pool.\n\n183\n00:09:14.440 --> 00:09:17.090\nI'm using 50 gigs of that 500 gig pool.\n\n184\n00:09:17.090 --> 00:09:20.900\nBut if I look over here at my data,\nI'm at 0%, right?\n\n185\n00:09:20.900 --> 00:09:27.730\nSo even though the 500 gig pool was taken\nout, technically, I'm not using any of it.\n\n186\n00:09:27.730 --> 00:09:32.630\nAnd this website is now\nthe actual thin-provisioned part.\n\n187\n00:09:32.630 --> 00:09:37.110\nSo when I create the pool, I use --thin\nthere to say that this is gonna have\n\n188\n00:09:37.110 --> 00:09:39.070\nthin provisioned stuff inside of it.\n\n189\n00:09:39.070 --> 00:09:40.339\nBut it doesn't thin provision itself.\n\n190\n00:09:41.410 --> 00:09:44.660\nThis part, the website,\nthat's what's getting thin provisioned and\n\n191\n00:09:44.660 --> 00:09:46.690\nnow it's available and ready to rock.\n\n192\n00:09:46.690 --> 00:09:51.530\nSo it's a volume chucked inside of\nthat pool, as I throw data in it,\n\n193\n00:09:51.530 --> 00:09:54.140\nits data is gonna start to grow and so\n\n194\n00:09:54.140 --> 00:09:57.930\nwill the pool's data grow along with\nit as I put information in there.\n\n195\n00:09:57.930 --> 00:10:01.079\nAll right, so\nnow that I've got that created,\n\n196\n00:10:01.079 --> 00:10:04.249\nI just need to make use of it somewhere,\nright.\n\n197\n00:10:04.249 --> 00:10:07.719\nSo if I want to make a /website folder,\n\n198\n00:10:07.719 --> 00:10:12.040\nwhich I already have, and\nthen I can mount it up.\n\n199\n00:10:12.040 --> 00:10:17.280\nSo let me mount /dev/ vg1/website.\n\n200\n00:10:17.280 --> 00:10:19.800\nNotice how my name didn't change, right?\n\n201\n00:10:19.800 --> 00:10:23.190\nIt's still a website,\nis the name of the logical volume.\n\n202\n00:10:23.190 --> 00:10:24.880\nAnd it's still in volume group one.\n\n203\n00:10:24.880 --> 00:10:27.650\nI don't have to reference\nthe pool when I do this.\n\n204\n00:10:27.650 --> 00:10:31.130\nIt's still just called the same\nname that it was before.\n\n205\n00:10:32.330 --> 00:10:36.090\nAnd I can throw that in and\nI kinda forgot to put a file system on it.\n\n206\n00:10:36.090 --> 00:10:37.090\nThat's gonna make a difference.\n\n207\n00:10:37.090 --> 00:10:38.270\nI need to format it.\n\n208\n00:10:38.270 --> 00:10:41.007\nThat's gonna make this whole\nprocess work a little bit better.\n\n209\n00:10:41.007 --> 00:10:45.741\nSo I'm gonna throw an ext4 on it,\nwill work just fine for what I want.\n\n210\n00:10:45.741 --> 00:10:49.900\nSo there we go.\n\n211\n00:10:49.900 --> 00:10:51.280\nSo it's gonna write it.\n\n212\n00:10:51.280 --> 00:10:54.350\nAnd you might of noticed there\nthat it was a little bit slower to\n\n213\n00:10:54.350 --> 00:10:55.390\ndrop that format on there.\n\n214\n00:10:55.390 --> 00:10:57.130\nAnd it's because of the thin provisioning,\n\n215\n00:10:57.130 --> 00:10:59.120\nit has a harder time figuring\nwhere the end of the disc is.\n\n216\n00:10:59.120 --> 00:11:03.410\nBut it sorts it out pretty quickly and\nthen I'm able to mount it right.\n\n217\n00:11:03.410 --> 00:11:08.220\nIf I really wanted to be fully\nsyntactically correct I'd go and\n\n218\n00:11:08.220 --> 00:11:12.550\ndo a little semanage and\nchange my context, right?\n\n219\n00:11:12.550 --> 00:11:18.390\nSo if I wanna add,\nthis is httpd_sys_content_t.\n\n220\n00:11:18.390 --> 00:11:22.150\nSo I'm changing that context over for\n/website so\n\n221\n00:11:22.150 --> 00:11:25.160\nthat it'll know that that's\nwhere my website's gonna be.\n\n222\n00:11:25.160 --> 00:11:26.954\nAnd I probably need to do,\n\n223\n00:11:26.954 --> 00:11:31.614\nresetting the default context on\nthis one as far as being a website.\n\n224\n00:11:31.614 --> 00:11:34.772\nSo I'll do a restore.\n\n225\n00:11:34.772 --> 00:11:39.500\n&gt;&gt; And this is all administrative, for SC\nLinux to be, allow this to occur, correct?\n\n226\n00:11:39.500 --> 00:11:40.070\n&gt;&gt; Right, yep.\n\n227\n00:11:40.070 --> 00:11:42.870\nAnd we'll cover all this in\nthe SC Linux show, I'm just trying\n\n228\n00:11:42.870 --> 00:11:45.820\nto be fully accurate, here's how I'd do\nit if I was putting the website on it, so\n\n229\n00:11:45.820 --> 00:11:47.560\nwe can see how this kind of reacts.\n\n230\n00:11:47.560 --> 00:11:49.910\nBut at that point,\nmy permissions, my contacts,\n\n231\n00:11:49.910 --> 00:11:52.820\nthat stuff it's all kinda set\ncorrectly now I'm ready to use this.\n\n232\n00:11:52.820 --> 00:11:54.990\nI start throwing in my webpages and\nI get to work right.\n\n233\n00:11:54.990 --> 00:11:59.460\nSo, let me actually throw\nsome content in there, and\n\n234\n00:11:59.460 --> 00:12:02.990\nI'm gonna do an index.html file right.\n\n235\n00:12:02.990 --> 00:12:07.680\nAnd we're about to see the extent of my\n&gt;&gt; [LAUGH] HTML capabilities.\n\n236\n00:12:07.680 --> 00:12:09.420\n&gt;&gt; Yeah, it's amazing, let me tell you.\n\n237\n00:12:09.420 --> 00:12:14.952\nSo this is gonna be\nDon's Super Awesome Website.\n\n238\n00:12:17.494 --> 00:12:22.209\nAnd I'll say something\nlike this website is\n\n239\n00:12:22.209 --> 00:12:27.188\nsuper awesome,\nyou are fortunate to be here.\n\n240\n00:12:27.188 --> 00:12:31.095\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so there's my website and\n\n241\n00:12:31.095 --> 00:12:33.260\nthe extent of my html knowledge.\n\n242\n00:12:33.260 --> 00:12:35.470\nActually I can go a little bit more.\n\n243\n00:12:35.470 --> 00:12:37.860\nI could link an image but\nwe're not gonna do that, all right.\n\n244\n00:12:37.860 --> 00:12:41.180\nSo there we go, so I got a website,\neverything is awesome, right?\n\n245\n00:12:41.180 --> 00:12:45.280\nWell, as I work with the website, maybe\nwe have a full blown web application and\n\n246\n00:12:45.280 --> 00:12:47.170\ndata that's in there and stuff.\n\n247\n00:12:47.170 --> 00:12:49.770\nAnd I got a new change I wanna roll out.\n\n248\n00:12:49.770 --> 00:12:52.150\nBut I'm not certain how\nwell it's gonna work.\n\n249\n00:12:52.150 --> 00:12:54.700\nAnd if things go south,\nthings get screwed up,\n\n250\n00:12:54.700 --> 00:12:57.440\nI need to be able to roll back that change\nand get back to the way things were.\n\n251\n00:12:57.440 --> 00:12:58.780\nI need to do it quickly.\n\n252\n00:12:58.780 --> 00:13:00.510\nWell, they're just files\nhere on a website.\n\n253\n00:13:00.510 --> 00:13:04.910\nSo I could just rsync it to make it\nbackup, and rsync it back again,\n\n254\n00:13:04.910 --> 00:13:05.950\nor whatever.\n\n255\n00:13:05.950 --> 00:13:07.530\nBut because I'm thin provision and\n\n256\n00:13:07.530 --> 00:13:12.050\nbecause I'm using the LVM I can\nactually just take a snapshot and\n\n257\n00:13:12.050 --> 00:13:17.080\nthen I can make my change and if things\nwork out great, wonderful I'm done.\n\n258\n00:13:17.080 --> 00:13:20.980\nIf things don't work out so great,\nI can roll back the snapshot and\n\n259\n00:13:20.980 --> 00:13:25.260\nall the changes that I made get undone and\nthey get done all here instantly.\n\n260\n00:13:25.260 --> 00:13:27.170\nIf I use rsync and\nI sent it to a remote location,\n\n261\n00:13:27.170 --> 00:13:28.560\nnow I've got network bandwidth involved.\n\n262\n00:13:28.560 --> 00:13:30.400\nWith the snapshot it's right\nhere in the file system.\n\n263\n00:13:30.400 --> 00:13:34.530\nIt's almost instantaneous the way that\nit rolls back and it's pretty quick.\n\n264\n00:13:34.530 --> 00:13:37.070\n&gt;&gt; You get a speed increase,\nyou get a performance increase and\n\n265\n00:13:37.070 --> 00:13:40.050\nyou don't have to worry so much about\nhow much bandwidth you're soaking up.\n\n266\n00:13:40.050 --> 00:13:42.900\n&gt;&gt; Right, yup, and that's really kind\nof the advantage of the snapshots.\n\n267\n00:13:42.900 --> 00:13:45.340\nYou guys have more than likely\nalready used them in virtual machines,\n\n268\n00:13:45.340 --> 00:13:46.880\nsame thing here in the file system.\n\n269\n00:13:46.880 --> 00:13:47.550\nAll right.\n\n270\n00:13:47.550 --> 00:13:50.580\nNow the utility we're going to use for\nthis is a utility called Snapper.\n\n271\n00:13:50.580 --> 00:13:52.310\nAnd Snapper, as far as I'm aware,\n\n272\n00:13:52.310 --> 00:13:54.500\nis not installed by default\nin any of the packages.\n\n273\n00:13:54.500 --> 00:13:57.810\nLet me see if I've got it here and\nyeah, I don't have it.\n\n274\n00:13:57.810 --> 00:14:00.150\nSo, you probably don't have\nSnapper on your system already but\n\n275\n00:14:00.150 --> 00:14:04.650\nwe just need to install it real quick\nwith a little yum install snapper and\n\n276\n00:14:04.650 --> 00:14:06.710\nI want to reach out there and find it.\n\n277\n00:14:06.710 --> 00:14:08.290\nThere it is.\n\n278\n00:14:08.290 --> 00:14:10.030\nAnd I'm gonna get that one installed.\n\n279\n00:14:10.030 --> 00:14:13.250\nAll right, so once I've got Snapper,\nthat's the snapshot utility\n\n280\n00:14:13.250 --> 00:14:17.160\nthat integrates with the LVM and allows us\nto take snapshots of all these systems.\n\n281\n00:14:17.160 --> 00:14:19.670\nSo I've got it installed,\nnow I just need to use it.\n\n282\n00:14:19.670 --> 00:14:23.412\nNow the snapshots here work a little\ndifferent than the way virtual machines\n\n283\n00:14:23.412 --> 00:14:24.297\ntypically work.\n\n284\n00:14:24.297 --> 00:14:27.896\nAnd the reason is it doesn't want to\ncapture the entire disk that takes up\n\n285\n00:14:27.896 --> 00:14:31.259\na lot of space, not so much on the first\nsnapshot but on the second and\n\n286\n00:14:31.259 --> 00:14:35.094\nthe third and the fourth snapshot they\nreally start to grow and grow and grow.\n\n287\n00:14:35.094 --> 00:14:40.970\nSo with snapper what you do is you\ntake a pre and a post snapshot.\n\n288\n00:14:40.970 --> 00:14:43.850\nThe pre snapshot you do\nbefore you make your changes.\n\n289\n00:14:43.850 --> 00:14:47.250\nThen you make all your changes and\nyou take a post snapshot.\n\n290\n00:14:47.250 --> 00:14:50.810\nAnd so now it can collect all the changes\nthat happened in between the pre and\n\n291\n00:14:50.810 --> 00:14:51.670\nthe post.\n\n292\n00:14:51.670 --> 00:14:54.920\nAnd it knows what's been modified and\nwhat to roll back.\n\n293\n00:14:54.920 --> 00:14:57.750\nAnd so if you do a roll back,\nit just takes away anything that was in\n\n294\n00:14:57.750 --> 00:15:00.710\nbetween the pre and the post so\npretty simple process.\n\n295\n00:15:00.710 --> 00:15:02.120\nBut it does mean that\nwhen we take a snapshot,\n\n296\n00:15:02.120 --> 00:15:04.240\nyou're actually taking two snapshots.\n\n297\n00:15:04.240 --> 00:15:08.275\nOne before and one after, and if you\nforget one, it kinda doesn't work so well.\n\n298\n00:15:08.275 --> 00:15:09.188\n&gt;&gt; [LAUGH]\n&gt;&gt; So don't forget.\n\n299\n00:15:09.188 --> 00:15:11.320\n[LAUGH]\n&gt;&gt; Don't do that.\n\n300\n00:15:11.320 --> 00:15:12.130\n&gt;&gt; That's right.\n\n301\n00:15:12.130 --> 00:15:16.340\nSo I'm gonna jump in here, and I need to\ntake a pre, because my website is great.\n\n302\n00:15:16.340 --> 00:15:18.640\nI've got a super awesome website,\nit's working wonderful.\n\n303\n00:15:18.640 --> 00:15:21.920\nI need to take a snapshot of it\nas it is right now working great.\n\n304\n00:15:21.920 --> 00:15:27.850\nSo I'm just gonna come in and say,\nsnapper -c, cuz I'm creating a snapshot,\n\n305\n00:15:27.850 --> 00:15:32.970\nand the snapshot is gonna be\nof the website volume, right?\n\n306\n00:15:32.970 --> 00:15:34.920\nSo I'll go ahead and specify website.\n\n307\n00:15:34.920 --> 00:15:40.550\nAnd then I'm gonna say, create -t pre.\n\n308\n00:15:40.550 --> 00:15:44.260\nI'm creating a pre snapshot,\nso this is before the change.\n\n309\n00:15:44.260 --> 00:15:47.560\nAnd so when I run that it's gonna go and\ngrab the backup.\n\n310\n00:15:47.560 --> 00:15:50.940\nNow I just got a warning that says\nI have an unknown configuration.\n\n311\n00:15:50.940 --> 00:15:53.293\nThe first time you run snapper.\n\n312\n00:15:53.293 --> 00:15:55.708\nIt's gotta have a configuration for\nthe volume.\n\n313\n00:15:55.708 --> 00:16:00.504\nSo right here where I said -c website It's\nexpecting me to have a configuration for\n\n314\n00:16:00.504 --> 00:16:03.690\nthat volume and that it be called website.\n\n315\n00:16:03.690 --> 00:16:05.700\nI didn't create the configuration,\nso I need to create one.\n\n316\n00:16:05.700 --> 00:16:08.200\nNow there's two ways to do it.\n\n317\n00:16:08.200 --> 00:16:11.750\nYou can actually go and hit the text\nfiles and write the configs, and stuff.\n\n318\n00:16:11.750 --> 00:16:14.913\nI've never bothered to learn it, cuz\nthey're actually kind of hard to write and\n\n319\n00:16:14.913 --> 00:16:17.995\nthere's an easier way to do it which is\njust to use a command line utility here.\n\n320\n00:16:17.995 --> 00:16:21.965\nSo we can say snapper -c website, so\n\n321\n00:16:21.965 --> 00:16:27.230\nI'm creating a configuration\ncalled website.\n\n322\n00:16:27.230 --> 00:16:29.390\nAnd I'm gonna say create-config.\n\n323\n00:16:29.390 --> 00:16:32.990\nIn other words, if the config doesn't\nexist, I need to create one right now.\n\n324\n00:16:32.990 --> 00:16:35.310\nAnd I need to tell it\nthe file system I'm using.\n\n325\n00:16:35.310 --> 00:16:37.060\nAnd this is the hardest part\nbecause the way you have\n\n326\n00:16:37.060 --> 00:16:38.200\nto write it is a little weird.\n\n327\n00:16:38.200 --> 00:16:41.960\nMine's ext4, so\nwhat I need to do is I need to say lvm,\n\n328\n00:16:41.960 --> 00:16:47.740\nso that it knows I'm using the LVM,\nand then in parentheses, ext4.\n\n329\n00:16:47.740 --> 00:16:49.910\nAnd if I was doing XFS or whatever,\n\n330\n00:16:49.910 --> 00:16:52.350\nI'd put that here, my head's kind\nof covering the end of that.\n\n331\n00:16:52.350 --> 00:16:56.060\nBut if I was doing XFS I would say,\nlvm in parentheses,\n\n332\n00:16:56.060 --> 00:16:58.500\nxfs in closed parentheses like that.\n\n333\n00:16:58.500 --> 00:17:00.630\nBut that's how I designate\nthat file system.\n\n334\n00:17:00.630 --> 00:17:03.560\nAnd then I need to tell it the path,\nwhere it is.\n\n335\n00:17:03.560 --> 00:17:08.890\nAnd mine is in /website and\nnotice that's my mount path and\n\n336\n00:17:08.890 --> 00:17:12.530\nnot my device mapper,\nlike /dev, /vg1 or whatever.\n\n337\n00:17:12.530 --> 00:17:16.630\nAnd that's because it can look at mount to\nfigure out where this stuff comes from,\n\n338\n00:17:16.630 --> 00:17:17.760\nit figures all that out.\n\n339\n00:17:17.760 --> 00:17:19.650\nSo it's really concerned\nabout the mount point.\n\n340\n00:17:19.650 --> 00:17:22.580\nBut that's gonna create\nthat configuration for me.\n\n341\n00:17:22.580 --> 00:17:26.350\nAnd once the configuration is created,\nnow I'll be able to take my snapshots.\n\n342\n00:17:26.350 --> 00:17:30.190\nI don't have to do it every time, you just\ndo it once, and from now on I can just\n\n343\n00:17:30.190 --> 00:17:34.060\njump right in and run that command I\nran a minute ago which says, look for\n\n344\n00:17:34.060 --> 00:17:38.800\nthe configuration called website,\nwhich tells us the file system and\n\n345\n00:17:38.800 --> 00:17:41.300\nwhere to find the data,\nand then take a snapshot.\n\n346\n00:17:41.300 --> 00:17:44.720\nNow, I do wanna throw a quick\nlittle word in here real quick.\n\n347\n00:17:44.720 --> 00:17:46.180\nI'm using ext4, which is fine.\n\n348\n00:17:46.180 --> 00:17:48.340\nAnd I'm using LVM, which is fine.\n\n349\n00:17:48.340 --> 00:17:50.750\nSo snapper works great with this.\n\n350\n00:17:50.750 --> 00:17:55.450\nIf you have Btrfs, the B-tree file system.\n\n351\n00:17:55.450 --> 00:17:58.880\nIf you have Btrfs, it has it's own\nsnapshot mechanism built into it.\n\n352\n00:17:58.880 --> 00:18:02.150\nYou can actually use snapper with or\nwithout the LVM, it's its own thing so\n\n353\n00:18:02.150 --> 00:18:05.200\nthat works out really well,\ntoo, in XFS also.\n\n354\n00:18:05.200 --> 00:18:09.340\nBut, when you go beyond those guys, none\nof the other file systems are supported.\n\n355\n00:18:09.340 --> 00:18:14.900\nSo if you've got a logical volume\nyou've created that FAT32 or\n\n356\n00:18:14.900 --> 00:18:17.520\nUFS, or something like that,\nthis doesn't work.\n\n357\n00:18:17.520 --> 00:18:24.130\nSo it's really just the primary ext2, 3,\n4 and Btrfs, so they're the main ones.\n\n358\n00:18:25.580 --> 00:18:29.000\nSo I'm gonna run this and I didn't get\nan error this time, which is nice.\n\n359\n00:18:29.000 --> 00:18:32.560\nSo that means that it\ncreated the pre-snapshot.\n\n360\n00:18:32.560 --> 00:18:34.580\nAnd now I go and make my changes.\n\n361\n00:18:34.580 --> 00:18:38.470\nI make all the changes that I need and\nthen I come and take the post snapshot.\n\n362\n00:18:38.470 --> 00:18:42.630\nSo let's say that somebody defaces my\nsite, that would never happen but let's-\n\n363\n00:18:42.630 --> 00:18:43.830\n&gt;&gt; Who would do such a thing?\n\n364\n00:18:43.830 --> 00:18:44.830\n&gt;&gt; I know, it'd be crazy.\n\n365\n00:18:44.830 --> 00:18:46.210\nSo, we're gonna change it,\n\n366\n00:18:46.210 --> 00:18:49.340\nthis is gonna become Don's-\n&gt;&gt; Super lame website.\n\n367\n00:18:49.340 --> 00:18:52.310\n&gt;&gt; Super awful website, less typing.\n\n368\n00:18:52.310 --> 00:18:54.430\nThis website is super aweful.\n\n369\n00:18:55.430 --> 00:18:58.810\nYou are unfortunate to be here!\n\n370\n00:18:58.810 --> 00:19:00.140\nSo, there we go.\n\n371\n00:19:00.140 --> 00:19:03.596\nSo my website has been defaced,\nor changed or whatever,\n\n372\n00:19:03.596 --> 00:19:06.338\nwe've made some kind\nof modification to it.\n\n373\n00:19:06.338 --> 00:19:10.980\nAnd so from here,\nnow I just need to take the post snapshot.\n\n374\n00:19:10.980 --> 00:19:13.445\nAnd if I go and\npull up the command from before,\n\n375\n00:19:13.445 --> 00:19:17.422\nwhere we did snapper -c website,\npulled the website config.\n\n376\n00:19:17.422 --> 00:19:24.501\nCreate -t pre,\nthis time I'm gonna say create -t post,\n\n377\n00:19:24.501 --> 00:19:29.281\nbut, I need to tell it what the pre was.\n\n378\n00:19:29.281 --> 00:19:34.841\nAnd when you create a snapshot,\nevery snapshot is assigned a number and\n\n379\n00:19:34.841 --> 00:19:40.124\nthat number is important because\nhere I need to say --pre-num and\n\n380\n00:19:40.124 --> 00:19:43.380\nwhat number that previous snapshot was.\n\n381\n00:19:43.380 --> 00:19:47.090\nWell, since it was my very first one I\nalready know that it was number 1, so\n\n382\n00:19:47.090 --> 00:19:48.500\nI can just say --pre-num1.\n\n383\n00:19:48.500 --> 00:19:50.290\nNow when I run that,\n\n384\n00:19:50.290 --> 00:19:54.490\nit's gonna run it now, why not just\nuse whatever the last pre was, and\n\n385\n00:19:54.490 --> 00:19:59.220\nthe reason is I might be collecting\nchanges over a wide number of snapshots.\n\n386\n00:19:59.220 --> 00:20:03.580\nSo this might be post snapshot 12, and I\nwanna go all the way back to pre-number 1,\n\n387\n00:20:03.580 --> 00:20:06.480\nso to gather all the changes in between,\nyou can do that.\n\n388\n00:20:06.480 --> 00:20:08.680\nSo that's why we have to\nspecify the pre-number.\n\n389\n00:20:08.680 --> 00:20:10.200\nWhat if you don't know the pre number?\n\n390\n00:20:10.200 --> 00:20:13.390\nWhat if I've been running snapshots for\nfive years and\n\n391\n00:20:13.390 --> 00:20:14.960\nwe've been deleting the old\nones which is nice.\n\n392\n00:20:14.960 --> 00:20:19.390\nBut I now have no idea what number\nmy very last pre was assigned.\n\n393\n00:20:19.390 --> 00:20:24.950\nSo if you don't know, then what you need\nto do is pull up the list of the snapshots\n\n394\n00:20:24.950 --> 00:20:28.920\nthat were in there, which ones were\nput in place or used, or whatever.\n\n395\n00:20:28.920 --> 00:20:30.550\nAnd there's two ways to do it.\n\n396\n00:20:30.550 --> 00:20:31.772\nWhen you create the snapshot,\n\n397\n00:20:31.772 --> 00:20:33.939\nthere's actually a little\nflagging out which is -p.\n\n398\n00:20:33.939 --> 00:20:38.160\nAnd when you do a -p after you run it,\nit'll actually display the snapshot\n\n399\n00:20:38.160 --> 00:20:42.180\nnumbers so that you can see them and\nyou get it right there on the screen.\n\n400\n00:20:43.250 --> 00:20:46.038\nIf you don't do that,\nwhich I didn't, I didn't do the -p,\n\n401\n00:20:46.038 --> 00:20:47.800\nthat would have saved some time.\n\n402\n00:20:47.800 --> 00:20:51.145\nYou can actually use the snapper\nutility to list the snapshots and\n\n403\n00:20:51.145 --> 00:20:52.790\nit'll display them on screen.\n\n404\n00:20:52.790 --> 00:20:58.320\nSo if we do a, lets see,\nsudo snapper -c website.\n\n405\n00:20:58.320 --> 00:21:01.330\nWe have to specify that config every time,\ncuz you might be working with\n\n406\n00:21:01.330 --> 00:21:03.100\nten different volumes, so\nit's gotta know which one you want.\n\n407\n00:21:03.100 --> 00:21:08.630\nAnd then we just say list, and\nit's gonna list all the snapshots.\n\n408\n00:21:08.630 --> 00:21:14.240\nAnd so I can see pre number 1 was done\nthis date and time, and who did it.\n\n409\n00:21:14.240 --> 00:21:19.012\nAnd then I can see post number\n2 is tied to pre number 1,\n\n410\n00:21:19.012 --> 00:21:20.190\nall at this date and time.\n\n411\n00:21:20.190 --> 00:21:22.580\nAnd then you've got this single,\nthere's always a single.\n\n412\n00:21:22.580 --> 00:21:28.590\nThat's kind of like the one that was made,\nit's just kind of like an ongoing thing.\n\n413\n00:21:28.590 --> 00:21:30.680\nIt's not what's considered current,\nthe very beginning here.\n\n414\n00:21:30.680 --> 00:21:33.450\nThis zero, that's considered current,\nmy real data.\n\n415\n00:21:33.450 --> 00:21:37.270\nBut this snapshot is kind of like\nin holding of what's going on.\n\n416\n00:21:37.270 --> 00:21:39.380\nAnd see how it's got\nthat timeline cleanup?\n\n417\n00:21:39.380 --> 00:21:42.370\nIt's kind of like a running\nsnapshot that's always going on.\n\n418\n00:21:44.080 --> 00:21:45.630\nSo now that I've got that,\n\n419\n00:21:45.630 --> 00:21:48.520\nif I didn't know what my pre number was\nI could look here and I could find it.\n\n420\n00:21:48.520 --> 00:21:50.860\nAnd so now I just look for\nthe last one that was done, and\n\n421\n00:21:50.860 --> 00:21:52.878\nthat's what I would provide.\n\n422\n00:21:52.878 --> 00:21:54.802\nAdding a -p is probably\nan easier way to go, but\n\n423\n00:21:54.802 --> 00:21:57.880\nif you weren't the one that ran the pre\nand you're the one running the post,\n\n424\n00:21:57.880 --> 00:22:00.647\nthen you need to use the list command\njust to be able to figure it out.\n\n425\n00:22:00.647 --> 00:22:03.180\n&gt;&gt; All right Don, so\nI'm a little confused here.\n\n426\n00:22:03.180 --> 00:22:05.407\nIt's the first time I've\nseen this technology myself.\n\n427\n00:22:05.407 --> 00:22:09.607\nSo if I wanted to create multiple\nsnapshots that I could go back and say,\n\n428\n00:22:09.607 --> 00:22:14.227\npre number four, or pre number two, or\nwhatever, do I create them as pre's or\n\n429\n00:22:14.227 --> 00:22:18.790\ndo I create them as posts, and that makes\nit a pre because I'm now after that?\n\n430\n00:22:18.790 --> 00:22:22.580\n&gt;&gt; Yep, so the answer's both,\nwhich really helps with your question.\n\n431\n00:22:22.580 --> 00:22:23.950\nIt really depends on\nwhat you're trying to do.\n\n432\n00:22:23.950 --> 00:22:28.310\nSo if you think you're gonna need\nto roll back multiple snapshots,\n\n433\n00:22:28.310 --> 00:22:31.620\nthen you may only have one pre and\nmany posts.\n\n434\n00:22:31.620 --> 00:22:33.710\nI'll be honest with you,\nmost people don't do that.\n\n435\n00:22:33.710 --> 00:22:39.310\nMost people will have a separate pre and\na separate post for every single snapshot.\n\n436\n00:22:39.310 --> 00:22:41.420\nAnd so you're always creating\na new pre and posts,\n\n437\n00:22:41.420 --> 00:22:45.800\nbut if you have to roll back that way,\nthen you may have to roll back four or\n\n438\n00:22:45.800 --> 00:22:48.650\nfive different sets of snapshots to\nget all the way to the beginning.\n\n439\n00:22:48.650 --> 00:22:52.820\nYou might have just one pre and then you\nkeep taking post, after post, after post.\n\n440\n00:22:52.820 --> 00:22:55.640\nNow, eventually you run out of storage,\nit gets very inefficient, and\n\n441\n00:22:55.640 --> 00:22:59.480\nyou can't delete out that storage\nbecause it's all one big block.\n\n442\n00:22:59.480 --> 00:23:01.190\nAnd that's why people do separate one's,\n\n443\n00:23:01.190 --> 00:23:04.430\nmultiple pre's and posts, cuz then you can\ndelete out individual ones and say I'm\n\n444\n00:23:04.430 --> 00:23:07.630\nnot going to need to roll that back\nanytime soon, and you free up that space.\n\n445\n00:23:07.630 --> 00:23:12.080\nSo it's a little more work on the creation\nside, but it's easier to support if you do\n\n446\n00:23:12.080 --> 00:23:15.690\na separate pre and a separate post for\nevery single set of changes.\n\n447\n00:23:15.690 --> 00:23:19.338\nAnd when you roll them back, we'll see\nthat you can actually roll back a single\n\n448\n00:23:19.338 --> 00:23:22.200\npre and post, or you can actually\nroll back multiple at the same time.\n\n449\n00:23:22.200 --> 00:23:26.730\nThat makes it a little easier and so\nI don't normally do more than one\n\n450\n00:23:26.730 --> 00:23:30.140\npost on a single pre cuz it's easy\nenough to roll them all back at once.\n\n451\n00:23:31.250 --> 00:23:33.430\nSpeaking of roll backs, right.\n\n452\n00:23:33.430 --> 00:23:38.300\nSo in my pre,\nI had Don's super awesome website.\n\n453\n00:23:38.300 --> 00:23:39.510\n&gt;&gt; In its pristine state.\n\n454\n00:23:39.510 --> 00:23:40.370\n&gt;&gt; That's right.\n\n455\n00:23:40.370 --> 00:23:43.980\nAnd then we changed it, and we made it a\nsuper awful website and we took our post.\n\n456\n00:23:43.980 --> 00:23:46.900\nAnd so when the post was taking\nus now the super awful website.\n\n457\n00:23:46.900 --> 00:23:50.353\nSo that's what's considered my current,\nwhat's on the disk, but\n\n458\n00:23:50.353 --> 00:23:54.298\nit's also in that post in case I go and\nstart taking more snapshots after that.\n\n459\n00:23:54.298 --> 00:23:55.747\nWhat does that look like?\n\n460\n00:23:55.747 --> 00:24:00.713\nWell, if you look at the disk itself,\nif I go into /website.\n\n461\n00:24:00.713 --> 00:24:06.930\nAnd I do an ls-la, see how it\ncreated a folder called .snapshots?\n\n462\n00:24:06.930 --> 00:24:09.260\nIf you browse into it,\nit's actually not very exciting at all.\n\n463\n00:24:09.260 --> 00:24:11.058\nWell shoot.\n\n464\n00:24:11.058 --> 00:24:13.417\n&gt;&gt; I'm just gonna say,\nwe need to suggest a drinking game-\n\n465\n00:24:13.417 --> 00:24:14.325\n&gt;&gt; [LAUGH]\n\n466\n00:24:14.325 --> 00:24:15.939\n&gt;&gt; For every time Don, he forgets sudu,\n\n467\n00:24:15.939 --> 00:24:17.103\nyou've got to take a shot.\n\n468\n00:24:17.103 --> 00:24:18.178\n[LAUGH] You'd be sudu.\n\n469\n00:24:18.178 --> 00:24:19.339\n&gt;&gt; I don't think I can get slushed.\n\n470\n00:24:19.339 --> 00:24:21.800\nI don't think I can sudu what I\nwanted to do here anyways, so\n\n471\n00:24:21.800 --> 00:24:23.486\nI'm having to cheat and drop to a shell.\n\n472\n00:24:23.486 --> 00:24:28.127\nBut if you browse into there, see how I've\ngot these folders 1, 2, and 3, right?\n\n473\n00:24:28.127 --> 00:24:33.432\nWell if I go into those, you're gonna\nsee info.xml and then snapshot.\n\n474\n00:24:33.432 --> 00:24:38.650\nAnd info.xml is the descriptor that\nsays what day was the snapshot taken and\n\n475\n00:24:38.650 --> 00:24:42.080\nwhat is its pre-post number which\nis also kind of in the folder name.\n\n476\n00:24:43.160 --> 00:24:49.612\nBut if you take a look at that snapshot\nfolder, well it's empty, right?\n\n477\n00:24:49.612 --> 00:24:51.490\nThe snapshot data is not\nactually stored in this folder.\n\n478\n00:24:51.490 --> 00:24:54.750\nThese folders are more like metadata, just\nletting you know what snapshots exist.\n\n479\n00:24:54.750 --> 00:24:58.426\nThe snapshot is actually\nbeing stored in the thin\n\n480\n00:24:58.426 --> 00:25:02.880\nprovisioned logical volume pool\nthat we made earlier, right?\n\n481\n00:25:02.880 --> 00:25:05.058\nSo that's where the stuff is ending up,\nand\n\n482\n00:25:05.058 --> 00:25:08.940\nit's not directly visible\nright through here.\n\n483\n00:25:08.940 --> 00:25:13.934\nIf we take a look at vgs, and\nI see my volume group, right?\n\n484\n00:25:13.934 --> 00:25:15.310\nMy volume group is pretty huge.\n\n485\n00:25:15.310 --> 00:25:17.160\nSo I'm not gonna see any\nbig difference there.\n\n486\n00:25:17.160 --> 00:25:20.856\nBut if I do a little lvs and\ntake a look, look what I've got.\n\n487\n00:25:20.856 --> 00:25:25.887\nThere's my website logical volume, and now\nI've got all these other logical volumes.\n\n488\n00:25:25.887 --> 00:25:29.850\nAnd they're all 50 gigs each, even though\nI only had that one little text file.\n\n489\n00:25:29.850 --> 00:25:33.430\nBut because I'm thin provisioned,\nall these guys,\n\n490\n00:25:33.430 --> 00:25:35.550\nthere's four of them at 50 gigs a piece,\nright?\n\n491\n00:25:35.550 --> 00:25:39.261\nMy three snapshots and\nmy original is 200 gigs of storage, but\n\n492\n00:25:39.261 --> 00:25:42.104\nit's only eating 190\nmegs of space right now.\n\n493\n00:25:42.104 --> 00:25:45.664\nBecause that's mostly overhead,\nmy little file is well maybe-\n\n494\n00:25:45.664 --> 00:25:46.327\n&gt;&gt; Yeah.\n\n495\n00:25:46.327 --> 00:25:47.362\n&gt;&gt; 1K tops.\n\n496\n00:25:47.362 --> 00:25:48.479\n&gt;&gt; Yeah, it's very small.\n\n497\n00:25:48.479 --> 00:25:50.228\n[LAUGH]\n&gt;&gt; So anyhow, so each of these,\n\n498\n00:25:50.228 --> 00:25:51.886\nthis is where the snapshot's\nactually stored.\n\n499\n00:25:51.886 --> 00:25:55.550\nEach one is getting its\nown logical volume, right?\n\n500\n00:25:55.550 --> 00:25:59.220\nSo the metadata on the disk let's\nyou know what snapshots exist or\n\n501\n00:25:59.220 --> 00:26:00.780\nat least existed at one point.\n\n502\n00:26:00.780 --> 00:26:03.516\nThe logical volumes themselves,\nthat's where the snapshots are.\n\n503\n00:26:03.516 --> 00:26:08.240\nAll right, so now I've got it,\nwhat can I do about it?\n\n504\n00:26:08.240 --> 00:26:13.256\nWell, if I wanna roll back and get my\nwebsite put back to the way that it was.\n\n505\n00:26:13.256 --> 00:26:17.449\nSo if I look at my index.html file,\nit's the super alpha website,\n\n506\n00:26:17.449 --> 00:26:20.170\nI need things to get put back, okay?\n\n507\n00:26:20.170 --> 00:26:25.756\nSo we can run snapper -c website,\nright, I just get it and\n\n508\n00:26:25.756 --> 00:26:32.154\nhave it at reference at config,\nand then I can say -v undochange.\n\n509\n00:26:32.154 --> 00:26:34.280\nI wanna undo changes that\nwere made to the site.\n\n510\n00:26:35.530 --> 00:26:41.690\nAnd then I need to specify the pre and\nthe post that I wanna roll back.\n\n511\n00:26:41.690 --> 00:26:44.484\nNow if I'm doing individual pre and posts,\n\n512\n00:26:44.484 --> 00:26:49.559\nthen it's going to be the number of\nthe pre .., and then the very next number.\n\n513\n00:26:49.559 --> 00:26:51.676\nIn my case my pre was number 1,\nmy post was number 2,\n\n514\n00:26:51.676 --> 00:26:53.910\nthey're right next to each other, right?\n\n515\n00:26:53.910 --> 00:26:56.090\nSo why the dot dot?\n\n516\n00:26:56.090 --> 00:26:58.461\nBecause I might go more than one,\nremember what I was telling Daniel.\n\n517\n00:26:58.461 --> 00:27:02.710\nI might have done one pre and\nfive different posts over time.\n\n518\n00:27:02.710 --> 00:27:07.680\nAnd so I might have 1..6,\nand so I'm saying roll back\n\n519\n00:27:07.680 --> 00:27:12.400\nall of those posts, all the way\nback to get me to pre-number one.\n\n520\n00:27:12.400 --> 00:27:16.270\nAnd you might be thinking why not just\nsay, undo change one and it'd roll back.\n\n521\n00:27:16.270 --> 00:27:18.122\nWell I might not wanna roll\nback all of those posts, so\n\n522\n00:27:18.122 --> 00:27:19.408\nI might wanna roll back some of them.\n\n523\n00:27:19.408 --> 00:27:21.443\nSo I've got to be able to\nspecify the beginning and\n\n524\n00:27:21.443 --> 00:27:23.130\nthe end that I'm rolling back.\n\n525\n00:27:23.130 --> 00:27:27.700\nIn my case is just 1..2, and\nthat makes it easy again if you're doing\n\n526\n00:27:27.700 --> 00:27:31.560\nindividual blocks you can specify\nthem simply like this, and\n\n527\n00:27:31.560 --> 00:27:34.620\nroll them back individually that\nworks out for the most part.\n\n528\n00:27:34.620 --> 00:27:38.083\nAll right, so I'm gonna run that,\nand there we go, and\n\n529\n00:27:38.083 --> 00:27:40.021\nit just modified the website.\n\n530\n00:27:40.021 --> 00:27:42.934\nI can see that it modified that and\nit rolled it back.\n\n531\n00:27:42.934 --> 00:27:45.217\nAnd now we're in business, okay?\n\n532\n00:27:45.217 --> 00:27:46.360\nNow, how do I know I'm in business?\n\n533\n00:27:46.360 --> 00:27:48.437\nWell if I go and look at my index file,\n\n534\n00:27:48.437 --> 00:27:51.184\nit's Don super awesome website again,\nright?\n\n535\n00:27:51.184 --> 00:27:51.960\nIt rolled us back.\n\n536\n00:27:51.960 --> 00:27:55.130\nNow, let's say somebody called\nme on the phone and said, Don,\n\n537\n00:27:55.130 --> 00:27:56.570\nsomebody hacked the website and\ndefaced it.\n\n538\n00:27:56.570 --> 00:27:58.000\nWe've got all such a crazy crap on there.\n\n539\n00:27:58.000 --> 00:28:01.350\nAnd so I, real quick, I don't even look,\njust jump in, roll back.\n\n540\n00:28:01.350 --> 00:28:03.644\nLet me roll it back to where it should\nbe and we'll put it back in place.\n\n541\n00:28:03.644 --> 00:28:07.243\nAnd then I'm curious,\nI'm like wonder what they changed?\n\n542\n00:28:07.243 --> 00:28:09.767\nReally should have looked at that-\n&gt;&gt; [LAUGH] Yeah.\n\n543\n00:28:09.767 --> 00:28:11.015\n&gt;&gt; Need to see, right?\n\n544\n00:28:11.015 --> 00:28:12.364\nSo what if I wanna see what did change?\n\n545\n00:28:12.364 --> 00:28:14.939\nYou can actually go and\npull the differences up.\n\n546\n00:28:14.939 --> 00:28:17.262\nSnapper will show you where\nthe differences were and\n\n547\n00:28:17.262 --> 00:28:19.100\nyou can see kinda what happened.\n\n548\n00:28:19.100 --> 00:28:24.217\nIf you run snapper- c website diff,\n\n549\n00:28:24.217 --> 00:28:29.826\nand then specify the pre and the post.\n\n550\n00:28:29.826 --> 00:28:34.456\nSo like 1..2,\nit will show me everything that changed\n\n551\n00:28:34.456 --> 00:28:37.953\nbetween pre number one and\npost number two.\n\n552\n00:28:37.953 --> 00:28:40.704\nNow if you just run that, and this is\na big folder with a ton of files and\n\n553\n00:28:40.704 --> 00:28:42.810\ntons of changes, it's just too much data.\n\n554\n00:28:42.810 --> 00:28:46.710\nSo you'll typically wanna follow\nthat up with an individual files.\n\n555\n00:28:46.710 --> 00:28:50.024\nI'm gonna come in here, and specify\njust index.html, that's all I have.\n\n556\n00:28:50.024 --> 00:28:53.378\nIt wouldn't be bad for me, but\nin real life it can be really bad.\n\n557\n00:28:53.378 --> 00:28:56.426\nSo I'm gonna run that, and\nit's gonna look in the pre and the post.\n\n558\n00:28:56.426 --> 00:29:00.927\nIt shows me right here, these are the\nsnapshots that it's looking at, and\n\n559\n00:29:00.927 --> 00:29:04.610\nlook at that\npath/website/.snapshot/1/snapshot.\n\n560\n00:29:04.610 --> 00:29:07.340\nWhen I browsed in it it was empty, right?\n\n561\n00:29:07.340 --> 00:29:10.831\nBut it's actually looking into\nthe logical volume to find that, and\n\n562\n00:29:10.831 --> 00:29:12.890\nit shows the file timestamps and sizes.\n\n563\n00:29:12.890 --> 00:29:17.165\nAnd then down here, it actually runs\nthe div and shows me what's different.\n\n564\n00:29:17.165 --> 00:29:25.140\nI had these two lines go away and\nget replaced by these two lines, okay?\n\n565\n00:29:25.140 --> 00:29:29.796\nNow what you'll see is usually\none of three things, a dash,\n\n566\n00:29:29.796 --> 00:29:32.729\na plus or it's a c if I remember right.\n\n567\n00:29:32.729 --> 00:29:33.256\nDid I write that down?\n\n568\n00:29:33.256 --> 00:29:33.793\nI did, it is a c.\n\n569\n00:29:33.793 --> 00:29:37.303\nYep, so a dash means a line was deleted,\n\n570\n00:29:37.303 --> 00:29:42.890\na plus means a line was added,\na c means a line that was changed.\n\n571\n00:29:42.890 --> 00:29:46.900\nNow I changed the lines, but they're\nshowing as minus and plus, all right?\n\n572\n00:29:46.900 --> 00:29:48.625\nAnd that's because I used vi, and\n\n573\n00:29:48.625 --> 00:29:52.088\nthat's the way that it does it\nactually deletes and writes the line.\n\n574\n00:29:52.088 --> 00:29:55.590\nSome software applications like Nano will\nactually just rewrite the characters,\n\n575\n00:29:55.590 --> 00:29:57.100\nand so they'll show up as changes.\n\n576\n00:29:57.100 --> 00:29:59.070\nBut in mine I still see what changed,\nright?\n\n577\n00:29:59.070 --> 00:30:02.518\nSo I can spot that and\nunderstand what happened, right?\n\n578\n00:30:02.518 --> 00:30:05.065\nSo nice thing that we can do there\nis look into those snapshots and\n\n579\n00:30:05.065 --> 00:30:06.270\nsee what is different.\n\n580\n00:30:06.270 --> 00:30:10.120\nThat works really well with text files,\nconfig files.\n\n581\n00:30:10.120 --> 00:30:13.370\nDoesn't work so well with binary files,\ncuz you just see binary jumble, but\n\n582\n00:30:13.370 --> 00:30:15.874\nyou can tell what's different and\nthat's pretty useful.\n\n583\n00:30:15.874 --> 00:30:18.909\n&gt;&gt; All right, Don, now that we\nknow how to roll back our changes,\n\n584\n00:30:18.909 --> 00:30:21.102\nwhen we maybe we're\ndone with the snapshot.\n\n585\n00:30:21.102 --> 00:30:22.948\nLike you said, they can start bulking up,\n\n586\n00:30:22.948 --> 00:30:26.610\nthey can start taking a bunch of disk\nspace up, and we need to get rid of them.\n\n587\n00:30:26.610 --> 00:30:27.610\nHow do we do that?\n\n588\n00:30:27.610 --> 00:30:28.256\n&gt;&gt; All right, and\n\n589\n00:30:28.256 --> 00:30:31.158\nhold on to the snapshots until you\nknow you don't need them anymore.\n\n590\n00:30:31.158 --> 00:30:34.642\nBut don't keep snapshots laying around, if\nyou're never going to roll back to them.\n\n591\n00:30:34.642 --> 00:30:37.309\nSo I made a change to the site\neverything works great.\n\n592\n00:30:37.309 --> 00:30:39.741\nI'm getting Kudos and\naccolades from all my coworkers and\n\n593\n00:30:39.741 --> 00:30:42.680\nI don't need this snapshot anymore,\nI want to get rid of the, right?\n\n594\n00:30:42.680 --> 00:30:47.751\nSo that's going to be snapper -c website,\nright?\n\n595\n00:30:47.751 --> 00:30:52.220\nAgain, just the name of the config, and\nthen delete, followed by the numbers.\n\n596\n00:30:52.220 --> 00:30:54.055\nNow remember, you got a pre and\na post, right?\n\n597\n00:30:54.055 --> 00:30:58.548\nSo I might choose to go in and\ndelete my post, and then delete my pre and\n\n598\n00:30:58.548 --> 00:31:00.520\nget those out of there.\n\n599\n00:31:00.520 --> 00:31:06.170\nAnd now if I do a list, it's gone,\nI've got my current and\n\n600\n00:31:06.170 --> 00:31:10.910\nI've got the running snapshot that's\nthere, ready for me to run my next pre.\n\n601\n00:31:10.910 --> 00:31:12.410\nSo then we;'re back in business,\nso the snapper utility.\n\n602\n00:31:12.410 --> 00:31:14.443\nIt takes a little while\nto learn the commands,\n\n603\n00:31:14.443 --> 00:31:16.589\nreally lends itself well\nto automation though.\n\n604\n00:31:16.589 --> 00:31:18.530\nYou can write very simple\nscripts to do this.\n\n605\n00:31:18.530 --> 00:31:20.320\nAny time you're gonna make a change,\nespecially to web sites,\n\n606\n00:31:20.320 --> 00:31:21.450\nthat's where I normally use it.\n\n607\n00:31:21.450 --> 00:31:23.610\nYou're gonna real quick\ngrab that snap shot.\n\n608\n00:31:23.610 --> 00:31:26.297\nGo and do your work and so on,\nhave that safety net to roll back to.\n\n609\n00:31:26.297 --> 00:31:30.090\nAnd you're not relying on some\nremote backup or tape backup.\n\n610\n00:31:30.090 --> 00:31:31.900\nYou do still want those\nother types of backups.\n\n611\n00:31:31.900 --> 00:31:33.072\nCuz Snapper will not protect\nyou from a hard drive failure.\n\n612\n00:31:33.072 --> 00:31:35.639\nIf you have a hard drive fail,\nyou lose your data and\n\n613\n00:31:35.639 --> 00:31:38.905\nyour snapshots cuz they're stored\non the same physical disks.\n\n614\n00:31:38.905 --> 00:31:43.082\nSo it's not a substitute for backups, but\nit's a great safety net for human error.\n\n615\n00:31:43.082 --> 00:31:46.998\n&gt;&gt; Yeah, and if you've worked with virtual\nmachines at all man, you know how much\n\n616\n00:31:46.998 --> 00:31:51.200\nsnapshots are awesome, they work\nreally well, it's very easy to employ.\n\n617\n00:31:51.200 --> 00:31:54.371\nAnd it's just so nice to be able to make\na change, make sure everything works.\n\n618\n00:31:54.371 --> 00:31:57.703\nAnd then I don't have to worry about\nanything, I can delete my snapshot,\n\n619\n00:31:57.703 --> 00:31:59.030\nI'm off to the races.\n\n620\n00:31:59.030 --> 00:32:02.824\nBut if something goes wrong, God forbid,\nI can just easily roll back that snapshot,\n\n621\n00:32:02.824 --> 00:32:04.099\nit's there waiting for me.\n\n622\n00:32:04.099 --> 00:32:06.752\nEverything's back to the way\nit was before I hosed it up,\n\n623\n00:32:06.752 --> 00:32:10.055\n[LAUGH] doing whatever it is I was doing,\nmaybe upgrading or whatever-\n\n624\n00:32:10.055 --> 00:32:10.694\n&gt;&gt; [LAUGH]\n\n625\n00:32:10.694 --> 00:32:12.150\n&gt;&gt; And nobody's none the wiser.\n\n626\n00:32:12.150 --> 00:32:15.990\nI can go back to the drawing board,\nsee what was wrong, fix those issues.\n\n627\n00:32:15.990 --> 00:32:17.910\nTake another snapshot, try again.\n\n628\n00:32:17.910 --> 00:32:22.340\nAnd always have that little bit of safety\nnet action waiting for me, in case again,\n\n629\n00:32:22.340 --> 00:32:23.420\nthings go wrong.\n\n630\n00:32:23.420 --> 00:32:25.000\nVery cool stuff that we can do this,\n\n631\n00:32:25.000 --> 00:32:28.340\ninside of our actual physical disks,\nnot in a virtual environment.\n\n632\n00:32:28.340 --> 00:32:29.560\nAnd Linux allows us to do that,\n\n633\n00:32:29.560 --> 00:32:30.954\nthank you Red Hat and the-\n&gt;&gt; [LAUGH]\n\n634\n00:32:30.954 --> 00:32:34.031\n&gt;&gt; Great people at LVM and Snapper.\n\n635\n00:32:34.031 --> 00:32:39.970\n[LAUGH] Don, anything else we need to know\nabout working with the final snapshots?\n\n636\n00:32:39.970 --> 00:32:43.305\n&gt;&gt; Just tune in for the SSM episode-\n&gt;&gt; Yeah.\n\n637\n00:32:43.305 --> 00:32:44.699\n&gt;&gt; Because there is\nan easier way to do this and\n\n638\n00:32:44.699 --> 00:32:46.900\nyou don't even have to have\na snapper utility installed.\n\n639\n00:32:46.900 --> 00:32:49.460\nBut there's an easier way to do this\nthrough the SSM, if you've got it, and\n\n640\n00:32:49.460 --> 00:32:51.410\nthat's really the way that\na lot of are going now.\n\n641\n00:32:51.410 --> 00:32:52.650\nSo check that one out.\n\n642\n00:32:52.650 --> 00:32:54.536\nI know I said the same thing\nin the LVM episode, so\n\n643\n00:32:54.536 --> 00:32:55.875\nwe're just building up to it SSM.\n\n644\n00:32:55.875 --> 00:32:56.789\n&gt;&gt; Really building up.\n\n645\n00:32:56.789 --> 00:32:57.866\n[LAUGH] It's gonna have methos by the-\n&gt;&gt; [LAUGH]\n\n646\n00:32:57.866 --> 00:32:59.118\n&gt;&gt; Time we're done with it.\n\n647\n00:32:59.118 --> 00:33:00.985\n&gt;&gt; All right everyone,\nwell thanks for joining us today.\n\n648\n00:33:00.985 --> 00:33:03.267\nDon, thank you as well, but\nit is time for us to sign off.\n\n649\n00:33:03.267 --> 00:33:06.015\nSo signing off for ITPro.TV.\n\n650\n00:33:06.015 --> 00:33:07.388\nI've been your host, Daniel Lowrie.\n\n651\n00:33:07.388 --> 00:33:08.260\n&gt;&gt; And I'm Don Pezet.\n\n652\n00:33:08.260 --> 00:33:09.170\n&gt;&gt; We'll see you next time.\n\n653\n00:33:09.170 --> 00:33:16.196\n[MUSIC]\n\n654\n00:33:16.196 --> 00:33:18.165\n&gt;&gt; Thank you for watching ITPro.TV\n\n",
          "vimeoId": "193754507"
        },
        {
          "description": "In this episode, Daniel and Don explore the System Storage Manager(SSM) which is meant to be an all-in-one solution for storage management. Here you will see how to use the SSM to perform a variety of tasks like listing volumes, creating volume groups, creating logical groups, and mounting. Also shown is adding disks, working with snapshots, and setting up RAID.",
          "length": "1886",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-3-5-system_storage_manager-112216.00_31_08_18.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-3-5-system_storage_manager-112216.00_31_08_18.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-3-5-system_storage_manager-112216.00_31_08_18.Still001-sm.jpg",
          "title": "System Storage Manager (SSM)",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:01.329\nWelcome to ITProTV.\n\n2\n00:00:01.329 --> 00:00:02.625\nI'm your host, Don Pezet.\n\n3\n00:00:02.625 --> 00:00:06.601\n&gt;&gt; [CROSSTALK]\n\n4\n00:00:06.601 --> 00:00:08.265\n[MUSIC]\n\n5\n00:00:08.265 --> 00:00:12.360\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.360 --> 00:00:13.779\n&gt;&gt; All right, greetings, everyone.\n\n7\n00:00:13.779 --> 00:00:16.725\nAnd welcome to another\ngreat episode of ITProTV.\n\n8\n00:00:16.725 --> 00:00:18.179\nI'm your host Daniel Lowrie.\n\n9\n00:00:18.179 --> 00:00:20.912\nIn today's episode we're\nglad you've joined us,\n\n10\n00:00:20.912 --> 00:00:23.583\nbecause we've finally\nreached the culmination,\n\n11\n00:00:23.583 --> 00:00:26.104\nthis giant episode that we've been-\n&gt;&gt; [LAUGH]\n\n12\n00:00:26.104 --> 00:00:27.069\n&gt;&gt; Talking about and\n\n13\n00:00:27.069 --> 00:00:30.291\nbuilding up as the greatest\nthing ever since sliced bread.\n\n14\n00:00:30.291 --> 00:00:34.539\nAnd joining us to deliver on that promise\nis our good friend Mr. Don Pezet.\n\n15\n00:00:34.539 --> 00:00:35.982\nDon welcome back sir, how's it going?\n\n16\n00:00:35.982 --> 00:00:37.067\n&gt;&gt; All right Daniel, this is it.\n\n17\n00:00:37.067 --> 00:00:37.929\n&gt;&gt; You better make it good.\n\n18\n00:00:37.929 --> 00:00:38.972\n&gt;&gt; Our moment of truth.\n\n19\n00:00:38.972 --> 00:00:41.362\nSo if you've been watching\nour shows in order,\n\n20\n00:00:41.362 --> 00:00:44.661\nthen you've seen us talk about\nmanaging file systems directly.\n\n21\n00:00:44.661 --> 00:00:48.290\nAnd then you saw us talk about LVM,\nin logical volume manager and\n\n22\n00:00:48.290 --> 00:00:51.000\nthen you saw us talk about snapshots\nusing the snapper utility.\n\n23\n00:00:51.000 --> 00:00:56.280\nAnd in all three episodes,\nI said this s the official way to do it,\n\n24\n00:00:56.280 --> 00:00:59.050\nbut there's an easier way to do\nit using this utility called SSM.\n\n25\n00:00:59.050 --> 00:01:01.361\nIt's a part of the Red Hat Distribution.\n\n26\n00:01:01.361 --> 00:01:02.770\nAnd then we didn't use that tool.\n\n27\n00:01:02.770 --> 00:01:04.422\n[LAUGH] So we did it the old way.\n\n28\n00:01:04.422 --> 00:01:07.116\nSo you might have said,\nwe'll fast forward this episode, and\n\n29\n00:01:07.116 --> 00:01:10.016\nthen you've reached this moment\nright here, which is using the SSM.\n\n30\n00:01:10.016 --> 00:01:13.012\nAnd so what I'm gonna do is\nI'm gonna double back, and\n\n31\n00:01:13.012 --> 00:01:17.375\nwe're gonna see how to drop a file system\non a partition, and how to use the LVM,\n\n32\n00:01:17.375 --> 00:01:19.939\nand how to take snapshots,\nall using the SSM.\n\n33\n00:01:19.939 --> 00:01:24.422\nAnd what you're gonna see is that\nthings become so much more simple and\n\n34\n00:01:24.422 --> 00:01:28.540\neasier to do, because the SSM\nautomates darn near everything.\n\n35\n00:01:28.540 --> 00:01:33.496\nWhat the SSM is, is not truly a utility\nitself, it's more of a wrapper,\n\n36\n00:01:33.496 --> 00:01:35.730\na front end, right?\n\n37\n00:01:35.730 --> 00:01:38.960\nRemember back in the file system episode,\nI talked about mkfs and\n\n38\n00:01:38.960 --> 00:01:40.460\nhow mkfs is really just a front end.\n\n39\n00:01:40.460 --> 00:01:43.930\nAnd there's all sorts of\nback ends on it for Ext4 and\n\n40\n00:01:43.930 --> 00:01:47.140\nXFS and Btrfs and\nall those other guys, right?\n\n41\n00:01:47.140 --> 00:01:51.230\nWell, SSM is a front end for\nthe LVM, and for\n\n42\n00:01:51.230 --> 00:01:56.290\nsnapshots, and for crypt d, and\na number of other different services.\n\n43\n00:01:56.290 --> 00:01:59.151\nIt's the front end for it, and\nit's still an evolving product.\n\n44\n00:01:59.151 --> 00:02:02.886\nSo as far as the front end for\nLVM is concerned, it works great, and\n\n45\n00:02:02.886 --> 00:02:05.978\nas far as the front end for\nsnapshots, it works great.\n\n46\n00:02:05.978 --> 00:02:08.689\nAs far as the front end for crypt,\nit might as well not even exist.\n\n47\n00:02:08.689 --> 00:02:09.246\n&gt;&gt; [LAUGH]\n&gt;&gt; Cuz you\n\n48\n00:02:09.246 --> 00:02:11.758\ncan just like view the crypt\nconfiguration and stuff that's it.\n\n49\n00:02:11.758 --> 00:02:13.400\nBut it's evolving, it's getting better.\n\n50\n00:02:13.400 --> 00:02:15.010\nThey're adding more and\nmore stuff to it and\n\n51\n00:02:15.010 --> 00:02:18.870\neventually you'll be able to manage disk\nbased encryption right from the SSM.\n\n52\n00:02:18.870 --> 00:02:22.330\nSo that's kind of the direction\nthis tool is going, and\n\n53\n00:02:22.330 --> 00:02:26.300\nthere will come a day where Red Hat says\nhey, that's the official way to do it now.\n\n54\n00:02:26.300 --> 00:02:28.280\nJust start using the SSM for\neverything, right?\n\n55\n00:02:28.280 --> 00:02:32.217\nIt's a big monolithic wrapper, I guess.\n\n56\n00:02:32.217 --> 00:02:35.028\nSingle point you can go\nto to do everything.\n\n57\n00:02:35.028 --> 00:02:38.811\nAnd while they're at it, they went ahead\nand said hey instead of taking ten\n\n58\n00:02:38.811 --> 00:02:42.730\ncommands to do something let's roll it\nall together and do it in one command.\n\n59\n00:02:42.730 --> 00:02:46.320\nSo let's take my system here for\nexample and let's just talk LVM for\n\n60\n00:02:46.320 --> 00:02:47.610\na minute right.\n\n61\n00:02:47.610 --> 00:02:52.860\nIf I want to create a, well we can even\nrevisit what we did in the other show.\n\n62\n00:02:52.860 --> 00:02:55.110\nI wanted to create storage for\nmy website, and\n\n63\n00:02:55.110 --> 00:02:59.640\nso I had to create physical disc\nthat the LVM could use right?\n\n64\n00:02:59.640 --> 00:03:03.120\nSo if I do a pvs,\nI don't have any right, but\n\n65\n00:03:03.120 --> 00:03:05.420\nI have to create this\nphysical disc use pvcreate.\n\n66\n00:03:05.420 --> 00:03:07.770\nAnd then I'd have to create\na volume group right,\n\n67\n00:03:07.770 --> 00:03:09.560\nwhich I don't have any of those either.\n\n68\n00:03:09.560 --> 00:03:12.710\nWell, I've got the default one\nthat Red Hat creates, RHEL.\n\n69\n00:03:12.710 --> 00:03:13.680\nBut mine's gone.\n\n70\n00:03:13.680 --> 00:03:16.150\nSo, I have to create a volume group\nto gather those physical disks\n\n71\n00:03:16.150 --> 00:03:17.600\ntogether into a pool.\n\n72\n00:03:17.600 --> 00:03:22.200\nAnd then I would need to create\nlogical volumes, that were the actual\n\n73\n00:03:22.200 --> 00:03:25.200\npartitions or volumes where I could\nstore data, that would lay on top of it.\n\n74\n00:03:25.200 --> 00:03:26.750\nThree steps, right?\n\n75\n00:03:26.750 --> 00:03:28.810\nTechnically there were\nmore than three steps.\n\n76\n00:03:28.810 --> 00:03:32.620\nBecause I had to use fdisk to drop\na partition on the disks, right,\n\n77\n00:03:32.620 --> 00:03:33.640\nI had to do that ahead of time.\n\n78\n00:03:33.640 --> 00:03:37.590\nAnd then after the volume was created,\nI had to mount it.\n\n79\n00:03:37.590 --> 00:03:40.320\nI had to format it,\nI always forget that part.\n\n80\n00:03:40.320 --> 00:03:43.720\nYou gotta format it and drop a file system\non it, then you gotta mount it, right?\n\n81\n00:03:43.720 --> 00:03:46.140\nSo there's really six steps\n\n82\n00:03:46.140 --> 00:03:51.740\nto creating a mounted storage location\nthroughout the arm, it's a lot of things.\n\n83\n00:03:51.740 --> 00:03:53.930\nWith SSM, one command.\n\n84\n00:03:53.930 --> 00:03:56.078\nWe can do all in one command.\n\n85\n00:03:56.078 --> 00:03:59.011\nFirst thing about that one command\nthough is that you don't have it.\n\n86\n00:03:59.011 --> 00:04:00.924\n&gt;&gt; [LAUGH]\n&gt;&gt; If you run SSM, it's not there, so\n\n87\n00:04:00.924 --> 00:04:02.079\nwe need it to get installed.\n\n88\n00:04:02.079 --> 00:04:09.227\nSo let's start with baby steps here, so\nI'm gonna do yum install of the SSM.\n\n89\n00:04:09.227 --> 00:04:10.797\nAnd it's actually written out.\n\n90\n00:04:10.797 --> 00:04:14.937\nSo system-storage-manager.\n\n91\n00:04:14.937 --> 00:04:16.369\nAnd we'll get that installed.\n\n92\n00:04:16.369 --> 00:04:19.790\nIt is part of the official Red Hat\nrepositories, its supported by Red Hat.\n\n93\n00:04:19.790 --> 00:04:21.250\nSo you're welcome to use it,\n\n94\n00:04:21.250 --> 00:04:24.800\nno real reason not to use it\nunless you just like commands.\n\n95\n00:04:25.880 --> 00:04:26.820\nLet me clarify.\n\n96\n00:04:26.820 --> 00:04:29.690\nSome people do like to have\nvery specific control and\n\n97\n00:04:29.690 --> 00:04:33.360\nthe SSM rolls everything together,\nand so you loose some of that control.\n\n98\n00:04:33.360 --> 00:04:34.568\nThe trade off is convenience.\n\n99\n00:04:34.568 --> 00:04:38.701\nSo there is still a time and\na place for the individual command, so\n\n100\n00:04:38.701 --> 00:04:41.721\nI don't want to understate\ntheir importance.\n\n101\n00:04:41.721 --> 00:04:43.690\nAll right, but now I've got the SSM.\n\n102\n00:04:43.690 --> 00:04:47.040\nFrom here I can run SSM, and\nthere we go, I've got my tool.\n\n103\n00:04:47.040 --> 00:04:48.619\nI can jump in and I can start to do stuff.\n\n104\n00:04:48.619 --> 00:04:51.388\nAnd just looking at it\nhere you'll see check,\n\n105\n00:04:51.388 --> 00:04:53.660\ni can check my file system integrity.\n\n106\n00:04:53.660 --> 00:04:57.763\nResize, create, list, add,\nremove, snapshot, mount.\n\n107\n00:04:57.763 --> 00:05:01.774\nAnd these are a lot of different\ntools all rolled together.\n\n108\n00:05:01.774 --> 00:05:03.942\nAnd that's what SSM is all about.\n\n109\n00:05:03.942 --> 00:05:07.979\nAll right, so\nlet's repeat the LVM episode.\n\n110\n00:05:07.979 --> 00:05:11.491\nThe LVM episode where I had to use\nFTS to drop partitions on disk,\n\n111\n00:05:11.491 --> 00:05:14.240\nI had to do all these different things.\n\n112\n00:05:14.240 --> 00:05:17.380\nLet's repeat that, and here,\nI'm gonna do it all in one command.\n\n113\n00:05:17.380 --> 00:05:19.490\nI'm gonna roll that whole 30\nminute episode into one command.\n\n114\n00:05:19.490 --> 00:05:25.200\nI'm gonna say sudo, cuz I wanna remember\nto do that, ssm create, all right?\n\n115\n00:05:25.200 --> 00:05:31.440\nI wanna create a logical volume,\nand I want the size to be 100 gigs.\n\n116\n00:05:31.440 --> 00:05:33.430\nSo it's gonna be 100 gigabytes in size.\n\n117\n00:05:33.430 --> 00:05:36.600\nAnd then I wanna name it website.\n\n118\n00:05:36.600 --> 00:05:39.690\nAll right, so this is information about\nthe logical volume that I wanna make.\n\n119\n00:05:39.690 --> 00:05:42.160\nKeep in mind,\nI don't have any volume groups.\n\n120\n00:05:42.160 --> 00:05:44.460\nI don't have any physical\nvolumes attached to LVM,\n\n121\n00:05:44.460 --> 00:05:47.410\nI haven't even used fdisk to\ndrop partitions on these things.\n\n122\n00:05:47.410 --> 00:05:50.350\nSo I'm kind of jumping to the last step.\n\n123\n00:05:50.350 --> 00:05:51.600\nBut it's not even the last step, is it?\n\n124\n00:05:51.600 --> 00:05:54.630\nCuz I still need to format it and\nI need to mount it.\n\n125\n00:05:54.630 --> 00:05:59.634\nSo I'm gonna say --fstype xfs.\n\n126\n00:05:59.634 --> 00:06:01.148\nAnd so I'm gonna put the XFS.\n\n127\n00:06:01.148 --> 00:06:02.386\nOr I could say EXT4 if I wanted.\n\n128\n00:06:02.386 --> 00:06:02.996\n&gt;&gt; Yeah.\n&gt;&gt; So\n\n129\n00:06:02.996 --> 00:06:06.440\nnow it's gonna drop a file system on it,\ntoo, right?\n\n130\n00:06:06.440 --> 00:06:11.010\nAnd I can say -p to specify a pool or\na volume group.\n\n131\n00:06:11.010 --> 00:06:12.810\nI'm gonna call mine vg1.\n\n132\n00:06:12.810 --> 00:06:14.460\nVg1 doesn't exist.\n\n133\n00:06:14.460 --> 00:06:15.730\nIt's gonna make it.\n\n134\n00:06:15.730 --> 00:06:17.203\nIf something doesn't exist, it'll make it.\n\n135\n00:06:17.203 --> 00:06:22.976\nAnd that volume group,\nI want it to have /dev/sdb and\n\n136\n00:06:22.976 --> 00:06:27.755\n/dev/sdc, which I haven't added to LVM.\n\n137\n00:06:27.755 --> 00:06:29.380\nBut it's gonna add it, right?\n\n138\n00:06:29.380 --> 00:06:34.900\nSo it knows that if something hasn't been\ndone, it's gonna do it for me, right?\n\n139\n00:06:34.900 --> 00:06:36.750\nSo I'm gonna specify that.\n\n140\n00:06:36.750 --> 00:06:38.390\nAnd then, I want to mount it.\n\n141\n00:06:38.390 --> 00:06:40.580\nIt's going to go through format,\nit needs to get mounted.\n\n142\n00:06:40.580 --> 00:06:42.605\nI wanna mount it to /website.\n\n143\n00:06:43.780 --> 00:06:44.890\nAnd, here's the neat part.\n\n144\n00:06:44.890 --> 00:06:47.860\nLet's say that that folder doesn't exist,\nright?\n\n145\n00:06:47.860 --> 00:06:51.130\nHere, let me,\nI kind of want to keep my folder,\n\n146\n00:06:51.130 --> 00:06:54.660\nbecause I've got the SELinux\ncontext set up, right.\n\n147\n00:06:54.660 --> 00:06:56.062\nBut, I'm gonna get rid of it.\n\n148\n00:06:56.062 --> 00:07:01.608\nLet me do a sudo rm -rf/website.\n\n149\n00:07:01.608 --> 00:07:04.474\n&gt;&gt; So then you're talking about\nthe system automating everything and\n\n150\n00:07:04.474 --> 00:07:07.801\nyou're removing this and you're saying\nthe SE Linux is all set up correctly.\n\n151\n00:07:07.801 --> 00:07:10.244\nSo I'm assuming this will\nautomate that as well?\n\n152\n00:07:10.244 --> 00:07:11.021\n&gt;&gt; SE Linux will be wrong.\n\n153\n00:07:11.021 --> 00:07:14.768\n&gt;&gt; [LAUGH]\n&gt;&gt; That's why I was kind of like I don't\n\n154\n00:07:14.768 --> 00:07:16.689\nwant to delete a folder and lose that.\n\n155\n00:07:16.689 --> 00:07:17.914\nBecause SSM is smart, but\n\n156\n00:07:17.914 --> 00:07:21.100\nit doesn't know what the heck you're\nabout to use this folder for.\n\n157\n00:07:21.100 --> 00:07:24.878\nIt would have to be super smart and\nsay, you call the folder website,\n\n158\n00:07:24.878 --> 00:07:26.390\nI thought that needs to be.\n\n159\n00:07:26.390 --> 00:07:27.850\nIt can't know that.\n\n160\n00:07:27.850 --> 00:07:31.520\nBut, what it can know is,\nhey that folder doesn't exist?\n\n161\n00:07:31.520 --> 00:07:32.530\nI'll make it for you.\n\n162\n00:07:32.530 --> 00:07:35.442\nI'll make that folder,\n\n163\n00:07:35.442 --> 00:07:40.301\nI'll put the physical volumes into LVM.\n\n164\n00:07:40.301 --> 00:07:41.968\nI will put them into a volume group.\n\n165\n00:07:41.968 --> 00:07:44.530\nI'll call the volume group vg1,\ncuz you said so.\n\n166\n00:07:44.530 --> 00:07:47.000\nI will create a logical\nvolume called website.\n\n167\n00:07:47.000 --> 00:07:48.680\nI'll make it 100 GB.\n\n168\n00:07:48.680 --> 00:07:51.940\nI will format it XFS.\n\n169\n00:07:51.940 --> 00:07:55.500\nAnd I'll make the website folder and\nmount all that stuff to it.\n\n170\n00:07:55.500 --> 00:07:56.868\nAnd it'll be ready to go, all right?\n\n171\n00:07:56.868 --> 00:07:57.931\nSo enough talking about it.\n\n172\n00:07:57.931 --> 00:07:59.789\nLet's run this thing.\nAnd it's gonna jump in there and\n\n173\n00:07:59.789 --> 00:08:01.359\nit's gonna get busy, all right?\n\n174\n00:08:01.359 --> 00:08:02.351\nNow it.\n\n175\n00:08:02.351 --> 00:08:05.300\nI see immediately [CROSSTALK] directory,\nwebsite does not exist,\n\n176\n00:08:05.300 --> 00:08:06.624\ndo I wanna create it, right?\n\n177\n00:08:06.624 --> 00:08:10.170\nSo it sees that folder doesn't exist,\nit's already moved past that.\n\n178\n00:08:10.170 --> 00:08:13.450\nIf you look at everything going by,\nphysical volume, sdb,\n\n179\n00:08:13.450 --> 00:08:15.020\nsdc successfully created.\n\n180\n00:08:15.020 --> 00:08:16.800\nThat's output from PV create, right?\n\n181\n00:08:16.800 --> 00:08:19.640\nSo it brought those\nphysical volumes into LVM.\n\n182\n00:08:19.640 --> 00:08:21.940\nVolume group vg1 successfully created,\nright?\n\n183\n00:08:21.940 --> 00:08:24.120\nThat's from VG create.\n\n184\n00:08:24.120 --> 00:08:25.460\nLogical volume website created.\n\n185\n00:08:25.460 --> 00:08:27.120\nThat's from LV create.\n\n186\n00:08:27.120 --> 00:08:31.140\nThen I start to see the metadata of that\nsite come up because it was created and\n\n187\n00:08:31.140 --> 00:08:33.080\nit dropped a file system on it.\n\n188\n00:08:33.080 --> 00:08:34.890\nAnd now it's getting ready\nto do the mount part.\n\n189\n00:08:34.890 --> 00:08:36.140\nSo I need to say yes to that.\n\n190\n00:08:36.140 --> 00:08:38.760\nIt's gonna create the folder and mount it.\n\n191\n00:08:38.760 --> 00:08:41.030\nAll in one big, FAT command.\n\n192\n00:08:41.030 --> 00:08:43.590\nWhich, if I do a little df-h,\n\n193\n00:08:43.590 --> 00:08:48.790\nI should be able to see that I\nnow have /dev/mapper/vg1-website.\n\n194\n00:08:48.790 --> 00:08:50.880\nAnd it's mounted to /website.\n\n195\n00:08:50.880 --> 00:08:52.290\nAnd it's 100 GB in size.\n\n196\n00:08:52.290 --> 00:08:55.620\nIn fact, if I run through all\nof my old tools, like pvs,\n\n197\n00:08:55.620 --> 00:09:00.540\nI can see those physical volumes\nright there, sdb and sdc.\n\n198\n00:09:00.540 --> 00:09:05.650\nI can do vgs and\nthere's volume group 1 and\n\n199\n00:09:05.650 --> 00:09:10.550\nI can do lvs and\nthere's the website all great.\n\n200\n00:09:10.550 --> 00:09:14.700\nAll those things I would've done\nseparately and it formatted it,\n\n201\n00:09:14.700 --> 00:09:17.240\nmounted it, and so if I do mount and\n\n202\n00:09:17.240 --> 00:09:21.415\ntake a look right here at the end is\nthe mount statement that it put it in.\n\n203\n00:09:21.415 --> 00:09:24.532\nSSM did it all for me in one big command.\n\n204\n00:09:24.532 --> 00:09:26.510\n&gt;&gt; Saves you a lot of\nadministrative effort and\n\n205\n00:09:26.510 --> 00:09:29.471\ntime, that's really nice\n&gt;&gt; Absolutely, it's a lot easier to script\n\n206\n00:09:29.471 --> 00:09:31.388\nit and automate it and\nget things to go like that.\n\n207\n00:09:31.388 --> 00:09:34.950\nIt's just simpler a around, and\nso it's a great way to do it.\n\n208\n00:09:34.950 --> 00:09:38.220\nThere's a lot of spots in that command\nwhere I specify the volume group and\n\n209\n00:09:38.220 --> 00:09:39.800\nif it didn't exist, it made it.\n\n210\n00:09:39.800 --> 00:09:41.160\nIt did exist, it used it, right?\n\n211\n00:09:41.160 --> 00:09:42.240\nSo I don't even have to worry about that.\n\n212\n00:09:42.240 --> 00:09:43.050\nI don't have to check and\n\n213\n00:09:43.050 --> 00:09:46.160\nsee if it already exists,\nit's just gonna do it for me.\n\n214\n00:09:46.160 --> 00:09:48.100\nAnd what I just did right there,\n\n215\n00:09:48.100 --> 00:09:50.720\nI mean that's basically that whole 30\nminute episode right in one command.\n\n216\n00:09:50.720 --> 00:09:51.900\nThat's pretty cool.\n\n217\n00:09:51.900 --> 00:09:53.930\nBut it can do a lot of\nthe other stuff too.\n\n218\n00:09:53.930 --> 00:09:55.780\nSo if I decide after the fact hey,\n\n219\n00:09:55.780 --> 00:09:59.570\nI want to add another disk\ninto this volume group, right.\n\n220\n00:09:59.570 --> 00:10:03.150\nSo I've got two 500 gig disks,\nI wanna add a third 500 gig disk.\n\n221\n00:10:03.150 --> 00:10:05.770\nWell, I can jump into my command prompt.\n\n222\n00:10:05.770 --> 00:10:10.600\nI can do ssm add -p vg1, right?\n\n223\n00:10:10.600 --> 00:10:14.610\nSo I'm adding onto the pool\nof volume group 1.\n\n224\n00:10:14.610 --> 00:10:19.000\nAnd I'm gonna add /dev/sdd, right?\n\n225\n00:10:19.000 --> 00:10:23.320\nSo I could use pv create to bring in sdd.\n\n226\n00:10:23.320 --> 00:10:27.768\nAnd then I could use the, I think\nit would actually be VG modify, VG,\n\n227\n00:10:27.768 --> 00:10:30.265\nI can't even remember [CROSSTALK].\n\n228\n00:10:30.265 --> 00:10:30.789\n&gt;&gt; Yeah.\n\n229\n00:10:30.789 --> 00:10:32.637\n&gt;&gt; VG modify to add that one in.\n\n230\n00:10:32.637 --> 00:10:34.420\nBut here I can just do it right\nthrough the ssm, it will do both.\n\n231\n00:10:34.420 --> 00:10:38.515\nIt brought the physical volume in and\nit added it into the volume group.\n\n232\n00:10:38.515 --> 00:10:41.479\nAnd so now, if I do a pvs,\n\n233\n00:10:41.479 --> 00:10:46.718\nI see sdds in the list and\nI see it's in vg1.\n\n234\n00:10:46.718 --> 00:10:50.227\nAnd if I do a vgs,\nI see that I'm now at 1.5 terabytes,\n\n235\n00:10:50.227 --> 00:10:54.190\nthree 500 gig drives all joined together,\nall right there.\n\n236\n00:10:55.830 --> 00:10:57.780\nSome of the other things\nyou can do with it,\n\n237\n00:10:57.780 --> 00:11:03.180\nif you do a ssm list volumes,\nthat's a nice little command you can run.\n\n238\n00:11:03.180 --> 00:11:04.940\nIt'll output the volumes\nthat you've got and\n\n239\n00:11:04.940 --> 00:11:06.710\nI can verify in my\nconfigurations right here.\n\n240\n00:11:06.710 --> 00:11:10.893\nSo I can see there's /dev/vg1/website.\n\n241\n00:11:10.893 --> 00:11:15.000\nI can see it's in the vg1 pool,\nand that it's 100 gigs, xfs,\n\n242\n00:11:15.000 --> 00:11:20.030\nhere's what you used, and\nit's type is linear, all right?\n\n243\n00:11:20.030 --> 00:11:25.500\nLinear means it's gonna start filling up\nthe first disk, sdb, and when it's full,\n\n244\n00:11:25.500 --> 00:11:28.600\nthen we would go to sdc, and\nthen when it's full, to go to sdd, right.\n\n245\n00:11:28.600 --> 00:11:31.840\nAssuming I made it large enough to\nspan those, it's writing in line.\n\n246\n00:11:31.840 --> 00:11:36.450\nSome of the other things you might see\nthere are if we do raid zero, or raid one,\n\n247\n00:11:36.450 --> 00:11:39.210\nraid ten, those are some of\nthe different options that you'll see\n\n248\n00:11:39.210 --> 00:11:41.450\nthat change it from linear\nto a different mode, right.\n\n249\n00:11:41.450 --> 00:11:43.880\nSo there are a few other\nmodes that I'll talk about.\n\n250\n00:11:43.880 --> 00:11:44.467\nA little later on.\n\n251\n00:11:44.467 --> 00:11:47.058\n&gt;&gt; Don,\nSSM is supposed to be a fully featured and\n\n252\n00:11:47.058 --> 00:11:50.120\nfully functional type of\nstorage management system.\n\n253\n00:11:50.120 --> 00:11:56.080\nWhat else can we do with it other than\njust create the LVM groups and stuff?\n\n254\n00:11:56.080 --> 00:11:58.300\n&gt;&gt; So we can resize them, right?\n\n255\n00:11:58.300 --> 00:12:01.850\nSo resizing we saw in I don't know,\none of the episodes.\n\n256\n00:12:01.850 --> 00:12:04.030\nAnd there were a lot of steps\ninvolved with resizing right,\n\n257\n00:12:04.030 --> 00:12:08.000\nwhere you had to stretch out the volume\ngroup which I guess we kind of just did.\n\n258\n00:12:08.000 --> 00:12:09.840\nWe had to stretch out the logical volume.\n\n259\n00:12:09.840 --> 00:12:12.370\nThen we had to stretch\nout the partition itself.\n\n260\n00:12:12.370 --> 00:12:14.210\nYou had to do several different steps.\n\n261\n00:12:14.210 --> 00:12:15.890\nWe can do it from the SSM.\n\n262\n00:12:15.890 --> 00:12:20.240\nI can just say, ssm resize.\n\n263\n00:12:20.240 --> 00:12:21.560\nI can specify the size.\n\n264\n00:12:21.560 --> 00:12:23.780\nI'm gonna add 100 GB to the website.\n\n265\n00:12:23.780 --> 00:12:27.380\nSo the website right\nnow is 100 GB in size.\n\n266\n00:12:27.380 --> 00:12:29.620\nI'm gonna add another 100 GB to it.\n\n267\n00:12:29.620 --> 00:12:32.936\nAnd when I do that, I just need to tell\nit who it is that I'm adding it to.\n\n268\n00:12:32.936 --> 00:12:36.810\nWhich is /dev/vg1/website, right?\n\n269\n00:12:36.810 --> 00:12:40.150\nI'm not telling it to stretch the logical\nvolume or the partition or whatever,\n\n270\n00:12:40.150 --> 00:12:42.670\nI'm just saying just do it.\n\n271\n00:12:42.670 --> 00:12:43.600\n&gt;&gt; Just do that.\n\n272\n00:12:43.600 --> 00:12:45.490\n&gt;&gt; Don't bother me with the commands.\n\n273\n00:12:45.490 --> 00:12:48.540\nAnd when you run it,\nthere it goes, it runs that check.\n\n274\n00:12:48.540 --> 00:12:54.440\nAnd if we pull up our volume list again\nI can see that it's now 200 GB in size.\n\n275\n00:12:54.440 --> 00:13:00.180\nNow notice, my file system\nsize is still 99.95 GB right.\n\n276\n00:13:00.180 --> 00:13:04.970\nSame problem that we had when we did\nit through the lvresize command.\n\n277\n00:13:04.970 --> 00:13:08.600\nIt resized the logical volume,\nit didn't resize the file system.\n\n278\n00:13:08.600 --> 00:13:11.740\nAnd you're probably thinking, gosh,\nwhy didn't they automate that,\n\n279\n00:13:11.740 --> 00:13:14.110\nthat's easy enough,\nthey can see the file system there.\n\n280\n00:13:14.110 --> 00:13:16.810\nAnd the main reason is that\nwhen you resize file systems,\n\n281\n00:13:16.810 --> 00:13:18.770\na lot of times you an get\ninconsistencies in there.\n\n282\n00:13:18.770 --> 00:13:22.600\nAnd so, what you're supposed to\ndo is resize the file system, and\n\n283\n00:13:22.600 --> 00:13:27.360\nthen unmount it and while it's unmounted,\nrun a file system check on it.\n\n284\n00:13:27.360 --> 00:13:29.240\nCheck its integrity, and\nthen bring it back online.\n\n285\n00:13:29.240 --> 00:13:31.120\nAnd so, it doesn't want to do that.\n\n286\n00:13:31.120 --> 00:13:33.590\nIt doesn't wanna bring it offline,\nwhich is why the SSM doesn't go that far.\n\n287\n00:13:33.590 --> 00:13:37.410\n&gt;&gt; So resizing is really no small thing,\neven though it's not that difficult to do?\n\n288\n00:13:37.410 --> 00:13:38.650\n&gt;&gt; Right, absolutely.\n\n289\n00:13:38.650 --> 00:13:39.500\nAnd there is risk.\n\n290\n00:13:39.500 --> 00:13:41.940\nThey always tell you, make sure you\nback up your data before you resize,\n\n291\n00:13:41.940 --> 00:13:43.312\ncuz there are things that could happen.\n\n292\n00:13:43.312 --> 00:13:46.230\nIt's pretty uncommon but they do.\n\n293\n00:13:46.230 --> 00:13:48.620\nAll right, so [COUGH] we kinda did that.\n\n294\n00:13:48.620 --> 00:13:50.750\nWhat are some other things we could do?\n\n295\n00:13:52.070 --> 00:13:54.380\nIf I wanted to check that consistency,\nright?\n\n296\n00:13:54.380 --> 00:13:55.680\nI would need to unmount the disk.\n\n297\n00:13:55.680 --> 00:14:00.930\nSo let's say that I went ahead and\ndid the resize 2fs and resized the thing.\n\n298\n00:14:00.930 --> 00:14:07.060\nI would need to unmount/website, which if\nI sudo would work just a little better,\n\n299\n00:14:07.060 --> 00:14:12.460\nand from there I can still use the ssm\nto actually run the check on it.\n\n300\n00:14:12.460 --> 00:14:19.160\nSo I can say, ssm check/dev/vg1/website\nand it will run the consistently\n\n301\n00:14:19.160 --> 00:14:24.530\ncheck on it so I don't have to\nremember the fsck format or whatever.\n\n302\n00:14:24.530 --> 00:14:31.750\nIf there's different file systems, then\nI'm not gonna run fsck on a btrfs system.\n\n303\n00:14:31.750 --> 00:14:34.280\nWell, unless I've got it linked, but\nthere's a different utility we use for\n\n304\n00:14:34.280 --> 00:14:35.280\nchecking those.\n\n305\n00:14:35.280 --> 00:14:36.970\nThis will make sure it uses\nthe appropriate utility.\n\n306\n00:14:36.970 --> 00:14:39.610\nSo it's gonna run through and\nit's gonna do that integrity check.\n\n307\n00:14:39.610 --> 00:14:43.110\nAnd you'll see it runs through\nthe seven phases, checks it out.\n\n308\n00:14:43.110 --> 00:14:46.000\nEverything looks good,\nwe can mount it back online again.\n\n309\n00:14:46.000 --> 00:14:50.710\nSo those are some of the different\nthings we can do just as we try and\n\n310\n00:14:50.710 --> 00:14:52.350\nget all this stuff running the right way.\n\n311\n00:14:52.350 --> 00:14:54.540\nLet me put this back online.\n\n312\n00:14:54.540 --> 00:14:56.780\nOr you know actually,\nlet me just leave it off.\n\n313\n00:14:57.880 --> 00:15:00.880\nLet's say that I wanted to create\na thin provision disk, right.\n\n314\n00:15:00.880 --> 00:15:03.490\nWe saw thin provisioning\nin the snapshot episode,\n\n315\n00:15:03.490 --> 00:15:06.250\ncuz thin provision was kind of\nimportant for snapshotted stuff.\n\n316\n00:15:06.250 --> 00:15:09.770\nSo if I want to create\na thin provision one.\n\n317\n00:15:09.770 --> 00:15:13.350\nLet me ditch,\nno I'll keep the website I guess.\n\n318\n00:15:13.350 --> 00:15:15.020\nLet me put this back.\n\n319\n00:15:15.020 --> 00:15:17.971\nI'm going back and forth in my\nmind here on what I want to do.\n\n320\n00:15:17.971 --> 00:15:18.510\n&gt;&gt; So indecisive.\n[LAUGH]\n\n321\n00:15:18.510 --> 00:15:19.138\n&gt;&gt; So, let me,\n\n322\n00:15:19.138 --> 00:15:22.330\noops, I guess I have to kind\nof tell it where to go.\n\n323\n00:15:22.330 --> 00:15:23.350\nThere, all right.\n\n324\n00:15:23.350 --> 00:15:25.480\nLet's say I wanna create\nanother folder and\n\n325\n00:15:25.480 --> 00:15:26.740\nI want this one to be thin provisioned.\n\n326\n00:15:26.740 --> 00:15:30.550\nSo I'm gonna create one for my images that\nI wanna be stored as part of the website.\n\n327\n00:15:30.550 --> 00:15:32.090\nSo I'm gonna make a directory.\n\n328\n00:15:32.090 --> 00:15:33.920\nActually I don't even have to do that.\n\n329\n00:15:33.920 --> 00:15:37.060\nI can have it created during the process.\n\n330\n00:15:37.060 --> 00:15:40.320\nSo I'm gonna use the ssm, and\nI'm gonna create a folder for\n\n331\n00:15:40.320 --> 00:15:42.260\nmy images, and\nI'm gonna do a thin provision.\n\n332\n00:15:42.260 --> 00:15:44.650\nSo I'm gonna say ssm create.\n\n333\n00:15:44.650 --> 00:15:48.220\nI'm going to do a size, I'll just\ndo 1 gig on this, nice and small.\n\n334\n00:15:48.220 --> 00:15:51.032\nI'm going to do --virtual size, right?\n\n335\n00:15:51.032 --> 00:15:54.890\nBecause remember in a thin provision one,\nyou specify that virtual size and\n\n336\n00:15:54.890 --> 00:15:57.134\nit goes inside of a pool\nthat has a real size.\n\n337\n00:15:57.134 --> 00:15:58.644\nNow, where's my pool?\n\n338\n00:15:58.644 --> 00:15:59.718\nI don't have one.\n\n339\n00:15:59.718 --> 00:16:02.722\nWell I do, I have vg1, it's a pool.\n\n340\n00:16:02.722 --> 00:16:06.766\nI didn't tell it the pool was gonna be\nused for thin provisioning though, did I?\n\n341\n00:16:06.766 --> 00:16:07.600\nThis will sort it out.\n\n342\n00:16:07.600 --> 00:16:09.390\n&gt;&gt; [LAUGH]\n&gt;&gt; It'll fix it for us.\n\n343\n00:16:09.390 --> 00:16:12.153\nSo I'm gonna say, --virtual size, and\n\n344\n00:16:12.153 --> 00:16:15.315\nmaybe I'll make that virtual size 1T,\nright?\n\n345\n00:16:15.315 --> 00:16:18.320\nSo I'm gonna go massive\non that virtual size.\n\n346\n00:16:18.320 --> 00:16:23.270\nWell when I do this, the pool size\nis gonna make sure it's got that 1\n\n347\n00:16:23.270 --> 00:16:25.280\ngig that's gonna be able to contain it.\n\n348\n00:16:25.280 --> 00:16:28.800\nMy virtual size might be\nbigger than my pool size.\n\n349\n00:16:28.800 --> 00:16:31.194\nMy pool size is 500 gigs, right?\n\n350\n00:16:31.194 --> 00:16:32.879\nI think no, what did I make our pool size?\n\n351\n00:16:32.879 --> 00:16:36.759\nNow I've forgotten where the pool size is,\nbut I think it's 500 gigs is what I did or\n\n352\n00:16:36.759 --> 00:16:38.354\nlet me cheat here, 100 gigs.\n\n353\n00:16:38.354 --> 00:16:39.640\nI know, so I did 100 gigs.\n\n354\n00:16:39.640 --> 00:16:43.129\nI'm well beyond that, that's okay,\ncuz I'm thin provisioned.\n\n355\n00:16:43.129 --> 00:16:46.222\nBut what happens if I copy\nmore than 100 gigs into here?\n\n356\n00:16:46.222 --> 00:16:47.201\nIt's not gonna let me.\n\n357\n00:16:47.201 --> 00:16:50.232\nThe disk will effectively become read\nonly and usually your system will crash.\n\n358\n00:16:50.232 --> 00:16:51.876\n&gt;&gt; [LAUGH]\n&gt;&gt; So that's not good.\n\n359\n00:16:51.876 --> 00:16:55.826\nBut I could always add more\nstorage to the pool later on and\n\n360\n00:16:55.826 --> 00:16:58.140\ngrow it as my regular data grows.\n\n361\n00:16:58.140 --> 00:16:59.710\nSo I'm just gonna set it\nto one terabyte here.\n\n362\n00:16:59.710 --> 00:17:02.060\nOne reason we might do this is\n\n363\n00:17:02.060 --> 00:17:04.920\nit's kind of a pain to resize\nthe file system, isn't it?\n\n364\n00:17:04.920 --> 00:17:07.660\nWell here, the file system\nwill already be one terabyte.\n\n365\n00:17:07.660 --> 00:17:10.710\nThe underlying storage won't be, so\nI can grow the underlying storage and\n\n366\n00:17:10.710 --> 00:17:12.740\nnever have to change my file system.\n\n367\n00:17:12.740 --> 00:17:16.468\nAnd now I don't have to worry about that\nintegrity check and taking it offline, and\n\n368\n00:17:16.468 --> 00:17:17.063\nall of that.\n\n369\n00:17:17.063 --> 00:17:19.412\nSo this kind of solves those problems.\n\n370\n00:17:19.412 --> 00:17:21.452\nSo I'm gonna go one terabyte on\nthis tricky, we're going big.\n\n371\n00:17:21.452 --> 00:17:22.374\n&gt;&gt; You're a thinking man, Don Pezet.\n\n372\n00:17:22.374 --> 00:17:23.073\n&gt;&gt; I know.\n\n373\n00:17:23.073 --> 00:17:25.464\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm gonna call this one, images,\n\n374\n00:17:25.464 --> 00:17:26.155\nlike that.\n\n375\n00:17:26.155 --> 00:17:30.296\nI'm gonna give it a file system type,\nwe're going pretty big on this one at\n\n376\n00:17:30.296 --> 00:17:33.530\na terabyte, so\nI'm just gonna stick with xfs on this one.\n\n377\n00:17:34.560 --> 00:17:37.739\nAlthough ext4 would do fine with it,\nbut I'll stick with xfs.\n\n378\n00:17:37.739 --> 00:17:42.380\nI'm gonna do the volume group one\nthat I've already got in place.\n\n379\n00:17:42.380 --> 00:17:46.510\nAnd I'm gonna mount it to\n/images which doesn't exist.\n\n380\n00:17:46.510 --> 00:17:50.069\nSo when I run that, it's actually having\nto do a lot of work for me, right?\n\n381\n00:17:50.069 --> 00:17:55.953\nBecause it's having to update the pool to\nmake sure that it marks it to allow for\n\n382\n00:17:55.953 --> 00:17:57.836\nthe thin provisioning.\n\n383\n00:17:57.836 --> 00:18:00.388\nAnd it's got create a virtual disk\nthat's considered massive, and\n\n384\n00:18:00.388 --> 00:18:01.319\nit's gonna do all that.\n\n385\n00:18:01.319 --> 00:18:06.186\nIt's kind of running through the process,\nand I'm even getting a warning right here,\n\n386\n00:18:06.186 --> 00:18:09.757\nthe sum of all thin volume exceeds\nthe thin pool that had it made.\n\n387\n00:18:09.757 --> 00:18:13.510\nAnd so I've got that one gig\npool that I just made, right?\n\n388\n00:18:13.510 --> 00:18:17.193\nWhen I specified that size up there\nof one gig, I'm well beyond it.\n\n389\n00:18:17.193 --> 00:18:19.231\nAs long as I have less than a gig\nof data in there, I'll be fine.\n\n390\n00:18:19.231 --> 00:18:21.077\nBut when I start getting beyond that,\nwe're gonna be in trouble.\n\n391\n00:18:21.077 --> 00:18:23.515\nSo I'll need to grow that pool over time.\n\n392\n00:18:23.515 --> 00:18:29.173\nAnd so it made that vg1_thin001 pool\nin the side of the volume group one,\n\n393\n00:18:29.173 --> 00:18:32.230\nvolume group that I made earlier.\n\n394\n00:18:32.230 --> 00:18:35.930\nAnd now that's up,\nI can let it create that directory.\n\n395\n00:18:35.930 --> 00:18:42.795\nAnd now If I run mount, I can see where\nimages is mounted right here, vg1- images.\n\n396\n00:18:42.795 --> 00:18:50.670\nAnd if I do a ssm list volumes,\nI can see images is mounted.\n\n397\n00:18:50.670 --> 00:18:55.198\nI can spot that it currently.\n\n398\n00:18:55.198 --> 00:18:57.146\nWell my file system only went to 500 megs.\n\n399\n00:18:57.146 --> 00:19:01.295\nWonder what it did there, didn't block out\nmy whole terabyte on that one, did it?\n\n400\n00:19:01.295 --> 00:19:02.653\nSo it grabbed part of it.\n\n401\n00:19:02.653 --> 00:19:06.172\nI may have had a bad syntax in there,\nbut it's got it recognized.\n\n402\n00:19:06.172 --> 00:19:07.597\nIt did mount it, to bring it online.\n\n403\n00:19:07.597 --> 00:19:11.381\nIt's showing its thin provisioned,\nand the pool itself is showing as\n\n404\n00:19:11.381 --> 00:19:15.360\nthat full terrabyte, so I can always\nthrow the file system if needed.\n\n405\n00:19:15.360 --> 00:19:16.790\nI must have done something wrong there.\n\n406\n00:19:16.790 --> 00:19:18.990\nBut basically it's laid it out,\nand it's in place.\n\n407\n00:19:18.990 --> 00:19:21.105\nAnd instead of showing as linear,\nit shows as thin.\n\n408\n00:19:21.105 --> 00:19:23.146\nThat's up and going, right?\n\n409\n00:19:23.146 --> 00:19:26.403\nSo pretty effective way of getting\nthat stuff jumped in there.\n\n410\n00:19:26.403 --> 00:19:28.254\n&gt;&gt; Now Don, in a previous episode,\n\n411\n00:19:28.254 --> 00:19:31.240\nwe saw the awesomeness of\nour little Snappy program.\n\n412\n00:19:31.240 --> 00:19:32.421\nThat was very cool, right?\n\n413\n00:19:32.421 --> 00:19:33.752\nFor doing snapshots, and\n\n414\n00:19:33.752 --> 00:19:37.028\nI vaguely remember you saying\nthat SSM would also do snapshots.\n\n415\n00:19:37.028 --> 00:19:39.434\n&gt;&gt; Yep, absolutely, and\nit's even easier here.\n\n416\n00:19:39.434 --> 00:19:43.935\nIf you don't have snapper installed,\nit actually takes care of that.\n\n417\n00:19:43.935 --> 00:19:49.540\nSo on my system here I removed snapper,\nso I don't have it.\n\n418\n00:19:49.540 --> 00:19:53.160\nIf you have it, that's fine, but ssm\nwill take care of a different back end.\n\n419\n00:19:53.160 --> 00:19:57.395\nSo with ssm, you can come in and\nwith this say, ssm snapshot, and\n\n420\n00:19:57.395 --> 00:20:00.639\nthen you can specify who\nit is you wanna snapshot.\n\n421\n00:20:00.639 --> 00:20:04.311\nSo like /devs/vg1/website.\n\n422\n00:20:04.311 --> 00:20:08.955\nNow when I go to snapshot website,\nthere's something interesting here.\n\n423\n00:20:08.955 --> 00:20:11.260\nI didn't make websites\nhas thin provisioned.\n\n424\n00:20:11.260 --> 00:20:17.190\nIf you look up here in the volume list\n/website, is linear not thin, right?\n\n425\n00:20:17.190 --> 00:20:20.620\nAnd I said in the snapshot episode,\nwe really need to be thin provisioned.\n\n426\n00:20:20.620 --> 00:20:22.380\nWell that was because of\nhow snapper works, and\n\n427\n00:20:22.380 --> 00:20:23.940\nthe way that it expects it to be.\n\n428\n00:20:23.940 --> 00:20:28.043\nBut here, it's not gonna use snapper,\nit's gonna use its own subsystem,\n\n429\n00:20:28.043 --> 00:20:30.684\nit's own little backend that it's got for\nXFS.\n\n430\n00:20:30.684 --> 00:20:34.376\nAnd XFS is a lot more flexible than EXT4.\n\n431\n00:20:34.376 --> 00:20:39.600\nAnd so what it'll do is, it'll create a\nsnapshot that is indeed thin provisioned.\n\n432\n00:20:39.600 --> 00:20:43.171\nBut the base drive won't be, so it's kind\nof an interesting way of handling that.\n\n433\n00:20:43.171 --> 00:20:46.730\nBut I can run this, and it's gonna\njump right out there, and create that.\n\n434\n00:20:46.730 --> 00:20:49.576\nAnd see how I did get a warning\nabout my snapshot size,\n\n435\n00:20:49.576 --> 00:20:53.000\nbecause I do have thin provision\ndiscs that are a little too big.\n\n436\n00:20:53.000 --> 00:20:55.502\nAnd so\nthat's that warning from my images folder.\n\n437\n00:20:55.502 --> 00:21:00.246\nBut then it created a new snapshot\nlogical volume right there,\n\n438\n00:21:00.246 --> 00:21:02.670\nand got that put in place for me.\n\n439\n00:21:02.670 --> 00:21:07.972\nAnd I didn't have to worry about being in\nan inconsistent state, it deleted for me.\n\n440\n00:21:07.972 --> 00:21:11.687\nAnd if I pull out my volume list,\nand I take a look in here.\n\n441\n00:21:11.687 --> 00:21:13.618\nI've got my web site and my images and\n\n442\n00:21:13.618 --> 00:21:16.055\nit's actually hiding\nthat snapshot from me.\n\n443\n00:21:16.055 --> 00:21:20.547\nBecause what's a snapshot, I dont need\nto see it, that's kind of hidden away.\n\n444\n00:21:20.547 --> 00:21:25.398\nIf I need to see the snapshot we just need\nto it that, so if I do ssm list snapshots.\n\n445\n00:21:25.398 --> 00:21:27.417\nI just I was doing ssm list volumes,\nand so\n\n446\n00:21:27.417 --> 00:21:30.782\nit doesn't treat the snapshot as\na volume it treats it as a snapshot.\n\n447\n00:21:30.782 --> 00:21:32.600\nAnd so there it is, I can see it.\n\n448\n00:21:32.600 --> 00:21:37.093\nI mean it is a volume,\nit's /dev/vg-1/snap, and then the date and\n\n449\n00:21:37.093 --> 00:21:39.608\ntime stamp right there in the filename.\n\n450\n00:21:39.608 --> 00:21:42.129\nIt's got the origin of the website,\nand there it is.\n\n451\n00:21:42.129 --> 00:21:46.039\nEven that snapshot is listed as\nlinear as it had grabbed a clone.\n\n452\n00:21:46.039 --> 00:21:52.840\nAnd that's because I didn't have\na thin provision disk originally.\n\n453\n00:21:52.840 --> 00:21:55.893\nSo if I take a snapshot of\na non thin provision one,\n\n454\n00:21:55.893 --> 00:21:58.307\nit's gonna do it as a linear like this.\n\n455\n00:21:58.307 --> 00:22:00.565\nAnd there's actually a way\nto override that and\n\n456\n00:22:00.565 --> 00:22:03.110\nmake it where it ends up\nbeing a thin provision clone.\n\n457\n00:22:03.110 --> 00:22:07.070\nBut usually we're gonna do\nthin provision on these.\n\n458\n00:22:07.070 --> 00:22:12.020\nBut it sorted that out,\nI got my snapshot and we're in business.\n\n459\n00:22:12.020 --> 00:22:14.380\nRolling back a snapshot\nis a little bit weird.\n\n460\n00:22:15.480 --> 00:22:17.722\nSSM is still in development, and so\n\n461\n00:22:17.722 --> 00:22:22.978\nthey haven't quite gotten to integrating\nthe roll back into the snapshot system.\n\n462\n00:22:22.978 --> 00:22:26.740\nARI into SSM, so there's not really\na SSM command for rolling one back.\n\n463\n00:22:26.740 --> 00:22:28.030\nBut let me just show you\nhow to do it real quick,\n\n464\n00:22:28.030 --> 00:22:29.730\nin case you run into this in real life.\n\n465\n00:22:29.730 --> 00:22:32.080\nIf I make some changes to that folder or\nwhatever and\n\n466\n00:22:32.080 --> 00:22:35.100\nI need to roll it back,\nI just have one snapshot.\n\n467\n00:22:35.100 --> 00:22:37.305\nI didn't do a pre and a post,\nand all that other stuff.\n\n468\n00:22:37.305 --> 00:22:39.125\nI don't even have a snapper installed, so\n\n469\n00:22:39.125 --> 00:22:42.230\nI can't even pull up the snapper\nconfigs and all that.\n\n470\n00:22:42.230 --> 00:22:43.450\nThat's okay.\n\n471\n00:22:43.450 --> 00:22:47.385\nWhat this is,\nis technically another logical volume.\n\n472\n00:22:47.385 --> 00:22:49.021\nIt's just special, it's weird.\n\n473\n00:22:49.021 --> 00:22:51.220\nIf you try and mount it,\nthe file system is corrupt.\n\n474\n00:22:51.220 --> 00:22:54.030\nBecause it doesn't have everything in it,\nit's a snapshot.\n\n475\n00:22:54.030 --> 00:22:59.092\nAnd so we have a utility called lvconvert,\nand eventually lvconvert\n\n476\n00:22:59.092 --> 00:23:04.162\nwill become part of SSM, and\nthen we won't have to worry about this.\n\n477\n00:23:04.162 --> 00:23:06.825\nBut in the meantime we can still use it,\n\n478\n00:23:06.825 --> 00:23:11.769\nif we're gonna roll back that website,\nwe need to unmount the website.\n\n479\n00:23:11.769 --> 00:23:14.603\nSo I had to to kind of take that out,\nand remember when we used snapper,\n\n480\n00:23:14.603 --> 00:23:16.538\nwe didn't have to unmpount anything,\ndid we?\n\n481\n00:23:16.538 --> 00:23:19.331\nWe were able to roll that right back,\nbut here we're gonna have to unmount it.\n\n482\n00:23:19.331 --> 00:23:22.513\nAnd here we can use lvconvert, and\n\n483\n00:23:22.513 --> 00:23:27.134\nwe can say merge, and\nthen what that snapshot is.\n\n484\n00:23:27.134 --> 00:23:30.353\nSo then in my case, it is that guy.\n\n485\n00:23:30.353 --> 00:23:33.380\nI use tab autocomplete to save\nmyself a little brain power, but\n\n486\n00:23:33.380 --> 00:23:34.587\nit'll reach out there.\n\n487\n00:23:34.587 --> 00:23:38.424\nAnd what it's doing is it's taking\nthat effectively corrupt snapshot.\n\n488\n00:23:38.424 --> 00:23:40.452\nThe one that just has the changes and\n\n489\n00:23:40.452 --> 00:23:44.788\nmerging those back in to the source to\nput everything back to way that it was.\n\n490\n00:23:44.788 --> 00:23:47.518\nSo it's not that hard but\nI couldn't use SSM to do it,\n\n491\n00:23:47.518 --> 00:23:50.874\nI had to use lvconvert to do it, and\nI had to take the disk off line.\n\n492\n00:23:50.874 --> 00:23:54.733\nSo that will change over time SSM will\nevolve, and it'll integrate that, and\n\n493\n00:23:54.733 --> 00:23:55.792\nbecome a lot better.\n\n494\n00:23:55.792 --> 00:23:58.649\nBut for now,\nit's just a little bit trickier,\n\n495\n00:23:58.649 --> 00:24:01.662\nso you might just choose\nto use snapper directly.\n\n496\n00:24:01.662 --> 00:24:05.854\nOr really just kind of depends on your use\ncase scenario which one you wanna use.\n\n497\n00:24:05.854 --> 00:24:08.848\n&gt;&gt; So SSM is, has a lot of features\nthat are prime time ready, but\n\n498\n00:24:08.848 --> 00:24:11.739\nthere are also some features\nthat aren't quite there yet.\n\n499\n00:24:11.739 --> 00:24:14.728\n&gt;&gt; Yeah, absolutely, and I guess\nthat's gonna be true, really anything.\n\n500\n00:24:16.415 --> 00:24:19.805\nAll right, if we wanna get rid of stuff,\nremove some of the things that we've done,\n\n501\n00:24:19.805 --> 00:24:23.135\nwe can just come in and we can say well,\nI need to unmount everything.\n\n502\n00:24:24.535 --> 00:24:26.065\nLeft website unmounted, right,\n\n503\n00:24:26.065 --> 00:24:30.605\nyeah, and I need to unmount images also,\nso let me get rid of those guys.\n\n504\n00:24:30.605 --> 00:24:34.090\nGood, all right, so\nI'm just unmounting those disks.\n\n505\n00:24:34.090 --> 00:24:36.626\nAnd I'm gonna get rid of those disks that\nwe made cuz I wanna show you guys kind of\n\n506\n00:24:36.626 --> 00:24:37.485\na neat little trick here.\n\n507\n00:24:37.485 --> 00:24:40.070\nI know I'm low on time, but\nI think I can get to it.\n\n508\n00:24:40.070 --> 00:24:44.110\nSo I'm just gonna do a quick ssm remove.\n\n509\n00:24:44.110 --> 00:24:51.680\nAnd I wanna remove images and I wanna\nremove the website logical volumes.\n\n510\n00:24:51.680 --> 00:24:54.622\nThe fastest way to do that, is to actually\ntell it to remove the volume group.\n\n511\n00:24:54.622 --> 00:24:56.190\nJust get rid of the volume group.\n\n512\n00:24:56.190 --> 00:24:59.430\nAnd when it does that, it's gonna start\nprompting me for each individual one, and\n\n513\n00:24:59.430 --> 00:25:01.620\nI can pick and\nchoose what I wanna get rid of.\n\n514\n00:25:01.620 --> 00:25:04.510\nIf I leave at least one in there,\nthe volume group will stay, so\n\n515\n00:25:04.510 --> 00:25:05.850\nyou don't actually\nremove the volume group.\n\n516\n00:25:05.850 --> 00:25:08.570\nBut if I choose to remove them all,\nit'll take everything out.\n\n517\n00:25:08.570 --> 00:25:11.070\nSo, I'm just gonna run\nthrough that real quick,\n\n518\n00:25:11.070 --> 00:25:15.170\nand I'm just saying yes to each of\nthese to get rid of them, and so\n\n519\n00:25:15.170 --> 00:25:20.590\nthat's gonna pull each of those out,\nand so now I can do a ssm list volumes.\n\n520\n00:25:21.840 --> 00:25:23.670\nAnd there we go.\n\n521\n00:25:23.670 --> 00:25:27.093\nSo VG1 completely gone,\nbecause I didn't leave any volumes in it.\n\n522\n00:25:27.093 --> 00:25:27.670\nBut I'm not worried.\n\n523\n00:25:27.670 --> 00:25:29.150\nNormally, I'd be like,\nnow that's annoying.\n\n524\n00:25:29.150 --> 00:25:32.680\nNow I've got to go on create VG1 again,\nand add the drives to it, but remember if\n\n525\n00:25:32.680 --> 00:25:36.220\nsomething's gone, it'll just recreate\nthem and put them right back again.\n\n526\n00:25:36.220 --> 00:25:39.012\nSo I don't have to sweat that so much.\n\n527\n00:25:39.012 --> 00:25:44.120\nAll right, so what I wanna do now is I\nwanna create website and images again.\n\n528\n00:25:44.120 --> 00:25:47.928\nBut this time, I'm gonna make one of them,\nRAID 0, and one of them, RAID 1.\n\n529\n00:25:47.928 --> 00:25:51.540\nI'm gonna tell it, don't go linear and\njust write one disk then the next.\n\n530\n00:25:51.540 --> 00:25:53.280\nStripe across the disks.\n\n531\n00:25:53.280 --> 00:25:56.400\nTake advantage of the fact that I've got\nmultiple disks to increase my disk I/O.\n\n532\n00:25:56.400 --> 00:26:00.210\nSo I'm gonna say ssm,\nwell I'm gonna sudo first.\n\n533\n00:26:00.210 --> 00:26:04.150\nssm create --raid.\n\n534\n00:26:04.150 --> 00:26:09.130\nAnd then the RAID options that you choose\nare gonna vary based on your file system.\n\n535\n00:26:09.130 --> 00:26:10.820\nSome file systems for more than others.\n\n536\n00:26:10.820 --> 00:26:14.490\nI'm using XFS,\nmy choices are 0, 1, and 10.\n\n537\n00:26:14.490 --> 00:26:17.150\nAnd I know that because it's in\nthe documentation for the SSM.\n\n538\n00:26:17.150 --> 00:26:19.250\nSo if you go and\nread a SSM, it'll tell you.\n\n539\n00:26:19.250 --> 00:26:23.570\nBut I'm gonna raid 0 for\nthis one, for my website.\n\n540\n00:26:23.570 --> 00:26:26.610\nAnd that the rest of the commands, pretty\nmuch the same as what we did before.\n\n541\n00:26:26.610 --> 00:26:30.070\nThe difference here just being that\nI am telling it I want to do RAID.\n\n542\n00:26:30.070 --> 00:26:33.800\nAnd so I'm gonna give it a file system.\n\n543\n00:26:35.380 --> 00:26:38.121\nSo I'll say, fstype.\n\n544\n00:26:38.121 --> 00:26:40.240\nWhich is gonna be xfs.\n\n545\n00:26:40.240 --> 00:26:44.332\nI'm gonna do a pool called vg1, and\n\n546\n00:26:44.332 --> 00:26:49.900\nI'm gonna do dev/sdb, and /dev/sdc.\n\n547\n00:26:49.900 --> 00:26:53.190\nAnd I want it mounted all to website,\nokay.\n\n548\n00:26:53.190 --> 00:26:55.870\nSo it's gonna run and\nit's gonna create that.\n\n549\n00:26:55.870 --> 00:27:00.290\nIt's looking and it's actually seeing\na XFS signature detected which means\n\n550\n00:27:00.290 --> 00:27:02.400\nwe already had some data there.\n\n551\n00:27:02.400 --> 00:27:06.290\nYeah, that's my fault, so\nI'll just say yes to override it, okay?\n\n552\n00:27:06.290 --> 00:27:07.960\nI didn't delete the website folder.\n\n553\n00:27:07.960 --> 00:27:08.960\nSo it was still there and\n\n554\n00:27:08.960 --> 00:27:11.690\nit had a signature sitting in the folder\nfrom where I had mounted to it before.\n\n555\n00:27:11.690 --> 00:27:13.510\nSo that's fine, I just overrode it.\n\n556\n00:27:13.510 --> 00:27:18.110\nAll right, I'm gonna do the same thing,\nexcept this time I'm gonna do images.\n\n557\n00:27:19.230 --> 00:27:24.276\nAnd so I'm gonna rename these images, and\non this one, instead of doing raid 0,\n\n558\n00:27:24.276 --> 00:27:29.560\nwhich raid 0 is a stripe, great for\nperformance, provides no redundancy.\n\n559\n00:27:29.560 --> 00:27:32.270\nBut for my images, I'm gonna do raid 1,\nraid 1 is a mirror, so\n\n560\n00:27:32.270 --> 00:27:36.540\nI'm gonna mirror my data between\nthese two discs, between sdb and sdc.\n\n561\n00:27:36.540 --> 00:27:38.032\nAnd this gives me redundancy.\n\n562\n00:27:38.032 --> 00:27:41.118\nIt doesn't help performance one bit,\nbut it gives me redundancy.\n\n563\n00:27:41.118 --> 00:27:44.237\nThis is all in software, so if you\nhave hardware RAID, that's way better,\n\n564\n00:27:44.237 --> 00:27:45.870\ndefinitely do it in hardware, right?\n\n565\n00:27:45.870 --> 00:27:49.228\nBut for software,\nwe can do it right through here.\n\n566\n00:27:49.228 --> 00:27:53.860\nAnd, shoot, I forgot to specify size,\nwhen you don't specify size,\n\n567\n00:27:53.860 --> 00:27:55.800\nit gives you the whole stinking thing.\n\n568\n00:27:55.800 --> 00:27:58.710\nAnd so that's what it did here and\nnow I've used up all my space.\n\n569\n00:27:59.960 --> 00:28:03.380\nSo I can't create another one,\nI should have specified a size.\n\n570\n00:28:03.380 --> 00:28:04.720\n&gt;&gt; Good job, Don.\n&gt;&gt; Yeah, way to go Don.\n\n571\n00:28:04.720 --> 00:28:10.960\nSo let me see if maybe there's just enough\nthat I can eek something in there or\n\n572\n00:28:10.960 --> 00:28:12.610\nactually let's just do this.\n\n573\n00:28:12.610 --> 00:28:13.445\nLet's just remove it.\n\n574\n00:28:13.445 --> 00:28:18.908\nAnd so I'll do a quick ssm remove vg1.\n\n575\n00:28:18.908 --> 00:28:24.652\nAnd unable to remove vg1\nbecause it's in use.\n\n576\n00:28:24.652 --> 00:28:26.908\nWell great,\nthis is just gonna keep going, isn't it?\n\n577\n00:28:26.908 --> 00:28:30.630\nLet's unmount that and we'll remove it.\n\n578\n00:28:30.630 --> 00:28:31.160\nThere we go.\n\n579\n00:28:32.560 --> 00:28:34.250\nAll right.\nAnd then we'll recreate it and this time,\n\n580\n00:28:34.250 --> 00:28:35.710\nI'll be smart enough to specify a size.\n\n581\n00:28:35.710 --> 00:28:38.384\nSo back when I was defining all\nthe different stuff like the name and\n\n582\n00:28:38.384 --> 00:28:41.277\nthe file system type and all that,\nI should have done just a quick size.\n\n583\n00:28:41.277 --> 00:28:43.610\nI'll just make it 10 gigs and there we go.\n\n584\n00:28:43.610 --> 00:28:46.939\nAll right, so that will leave me enough\nroom so that I can come back and, shoot,\n\n585\n00:28:46.939 --> 00:28:48.550\nI just hit Images, so I can do website.\n\n586\n00:28:48.550 --> 00:28:51.590\nAnd let me just correct that.\n\n587\n00:28:53.490 --> 00:28:55.182\nAnd I'm just gonna tell it to raid 0.\n\n588\n00:28:55.182 --> 00:28:57.964\nAnd there it goes.\n\n589\n00:28:57.964 --> 00:28:59.016\nAll right.\n\n590\n00:28:59.016 --> 00:29:00.300\nSo now I've got them created.\n\n591\n00:29:00.300 --> 00:29:07.460\nAnd if I do a ssm list volumes,\nit'll pop right up.\n\n592\n00:29:07.460 --> 00:29:09.730\nI can see images and website.\n\n593\n00:29:09.730 --> 00:29:12.090\nLet me stretch this out so\nit doesn't wrap.\n\n594\n00:29:13.270 --> 00:29:14.870\nIt's gonna wrap no matter what, isn't it?\n\n595\n00:29:14.870 --> 00:29:16.290\nSo, [LAUGH] I'm just\ntrying to stretch it so\n\n596\n00:29:16.290 --> 00:29:18.400\nit wouldn't do the little\nword wrap one here.\n\n597\n00:29:18.400 --> 00:29:19.780\nIt looks a little cleaner when it doesn't.\n\n598\n00:29:21.790 --> 00:29:23.810\nAnd there we go,\nnow that's what I wanna see.\n\n599\n00:29:23.810 --> 00:29:27.230\nSo now I can see images and\nwebsite, both of them, right here.\n\n600\n00:29:27.230 --> 00:29:31.990\nAnd if I scroll over, I can see I've\ngot raid1, a mirror on this one.\n\n601\n00:29:31.990 --> 00:29:34.540\nAnd I've got RAID 0 or\na striped on this one.\n\n602\n00:29:34.540 --> 00:29:36.970\nSo it's actually set up\nthe RAID configuration for\n\n603\n00:29:36.970 --> 00:29:40.410\nme on the back end,\nin addition to all the LVM stuff.\n\n604\n00:29:40.410 --> 00:29:43.560\nAnd if I had thin provisioned them,\nthen I can start taking snapshots and\n\n605\n00:29:43.560 --> 00:29:44.650\nthat would all be configured too.\n\n606\n00:29:44.650 --> 00:29:48.900\nSo, it really is able to knock out\neverything from those last three episodes,\n\n607\n00:29:48.900 --> 00:29:51.420\nall in one command if we really want to.\n\n608\n00:29:51.420 --> 00:29:53.428\nIt can really do impressive\nthings like that.\n\n609\n00:29:53.428 --> 00:29:55.973\n&gt;&gt; Well SSM is definitely\none stop shopping for\n\n610\n00:29:55.973 --> 00:29:58.527\nour storage management goodness, right?\n\n611\n00:29:58.527 --> 00:30:01.490\n&gt;&gt; [LAUGH]\n&gt;&gt; I'll wrap it into that little ball,\n\n612\n00:30:01.490 --> 00:30:04.760\nbecause it is, it's great,\nthis stuff, being able to do RAID and\n\n613\n00:30:04.760 --> 00:30:08.790\nsetting up partitions and volumes and\ndoing the whole nine yards from one\n\n614\n00:30:08.790 --> 00:30:15.290\nconsole is a much nicer aspect than\nhaving to go through all the rigmarole.\n\n615\n00:30:15.290 --> 00:30:17.700\nOther ways don't work well,\nusing LVM obviously works very well,\n\n616\n00:30:17.700 --> 00:30:18.650\nit's been used for a while.\n\n617\n00:30:19.650 --> 00:30:22.580\nEvery now and then, you gotta check\nan old fdisk for good measure, right,\n\n618\n00:30:22.580 --> 00:30:25.130\nmake sure you don't forget\nwhere you came from.\n\n619\n00:30:25.130 --> 00:30:29.250\nBut using SSM to just handle\neverything saves me time, and\n\n620\n00:30:29.250 --> 00:30:31.710\nthe convenience factor is definitely\nworth the squeeze on that.\n\n621\n00:30:31.710 --> 00:30:34.680\nDon, is there anything else we need to\nknow about SSM before we wrap up the show?\n\n622\n00:30:34.680 --> 00:30:35.450\n&gt;&gt; I think that's about it.\n\n623\n00:30:35.450 --> 00:30:40.520\nDefinitely, if you go to their website,\nthe SSM, it's on SourceForge, I believe.\n\n624\n00:30:40.520 --> 00:30:43.290\nYou can go there and you can see\nall the stuff they're developing.\n\n625\n00:30:43.290 --> 00:30:46.730\nBe aware that Red Hat doesn't go\nwith the latest version of SSM.\n\n626\n00:30:46.730 --> 00:30:47.430\nThey test it out and\n\n627\n00:30:47.430 --> 00:30:52.070\nmake sure it's okay before rolling it out\ninto the RATL distribution, so just get\n\n628\n00:30:52.070 --> 00:30:54.830\nan idea of what's on the horizon, some of\nthe different projects they're working on.\n\n629\n00:30:54.830 --> 00:30:57.290\nThey're constantly rolling new\nthings into SSM on the back end, and\n\n630\n00:30:57.290 --> 00:30:59.370\nit makes it a really flexible tool to use.\n\n631\n00:30:59.370 --> 00:31:02.970\n&gt;&gt; All right, well thank you, Don, and\nwe thank you guys for watching, but\n\n632\n00:31:02.970 --> 00:31:05.700\nit is that time yet\nagain for us to sign off.\n\n633\n00:31:05.700 --> 00:31:08.968\nAnd well, signing off, for ITProTV,\nI've been host, Daniel Lowrie.\n\n634\n00:31:08.968 --> 00:31:09.660\n&gt;&gt; And I'm Don Pezet.\n\n635\n00:31:09.660 --> 00:31:10.483\n&gt;&gt; We'll see you next time.\n\n636\n00:31:10.483 --> 00:31:18.318\n[MUSIC]\n\n637\n00:31:18.318 --> 00:31:20.654\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "193755954"
        },
        {
          "description": "In this episode, Daniel and Don explain the difference between the files systems available in RHEL7 so that you can choose the correct one for your environment. They compare and contrast the EXT2/3/4, XFS, and BTRFS filesystems.",
          "length": "1690",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-3-6-choosing_a_file_system-112816-PGM.00_27_56_00.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-3-6-choosing_a_file_system-112816-PGM.00_27_56_00.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-3-6-choosing_a_file_system-112816-PGM.00_27_56_00.Still001-sm.jpg",
          "title": "Choosing a File System",
          "transcript": "WEBVTT\n\n1\n00:00:00.270 --> 00:00:01.942\nWelcome to ITProTV, I'm your host.\n\n2\n00:00:01.942 --> 00:00:08.280\n[CROSSTALK]\n\n3\n00:00:08.280 --> 00:00:11.999\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:11.999 --> 00:00:13.954\n&gt;&gt; All right, greetings everyone and\n\n5\n00:00:13.954 --> 00:00:16.502\nwelcome to another great\nepisode of ITProTV.\n\n6\n00:00:16.502 --> 00:00:20.620\nI'm your host Daniel Lowry and in today's\nepisode we are continuing on with our\n\n7\n00:00:20.620 --> 00:00:23.151\nRed Hat enterprise Linux\nversion seven series.\n\n8\n00:00:23.151 --> 00:00:26.549\nJoining us back in the studio again to\nlend his expertise on that very topic is\n\n9\n00:00:26.549 --> 00:00:28.102\nour good friend, Mr. Don Pezet.\n\n10\n00:00:28.102 --> 00:00:29.651\nDon, welcome back, sir,\nand how is it today?\n\n11\n00:00:29.651 --> 00:00:30.680\n&gt;&gt; It's going great, Daniel.\n\n12\n00:00:30.680 --> 00:00:31.440\nThanks for having me back.\n\n13\n00:00:31.440 --> 00:00:34.070\nI'm ready to dive right back into\nthe world of Red Hat Enterprise and\n\n14\n00:00:34.070 --> 00:00:34.930\nLinux version seven.\n\n15\n00:00:34.930 --> 00:00:38.537\nSo in this episode, we're gonna be\ntaking a look at file systems and\n\n16\n00:00:38.537 --> 00:00:41.404\nDaniel was actually making\nfun of me before the show.\n\n17\n00:00:41.404 --> 00:00:43.477\nHe said, Don, how many episodes\nare we gonna do on file systems?\n\n18\n00:00:43.477 --> 00:00:45.770\n&gt;&gt; [LAUGH]\n&gt;&gt; We've kinda been going on about this\n\n19\n00:00:45.770 --> 00:00:51.110\nfor a while, and the main reason I wanted\nto spend more time on file systems is that\n\n20\n00:00:51.110 --> 00:00:54.110\nit's an area where I see a lot\nof people make mistakes.\n\n21\n00:00:54.110 --> 00:00:57.240\nI see a lot of people who have deployed\nLinux out there in a production\n\n22\n00:00:57.240 --> 00:01:01.890\nenvironment and\nthey make decisions that are incorrect.\n\n23\n00:01:01.890 --> 00:01:05.880\nAnd it leads to a difficult\nsituation to correct later on.\n\n24\n00:01:05.880 --> 00:01:08.380\nAdjusting your file systems is not\nnecessarily something you wanna\n\n25\n00:01:08.380 --> 00:01:10.600\ndo in a production environment,\nif you can avoid it.\n\n26\n00:01:10.600 --> 00:01:12.723\nSo making the right\ndecisions at the beginning,\n\n27\n00:01:12.723 --> 00:01:14.960\nit's gonna save you a ton\nof time down the road.\n\n28\n00:01:14.960 --> 00:01:18.603\nSo, in our earlier episodes,\nwe focused on things like partitioning and\n\n29\n00:01:18.603 --> 00:01:21.760\nvolume creation, the LVM,\nthe SSM, tools like that.\n\n30\n00:01:21.760 --> 00:01:24.980\nIn this episode, I wanna back up just\na little bit from all these tools and\n\n31\n00:01:24.980 --> 00:01:26.240\nfancy gadgets.\n\n32\n00:01:26.240 --> 00:01:28.850\nAnd just talk about the file\nsystems themselves, right?\n\n33\n00:01:28.850 --> 00:01:33.940\nBecause choosing the right file system is\nsomething that's very easy to get wrong\n\n34\n00:01:33.940 --> 00:01:36.870\nand kind of annoying to fix down the road.\n\n35\n00:01:36.870 --> 00:01:37.730\nI say kind of annoying.\n\n36\n00:01:37.730 --> 00:01:40.580\nThere's some parts where it's actually\nreally easy to change from one\n\n37\n00:01:40.580 --> 00:01:41.370\nfile system to another.\n\n38\n00:01:41.370 --> 00:01:43.390\nThere's other ones where\nit's very difficult.\n\n39\n00:01:43.390 --> 00:01:46.562\nAnd as soon as your get Red Hat involved,\nRed Hat the company,\n\n40\n00:01:46.562 --> 00:01:49.010\nthere's only so\nmuch that they support for us.\n\n41\n00:01:49.010 --> 00:01:51.799\nAnd so there's some scenarios where\nyou're not allowed to migrate from\n\n42\n00:01:51.799 --> 00:01:52.907\none file system to another.\n\n43\n00:01:52.907 --> 00:01:55.178\nYou gonna end up having to\nredo everything from scratch,\n\n44\n00:01:55.178 --> 00:01:58.380\nwhich if we're talking about a massive\ndata store, can really be a headache.\n\n45\n00:01:58.380 --> 00:02:00.880\nSo if we can avoid that, all the better.\n\n46\n00:02:00.880 --> 00:02:04.460\nAnd so I wanna talk a little bit about\neach of the primary file systems supported\n\n47\n00:02:04.460 --> 00:02:06.210\nby Red Hat Enterprise Linux.\n\n48\n00:02:06.210 --> 00:02:09.890\nAnd how we choose which one we wanna use,\nwhy we might pick one over another, and\n\n49\n00:02:09.890 --> 00:02:10.390\nso on.\n\n50\n00:02:10.390 --> 00:02:12.720\nThat's gonna be our focus\nright here in this episode.\n\n51\n00:02:12.720 --> 00:02:14.090\n&gt;&gt; Well, Don, you make a great point,\n\n52\n00:02:14.090 --> 00:02:17.170\nis there is a plethora of\ndifferent file systems for\n\n53\n00:02:17.170 --> 00:02:21.680\nus to choose from inside of Red Hat Linux,\nor any Linux for that matter.\n\n54\n00:02:21.680 --> 00:02:25.814\nWhat would be some of the beginning\nconsiderations that we would need to take\n\n55\n00:02:25.814 --> 00:02:27.507\nin to even begin to choose one?\n\n56\n00:02:27.507 --> 00:02:28.064\n&gt;&gt; All right, so\n\n57\n00:02:28.064 --> 00:02:30.856\n[COUGH] one thing we need to think\nabout is what are the defaults, right?\n\n58\n00:02:30.856 --> 00:02:31.379\n&gt;&gt; Mm-hm.\n\n59\n00:02:31.379 --> 00:02:34.138\n&gt;&gt; Because how do most\nof us install Red Hat?\n\n60\n00:02:34.138 --> 00:02:36.426\nNext, Next, Next, Next,\nNext, Next, done, reboot.\n\n61\n00:02:36.426 --> 00:02:37.179\n&gt;&gt; The right way.\n\n62\n00:02:37.179 --> 00:02:40.239\n[LAUGH]\n&gt;&gt; [LAUGH] And so if you do that, right?\n\n63\n00:02:40.239 --> 00:02:43.838\nIf you just cruise right through\nthe install and go with all the defaults,\n\n64\n00:02:43.838 --> 00:02:47.400\nyou're gonna end up with one file system,\nwhich is the XFS file system.\n\n65\n00:02:47.400 --> 00:02:51.380\nNow that's different from\nRed Hat Enterprise Linux 6 and earlier.\n\n66\n00:02:51.380 --> 00:02:57.220\nIf you did 6 and earlier, you'd have EXT\n4, or even EXT 3, the old EXT file system.\n\n67\n00:02:57.220 --> 00:03:03.860\nSo XFS has replaced EXT as the default\nfile system in Red Hat Enterprise Linux 7.\n\n68\n00:03:03.860 --> 00:03:08.510\nAt the same time, you'll hear a lot of\npeople talking about this new file system,\n\n69\n00:03:08.510 --> 00:03:10.410\nBTRFS, right?\n\n70\n00:03:10.410 --> 00:03:13.620\nAnd now, we got three different ones\nto pick from, which do we want?\n\n71\n00:03:13.620 --> 00:03:18.410\nDo we want EXT, do we want XFS,\ndo we want BTRFS, which one?\n\n72\n00:03:18.410 --> 00:03:21.600\nWell, sadly,\nthere's not an easy answer for it, right?\n\n73\n00:03:22.732 --> 00:03:25.723\nI guess if I had to go for\nwhat I'd call the easy answer,\n\n74\n00:03:25.723 --> 00:03:27.295\nit would be just go with XFS.\n\n75\n00:03:27.295 --> 00:03:28.950\nIt's kinda hard to go wrong with XFS.\n\n76\n00:03:28.950 --> 00:03:31.910\nYou can just cruise through,\npick that one, and run with it.\n\n77\n00:03:31.910 --> 00:03:37.740\nAnd you kinda get the most balanced\nsolution of the ones that are available.\n\n78\n00:03:37.740 --> 00:03:40.530\nBut there are times where EXT is better.\n\n79\n00:03:40.530 --> 00:03:42.490\nThere are times when BTRFS is better.\n\n80\n00:03:42.490 --> 00:03:45.330\nIt's just something we've gotta make\nsure we understand the differences of.\n\n81\n00:03:45.330 --> 00:03:49.860\nSo let's talk a little bit about each one,\nand kind of where they excel, right?\n\n82\n00:03:49.860 --> 00:03:52.655\nEXT, EXT is the extended file system,\n\n83\n00:03:52.655 --> 00:03:57.157\nit's been prominent in the Linux world for\na long, long time.\n\n84\n00:03:57.157 --> 00:04:01.820\nIf you're running Red Hat, Cent OS,\nFedora they all share that common core.\n\n85\n00:04:01.820 --> 00:04:03.575\nIt makes sense they'd use\nthat same file systems.\n\n86\n00:04:03.575 --> 00:04:05.811\nBut [INAUDIBLE], Ubuntu, Jentu,\n\n87\n00:04:05.811 --> 00:04:09.907\nall the other guys,\nthey've been running EXT for years also.\n\n88\n00:04:09.907 --> 00:04:14.902\nSo EXT is nice and standard across all\nthe Linux distros that are available.\n\n89\n00:04:14.902 --> 00:04:17.660\nBut there's more than one\nversion that's out there, right?\n\n90\n00:04:17.660 --> 00:04:21.829\nOn most modern Linux distros,\nincluding Red Hat, EXT 2 is the lowest\n\n91\n00:04:21.829 --> 00:04:26.085\nversion in that supported,\nthe original EXT's no longer supported.\n\n92\n00:04:26.085 --> 00:04:30.030\nSo EXT2 is kinda that base file system.\n\n93\n00:04:30.030 --> 00:04:35.450\nBut then you've got EXT version 3, and EXT\nversion 4, so we get to pick and choose.\n\n94\n00:04:35.450 --> 00:04:40.880\nWell, the neat thing about EXT is that\nit's really all just one file system, EXT.\n\n95\n00:04:40.880 --> 00:04:43.320\nBut with extra little features,\nextra little bells and\n\n96\n00:04:43.320 --> 00:04:45.210\nwhistles turned on for each.\n\n97\n00:04:45.210 --> 00:04:48.452\nSo, if I have an EXT file\nsystem that's EXT2 and\n\n98\n00:04:48.452 --> 00:04:53.053\nI decide I wanna make it EXT3,\nI don't even have to take it offline.\n\n99\n00:04:53.053 --> 00:04:56.145\nI just enable a few options,\nnow I'm running EXT3.\n\n100\n00:04:56.145 --> 00:04:58.820\nAnd then if I wanna go EXT4,\nkinda the same thing.\n\n101\n00:04:58.820 --> 00:05:03.137\nYou'd have to mount and unmount, but\notherwise you can get to EXT4 really easy.\n\n102\n00:05:03.137 --> 00:05:08.537\nSo simple, easy transition between\nthe three different versions.\n\n103\n00:05:08.537 --> 00:05:12.699\nAs far as features are concerned,\nthe things that were added, under EXT2,\n\n104\n00:05:12.699 --> 00:05:15.400\nthere was this big limitation\nthat people hated.\n\n105\n00:05:15.400 --> 00:05:17.090\nThere's always file system limitations,\nright?\n\n106\n00:05:17.090 --> 00:05:23.570\nThere's a limit on the size of your\nvolume, right, your file system itself and\n\n107\n00:05:23.570 --> 00:05:28.520\nthen the size of a single file,\nan individual file can only be so large.\n\n108\n00:05:28.520 --> 00:05:30.620\nAnd with older file systems like EXT2,\n\n109\n00:05:30.620 --> 00:05:34.260\nthey were written back in the day when\nhard drives were incredibly expensive,\n\n110\n00:05:34.260 --> 00:05:36.550\nstorage was small,\nyou didn't have giant files.\n\n111\n00:05:36.550 --> 00:05:38.640\nAnd so it didn't support\nanything too terribly giant.\n\n112\n00:05:39.670 --> 00:05:41.550\nEXT3 bumped that up.\n\n113\n00:05:41.550 --> 00:05:44.768\nSo we have bigger file systems,\nwe got bigger individual files, but\n\n114\n00:05:44.768 --> 00:05:48.109\nthe other thing we did with the EXT3,\nI don't know why I'm saying we.\n\n115\n00:05:48.109 --> 00:05:49.090\n&gt;&gt; [LAUGH]\n&gt;&gt; The developers,\n\n116\n00:05:49.090 --> 00:05:50.710\nI wasn't involved in that at all.\n\n117\n00:05:50.710 --> 00:05:56.150\nThe other thing the EXT3 did is it\nremoved the directory limitation.\n\n118\n00:05:56.150 --> 00:05:58.100\nUnder EXT2 there is\na subdirectory limitation.\n\n119\n00:05:58.100 --> 00:06:02.952\nYou could only have, get ready for\nit, 32,000 subdirectories, so.\n\n120\n00:06:02.952 --> 00:06:04.245\n&gt;&gt; I can't live with that now.\n\n121\n00:06:04.245 --> 00:06:06.050\n&gt;&gt; I know, it's shocking.\n\n122\n00:06:06.050 --> 00:06:10.110\nBut oddly enough, you'd be surprised\nhow quickly you eat up subdirectories,\n\n123\n00:06:10.110 --> 00:06:12.820\nespecially if you're doing things like\ndownloading the kernel source code from\n\n124\n00:06:12.820 --> 00:06:14.580\nmore than one version of the kernel and\nso on.\n\n125\n00:06:14.580 --> 00:06:16.564\nYou'll blow out\nthe subdirectories pretty quick.\n\n126\n00:06:16.564 --> 00:06:20.354\nSo 32,000 subdirectories was a limit\nthat a lot of people were hitting.\n\n127\n00:06:20.354 --> 00:06:25.197\nAnd in EXT3, they changed the way those\ndirectories were indexed so that you would\n\n128\n00:06:25.197 --> 00:06:29.294\nnow be able to have an unlimited\nnumber of subdirectories in a folder.\n\n129\n00:06:29.294 --> 00:06:30.895\nSo that limitation went away.\n\n130\n00:06:30.895 --> 00:06:36.698\nSo larger file system sizes,\nlarger file sizes, and more subfolders.\n\n131\n00:06:36.698 --> 00:06:38.990\nThat's kinda the big\nadvantage of going with EXT3.\n\n132\n00:06:38.990 --> 00:06:42.814\nAnd as a result, there really\nis no reason to go EXT2 anymore.\n\n133\n00:06:42.814 --> 00:06:46.808\nYou might as well go EXT3 and\nthat's that, all right?\n\n134\n00:06:46.808 --> 00:06:50.951\nEXT4, though,\nit had a big difference, all right?\n\n135\n00:06:50.951 --> 00:06:54.608\nUnder EXT3, the way the system worked,\nand EXT2 for that matter,\n\n136\n00:06:54.608 --> 00:06:58.050\nwas that it worked using\nwhat's called bitmapping.\n\n137\n00:06:58.050 --> 00:07:03.910\nThat you'd have an entry in the EXT\ntable that would say this file exists.\n\n138\n00:07:03.910 --> 00:07:07.720\nAnd then it would have a bitmap,\na map that pointed to all\n\n139\n00:07:07.720 --> 00:07:10.580\nthe bits that made up that file that\nwere located out across the hard drive.\n\n140\n00:07:10.580 --> 00:07:12.970\nSo this map would tell you where\nyou could find everything.\n\n141\n00:07:12.970 --> 00:07:15.600\nWhenever you looked up a file,\nyou'd go to this map\n\n142\n00:07:15.600 --> 00:07:18.120\nto find out where all the file's bits\nwere and go and gather those and\n\n143\n00:07:18.120 --> 00:07:21.140\nbring them back, and then you'd have\nthe information that's in that file.\n\n144\n00:07:21.140 --> 00:07:22.853\nThat's the way that they worked.\n\n145\n00:07:22.853 --> 00:07:26.683\nThat lookup system,\nit doesn't scale terribly well.\n\n146\n00:07:26.683 --> 00:07:30.075\nAs your system gets bigger and bigger and\nbigger and has more and more files,\n\n147\n00:07:30.075 --> 00:07:31.083\nlookups take longer.\n\n148\n00:07:31.083 --> 00:07:33.519\nAnd the bitmap becomes\nharder to update and\n\n149\n00:07:33.519 --> 00:07:36.504\nfragmentation on the drive\nbecomes a common thing.\n\n150\n00:07:36.504 --> 00:07:41.008\nSo it's not the most scalable for some\nof the large file systems we have today.\n\n151\n00:07:41.008 --> 00:07:48.161\nIn EXT4, it switched to a different system\nwhere it uses what are called extents.\n\n152\n00:07:48.161 --> 00:07:52.706\nAnd extents are a little more\nlike relational database lookups,\n\n153\n00:07:52.706 --> 00:07:57.497\nwhere instead of a straight up bitmap,\nwe have these queries we kinda\n\n154\n00:07:57.497 --> 00:08:02.142\nrun against an extent, and\nan extent Can spread across i-nodes.\n\n155\n00:08:02.142 --> 00:08:06.826\nAnd if you're not familiar with i-nodes,\nanytime you write data to a disk,\n\n156\n00:08:06.826 --> 00:08:09.570\nthe data that we write, I might have one.\n\n157\n00:08:09.570 --> 00:08:10.580\nLet's say I have one bit,\n\n158\n00:08:10.580 --> 00:08:14.120\nan actual single bit of data to write,\nwhich never happens, right?\n\n159\n00:08:14.120 --> 00:08:16.090\nBut when you go to write\nit to the hard drive,\n\n160\n00:08:16.090 --> 00:08:18.340\nhard drives don't store individual bits.\n\n161\n00:08:18.340 --> 00:08:21.600\nThey store clusters of bits, and they\nstore them in what are called i-nodes.\n\n162\n00:08:21.600 --> 00:08:22.830\nAnd the i-nodes have a minimum size.\n\n163\n00:08:22.830 --> 00:08:25.180\nSo if I have an i-node size of 4k,\n\n164\n00:08:25.180 --> 00:08:30.310\nand I wanna write one bit, it's gonna\neat up 4k on the hard drive, right?\n\n165\n00:08:30.310 --> 00:08:34.580\nSo the problem with the old bitmapping\nsystem is it was built around i-nodes, and\n\n166\n00:08:34.580 --> 00:08:37.330\nit meant that our storage\nwas somewhat inefficient.\n\n167\n00:08:37.330 --> 00:08:41.410\nWith extents, you can have more\nthan one extent in the same i-node.\n\n168\n00:08:41.410 --> 00:08:43.810\nAnd you can have one extent that\nspreads across more than one i-node,\n\n169\n00:08:43.810 --> 00:08:44.786\nthey're more flexible.\n\n170\n00:08:44.786 --> 00:08:48.010\nSo it's a much more efficient way\nof storing data on the drive,\n\n171\n00:08:48.010 --> 00:08:51.215\nespecially if you have a large\nquantity of small files.\n\n172\n00:08:51.215 --> 00:08:53.845\nNow if you're a Windows user,\nyou don't care about that, but\n\n173\n00:08:53.845 --> 00:08:57.165\nin the Linux world,\nwe have a large quantity of small files.\n\n174\n00:08:57.165 --> 00:08:58.225\nYou get tons of them on the drive,\n\n175\n00:08:58.225 --> 00:09:00.145\nyou just look in the prog folder,\nit's full of them.\n\n176\n00:09:00.145 --> 00:09:04.357\nSo that kind of stuff is\nsomething we need to worry about,\n\n177\n00:09:04.357 --> 00:09:07.375\nsomething that we can really benefit from,\nand EXT4 brings that.\n\n178\n00:09:07.375 --> 00:09:10.555\nSo we'll take a look at EXT4 and\nhow it works a little bit later,\n\n179\n00:09:10.555 --> 00:09:14.970\nbut just know that there is\na big benefit for going to EXT4.\n\n180\n00:09:14.970 --> 00:09:19.410\nNow why might I choose EXT3 over EXT4?\n\n181\n00:09:19.410 --> 00:09:25.700\nWell, EXT4 scales bigger, it does better\nwith more data, it does a great job.\n\n182\n00:09:25.700 --> 00:09:28.740\nBut where it's slow is on deletions.\n\n183\n00:09:28.740 --> 00:09:32.140\nIf you delete a large\nquantity of small files,\n\n184\n00:09:32.140 --> 00:09:35.040\nEXT4 doesn't necessarily perform so well.\n\n185\n00:09:35.040 --> 00:09:36.700\nNow most of us aren't\ndeleting millions and\n\n186\n00:09:36.700 --> 00:09:39.810\nmillions of small files every single day,\nbut some people are.\n\n187\n00:09:39.810 --> 00:09:42.517\nAnd if you are, you'll actually get\nbetter performance out of EXT3.\n\n188\n00:09:42.517 --> 00:09:43.830\nSo you need to understand that.\n\n189\n00:09:43.830 --> 00:09:45.820\nYou need to understand whether or\n\n190\n00:09:45.820 --> 00:09:50.550\nnot you fall in that scenario to choose\nwhether you should go EXT3 or EXT4.\n\n191\n00:09:52.370 --> 00:09:55.830\nNow, going XFS, right, XFS is the new one.\n\n192\n00:09:55.830 --> 00:09:57.550\nThat's called the extents file system,\n\n193\n00:09:57.550 --> 00:10:00.970\nand you can kind of get\nan idea of why it's got that.\n\n194\n00:10:00.970 --> 00:10:02.930\nIt uses extents, much like EXT4.\n\n195\n00:10:04.100 --> 00:10:10.140\nThe main guy, I can't remember his first\nname offhand, his last name is Tso, T-S-O.\n\n196\n00:10:10.140 --> 00:10:11.800\nThe main guy, the main developer for\n\n197\n00:10:11.800 --> 00:10:16.760\nthe EXT file system, when he put out EXT4,\nhe said, look, I'm putting this out.\n\n198\n00:10:16.760 --> 00:10:19.790\nIt's good, but\nI hate to do it because this is a kludge.\n\n199\n00:10:19.790 --> 00:10:21.960\nI'm forcing this old technology to work.\n\n200\n00:10:21.960 --> 00:10:23.950\nYou guys should really move to XFS, right?\n\n201\n00:10:23.950 --> 00:10:27.320\nThat's what he said,\nthe guy who's responsible for EXT.\n\n202\n00:10:27.320 --> 00:10:33.423\nSo even though EXT4 has extents,\nXFS was designed with extents in mind.\n\n203\n00:10:33.423 --> 00:10:36.344\nIt was built, this is not something\nthat's bolted on after the fact,\n\n204\n00:10:36.344 --> 00:10:39.053\nit's what it does natively,\nand it does a great job of it.\n\n205\n00:10:39.053 --> 00:10:42.730\nIt does such a great job that Red Hat\nchose to make it the default file system\n\n206\n00:10:42.730 --> 00:10:46.050\nin RHEL7, so XFS,\nremember what I said earlier,\n\n207\n00:10:46.050 --> 00:10:49.680\nit's kinda like the safest bet to go with.\n\n208\n00:10:49.680 --> 00:10:52.610\nPick that one and jump with it,\nit works out really well.\n\n209\n00:10:52.610 --> 00:10:56.496\nAll right, now XFS, we're gonna do another\nepisode on XFS, kinda working with it and\n\n210\n00:10:56.496 --> 00:10:57.519\ninteracting with it.\n\n211\n00:10:57.519 --> 00:11:00.551\nIt's a little bit different than\nEXT in the way that it behaves.\n\n212\n00:11:00.551 --> 00:11:07.388\nBut you can do the majority of the stuff\nthat you do with EXT inside of XFS.\n\n213\n00:11:07.388 --> 00:11:11.790\nYou can grow a volume, you can shrink\na volume, you can set up Raid, LVM,\n\n214\n00:11:11.790 --> 00:11:13.000\nthat kind of stuff.\n\n215\n00:11:13.000 --> 00:11:16.850\nYou can do all sorts of crazy things\nwith it, and it does a good job with it.\n\n216\n00:11:16.850 --> 00:11:19.670\nIt's a very stable,\ndefinitely a robust file system.\n\n217\n00:11:21.010 --> 00:11:26.120\nLet's see, one of the big things that\nXFS brings to the table is journaling.\n\n218\n00:11:26.120 --> 00:11:30.089\nAnd I know I've talked a little bit\nabout journaling in other episodes, but\n\n219\n00:11:30.089 --> 00:11:33.823\nwith journaling, well,\nlet's talk about EXT3 before journaling.\n\n220\n00:11:33.823 --> 00:11:37.099\nIf you had an EXT3 system and\nyou were writing to a file,\n\n221\n00:11:37.099 --> 00:11:40.560\nthe system would actually\nwrite to that file.\n\n222\n00:11:40.560 --> 00:11:42.450\nAnd if halfway through the file,\nyou had a power outage,\n\n223\n00:11:42.450 --> 00:11:45.360\nthe system would boot back up,\nand now the file's corrupt\n\n224\n00:11:45.360 --> 00:11:48.050\ncuz it's only got half the data\nwritten to it that it's supposed to.\n\n225\n00:11:48.050 --> 00:11:50.630\nHalf old data, half new data,\nright, that's a bad situation,\n\n226\n00:11:50.630 --> 00:11:52.120\nit's called a dirty write.\n\n227\n00:11:52.120 --> 00:11:56.540\nWell, in EXT4 and in XFS,\nthey introduced journaling.\n\n228\n00:11:56.540 --> 00:11:59.000\nAnd with journaling,\nyou don't write to the file.\n\n229\n00:11:59.000 --> 00:12:02.000\nYou write to a journal instead,\nit's like a log somewhere else.\n\n230\n00:12:02.000 --> 00:12:07.030\nAnd only when you have 100% written to\nthe log, will it then turn around and\n\n231\n00:12:07.030 --> 00:12:10.020\nwrite that to the actual file,\nreally just by remapping bits.\n\n232\n00:12:10.020 --> 00:12:12.770\nAnd by doing that,\nif we have a power outage and\n\n233\n00:12:12.770 --> 00:12:16.300\nit reboots, well,\nthe file itself is still intact.\n\n234\n00:12:16.300 --> 00:12:19.270\nThe journal is damaged, and\nit just flushes the journal.\n\n235\n00:12:19.270 --> 00:12:22.030\nSo let me throw out all this bad stuff,\nand now you're up and going.\n\n236\n00:12:22.030 --> 00:12:25.940\nSo your write integrity is super high,\njournals are great for that.\n\n237\n00:12:25.940 --> 00:12:27.400\nIt's been in use in databases for\n\n238\n00:12:27.400 --> 00:12:29.680\na long time,\nnow it's just part of the file system.\n\n239\n00:12:29.680 --> 00:12:31.940\nSo, that's another advantage\nof going with XFS and\n\n240\n00:12:31.940 --> 00:12:34.430\na reason why we usually wanna pick that.\n\n241\n00:12:34.430 --> 00:12:36.249\nIf you've already got EXT4 in place,\n\n242\n00:12:36.249 --> 00:12:39.732\nyou might wanna migrate to XFS to take\nadvantage of some of those features.\n\n243\n00:12:39.732 --> 00:12:42.938\n&gt;&gt; Now, Don,\nback when I was installing Linux a lot,\n\n244\n00:12:42.938 --> 00:12:47.500\none of the file systems I don't see\non our notes here was called RiserFS.\n\n245\n00:12:47.500 --> 00:12:51.102\nAnd I thought that it also took advantage\nof journaling type of system as well.\n\n246\n00:12:51.102 --> 00:12:53.410\n&gt;&gt; It did,\nit was one of the early ones to do it.\n\n247\n00:12:53.410 --> 00:12:55.464\nAnd boy,\nthat file system was on the up and up.\n\n248\n00:12:55.464 --> 00:12:58.603\nA lot of people were looking to\nadopt it because it did journalings,\n\n249\n00:12:58.603 --> 00:13:01.160\none of the earlier ones,\nit had good support.\n\n250\n00:13:01.160 --> 00:13:05.540\nBut it had some situations come about.\n\n251\n00:13:05.540 --> 00:13:06.848\n&gt;&gt; Went the way of the dodo.\n\n252\n00:13:06.848 --> 00:13:10.506\n&gt;&gt; Yeah, so that the main developer,\nhe's in jail for life, and so.\n\n253\n00:13:10.506 --> 00:13:11.689\n&gt;&gt; [LAUGH]\n&gt;&gt; It's a funny story\n\n254\n00:13:11.689 --> 00:13:12.930\nif you're ever bored.\n\n255\n00:13:12.930 --> 00:13:15.600\nIt's not a funny story, it's a tragic\nstory if you ever wanna Google it.\n\n256\n00:13:15.600 --> 00:13:16.960\n&gt;&gt; Interesting story.\n\n257\n00:13:16.960 --> 00:13:18.180\n&gt;&gt; And look it up, yeah.\n\n258\n00:13:18.180 --> 00:13:22.925\nIt is not what you expect, but anyhow,\nso that pretty much spelled the end for\n\n259\n00:13:22.925 --> 00:13:26.380\nRiserFS, but\nwe didn't lose out on that technology.\n\n260\n00:13:26.380 --> 00:13:31.056\nThat technology became part of\nsomething else, which is now BTRFS.\n\n261\n00:13:31.056 --> 00:13:34.803\nAnd you're gonna hear a lot about BTRFS,\nespecially if you're running Fedora and\n\n262\n00:13:34.803 --> 00:13:37.601\nyou're hitting the forums,\nand you're paying attention.\n\n263\n00:13:37.601 --> 00:13:40.800\nEverybody out there is saying,\nyou gotta use BTRFS, it's the best.\n\n264\n00:13:40.800 --> 00:13:41.610\nYou gotta get to it.\n\n265\n00:13:41.610 --> 00:13:44.618\nIn fact, it stands for\nBetter File System, or it runs so\n\n266\n00:13:44.618 --> 00:13:48.470\nfast it's called Butter File System,\nso many stupid things about it.\n\n267\n00:13:48.470 --> 00:13:51.745\nIt's the B-tree file system\nis what BTRFS stands for.\n\n268\n00:13:51.745 --> 00:13:55.845\nB-trees are a replacement for\nbitmaps, right?\n\n269\n00:13:55.845 --> 00:13:59.642\nIt lets us do lookups very,\nvery quickly on large systems.\n\n270\n00:13:59.642 --> 00:14:02.680\nB-trees, it comes from the database world,\nagain,\n\n271\n00:14:02.680 --> 00:14:06.589\nmoving database technology into\nthe file systems for rapid lookups.\n\n272\n00:14:06.589 --> 00:14:08.510\nB-trees work out really well for that.\n\n273\n00:14:08.510 --> 00:14:11.540\nIt does directory indexing to make\nthings just super, super fast.\n\n274\n00:14:11.540 --> 00:14:13.550\nSo it is a very fast file system.\n\n275\n00:14:13.550 --> 00:14:18.780\nIt also incorporates journaling,\nand it has native LVM,\n\n276\n00:14:18.780 --> 00:14:21.990\nLVM is just built into BTRFS.\n\n277\n00:14:21.990 --> 00:14:26.590\nSo if I create a volume with BTRFS,\nin the background, it's actually doing\n\n278\n00:14:26.590 --> 00:14:29.200\nthe whole LVM thing, creating\nthe disk groups and all that stuff.\n\n279\n00:14:29.200 --> 00:14:32.430\nAnd I can add disks and grow it and\nstretch it, I can make it rate one or\n\n280\n00:14:32.430 --> 00:14:33.080\nrate zero.\n\n281\n00:14:33.080 --> 00:14:37.220\nYou can do all sorts of crazy things\nnatively right inside a BTRFS.\n\n282\n00:14:37.220 --> 00:14:40.410\nSo I can understand why people wanna\ncall it the better file system.\n\n283\n00:14:40.410 --> 00:14:42.110\n&gt;&gt; Not hearing any downsides here, Don.\n\n284\n00:14:42.110 --> 00:14:43.602\n&gt;&gt; Well.\n&gt;&gt; [LAUGH]\n\n285\n00:14:43.602 --> 00:14:44.560\n&gt;&gt; I'll tell you,\n\n286\n00:14:44.560 --> 00:14:46.955\nthere's one big downside for BTRFS, and\n\n287\n00:14:46.955 --> 00:14:51.500\nthat's that it is not officially\nsupported in production by Red Hat.\n\n288\n00:14:51.500 --> 00:14:57.480\nSo if you choose to deploy BTRFS, Red Hat\nconsiders it to be a preview feature.\n\n289\n00:14:57.480 --> 00:15:00.640\nSo if you have a problem,\nthey're not gonna help you, all right?\n\n290\n00:15:00.640 --> 00:15:01.980\nSo that's kinda bad,\n\n291\n00:15:01.980 --> 00:15:05.785\none of the big reasons we go with\nRed Hat is that we do get support,\n\n292\n00:15:05.785 --> 00:15:10.172\nthey will help us, and that means we\nneed to stick with XFS or EXT, right?\n\n293\n00:15:10.172 --> 00:15:14.444\nBut BTRFS is indeed the future, so\nif you haven't start messing with it yet,\n\n294\n00:15:14.444 --> 00:15:18.651\nyou really should because maybe in\nRed Hat 8, definitely about Red Hat 9,\n\n295\n00:15:18.651 --> 00:15:22.840\nBTRFS will become the default file system,\nand that's the one we use.\n\n296\n00:15:22.840 --> 00:15:24.610\nIn fact, you already see it here,\n\n297\n00:15:24.610 --> 00:15:29.470\nI've got an HREL7 box here\nthat's kind of in the install.\n\n298\n00:15:29.470 --> 00:15:33.100\nAnd if I start to move through\nthe install, if I just next, next,\n\n299\n00:15:33.100 --> 00:15:36.480\nnext this thing,\nI'm gonna end up with XFS, right?\n\n300\n00:15:36.480 --> 00:15:41.260\nBut if I go down here to my\ninstallation destination, and\n\n301\n00:15:41.260 --> 00:15:46.870\nI pick a disk, and I scroll down and\ntell it, whoops, there.\n\n302\n00:15:46.870 --> 00:15:52.915\nTell it that I want to configure\npartitioning myself, right?\n\n303\n00:15:52.915 --> 00:15:56.685\nWhen I come in here and get it set up and\ntell it that I wanna partition the disk,\n\n304\n00:15:56.685 --> 00:15:58.080\nI get to go through and pick.\n\n305\n00:15:58.080 --> 00:16:01.352\nAnd see how it's offering for\nme to do LVM But\n\n306\n00:16:01.352 --> 00:16:05.081\nif I expand that out,\nI can choose Btrfs, right?\n\n307\n00:16:05.081 --> 00:16:09.032\nWhen it says LVM, it means, hey, we're\ngonna create LVM, the logical volumes and\n\n308\n00:16:09.032 --> 00:16:10.433\nwe're gonna use XFS on them.\n\n309\n00:16:10.433 --> 00:16:14.000\nBut I can choose Btrfs right\nhere in the installer.\n\n310\n00:16:14.000 --> 00:16:18.340\nIn fact, it doesn't even tell me that\nthat's a preview feature, does it?\n\n311\n00:16:18.340 --> 00:16:21.370\nIt just says, hey,\nwe're gonna do it, great.\n\n312\n00:16:21.370 --> 00:16:25.250\nWell that's not necessarily\nwhat I want and so\n\n313\n00:16:25.250 --> 00:16:26.570\nI could end up with a problem there.\n\n314\n00:16:26.570 --> 00:16:30.890\nBut I might want to mount my\n/home directory with this one and\n\n315\n00:16:30.890 --> 00:16:35.010\nmaybe I'll make that a whopping 5 gigs.\n\n316\n00:16:35.010 --> 00:16:38.140\nAnd so I'll add that to the list and they\ncan start adding more and more and more.\n\n317\n00:16:38.140 --> 00:16:42.590\nSo when I look at those file systems,\nBtrfs is right in there.\n\n318\n00:16:42.590 --> 00:16:45.722\nIt's one of the default options.\n\n319\n00:16:45.722 --> 00:16:51.810\nVersus doing ext2, 3, or 4 or xfs which\nare considered the default standards.\n\n320\n00:16:51.810 --> 00:16:55.850\nRight so just be aware that you\ndo have that choice to do Btrfs.\n\n321\n00:16:55.850 --> 00:16:57.820\nAnd you'll see it in\na few different places.\n\n322\n00:16:57.820 --> 00:17:01.300\nBut it is not officially supported in\na production environment yet, all right?\n\n323\n00:17:01.300 --> 00:17:02.780\nSo always keep that in mind.\n\n324\n00:17:02.780 --> 00:17:05.560\nAnd even kinda following through on that,\n\n325\n00:17:05.560 --> 00:17:08.080\nthere's some times where\nyou don't see XFS yet.\n\n326\n00:17:08.080 --> 00:17:12.150\nRemember that XFS has just,\nin Redhat version 7, become the default.\n\n327\n00:17:12.150 --> 00:17:16.260\nSo for example here,\nlet me go into the disk utility.\n\n328\n00:17:16.260 --> 00:17:20.830\nSo when I go under applications and\nutilities and I go up here to disks, and\n\n329\n00:17:20.830 --> 00:17:22.620\nI start to take a look at my disks.\n\n330\n00:17:22.620 --> 00:17:25.030\nI can take an unformatted\ndisk like this one.\n\n331\n00:17:25.030 --> 00:17:27.650\nIt's got a partition on it but\nno file system.\n\n332\n00:17:27.650 --> 00:17:34.370\nIf I go to format it, right, and\nI look at my drop down, what do I have?\n\n333\n00:17:34.370 --> 00:17:38.560\nFAT, NTFS, EXT4, or custom.\n\n334\n00:17:38.560 --> 00:17:42.750\nI don't have XFS, even though\nit's a standard supported system.\n\n335\n00:17:42.750 --> 00:17:46.538\nI mean I can come in here and I can choose\nit, which it defaulted to be BTRFS,\n\n336\n00:17:46.538 --> 00:17:47.755\nthat's kind of funny.\n\n337\n00:17:47.755 --> 00:17:50.760\n&gt;&gt; [LAUGH]\n&gt;&gt; But I can punch in XFS, and I can\n\n338\n00:17:50.760 --> 00:17:55.180\nformat that disk and it's gonna format\nit and lay it out, and there it goes.\n\n339\n00:17:55.180 --> 00:17:58.508\nCuz it does support XFS, so there's times\nwhere we're still able to see that one.\n\n340\n00:17:58.508 --> 00:18:00.454\nBut BTRFS,\nthat one's coming down the road.\n\n341\n00:18:01.560 --> 00:18:05.720\nAll right, now I also mentioned\nmaximum partition sizes or\n\n342\n00:18:05.720 --> 00:18:08.640\nmaximum volume sizes and\nmaximum file sizes.\n\n343\n00:18:08.640 --> 00:18:13.730\nLet me just show you a quick little\ntable that I worked up before the show.\n\n344\n00:18:13.730 --> 00:18:18.660\nAnd this is from information\nposted on Red Hat's website.\n\n345\n00:18:18.660 --> 00:18:21.680\nAnd what I've done is I've just kind of\nmade a quick table that shows the maximum\n\n346\n00:18:21.680 --> 00:18:23.580\nsizes that we can have for these.\n\n347\n00:18:23.580 --> 00:18:30.495\nIf you have EXT3, the maximum file size,\na single file cannot exceed 2TB in size.\n\n348\n00:18:30.495 --> 00:18:33.790\nAnd that's pretty big, but\nif it's a backup file or a database file,\n\n349\n00:18:33.790 --> 00:18:35.280\nyou might have something exceed 2TB.\n\n350\n00:18:35.280 --> 00:18:38.980\nAnd then the maximum volume size is 16TB.\n\n351\n00:18:38.980 --> 00:18:41.680\nSo, if I have more than 16TB of data,\n\n352\n00:18:41.680 --> 00:18:44.440\nI'm gonna have to break it up into\nmore than one volume to store that.\n\n353\n00:18:44.440 --> 00:18:47.070\nAnd that may be problematic,\ndepending on what I'm trying to do.\n\n354\n00:18:47.070 --> 00:18:48.810\nBut 16TB is the maximum.\n\n355\n00:18:48.810 --> 00:18:51.090\nWhen we go to EXT4,\nthat was that bolt on, right,\n\n356\n00:18:51.090 --> 00:18:54.230\nwhere they added some extra\nfunctionality just to let it limp by.\n\n357\n00:18:54.230 --> 00:19:01.060\nIt bumped up the maximum file size to\n16TB, and the maximum volume size to 1EB.\n\n358\n00:19:01.060 --> 00:19:04.510\nNow, I put 1EB in parenthesis,\nand wrote 50TB beside it.\n\n359\n00:19:04.510 --> 00:19:09.430\nAnd the reason I did that is\nRed Hat has what they call their\n\n360\n00:19:09.430 --> 00:19:12.910\ncertified tested file sizes.\n\n361\n00:19:12.910 --> 00:19:18.260\nAt Red Hat labs,\nthey've tested up to a 50TB volume size.\n\n362\n00:19:18.260 --> 00:19:23.330\nThey have not tested\na 51TB file volume size.\n\n363\n00:19:23.330 --> 00:19:26.000\nSo if you deploy something\nlarger than 50TB, you can.\n\n364\n00:19:26.000 --> 00:19:28.430\nThe system will let you do it up to 1EB.\n\n365\n00:19:28.430 --> 00:19:32.700\nBut if you have a problem, you can\ncall a Red Hat and they'll help you,\n\n366\n00:19:32.700 --> 00:19:34.460\nthey'll try and help you.\n\n367\n00:19:34.460 --> 00:19:39.590\nBut it's possible that's something could\ngo wrong, they haven't tested above 50.\n\n368\n00:19:39.590 --> 00:19:43.750\nSo they're only guaranteeing support up\nto 50TB and beyond that they might end up\n\n369\n00:19:43.750 --> 00:19:48.140\nsaying, look I'm sorry I tried to recover\nyour data but it kinda went beyond what we\n\n370\n00:19:48.140 --> 00:19:52.620\ntested, we couldn't guarantee\nthat would work, and it didn't.\n\n371\n00:19:52.620 --> 00:19:55.440\nSo be careful with that,\neven though you can go up to 1EB\n\n372\n00:19:55.440 --> 00:19:58.660\nyou probably wanna hold yourself to 50TB,\nright?\n\n373\n00:19:58.660 --> 00:20:00.800\nWith XFS it gets even bigger, with XFS we\n\n374\n00:20:02.920 --> 00:20:07.000\ncan have up to 500TB,\nis what they're tested single file size.\n\n375\n00:20:07.000 --> 00:20:09.590\nSo one file up to 500TB.\n\n376\n00:20:09.590 --> 00:20:11.466\nIt actually supports 8EB.\n\n377\n00:20:11.466 --> 00:20:14.430\nXFS actually supports even more than that,\nbut\n\n378\n00:20:14.430 --> 00:20:17.500\nthe Linux kernel itself is limited to 8EB.\n\n379\n00:20:17.500 --> 00:20:20.160\nIt can only address up to 8EB, so\nthat's why I've got that limit there.\n\n380\n00:20:20.160 --> 00:20:24.060\nSame thing happens on the maximum\nvolume size, we've got 500TB tested for\n\n381\n00:20:24.060 --> 00:20:25.665\nthe maximum volume size and\n\n382\n00:20:25.665 --> 00:20:31.023\n16EB is what the theoretical maximum for\nXFS volume sizes would be.\n\n383\n00:20:32.150 --> 00:20:36.140\nAnd then BTRFS, notice I don't have\na number, at all, not in parentheses.\n\n384\n00:20:36.140 --> 00:20:39.470\nAnd that's because Red Hat doesn't\nguarantee BTRFS at all right now.\n\n385\n00:20:39.470 --> 00:20:41.160\nIt's still preview functionality.\n\n386\n00:20:41.160 --> 00:20:45.595\nBut 8EB for the maximum file size,\n16EB for maximum volume size.\n\n387\n00:20:45.595 --> 00:20:49.425\nAnd again, that's the Linux kernel\nputting that limit in place, not BTRFS.\n\n388\n00:20:49.425 --> 00:20:52.545\nBTRFS can go even further,\nbut the Linux kernel can't.\n\n389\n00:20:52.545 --> 00:20:54.265\nEventually, that will change.\n\n390\n00:20:54.265 --> 00:20:57.912\nRemember that Red Hat Enterprise Linux,\nit doesn't run the latest and\n\n391\n00:20:57.912 --> 00:21:00.237\ngreatest kernel that's released, right?\n\n392\n00:21:00.237 --> 00:21:06.590\nSo I wanna say,\ndidn't they just approve 4.3?\n\n393\n00:21:06.590 --> 00:21:08.210\n&gt;&gt; Somewhere in there, yeah.\n\n394\n00:21:08.210 --> 00:21:12.960\n&gt;&gt; I wanna say 4.3 is the latest and\ngreatest straight out of Linux's mouth.\n\n395\n00:21:12.960 --> 00:21:16.118\nBut if we take look at my\nversion of Red Hat here now,\n\n396\n00:21:16.118 --> 00:21:19.640\nI'm running 7.3 at least I think I am.\n\n397\n00:21:21.410 --> 00:21:25.010\nYeah, I'm running 7.3 which is the latest\nversion of RHEL that's out right now.\n\n398\n00:21:25.010 --> 00:21:29.420\nI'm full up on my updates and\nif I take a look at my kernel version,\n\n399\n00:21:29.420 --> 00:21:35.710\nI'm running 3.10 but if the latest and\ngreatest is 4.3, that's a big difference.\n\n400\n00:21:35.710 --> 00:21:41.460\nBut remember that Red Hat is focused\non stability not focused on latest and\n\n401\n00:21:41.460 --> 00:21:42.260\ngreatest, right?\n\n402\n00:21:42.260 --> 00:21:44.340\nIf you want latest and\ngreatest, go to Fedora.\n\n403\n00:21:44.340 --> 00:21:46.530\nBut if you want stability,\nRed Hat Enterprise Linux.\n\n404\n00:21:46.530 --> 00:21:50.770\n&gt;&gt; And that's really a good philosophy\non their side of things because when you\n\n405\n00:21:50.770 --> 00:21:54.770\ninstall Red Hat you're thinking I have\na rock solid server that is going to work\n\n406\n00:21:54.770 --> 00:21:55.580\nfor me, and\n\n407\n00:21:55.580 --> 00:21:58.640\nthen they're going to be able to support\nit in case something does go wrong.\n\n408\n00:21:58.640 --> 00:22:01.930\nThat's why they try to stick to\nthings that they know works and\n\n409\n00:22:01.930 --> 00:22:04.900\nthat they can guarantee to you\nshould work in a certain way.\n\n410\n00:22:04.900 --> 00:22:08.220\nSo it's a good philosophy on their part,\nI do believe.\n\n411\n00:22:08.220 --> 00:22:11.650\nNow, Don, we've talked about\nthe different file systems and\n\n412\n00:22:11.650 --> 00:22:16.510\nseen how large and things they can\ndo with file sizes and volume sizes.\n\n413\n00:22:16.510 --> 00:22:19.750\nLet's just say, in for instance,\nI'm throwing it out there\n\n414\n00:22:19.750 --> 00:22:23.630\nI'm not the greatest systems\nadministrator in the world.\n\n415\n00:22:23.630 --> 00:22:26.530\nI've been chucked some Red Hat and\nsaid, get this running.\n\n416\n00:22:26.530 --> 00:22:30.410\nAnd for whatever reason,\nI've chosen EXT2 or something.\n\n417\n00:22:30.410 --> 00:22:32.910\nI've chosen the wrong file system.\n\n418\n00:22:32.910 --> 00:22:33.450\nWhat do I do?\n\n419\n00:22:33.450 --> 00:22:37.200\nDo I have to blow everything away or\nare there options?\n\n420\n00:22:37.200 --> 00:22:41.040\n&gt;&gt; All right, so there's options,\nand it comes down to a few things.\n\n421\n00:22:41.040 --> 00:22:44.350\nBut technically, look.\n\n422\n00:22:44.350 --> 00:22:46.925\nI'm gonna pretend to be\nofficial Red Hat employee here.\n\n423\n00:22:46.925 --> 00:22:48.260\n&gt;&gt; [LAUGH]\n&gt;&gt; For a minute, which I'm not.\n\n424\n00:22:48.260 --> 00:22:49.860\nBy the way, let me just say that.\n\n425\n00:22:49.860 --> 00:22:52.265\nYou should have chose correctly.\n\n426\n00:22:52.265 --> 00:22:55.100\n[LAUGH]\n&gt;&gt; So what you need to do now is you need\n\n427\n00:22:55.100 --> 00:22:59.270\nto get a second set of disks,\npartition them the way that you want,\n\n428\n00:22:59.270 --> 00:23:02.770\napply the right file system, and move\nyour data over to the new file system.\n\n429\n00:23:02.770 --> 00:23:06.430\nOkay, it's as simple as that, so\nif you add EXT3 and you wanted the EXT4.\n\n430\n00:23:06.430 --> 00:23:10.420\nOr you have EXT4 and you want XFS,\nor you have XFS and you want BTRFS.\n\n431\n00:23:10.420 --> 00:23:13.880\nMaybe you went with BTRFS,\nrealized it was preview,\n\n432\n00:23:13.880 --> 00:23:16.300\nnow you want to go back to XFS or\nsomething.\n\n433\n00:23:16.300 --> 00:23:19.730\nThen what you need to do is create\na second volume that's formatted the right\n\n434\n00:23:19.730 --> 00:23:24.380\nway, move your data over to it, and\nthen you can blow away the original data.\n\n435\n00:23:24.380 --> 00:23:26.190\nThat's it.\nIt's not much of a migration at\n\n436\n00:23:26.190 --> 00:23:26.710\nall, is it?\n\n437\n00:23:26.710 --> 00:23:28.720\nRight?\nIt's really just creating a whole new file\n\n438\n00:23:28.720 --> 00:23:30.040\nsystem and moving data.\n\n439\n00:23:30.040 --> 00:23:33.420\nSo that's what's officially supported.\n\n440\n00:23:33.420 --> 00:23:37.080\nAnd the reason for that,\nthe reason that Red Hat doesn't say, here,\n\n441\n00:23:37.080 --> 00:23:39.120\njust run this utility and\nyou can convert it.\n\n442\n00:23:39.120 --> 00:23:42.750\nIs that conversion utilities\nare usually just kind of kludges or\n\n443\n00:23:42.750 --> 00:23:44.310\nhacks that have been written.\n\n444\n00:23:44.310 --> 00:23:48.170\nAnd it can lead to some really\nweird things down the road, right?\n\n445\n00:23:48.170 --> 00:23:53.171\nA great example is in EXT3,\nyou don't have extents, right?\n\n446\n00:23:53.171 --> 00:23:55.219\nYou still have your regular bitmaps, and\n\n447\n00:23:55.219 --> 00:23:57.628\nyour regular way of writing\nto your file system.\n\n448\n00:23:57.628 --> 00:24:01.799\nWhen you go into EXT4,\nNow you have extents.\n\n449\n00:24:01.799 --> 00:24:06.610\nWell, any new file you\ncreate will use extents.\n\n450\n00:24:06.610 --> 00:24:11.150\nAny old file will still be\nusing the bitmap system.\n\n451\n00:24:11.150 --> 00:24:14.830\nSo I've gotta go through and touch every\nsingle file to get it switched over to\n\n452\n00:24:14.830 --> 00:24:18.090\nthe extents system, and if I don't\nknow to do that, then technically,\n\n453\n00:24:18.090 --> 00:24:21.350\nI've now got a system that's\nrunning both EXT3 and EXT4.\n\n454\n00:24:21.350 --> 00:24:25.890\nAnd you can actually mount\nan EXT3 partition as EXT4, but\n\n455\n00:24:25.890 --> 00:24:28.350\nyou can't go the other way around.\n\n456\n00:24:28.350 --> 00:24:31.050\nSo if I decide to go backwards\nfrom EXT4 down to EXT3,\n\n457\n00:24:31.050 --> 00:24:33.884\nall those files that are using\nextents really get hosed.\n\n458\n00:24:33.884 --> 00:24:36.848\nAnd I can lose data,\nand that's bad, right?\n\n459\n00:24:36.848 --> 00:24:41.710\nMoving from EXT to XFS or EXT to BTRFS,\nthey're completely different.\n\n460\n00:24:41.710 --> 00:24:47.660\nAnd so making that kind of transition,\nboy, that can really lead to data loss.\n\n461\n00:24:47.660 --> 00:24:49.900\nAnd if you've got a huge amount of data,\n\n462\n00:24:49.900 --> 00:24:54.595\nyou might not notice the data loss right\naway, and then you end up with a problem.\n\n463\n00:24:54.595 --> 00:24:55.854\nRight, I could throw a funny\nstory out of this one.\n\n464\n00:24:55.854 --> 00:24:59.335\n&gt;&gt; [LAUGH]\n&gt;&gt; I have all of my movies at home,\n\n465\n00:24:59.335 --> 00:25:02.550\nI used to just have DVDs, right?\n\n466\n00:25:02.550 --> 00:25:04.450\nRipped all the DVDs to storage, and\n\n467\n00:25:04.450 --> 00:25:07.770\nput them on a couple of\nterrabyte volumes that I had.\n\n468\n00:25:07.770 --> 00:25:09.690\nThat's where all the movies are stored.\n\n469\n00:25:09.690 --> 00:25:13.418\nAnd I did a conversion like this,\nflipping from one file system to another.\n\n470\n00:25:13.418 --> 00:25:14.890\nAnd everything seemed fine.\n\n471\n00:25:14.890 --> 00:25:16.940\nAnd then over the next few months,\n\n472\n00:25:16.940 --> 00:25:20.530\nthere were occasionally movies that\nI would hit, I go to watch the movie.\n\n473\n00:25:20.530 --> 00:25:25.230\nAnd all of a sudden, a little bit of video\nfrom one movie would get injected into\n\n474\n00:25:25.230 --> 00:25:30.220\nanother, and it would basically break it\nup, and really, you kind of ignored it.\n\n475\n00:25:30.220 --> 00:25:34.870\nIt wasn't a big deal until, I think it\nwas Goodfellas that got inserted into\n\n476\n00:25:34.870 --> 00:25:38.105\nBeauty and the Beast, if I remember right,\nwhich is a terrible mix.\n\n477\n00:25:38.105 --> 00:25:41.560\n&gt;&gt; [LAUGH]\n&gt;&gt; So what's my solution for that?\n\n478\n00:25:41.560 --> 00:25:43.090\nI have no way to see it.\n\n479\n00:25:43.090 --> 00:25:47.048\nI have to watch every single movie I\nown to spot the ones that had gotten\n\n480\n00:25:47.048 --> 00:25:48.148\ndamaged, right?\n\n481\n00:25:48.148 --> 00:25:50.631\n&gt;&gt; You need to explain to your son why\nthat man was getting stabbed in the eye.\n\n482\n00:25:50.631 --> 00:25:53.433\n[LAUGH]\n&gt;&gt; You don't normally put a person in\n\n483\n00:25:53.433 --> 00:25:54.890\nthe trunk, but sometimes.\n\n484\n00:25:54.890 --> 00:25:57.850\nSo [LAUGH] that's the kind\nof things that happen.\n\n485\n00:25:57.850 --> 00:26:03.250\nAnd if you got a huge volume of data, you\ncan't have that, right, in a production.\n\n486\n00:26:03.250 --> 00:26:07.827\nMy movie's at home, who cares, but in a\nproduction environment, if that's a sales\n\n487\n00:26:07.827 --> 00:26:12.420\ndatabase or medical records, financial\ndata, you can't have data loss like that.\n\n488\n00:26:12.420 --> 00:26:14.004\nIt is not acceptable, and so\n\n489\n00:26:14.004 --> 00:26:17.640\nthat's why we don't have that\nofficial conversion supported.\n\n490\n00:26:17.640 --> 00:26:20.610\nAll right, but I do wanna show you\nguys some of the mechanisms in there,\n\n491\n00:26:20.610 --> 00:26:23.283\ncuz it's actually easy to move\nfrom one file system to another,\n\n492\n00:26:23.283 --> 00:26:24.790\nwhich is just a couple of commands.\n\n493\n00:26:24.790 --> 00:26:26.601\nBut I know I don't have\nenough time in this episode.\n\n494\n00:26:26.601 --> 00:26:29.460\nSo maybe we'll do a part two,\nand I'll kinda walk through it.\n\n495\n00:26:29.460 --> 00:26:30.885\nJust know that that's\nkind of a second option.\n\n496\n00:26:30.885 --> 00:26:35.515\nSo, your first option is, create a new\nfile system, move your data to it.\n\n497\n00:26:35.515 --> 00:26:37.595\nIt's safe, it's guaranteed to work.\n\n498\n00:26:37.595 --> 00:26:41.316\nIt does require that you have twice\nthe amount of data that you need cuz you\n\n499\n00:26:41.316 --> 00:26:44.405\ngotta create a complete separate set\nof storage, right, that's the negative.\n\n500\n00:26:44.405 --> 00:26:46.735\nBut otherwise, you know it works,\nand Red Hat will support you, right?\n\n501\n00:26:48.429 --> 00:26:53.070\nBut the second option is, maybe we\ndon't go the Red Hat support way, and\n\n502\n00:26:53.070 --> 00:26:57.370\ninstead, we take the existing file system\nas is, and we convert it in place.\n\n503\n00:26:57.370 --> 00:27:01.144\nWhich there are ways to do,\nespecially EXT2, to 3, to 4,\n\n504\n00:27:01.144 --> 00:27:03.553\nthose are really easy to move between.\n\n505\n00:27:03.553 --> 00:27:07.500\nAnd so you can find stuff all over\nthe Internet where people are doing it.\n\n506\n00:27:07.500 --> 00:27:08.410\nI wanna show you some examples,\n\n507\n00:27:08.410 --> 00:27:12.600\nso that just know that you're not gonna\nhave Red Hat support when you do that.\n\n508\n00:27:12.600 --> 00:27:16.885\nAnd it's a great idea, which I should've\ndone with my stupid movies, and I didn't.\n\n509\n00:27:16.885 --> 00:27:19.472\n&gt;&gt; [LAUGH]\n&gt;&gt; To run an MD5 checksum on all of your\n\n510\n00:27:19.472 --> 00:27:23.387\nfiles, so that you can then go right\nback and do the checksum again and\n\n511\n00:27:23.387 --> 00:27:27.430\nverify whether any of your files\ngot damaged in the conversion.\n\n512\n00:27:27.430 --> 00:27:30.130\nAt a minimum, take a back up,\nso that you can restore.\n\n513\n00:27:30.130 --> 00:27:32.540\nThose are all things to think about\nwhen you do a conversion that way.\n\n514\n00:27:32.540 --> 00:27:33.190\n&gt;&gt; Awesome stuff.\n\n515\n00:27:33.190 --> 00:27:37.283\nWell, we've learned a lot today about the\nfile systems, why we'd wanna choose one\n\n516\n00:27:37.283 --> 00:27:40.931\nover the other, helping us follow\nthe correct path for our environments.\n\n517\n00:27:40.931 --> 00:27:44.111\nAnd I know Don is really itching to\nshow us how to do some conversions, so\n\n518\n00:27:44.111 --> 00:27:44.960\nthat'll be cool.\n\n519\n00:27:44.960 --> 00:27:47.850\nHopefully, you'll stick around for\nthat, but as for this episode,\n\n520\n00:27:47.850 --> 00:27:49.120\nit looks like we've come to an end.\n\n521\n00:27:49.120 --> 00:27:50.530\nDon, thank you for joining us today.\n\n522\n00:27:50.530 --> 00:27:52.090\nAnd we thank you guys for watching.\n\n523\n00:27:52.090 --> 00:27:54.835\nSigning off for ITProTV,\nI've been your host, Daniel Lowrie.\n\n524\n00:27:54.835 --> 00:27:56.088\n&gt;&gt; And I'm Don Pezet.\n\n525\n00:27:56.088 --> 00:27:57.634\n&gt;&gt; We'll see you next time\n\n526\n00:27:57.634 --> 00:28:04.488\n[MUSIC]\n\n527\n00:28:04.488 --> 00:28:06.460\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "193750716"
        },
        {
          "description": "In this episode, Daniel and Don demonstrate migrating from one file system to another. They begin by showing you the officially supported method for migrating file systems which involves moving data from one disk to another with the desired file system. Then they show you how to perform an in-place file system migration by converting the file system.",
          "length": "1737",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-3-7-migrating_file_systems-112816-PGM.00_29_22_25.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-3-7-migrating_file_systems-112816-PGM.00_29_22_25.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-3-7-migrating_file_systems-112816-PGM.00_29_22_25.Still001-sm.jpg",
          "title": "Migrating a File System",
          "transcript": "WEBVTT\n\n1\n00:00:00.037 --> 00:00:02.484\nWelcome to ITPro TV,\nI'm your host Don Pezet.\n\n2\n00:00:02.484 --> 00:00:07.101\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:07.101 --> 00:00:08.228\n[MUSIC]\n\n4\n00:00:08.228 --> 00:00:12.092\n&gt;&gt; You're watching ITPro TV.\n\n5\n00:00:12.092 --> 00:00:13.690\n&gt;&gt; All right, greetings everyone.\n\n6\n00:00:13.690 --> 00:00:16.940\nAnd welcome to another\ngreat episode of ITProTV.\n\n7\n00:00:16.940 --> 00:00:17.970\nI'm your host, Daniel Lowrie.\n\n8\n00:00:17.970 --> 00:00:18.930\nAnd in today's episode,\n\n9\n00:00:18.930 --> 00:00:22.795\nwe are moving on, more on our\nRed Hat Enterprise Linux series.\n\n10\n00:00:22.795 --> 00:00:24.770\nItis version seven if\nyou're paying attention.\n\n11\n00:00:24.770 --> 00:00:28.731\nAnd joining us in the studio yet again, to\nhelp us a little more out so we have some\n\n12\n00:00:28.731 --> 00:00:32.620\nmore extra on some file systems and Don\nwanted to show us some interesting things.\n\n13\n00:00:32.620 --> 00:00:35.420\nSo take it away, Mr.\nDon Pezet, how's it going today?\n\n14\n00:00:35.420 --> 00:00:36.440\n&gt;&gt; It is going great.\n\n15\n00:00:36.440 --> 00:00:39.440\nIn one of our last episodes we were\ntalking about how we choose the right\n\n16\n00:00:39.440 --> 00:00:43.440\nfile system, and looked at some of\nthe different ones that were there,\n\n17\n00:00:43.440 --> 00:00:45.770\nExt2, 3, 4, XFS, Btrfs, all those things.\n\n18\n00:00:45.770 --> 00:00:48.520\nAnd we talked a little\nbit about how we migrate,\n\n19\n00:00:48.520 --> 00:00:50.860\nhow we move from one\nfile system to another.\n\n20\n00:00:50.860 --> 00:00:53.700\nBut we didn't actually show it, and I do\nwant to walk through that process, I want\n\n21\n00:00:53.700 --> 00:00:58.140\nto walk through the officially supported\nway in a way you're suppose to do it and\n\n22\n00:00:58.140 --> 00:01:01.400\nthen we can walk through some of\nthe unofficially unsupported ways.\n\n23\n00:01:01.400 --> 00:01:02.230\n&gt;&gt; The fun ways.\n\n24\n00:01:02.230 --> 00:01:03.190\n&gt;&gt; The fun ways.\n\n25\n00:01:03.190 --> 00:01:06.620\nBut it is an interesting\nsystem we have in place and\n\n26\n00:01:06.620 --> 00:01:10.510\nthat effectively if you want to switch\nfrom one file system to another\n\n27\n00:01:10.510 --> 00:01:15.160\nfile system, Red Hat doesn't\nactually support conversions.\n\n28\n00:01:15.160 --> 00:01:19.320\nThey don't support converting data from\none file system to another in place.\n\n29\n00:01:19.320 --> 00:01:24.130\nInstead, what they want you to do\nis prepare another file system,\n\n30\n00:01:24.130 --> 00:01:28.840\nprepare a completely separate set of data\nand then from there you can go ahead and\n\n31\n00:01:28.840 --> 00:01:29.710\nmove your data over.\n\n32\n00:01:29.710 --> 00:01:30.590\nSo for example here,\n\n33\n00:01:30.590 --> 00:01:35.930\nif we take a look at my laptop I'm just\ngonna pull up my mount output here.\n\n34\n00:01:35.930 --> 00:01:40.790\nAnd you can see the last drive that\nI had mounted here, /dev/sdb1.\n\n35\n00:01:40.790 --> 00:01:42.810\nIt's mounted to /mnt/website.\n\n36\n00:01:42.810 --> 00:01:44.330\nAnd it's type ext2.\n\n37\n00:01:44.330 --> 00:01:47.240\nThis is old school,\nit's an ext2 file system on this drive.\n\n38\n00:01:47.240 --> 00:01:49.520\nAnd it's where I'm storing my website.\n\n39\n00:01:49.520 --> 00:01:52.740\nAnd so I say, boy,\nas my website gets busier and busier,\n\n40\n00:01:52.740 --> 00:01:55.220\nI probably want to move this\nto a more modern file system.\n\n41\n00:01:55.220 --> 00:01:57.840\nAnd at a minimum,\nit'd be nice to get journaling.\n\n42\n00:01:57.840 --> 00:02:00.140\nAnd that way,\nI don't have to worry about corrupt or\n\n43\n00:02:00.140 --> 00:02:03.620\ndirty rights onto my website pages and\nstuff.\n\n44\n00:02:03.620 --> 00:02:10.970\nSo I want to get this moved over\nto Ext4 or XFS or Btrfs, right.\n\n45\n00:02:10.970 --> 00:02:12.940\nIf I wanna go XFS.\n\n46\n00:02:12.940 --> 00:02:14.350\nI can just whip up an XFS drive.\n\n47\n00:02:14.350 --> 00:02:16.860\nAnd I can copy this data over to it.\n\n48\n00:02:16.860 --> 00:02:17.470\nRight.\nAnd so\n\n49\n00:02:17.470 --> 00:02:18.760\nthat's the way that it's recommended.\n\n50\n00:02:18.760 --> 00:02:20.640\nAnd if you have a small set of data,\nit's not a big deal.\n\n51\n00:02:20.640 --> 00:02:21.870\nHere it's just a website.\n\n52\n00:02:21.870 --> 00:02:22.880\nNot a big deal.\n\n53\n00:02:22.880 --> 00:02:26.500\nBut if you've got terabytes upon\nterabytes of database data.\n\n54\n00:02:26.500 --> 00:02:30.570\nIt can be a big deal because here I've\ngot this storage already in place,\n\n55\n00:02:30.570 --> 00:02:34.980\nI now have to go and get a second\nset of storage that's the same size,\n\n56\n00:02:34.980 --> 00:02:38.760\nequal size and\nformat it with the new file system and\n\n57\n00:02:38.760 --> 00:02:43.670\ncopy all my data over and then I can\nremount and I'm back up in business.\n\n58\n00:02:43.670 --> 00:02:44.290\nRight?\n\n59\n00:02:44.290 --> 00:02:47.130\nThat copy operation could\ntake a long time though and\n\n60\n00:02:47.130 --> 00:02:50.090\nwhat happens if your data\nchanges while you're copying?\n\n61\n00:02:50.090 --> 00:02:53.540\nWell now you've got run syncs,\nyou've got to run continual r sync or\n\n62\n00:02:53.540 --> 00:02:55.980\nwhatever to keep\neverything locked in step.\n\n63\n00:02:55.980 --> 00:02:58.230\nSo that you make sure you've\ngot your data in place.\n\n64\n00:02:58.230 --> 00:03:02.020\nIf it takes three days to copy your\ndata you can't just take it offline and\n\n65\n00:03:02.020 --> 00:03:04.985\nsay all right for three days\neverybody just don't save stuff.\n\n66\n00:03:04.985 --> 00:03:06.530\n&gt;&gt; [LAUGH]\n&gt;&gt; Don't turn your computer off.\n\n67\n00:03:06.530 --> 00:03:07.250\n[LAUGH]\n&gt;&gt; And why not?\n\n68\n00:03:07.250 --> 00:03:11.030\n&gt;&gt; You could,\nI guess it depends on who you work for.\n\n69\n00:03:11.030 --> 00:03:12.480\nOr who you worked for.\n\n70\n00:03:12.480 --> 00:03:13.296\nPast tense.\n&gt;&gt; [LAUGH] Worked for.\n\n71\n00:03:13.296 --> 00:03:16.140\n&gt;&gt; [LAUGH] So\nthat doesn't really work out.\n\n72\n00:03:16.140 --> 00:03:21.350\nSo instead, what we need to do is\nfind a solution that works for us.\n\n73\n00:03:21.350 --> 00:03:25.030\nAnd if we can copy the data while\nit's online, then we can do r sync.\n\n74\n00:03:25.030 --> 00:03:26.350\nWe can try and keep it up to date.\n\n75\n00:03:26.350 --> 00:03:28.330\nAnd when we're ready to do the conversion,\n\n76\n00:03:28.330 --> 00:03:30.630\nthen what you actually do\nis you do take it offline.\n\n77\n00:03:30.630 --> 00:03:33.270\nYou r sync the last of the changes.\n\n78\n00:03:33.270 --> 00:03:34.210\nAnd then you move the steps over.\n\n79\n00:03:34.210 --> 00:03:37.430\nSo let me just kinda really\nquickly run through this and\n\n80\n00:03:37.430 --> 00:03:41.080\nshow you how this would work from\nthe file system perspective.\n\n81\n00:03:41.080 --> 00:03:43.310\nWe won't bore you guys to\ndeath with details on r sync.\n\n82\n00:03:43.310 --> 00:03:45.050\nI think we've all used it enough.\n\n83\n00:03:45.050 --> 00:03:47.730\nThe but\nbasically I've got this Ext2 file system.\n\n84\n00:03:47.730 --> 00:03:50.680\nI'm just gonna make another file system.\n\n85\n00:03:50.680 --> 00:03:58.288\nAnd if I wanna go xfs I could\njust say mkfs.xfs /dev/sdc1.\n\n86\n00:03:58.288 --> 00:04:02.350\nAnd I can drop a file\nsystem on that partition.\n\n87\n00:04:02.350 --> 00:04:08.380\nI can then mount it, so\nI'm gonna mount sdc1 to /mnt/temp.\n\n88\n00:04:08.380 --> 00:04:11.130\nAnd so now it's mounted, right?\n\n89\n00:04:11.130 --> 00:04:17.100\nAnd when I take a look at my mount output,\nI can see where I've got Ext2, right here.\n\n90\n00:04:17.100 --> 00:04:19.780\nAnd I've got xfs right here.\n\n91\n00:04:19.780 --> 00:04:21.290\nNow I just need to copy my data.\n\n92\n00:04:21.290 --> 00:04:28.679\nSo whatever is on the original Ext2 drive,\nI need to copy it over to the other drive.\n\n93\n00:04:28.679 --> 00:04:32.366\nSo I can do a cp -R.\n\n94\n00:04:32.366 --> 00:04:35.880\nI want it to be recursive, where I get\nall the subfolders and all that stuff.\n\n95\n00:04:35.880 --> 00:04:41.240\nAnd I want to get everything\nin /mnt/website and\n\n96\n00:04:41.240 --> 00:04:44.840\nI wanna send it to /mnt/temp, all right?\n\n97\n00:04:44.840 --> 00:04:50.130\nSo, oops, I probably need to do /*,\nthere we go.\n\n98\n00:04:50.130 --> 00:04:52.800\nActually, get the whole thing,\nbut there we go.\n\n99\n00:04:52.800 --> 00:04:56.100\nAll right, so we're gonna copy that over,\nand now our data gets copied over.\n\n100\n00:04:56.100 --> 00:04:59.900\nNow I just have one little HTML file\nin there, so it's instantaneous.\n\n101\n00:04:59.900 --> 00:05:04.320\nFor you though, we might have to sit\nhere for three days as it copies\n\n102\n00:05:04.320 --> 00:05:08.670\na huge volume of data and gets it moved\nover into temp and gets it put in place.\n\n103\n00:05:08.670 --> 00:05:14.480\nAll right, when it's all said and done\nthough, right, I can stop my web server.\n\n104\n00:05:14.480 --> 00:05:22.190\nSo if I've got it in place,\nI can say systemctl stop httpd.\n\n105\n00:05:22.190 --> 00:05:25.750\nAnd so I'm gonna stop my web service,\nnow the websites offline.\n\n106\n00:05:25.750 --> 00:05:30.220\nI can unmount the website, right?\n\n107\n00:05:30.220 --> 00:05:31.555\nSo there it goes.\n\n108\n00:05:31.555 --> 00:05:36.241\nI can unmount temp and then I can mount,\n\n109\n00:05:36.241 --> 00:05:41.711\ninstead of doing sdb1, I can take sdc1.\n\n110\n00:05:41.711 --> 00:05:44.520\nActually it would be /dev/sdc1.\n\n111\n00:05:44.520 --> 00:05:48.220\nAnd I can mount that to /mnt/website.\n\n112\n00:05:48.220 --> 00:05:53.220\nAnd when I do that,\nnow I can see the /mnt/website is xfs.\n\n113\n00:05:53.220 --> 00:05:57.567\nAnd if I look inside it,\nthere's my index.html copied over,\n\n114\n00:05:57.567 --> 00:06:03.065\nI've actually got a website folder cuz\nI screwed up my first copy command.\n\n115\n00:06:03.065 --> 00:06:07.135\nBut it's in place and there we go,\nnow I've just migrated over to XFS, right.\n\n116\n00:06:08.445 --> 00:06:12.925\nIf I had SELinux context in\nplace I'd need to reset those.\n\n117\n00:06:12.925 --> 00:06:16.115\nIf I had anything other crazy kinda\nstuff going on I'd need to reset it.\n\n118\n00:06:16.115 --> 00:06:19.145\nBut as far as getting the data\nmigrated over, that's it.\n\n119\n00:06:19.145 --> 00:06:23.560\nThat's the officially supported\nmechanism from Red Hat from moving\n\n120\n00:06:23.560 --> 00:06:28.250\nfrom one file system to another,\nand I just moved from Ext2 to XFS.\n\n121\n00:06:28.250 --> 00:06:32.390\nBut I could have moved to btrfs,\nor Ext4, or whatever, and\n\n122\n00:06:32.390 --> 00:06:34.340\neverything would have gotten knocked out.\n\n123\n00:06:34.340 --> 00:06:38.760\nWhen you go to something like XFS,\nor even Ext4, one of the nice\n\n124\n00:06:38.760 --> 00:06:43.380\nparts about this is when you copy the\nfile, every one is treated as a new file.\n\n125\n00:06:43.380 --> 00:06:45.900\nWe're being created as a new\nfile in that file system.\n\n126\n00:06:45.900 --> 00:06:50.020\nSo if I was stored as a bit map in\nthe old file system, and I'm gonna\n\n127\n00:06:50.020 --> 00:06:54.480\nbe using Extenze in the new file system,\nevery file is now using the new Extenze.\n\n128\n00:06:54.480 --> 00:06:56.100\nEvery directory is now indexed.\n\n129\n00:06:56.100 --> 00:06:58.630\nEverything is the way we want it to be.\n\n130\n00:06:58.630 --> 00:07:00.270\nIt really is the best solution, and\n\n131\n00:07:00.270 --> 00:07:02.830\nthat's why it's the official\nRed Hat solution, right?\n\n132\n00:07:02.830 --> 00:07:06.200\nIt didn't really matter which file system\nmy source and destination were here.\n\n133\n00:07:06.200 --> 00:07:06.990\nIt could have been any of them.\n\n134\n00:07:06.990 --> 00:07:10.943\nSo this works for upgrading from\nExt2 all the way up to btrfs or\n\n135\n00:07:10.943 --> 00:07:13.618\neven downgrading from XFS down to Ext3.\n\n136\n00:07:13.618 --> 00:07:16.343\nIt doesn't really matter,\ncuz we're just copying the files.\n\n137\n00:07:16.343 --> 00:07:19.493\nAnd you can copy in between any file\nsystems as long as they mount and\n\n138\n00:07:19.493 --> 00:07:20.560\nyou're done.\n\n139\n00:07:20.560 --> 00:07:23.342\n&gt;&gt; Well Don, it seems pretty painless\nto go through that procedure,\n\n140\n00:07:23.342 --> 00:07:26.769\nwhy would we wanna do anything other than\nthat especially since that is officially\n\n141\n00:07:26.769 --> 00:07:27.960\nsupported by Red Hat?\n\n142\n00:07:27.960 --> 00:07:29.180\n&gt;&gt; There are two reasons.\n\n143\n00:07:29.180 --> 00:07:31.230\nOne is time, right?\n\n144\n00:07:31.230 --> 00:07:34.560\nIt can take a long time\nto copy this data over.\n\n145\n00:07:34.560 --> 00:07:35.070\nRight.\n\n146\n00:07:35.070 --> 00:07:39.202\nAnd if it's gonna take three days that\nmeans my performance will be degraded for\n\n147\n00:07:39.202 --> 00:07:43.400\nthree days cuz the system is consistently\ndoing disk I/O that whole time.\n\n148\n00:07:43.400 --> 00:07:46.030\nIt's gonna hurt performance,\nthat's one reason.\n\n149\n00:07:46.030 --> 00:07:48.620\nAnother reason is, cost.\n\n150\n00:07:48.620 --> 00:07:52.687\nI have to have a completely\nseparate set of storage.\n\n151\n00:07:52.687 --> 00:07:55.701\nSo if I've got 50 terabytes of data here,\n\n152\n00:07:55.701 --> 00:07:59.290\nI'm gonna need another\n50 terabytes of storage.\n\n153\n00:07:59.290 --> 00:08:01.013\nTo be able to copy this data over.\n\n154\n00:08:01.013 --> 00:08:04.250\nSo I might only have 50 terabytes of data,\nbut now I need 100 terabytes of storage.\n\n155\n00:08:04.250 --> 00:08:05.500\nAnd that can get expensive,\n\n156\n00:08:05.500 --> 00:08:09.650\nespecially if these are like 15k RPM\nfiber channel scuzzy drives, right?\n\n157\n00:08:09.650 --> 00:08:11.740\nThe cost really starts to creep up.\n\n158\n00:08:11.740 --> 00:08:17.500\nSo in those scenarios we might want to\ndo what's called an in place conversion.\n\n159\n00:08:17.500 --> 00:08:20.160\nBut you gotta be careful with these\nbecause they're not officially supported\n\n160\n00:08:20.160 --> 00:08:22.190\nand they can cause problems alright.\n\n161\n00:08:22.190 --> 00:08:26.110\nNow before I get too far there\nis no in place conversion for\n\n162\n00:08:26.110 --> 00:08:28.340\ngoing to xfs or btrfs.\n\n163\n00:08:28.340 --> 00:08:32.378\nSo if you wanna go to xfs or btrfs you\ngotta do what I just did right there.\n\n164\n00:08:32.378 --> 00:08:35.290\nYou've got to have that second set\nof data, that's just how it is.\n\n165\n00:08:35.290 --> 00:08:39.140\nIf you don't have the actual storage,\nif it's really expensive storage.\n\n166\n00:08:39.140 --> 00:08:42.670\nWhat you can do, is you can back up to\ntape, or some kind of external media, or\n\n167\n00:08:42.670 --> 00:08:46.670\neven cheap garbage SATA drives,\nback up to something like that.\n\n168\n00:08:46.670 --> 00:08:50.870\nAnd then take your system offline,\nreformat the disks with the new file\n\n169\n00:08:50.870 --> 00:08:54.000\nsystem, and then restore from your\ncheap garbage storage, right?\n\n170\n00:08:54.000 --> 00:08:55.800\nAnd get it kind of back in place.\n\n171\n00:08:55.800 --> 00:08:57.510\nBut time is of the essence, right?\n\n172\n00:08:57.510 --> 00:09:00.430\nAnd so if you're in a mission\ncritical environment\n\n173\n00:09:00.430 --> 00:09:02.050\njust get ready to pay money for\nextra storage.\n\n174\n00:09:02.050 --> 00:09:06.680\nThat's just what you're going to have to\ndo in order to compensate for that, But\n\n175\n00:09:06.680 --> 00:09:14.770\nif you're moving from Ext2 to Ext3 to\nExt4, all three of those are actually Ext.\n\n176\n00:09:14.770 --> 00:09:18.090\nThey're all basically the same\nfile system under the hood.\n\n177\n00:09:18.090 --> 00:09:22.590\nAll that's different are little features\nthat get bolted on with each version.\n\n178\n00:09:22.590 --> 00:09:26.650\nAnd so for those,\nyou can actually do in-place upgrades\n\n179\n00:09:26.650 --> 00:09:31.020\nthat will enable those features\nwithout having to copy your data.\n\n180\n00:09:31.020 --> 00:09:32.600\nAnd it's pretty painless.\n\n181\n00:09:32.600 --> 00:09:35.230\nAnd you'll find all over the Internet,\npeople do it.\n\n182\n00:09:35.230 --> 00:09:36.700\nI've done it.\n\n183\n00:09:36.700 --> 00:09:40.410\nIt's just not supported by Red Hat,\nnot officially supported.\n\n184\n00:09:40.410 --> 00:09:42.410\nSo if you do it, there is some risk.\n\n185\n00:09:42.410 --> 00:09:43.540\nYou need to back up your data.\n\n186\n00:09:43.540 --> 00:09:44.840\nYou should be backing up your data anyway.\n\n187\n00:09:44.840 --> 00:09:46.920\nSo I shouldn't have to\nreally even say that.\n\n188\n00:09:46.920 --> 00:09:49.900\nBut back up your data, and then you can\nattempt the in place conversion and\n\n189\n00:09:49.900 --> 00:09:50.540\nsee how it works.\n\n190\n00:09:50.540 --> 00:09:52.740\nIt might work out just fine for\nyou, right?\n\n191\n00:09:52.740 --> 00:09:54.440\nSo a couple words of caution.\n\n192\n00:09:54.440 --> 00:09:56.150\nI know I talked about\nthis in the last episode.\n\n193\n00:09:56.150 --> 00:09:58.790\nBut one, definitely take a backup.\n\n194\n00:09:58.790 --> 00:10:02.790\nTwo, consider taking an MD5\nchecksum of all the files, right?\n\n195\n00:10:02.790 --> 00:10:06.530\nNot all the files as one big checksum,\nI mean each file individually.\n\n196\n00:10:06.530 --> 00:10:09.170\nAnd then you can always do\nanother checksum afterwards and\n\n197\n00:10:09.170 --> 00:10:11.340\ncompare to see if any files got damaged,\n\n198\n00:10:11.340 --> 00:10:13.890\nand then you can restore those\nfiles from backup if necessary.\n\n199\n00:10:13.890 --> 00:10:16.550\nBut that's a great way to ensure that your\ndata's still intact even though you're\n\n200\n00:10:16.550 --> 00:10:18.625\ndoing something that's\nnot completely supported.\n\n201\n00:10:18.625 --> 00:10:22.020\nAlright, so let's say that I want\nto do one of those end places.\n\n202\n00:10:22.020 --> 00:10:24.520\nWell I just upgraded myself to XFS right.\n\n203\n00:10:24.520 --> 00:10:26.150\nSo let me put this back.\n\n204\n00:10:27.190 --> 00:10:30.100\nI'm going to unmount my website.\n\n205\n00:10:31.510 --> 00:10:35.514\nAnd I'm going to mount my website back to\n\n206\n00:10:35.514 --> 00:10:41.762\n/dev/sdb1 to /mnt/website.\n\n207\n00:10:41.762 --> 00:10:47.240\nOkay, so now I can see that\n/mnt/website is back to ext2, right?\n\n208\n00:10:47.240 --> 00:10:52.060\nSo I'm running the ext2 file system and\nI decide that I want to go to ext3.\n\n209\n00:10:52.060 --> 00:10:53.420\nBoy I hear EXT3 is great.\n\n210\n00:10:53.420 --> 00:10:54.120\nThey introduced,\n\n211\n00:10:54.120 --> 00:10:57.030\nthat's actually the very first EXT\nthat introduced journaling support.\n\n212\n00:10:57.030 --> 00:11:01.370\nSo we can have journals if we want and\nlarger file sizes and\n\n213\n00:11:01.370 --> 00:11:02.390\nall those bells and whistles.\n\n214\n00:11:02.390 --> 00:11:04.330\nI want to get it in place, alright?\n\n215\n00:11:05.540 --> 00:11:10.200\nWell upgrading from EXT2 to EXT3,\nsuper easy.\n\n216\n00:11:10.200 --> 00:11:14.130\nIn fact, the command for it is tune2fs.\n\n217\n00:11:14.130 --> 00:11:16.390\nAnd the odds are it's already\ninstalled on your system.\n\n218\n00:11:16.390 --> 00:11:18.600\nIf it isn't you can install\nfrom Yum really easy.\n\n219\n00:11:18.600 --> 00:11:24.710\nBut tune2fs is a utility that let's you\nchange the file system options for EXT.\n\n220\n00:11:24.710 --> 00:11:31.000\nAnd I know it's called tune2fs\nlike ext2 but it works on ext3 and\n\n221\n00:11:31.000 --> 00:11:35.200\neven ext4 also because they're\nall ext at the end of the day.\n\n222\n00:11:35.200 --> 00:11:39.610\nSo I can use tune2fs to bump\nthis one up and convert it.\n\n223\n00:11:39.610 --> 00:11:43.850\nAnd an upgrade into EXT3 or\nwhatever, right?\n\n224\n00:11:43.850 --> 00:11:49.676\nSo for example, if I want to upgrade\nthis one, I can come in here and\n\n225\n00:11:49.676 --> 00:11:53.957\nI can say, tune2fs -j /dev/sdb1, right?\n\n226\n00:11:53.957 --> 00:11:56.920\nWhat's the -j?\n\n227\n00:11:56.920 --> 00:11:57.970\nEnable journaling.\n\n228\n00:11:57.970 --> 00:12:01.030\nJournaling was the big feature\nthat we got with the Ext3.\n\n229\n00:12:01.030 --> 00:12:07.310\nAnd so when I run that, creating\njournal imode done, and that's it.\n\n230\n00:12:07.310 --> 00:12:09.790\nThat wasn't a very exciting command,\nright?\n\n231\n00:12:09.790 --> 00:12:14.890\nAnd if I run mount It's\nstill mounted as EXT-2.\n\n232\n00:12:14.890 --> 00:12:16.830\nWhat did that do?\n\n233\n00:12:16.830 --> 00:12:18.860\nNothing, okay.\nIt certainly appears to be nothing.\n\n234\n00:12:18.860 --> 00:12:21.180\n&gt;&gt; Because if I were doing\nthis I would see it and\n\n235\n00:12:21.180 --> 00:12:25.590\ngo, wow either it didn't work or I just\ndon't know what the heck I am doing here.\n\n236\n00:12:25.590 --> 00:12:26.349\n&gt;&gt; Yes.\nWhich might be true.\n\n237\n00:12:27.510 --> 00:12:31.440\nEXT at the end of the day, the EXT two,\nthree, and four are all forwards and\n\n238\n00:12:31.440 --> 00:12:32.820\nbackwards compatible with each other.\n\n239\n00:12:32.820 --> 00:12:33.780\nIt is just EXT.\n\n240\n00:12:33.780 --> 00:12:38.730\nWhat I actually have\nnow is an EXT-3 volume\n\n241\n00:12:38.730 --> 00:12:43.360\nthat's been mounted in EXT-2 mode\nbecause I haven't remounted it.\n\n242\n00:12:43.360 --> 00:12:45.740\nIf I unmount that, if I.\n\n243\n00:12:47.030 --> 00:12:51.110\nLet me unmount the website and\nremount the website.\n\n244\n00:12:51.110 --> 00:12:55.610\nWhen I mount it this time, and\nI run the mount command, look what it did.\n\n245\n00:12:55.610 --> 00:12:57.330\nType ext3, right?\n\n246\n00:12:57.330 --> 00:12:59.680\nAnd there's a lot more\nlittle options over here,\n\n247\n00:12:59.680 --> 00:13:01.790\nat least I think it added some, didn't it?\n\n248\n00:13:01.790 --> 00:13:04.150\nLet's, I got a lot of mounts in here.\n\n249\n00:13:04.150 --> 00:13:04.950\nYeah, so before,\n\n250\n00:13:04.950 --> 00:13:10.130\nwe had that it was read write relative\ntime with security label support.\n\n251\n00:13:10.130 --> 00:13:13.815\nNow I have that it's read, write,\nrelative time, with security label, and\n\n252\n00:13:13.815 --> 00:13:18.940\ndate=ordered, which is talking about the\nindexing structure that's in place on it.\n\n253\n00:13:18.940 --> 00:13:22.290\nSo there it is, I just upgraded to EXT 3.\n\n254\n00:13:22.290 --> 00:13:25.810\nI can run the tuneToFX\ncommand whenever I want and\n\n255\n00:13:25.810 --> 00:13:30.590\nthen I can schedule downtime to\njust un-mount and remount the disk.\n\n256\n00:13:30.590 --> 00:13:32.760\nIt only took a second and now I'm EXT 3.\n\n257\n00:13:32.760 --> 00:13:34.440\nSo pretty painless.\n\n258\n00:13:34.440 --> 00:13:38.740\nThe odds of me losing data\nhere pretty low right.\n\n259\n00:13:38.740 --> 00:13:42.530\nNot officially supported by Red Hat, but\nthe odds are so low of losing data that\n\n260\n00:13:42.530 --> 00:13:45.570\nthere is plenty of people who do this\nin production on a regular basis.\n\n261\n00:13:45.570 --> 00:13:49.730\nAnd the same thing goes for\ngoing EXT 3 to EXT 4.\n\n262\n00:13:49.730 --> 00:13:53.460\nThat if I want to go to ext4, the big\nthing that we got there was using extents\n\n263\n00:13:53.460 --> 00:13:56.750\ninstead of a bitmap,\nwhich makes things go a lot faster,\n\n264\n00:13:56.750 --> 00:13:58.630\nespecially as far as\nlook ups are concerned.\n\n265\n00:13:58.630 --> 00:14:02.980\nSo I can switch over to\next4 kind of the same way.\n\n266\n00:14:02.980 --> 00:14:04.510\nSo if we want to bump up to ext4,\n\n267\n00:14:04.510 --> 00:14:08.399\nI got a few different choices\nabout how I want to do this one.\n\n268\n00:14:09.920 --> 00:14:13.760\nIt really comes down to whether\nthis is a live file system or not.\n\n269\n00:14:13.760 --> 00:14:15.690\nSo this is my website, right?\n\n270\n00:14:15.690 --> 00:14:18.870\nWhenever I want I can stop the Apache\nservice and I can un-mount it.\n\n271\n00:14:18.870 --> 00:14:21.430\nAnd then I can do whatever I need to do to\nthe file system and mount it back again.\n\n272\n00:14:21.430 --> 00:14:24.760\nSo that's not considered live,\nI can do it whenever I want.\n\n273\n00:14:24.760 --> 00:14:29.560\nBut if it's something\nlike my root partition,\n\n274\n00:14:29.560 --> 00:14:31.925\nI can't unmount the root partition can I?\n\n275\n00:14:31.925 --> 00:14:33.970\nBecause then my system could lock up.\n\n276\n00:14:33.970 --> 00:14:37.680\nI could maybe go into single user mode but\nthat's gonna kick everybody out,\n\n277\n00:14:37.680 --> 00:14:41.900\nI can mount it as read only but again\nthat's gonna really mess with the system.\n\n278\n00:14:41.900 --> 00:14:45.510\nSo upgrading like the root\npartition is pretty hard.\n\n279\n00:14:45.510 --> 00:14:48.390\nSo if I want to upgrade\nthe root partition to ext4,\n\n280\n00:14:48.390 --> 00:14:53.860\nwhat I would have to do is I would have to\nedit my fstab file, the file system table.\n\n281\n00:14:53.860 --> 00:14:55.870\nLet me show you guys real quick.\n\n282\n00:14:55.870 --> 00:15:04.210\nIf I edit /etc/fstab I can come in here\nand I can find my root, right here.\n\n283\n00:15:04.210 --> 00:15:08.720\nIn my case I got LVM so\nit's /dev/mapper/rhel-root And\n\n284\n00:15:08.720 --> 00:15:11.050\nthat's my root mount point.\n\n285\n00:15:11.050 --> 00:15:13.120\nAnd way over here I've got XFS.\n\n286\n00:15:13.120 --> 00:15:17.560\nWe'll let's pretend for\na moment that I had ext3, right?\n\n287\n00:15:17.560 --> 00:15:19.530\nSo that's what it was.\n\n288\n00:15:19.530 --> 00:15:22.450\nMaybe this was a Red Hat 6 system\nthat I upgraded to Red Hat 7.\n\n289\n00:15:22.450 --> 00:15:24.330\nSo it still has the ext3.\n\n290\n00:15:24.330 --> 00:15:25.340\nAnd I want to upgrade it to ext4.\n\n291\n00:15:25.340 --> 00:15:27.780\nActually, I think 6 defaulted to 4.\n\n292\n00:15:27.780 --> 00:15:31.870\nSo anyhow, for whatever reason,\nyour root happens to be ext3.\n\n293\n00:15:31.870 --> 00:15:37.310\nI can come in here and edit fstab and I\ncan just change it to ext4 and save this.\n\n294\n00:15:37.310 --> 00:15:39.720\nAnd then when I get a chance,\nI can schedule a reboot.\n\n295\n00:15:39.720 --> 00:15:44.530\nAnd when the system reboots,\nit's going to go to mount that disk,\n\n296\n00:15:44.530 --> 00:15:49.620\nit's gonna mount it as ext4, and it's\ngoing to recognize that it's still ext3.\n\n297\n00:15:51.110 --> 00:15:54.124\nEXT3 can be mounted as EXT4.\n\n298\n00:15:54.124 --> 00:15:55.403\nIt just mounts it in compatibility mode.\n\n299\n00:15:55.403 --> 00:15:58.518\nIn other words,\nit just uses the EXT3 features.\n\n300\n00:15:58.518 --> 00:16:02.748\nSo I haven't converted it But the system\nhas mounted it and brought it online as\n\n301\n00:16:02.748 --> 00:16:06.398\next4, so now I can just enable\nthe features that I want at will, and\n\n302\n00:16:06.398 --> 00:16:07.980\nit's not a big deal, okay.\n\n303\n00:16:07.980 --> 00:16:11.680\nSo that's what we have to do for live file\nsystems that we can't take off line while\n\n304\n00:16:11.680 --> 00:16:15.180\nthe system is up,\nlike the root mount point, okay.\n\n305\n00:16:15.180 --> 00:16:18.820\nBut for other things like my website,\nmy website is not a big deal.\n\n306\n00:16:18.820 --> 00:16:22.860\nI can take that off line whenever I\nwant so I don't need to go in and\n\n307\n00:16:22.860 --> 00:16:23.690\ngo this route.\n\n308\n00:16:23.690 --> 00:16:27.650\nI can just unmount it, change it,\nmount it back again, and it'll be fine.\n\n309\n00:16:27.650 --> 00:16:29.930\nAnd I'll wanna update fstab\nto indicate that it's ext4,\n\n310\n00:16:29.930 --> 00:16:32.240\nso that it takes advantage of it, right.\n\n311\n00:16:32.240 --> 00:16:36.880\nSo, I'm going to unmount\nthe website again.\n\n312\n00:16:36.880 --> 00:16:40.810\nSo let me just take that offline, right.\n\n313\n00:16:40.810 --> 00:16:45.130\nAnd it was ext3 a moment ago,\nI'm gonna move it over to ext4, okay.\n\n314\n00:16:45.130 --> 00:16:51.750\nSo what I'm gonna do now is I'm gonna jump\nin and they recommend before you try and\n\n315\n00:16:51.750 --> 00:16:54.990\ndo any kind of conversion, whatever the,\nunless you run a file system check on it.\n\n316\n00:16:54.990 --> 00:16:59.120\nAnd so in this case I'm actually gonna\ndo two things, I'm gonna run a file\n\n317\n00:16:59.120 --> 00:17:04.000\nsystem check and at the same time,\nI'm gonna tell it to hide the journal.\n\n318\n00:17:04.000 --> 00:17:09.240\nThe journal is maintained in ext3 as\na particular file on the hard drive.\n\n319\n00:17:09.240 --> 00:17:14.270\nAnd the journal file gets changed when\nyou go to ext4 to a different style.\n\n320\n00:17:14.270 --> 00:17:18.770\nIf I hide the ext3 journal, it'll\nbasically tell ext4 to create its own\n\n321\n00:17:18.770 --> 00:17:21.290\njournal and start from scratch,\nwhich is usually what we want.\n\n322\n00:17:21.290 --> 00:17:22.680\nAnd so\nthat's what this next command is gonna do.\n\n323\n00:17:22.680 --> 00:17:26.689\nSo I'm gonna run fsck.ext3 so\n\n324\n00:17:26.689 --> 00:17:31.446\nI'm running the ext3 version of it.\n\n325\n00:17:31.446 --> 00:17:36.775\n-pf/dev/sdb1 all right?\n\n326\n00:17:36.775 --> 00:17:38.793\nSo, that's gonna run, and see how it says,\n\n327\n00:17:38.793 --> 00:17:40.880\nbacking up journal inode\nblock information.\n\n328\n00:17:40.880 --> 00:17:44.500\nAnd then, Moving journal\nfrom/.journal to hidden inode.\n\n329\n00:17:44.500 --> 00:17:47.170\nSo, it's kind of shifting that\njournal off To where ext4\n\n330\n00:17:47.170 --> 00:17:49.178\nwill be able to better handle it,\nall right?\n\n331\n00:17:49.178 --> 00:17:51.000\nAnd that will take just a moment.\n\n332\n00:17:51.000 --> 00:17:53.830\nThe larger your data is the longer\nyour system's on the line.\n\n333\n00:17:53.830 --> 00:17:55.070\nThe longer this can take.\n\n334\n00:17:55.070 --> 00:17:56.920\nMy system hasn't been\non line all that long.\n\n335\n00:17:56.920 --> 00:17:58.700\nSo I kind of expected\nit to be done already.\n\n336\n00:17:58.700 --> 00:18:00.010\nBut it should finish here shortly.\n\n337\n00:18:00.010 --> 00:18:00.828\n&gt;&gt; Shows what you know.\n\n338\n00:18:00.828 --> 00:18:01.940\n&gt;&gt; I know, yeah.\n\n339\n00:18:01.940 --> 00:18:03.090\nNo, it's pretty quick.\n\n340\n00:18:03.090 --> 00:18:05.040\nSo anyhow, it'll turn through.\n\n341\n00:18:05.040 --> 00:18:08.360\nAnd as soon as that's done,\nthen I'm ready for the actual conversion.\n\n342\n00:18:08.360 --> 00:18:10.980\nAnd when it comes to actually\ndoing the conversion,\n\n343\n00:18:10.980 --> 00:18:12.330\nwe're going right back to tune2fs.\n\n344\n00:18:12.330 --> 00:18:18.550\nI'm gonna use tune2fs to reach into\nthis and just turn on the ext4 features.\n\n345\n00:18:18.550 --> 00:18:20.200\nOkay, so there it is, it is finally ready.\n\n346\n00:18:20.200 --> 00:18:22.540\nIt finished, it did its check and\n\n347\n00:18:22.540 --> 00:18:25.580\nthe journal is now kind of shifted\noff to where it needs to be.\n\n348\n00:18:25.580 --> 00:18:31.810\nSo now I'm just gonna say,\ntune2fs -o, cuz I'm setting options.\n\n349\n00:18:31.810 --> 00:18:33.320\nAnd now I'm gonna tell it\nwhat I'm gonna turn on.\n\n350\n00:18:33.320 --> 00:18:36.690\nWell, this is like a laundry\nlist of what ext4 adds.\n\n351\n00:18:36.690 --> 00:18:38.550\nSo first off, I want to enable extents.\n\n352\n00:18:38.550 --> 00:18:41.520\nThat's kind of the big advantage of ext4.\n\n353\n00:18:41.520 --> 00:18:46.490\nI'm gonna do the initial,\n\n354\n00:18:46.490 --> 00:18:49.720\nit's uninitialized is what it stands for,\nI don't know why they call it that.\n\n355\n00:18:49.720 --> 00:18:52.000\nBecause when your system boots up,\n\n356\n00:18:52.000 --> 00:18:54.880\nit does an initialization check\non your hard drives, right?\n\n357\n00:18:54.880 --> 00:18:57.370\nAnd when it looks at a volume,\nif it's flagged for\n\n358\n00:18:57.370 --> 00:19:01.560\na file system check,\nit basically pauses the boot process and\n\n359\n00:19:01.560 --> 00:19:04.550\nruns a file system check and\nyou got to wait for that.\n\n360\n00:19:04.550 --> 00:19:05.820\nIt makes take a long time.\n\n361\n00:19:05.820 --> 00:19:07.865\nIn ext4,\nyou can do it in the background and so\n\n362\n00:19:07.865 --> 00:19:09.550\nI'm turning that option on and here.\n\n363\n00:19:09.550 --> 00:19:13.660\nThe uninit_bg,\nit'll do a background check.\n\n364\n00:19:13.660 --> 00:19:16.880\nSo it can be checking the file system\nwhile you're still booting and\n\n365\n00:19:16.880 --> 00:19:17.918\nthat speeds up boot time.\n\n366\n00:19:17.918 --> 00:19:23.450\nAnd then dir_index because we're\ngoing to the b tree system.\n\n367\n00:19:23.450 --> 00:19:25.960\nIt uses the b tree indexing, and so\n\n368\n00:19:25.960 --> 00:19:30.200\nwe need to re-index our directories which\nI'll actually force here in a minute.\n\n369\n00:19:30.200 --> 00:19:32.270\nThis is just telling it\nto enable an option and\n\n370\n00:19:32.270 --> 00:19:35.000\nthen we need to tell it the disk, okay.\n\n371\n00:19:35.000 --> 00:19:39.060\nSo it's still the ext file system,\nI just turned on those options.\n\n372\n00:19:39.060 --> 00:19:43.360\nAnd just like we saw on before,\nit's pretty quick command, right?\n\n373\n00:19:43.360 --> 00:19:45.140\nIn theory I could just go and\nmount this thing right now and\n\n374\n00:19:45.140 --> 00:19:47.130\nbring it online and on the ext4, sort of.\n\n375\n00:19:48.390 --> 00:19:49.150\n&gt;&gt; Sort of.\n&gt;&gt; Sort of.\n\n376\n00:19:49.150 --> 00:19:51.520\nI've turned on the features.\n\n377\n00:19:51.520 --> 00:19:54.730\nAll the old stuff I have is still the old\nway though it's not taking advantage of\n\n378\n00:19:54.730 --> 00:19:55.780\nthose features.\n\n379\n00:19:55.780 --> 00:19:58.610\nSo I've got that in place.\n\n380\n00:19:58.610 --> 00:20:01.840\nNext, I need to run\nanother file system check.\n\n381\n00:20:01.840 --> 00:20:02.640\nAnd the reason I need to do\n\n382\n00:20:02.640 --> 00:20:05.850\nanother file system check is not because\nI think the file system is corrupt, but\n\n383\n00:20:05.850 --> 00:20:11.160\nbecause I turned on directory indexing to\ntake advantage of its new lookup system.\n\n384\n00:20:11.160 --> 00:20:12.760\nI need to force it to re-index.\n\n385\n00:20:12.760 --> 00:20:14.360\nAnd so you can do that with fsck.\n\n386\n00:20:14.360 --> 00:20:18.838\nSo, I'm gonna do a fsck.ext4 -yfD,\n\n387\n00:20:18.838 --> 00:20:25.530\nthat capital D telling it\nto reindex the directories.\n\n388\n00:20:25.530 --> 00:20:28.350\nAnd I'll point it to that disk.\n\n389\n00:20:28.350 --> 00:20:31.820\nAnd my disk is practically empty,\ncuz it just has a website, so again,\n\n390\n00:20:31.820 --> 00:20:33.390\nthis should run pretty quickly.\n\n391\n00:20:33.390 --> 00:20:35.020\nI was wrong about that a minute ago.\n\n392\n00:20:35.020 --> 00:20:38.180\nWe're sitting here on pass one,\nthere's only seven passes.\n\n393\n00:20:38.180 --> 00:20:42.650\n&gt;&gt; Don, while we're waiting for that, a\nquick question is even though we've turned\n\n394\n00:20:42.650 --> 00:20:48.210\non all the features on ext3 so\nthat it basically emulates ext4, do\n\n395\n00:20:48.210 --> 00:20:53.350\nwe also get the inquiries like file size\nand volume size that ext4 has over ext3?\n\n396\n00:20:53.350 --> 00:20:54.009\n&gt;&gt; You do.\n\n397\n00:20:55.030 --> 00:20:56.708\nWell, at this stage, yes you would.\n\n398\n00:20:56.708 --> 00:20:57.360\n&gt;&gt; Okay.\n\n399\n00:20:57.360 --> 00:20:59.520\n&gt;&gt; So for\nnew files that you create, right?\n\n400\n00:20:59.520 --> 00:21:01.740\nFor your old files that\nare still sorted the bitmap way,\n\n401\n00:21:01.740 --> 00:21:03.440\nyou still have those old limitations.\n\n402\n00:21:03.440 --> 00:21:05.830\nSo we'll have to convert\nthose over to extent-based.\n\n403\n00:21:05.830 --> 00:21:07.150\nAnd I'll show you guys how to,\n\n404\n00:21:07.150 --> 00:21:09.200\nit's actually pretty easy to\nconvert them to extent based to it.\n\n405\n00:21:09.200 --> 00:21:11.483\nIt's just remembering to\ndo all this stuff, right?\n\n406\n00:21:11.483 --> 00:21:14.130\nAnd this is why Red Hat doesn't\nsupport it because they know\n\n407\n00:21:14.130 --> 00:21:16.020\na lot of people don't\nremember to do all this.\n\n408\n00:21:16.020 --> 00:21:18.650\n&gt;&gt; Forget one step that's not working,\nyou're making a support call.\n\n409\n00:21:18.650 --> 00:21:21.500\n&gt;&gt; Yeah and then it turns out,\nyou did an incorrect conversion.\n\n410\n00:21:21.500 --> 00:21:24.060\nIt's much easier to say you know what, you\nshould have just made new storage to copy\n\n411\n00:21:24.060 --> 00:21:27.130\neverything over cuz\nthere's nothing to forget.\n\n412\n00:21:27.130 --> 00:21:29.100\nSo all right, there we go.\n\n413\n00:21:29.100 --> 00:21:31.566\n&gt;&gt; I said there were seven passes,\napparently there's five.\n\n414\n00:21:31.566 --> 00:21:34.870\nMaybe three counts twice,\n[INAUDIBLE] up to seven.\n\n415\n00:21:34.870 --> 00:21:36.010\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] So anyhow, so\n\n416\n00:21:36.010 --> 00:21:40.490\nit runs through its checks, and now we've\nre-indexed, and now we should be happy.\n\n417\n00:21:40.490 --> 00:21:42.750\nRight, and\nsee it even says FILE SYSTEM WAS MODIFIED,\n\n418\n00:21:42.750 --> 00:21:46.040\nit did have to change it,\ncuz it re-indexed the directories.\n\n419\n00:21:46.040 --> 00:21:51.440\nAll right, going back to what Daniel said\nabout all the the new features, right?\n\n420\n00:21:51.440 --> 00:21:55.028\nWell, I guess I kinda need to mount this,\n\n421\n00:21:55.028 --> 00:21:59.964\nso let me mount,\n/dev/sdb1/mnt/website, okay.\n\n422\n00:21:59.964 --> 00:22:01.173\n&gt;&gt; Yeah.\n\n423\n00:22:01.173 --> 00:22:02.718\nHelps if you use dev.\n\n424\n00:22:02.718 --> 00:22:03.745\n&gt;&gt; You know, I said dev.\n\n425\n00:22:03.745 --> 00:22:04.822\n&gt;&gt; You said it.\n\n426\n00:22:04.822 --> 00:22:06.960\n&gt;&gt; Why doesn't the keyboard just\nunderstand what I'm saying?\n\n427\n00:22:06.960 --> 00:22:08.760\nSo there we go.\n\n428\n00:22:08.760 --> 00:22:09.530\nSo I'm mounted.\n\n429\n00:22:09.530 --> 00:22:13.080\nAnd when I look at it here\nI can see the type is ext4.\n\n430\n00:22:13.080 --> 00:22:16.208\nIt is recognizing it's ext4.\n\n431\n00:22:16.208 --> 00:22:18.130\nI'm good to go.\n\n432\n00:22:18.130 --> 00:22:19.400\nSort of, right?\n\n433\n00:22:19.400 --> 00:22:22.850\nThe extents in the last part\nthat I need to worry about.\n\n434\n00:22:22.850 --> 00:22:26.880\nYou can actually see whether\na file is using an extent or not.\n\n435\n00:22:26.880 --> 00:22:32.580\nIf use the lsattr command, right,\nattr those are the file attributes.\n\n436\n00:22:32.580 --> 00:22:37.125\nAnd so I can look at the attributes\nof a file, and if I wanna look at\n\n437\n00:22:37.125 --> 00:22:42.250\n/mnt/website and\nI'll just do index.html, right?\n\n438\n00:22:42.250 --> 00:22:46.060\nIf I take a look at it,\nsee how I got no attributes on this thing?\n\n439\n00:22:46.060 --> 00:22:49.560\nSo nothing special has been set on it,\nit's just a regular old file and\n\n440\n00:22:49.560 --> 00:22:53.740\nthat's it, which also means\nthat it's stored the old way.\n\n441\n00:22:53.740 --> 00:23:00.967\nAnd if I do a quick chattr,\nright to change the attribute,\n\n442\n00:23:00.967 --> 00:23:06.570\nI can come in here and tell it to do a +e.\n\n443\n00:23:06.570 --> 00:23:08.850\nAnd as soon as I do that, it says,\n\n444\n00:23:08.850 --> 00:23:14.230\nhey, this file needs to use\nextents instead of whatever.\n\n445\n00:23:14.230 --> 00:23:19.120\nAnd the next time this file changes,\nit'll get bumped into an extent, right.\n\n446\n00:23:19.120 --> 00:23:21.247\nOtherwise, it's gonna stay\nin the old bitmap system and\n\n447\n00:23:21.247 --> 00:23:24.560\nwe're gonna have two different kinds\nof lookups going on in the file system.\n\n448\n00:23:24.560 --> 00:23:29.190\nAnd so reading 1 megabyte file might take\na little longer than reading another one\n\n449\n00:23:29.190 --> 00:23:33.000\nmegabyte file even though they're stored\nin what would appear to be the same way\n\n450\n00:23:33.000 --> 00:23:35.090\nto actually being located\nin a different manner.\n\n451\n00:23:35.090 --> 00:23:36.720\nAnd it does make a difference.\n\n452\n00:23:36.720 --> 00:23:39.600\nBut now if I go and\nlook at the attributes I'll see that e and\n\n453\n00:23:39.600 --> 00:23:42.460\nthat lets me know that it is\nactually being stored, whoops.\n\n454\n00:23:42.460 --> 00:23:43.770\nI'm going to get motion sickness here.\n\n455\n00:23:43.770 --> 00:23:46.682\nBut it is actually being\nstored in an extent.\n\n456\n00:23:46.682 --> 00:23:51.054\n&gt;&gt; So Don, what if I want to go\nbuck wild and I say you know what,\n\n457\n00:23:51.054 --> 00:23:55.603\next, you've been great but\nI'm looking toward the future,\n\n458\n00:23:55.603 --> 00:24:00.171\nI want to convert from ext to\nsomething like XFS or even btrfs?\n\n459\n00:24:00.171 --> 00:24:00.800\nAll right, so\n\n460\n00:24:00.800 --> 00:24:04.534\nunfortunately there's no tune2fs that's\ngonna just flip this one over, right.\n\n461\n00:24:04.534 --> 00:24:06.640\nAnd there's no ConvertDrive.\n\n462\n00:24:06.640 --> 00:24:09.990\nThere's plenty of third party utilities\nout there if you Google search for them.\n\n463\n00:24:09.990 --> 00:24:10.810\nMixed results,\n\n464\n00:24:10.810 --> 00:24:14.350\nI don't recommend any of them, Red Hat\nabsolutely doesn't recommend any of them.\n\n465\n00:24:14.350 --> 00:24:16.080\nThey want you to create a new file system.\n\n466\n00:24:16.080 --> 00:24:19.440\nBut remember, there's a reason these\nnew file systems are out there.\n\n467\n00:24:19.440 --> 00:24:23.860\nI know I've kind of stayed away\nfrom BTRFS, but it's gotten so\n\n468\n00:24:23.860 --> 00:24:25.890\nmany cool things,\nlike the LVM being built into it.\n\n469\n00:24:25.890 --> 00:24:30.280\nIt's so easy to work with that I\nprobably just need to go ahead and\n\n470\n00:24:30.280 --> 00:24:32.650\ncreate that separate set of data and\nget it moved over, right.\n\n471\n00:24:32.650 --> 00:24:35.000\nSo you would just basically\nrun through the process here,\n\n472\n00:24:35.000 --> 00:24:37.310\nwell we'll do BTRFS as an example.\n\n473\n00:24:38.530 --> 00:24:41.060\nSo really going back to what I showed\nat the very beginning of the episode,\n\n474\n00:24:41.060 --> 00:24:44.560\nwhich is,\nyou'd start by making that file system, so\n\n475\n00:24:44.560 --> 00:24:49.580\nI'm gonna make a BTRFS file system on,\nI'll do /dev/sdd1, and\n\n476\n00:24:49.580 --> 00:24:55.430\nthere we go, so I'm just gonna\ndrop that file system on it,\n\n477\n00:24:55.430 --> 00:24:59.580\nso I got a nice little 500\ngig BTRFS file system.\n\n478\n00:24:59.580 --> 00:25:03.952\nI can mount that wherever it is\nthat I need it to be mounted,\n\n479\n00:25:03.952 --> 00:25:08.700\nso I'll mount that to /mnt/temp\nlike we're doing earlier.\n\n480\n00:25:08.700 --> 00:25:10.510\nAnd if I take a look at my mount output,\n\n481\n00:25:10.510 --> 00:25:14.290\nI'll see that I am doing BTRFS on\nthat one, so it recognized it.\n\n482\n00:25:14.290 --> 00:25:15.930\nIt's up and it's running.\n\n483\n00:25:15.930 --> 00:25:21.310\nI can do my copy of the website,\n\n484\n00:25:24.560 --> 00:25:28.910\nand I'm gonna send that over\nto my BTRFS volume, right?\n\n485\n00:25:28.910 --> 00:25:33.040\nSo it's gonna send it along and\nthen I can just flip the mounts and\n\n486\n00:25:33.040 --> 00:25:35.000\nthen I'm back over, right?\n\n487\n00:25:35.000 --> 00:25:40.142\nSo I'm going to, let's see,\nlet's go ahead and unmount.\n\n488\n00:25:42.607 --> 00:25:43.742\nA little brain freeze there.\n\n489\n00:25:43.742 --> 00:25:49.700\n[LAUGH] Unmount the website and\nthen I'm going to unmount the temp folder.\n\n490\n00:25:52.603 --> 00:25:57.550\nAnd then we can just go back and\nmount this guy to /website and\n\n491\n00:25:57.550 --> 00:26:00.030\nnow it's moved over.\n\n492\n00:26:00.030 --> 00:26:03.990\nAnd now my website is running BtRFS,\njust like that, right?\n\n493\n00:26:03.990 --> 00:26:05.020\nSo quick and easy.\n\n494\n00:26:05.020 --> 00:26:08.210\nAnd from here on out I can take\nadvantage of all the features that\n\n495\n00:26:08.210 --> 00:26:09.180\nI know and love, right?\n\n496\n00:26:09.180 --> 00:26:15.918\nSo for example, when I look at\n/dev/sdd1 it's 500 gigs in size.\n\n497\n00:26:15.918 --> 00:26:21.300\nThat means /mnt/website is 500 gigs\nin size, and it's got that space.\n\n498\n00:26:21.300 --> 00:26:25.650\nBut BTRFS has LVM built into it, so\nI can add in more drives and so on.\n\n499\n00:26:25.650 --> 00:26:30.610\nSo I could come in and\nsay like, BTRFS device add\n\n500\n00:26:30.610 --> 00:26:35.420\n/dev/sde1 to /mnt/website, right?\n\n501\n00:26:35.420 --> 00:26:38.760\nSo I'm gonna add that disk in.\n\n502\n00:26:40.210 --> 00:26:42.180\nAnd technically I'm done, but\n\n503\n00:26:42.180 --> 00:26:46.430\nlet me do one extra thing I always try and\nremember to do.\n\n504\n00:26:46.430 --> 00:26:49.080\nWhich is to rebalance the file system.\n\n505\n00:26:49.080 --> 00:26:52.480\nSo what I did is I had\na single 500 gig drive\n\n506\n00:26:52.480 --> 00:26:57.690\nattached to /mount/website and\nnow I just added a second drive into it.\n\n507\n00:26:57.690 --> 00:27:00.880\nWhen you add a second drive all your\nfiles are still on the first drive.\n\n508\n00:27:00.880 --> 00:27:05.040\nSo, you can come in and do a balance,\nand now it'll try and even things out.\n\n509\n00:27:05.040 --> 00:27:09.100\nAt a minimum, it evens out the b tree\ntable, to spread between the two disks,\n\n510\n00:27:09.100 --> 00:27:10.700\nwhich is going to speed up lookups.\n\n511\n00:27:10.700 --> 00:27:12.390\nSo it's gonna get that done real quick.\n\n512\n00:27:12.390 --> 00:27:18.590\nAnd now, when I run a df -h, I can see\nthat /mnt/website is 1.0T in size.\n\n513\n00:27:18.590 --> 00:27:22.130\nAnd I never had to take it offline,\nI didn't have to unmount it or\n\n514\n00:27:22.130 --> 00:27:22.820\nanything like that.\n\n515\n00:27:22.820 --> 00:27:25.530\nIt was 500 gigs, now it's a terabyte.\n\n516\n00:27:25.530 --> 00:27:29.060\nAnd I've added in multiple disks, and\nI've balance across it, and it's up and\n\n517\n00:27:29.060 --> 00:27:30.330\nit's going and it's happy.\n\n518\n00:27:30.330 --> 00:27:32.460\nThat's the cool part about BTRFS, right.\n\n519\n00:27:32.460 --> 00:27:34.670\nThat's the reason a lot of\npeople who want to go to it and\n\n520\n00:27:34.670 --> 00:27:37.200\nget that running as soon as they can,\nbut for\n\n521\n00:27:37.200 --> 00:27:41.850\nthe time being, it's still not fully\nsigned off, Red Hat's really close.\n\n522\n00:27:41.850 --> 00:27:46.610\nI gotta imagine it'll be RHEL 8,\nwhere btrfs becomes the default.\n\n523\n00:27:46.610 --> 00:27:47.800\nBut it's just not yet.\n\n524\n00:27:49.095 --> 00:27:51.305\n&gt;&gt; Well, Don, I guess you could always\ngo and hack the Red Hat website and\n\n525\n00:27:51.305 --> 00:27:52.775\nchange the agreement, and\n\n526\n00:27:52.775 --> 00:27:56.983\nsay [LAUGH] yeah we support BTRFS and\nthat probably won't work.\n\n527\n00:27:56.983 --> 00:27:59.695\nBut it is really cool that\nwe can do it if we want to.\n\n528\n00:27:59.695 --> 00:28:02.595\nYou just, like you said, you gotta be\naware that they're not gonna support it.\n\n529\n00:28:02.595 --> 00:28:03.315\nIf things go awry,\n\n530\n00:28:03.315 --> 00:28:08.157\nyou're all on your own or hope you have a\ngood standing at a great forum somewhere.\n\n531\n00:28:08.157 --> 00:28:08.761\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n532\n00:28:08.761 --> 00:28:09.438\n&gt;&gt; That's gonna help a lot\n\n533\n00:28:09.438 --> 00:28:10.240\nin that situation.\n\n534\n00:28:10.240 --> 00:28:13.840\nDon, anything else we need to know about\nconverting or migrating a disk in Linux?\n\n535\n00:28:13.840 --> 00:28:14.820\n&gt;&gt; I think that's about it.\n\n536\n00:28:14.820 --> 00:28:18.210\nI mean just remember, if you do have\nthe extra storage, do it the right way.\n\n537\n00:28:18.210 --> 00:28:20.420\nJust you know, create the second set\nof storage, copy your data over.\n\n538\n00:28:20.420 --> 00:28:21.730\nIt's not very hard.\n\n539\n00:28:21.730 --> 00:28:23.420\nIt does require taking\nyour data offline for\n\n540\n00:28:23.420 --> 00:28:24.820\na moment while you\nswitch the mount points.\n\n541\n00:28:24.820 --> 00:28:26.480\nBut other than that,\nit's not a big deal, and\n\n542\n00:28:26.480 --> 00:28:28.260\nyou'll maintain that support\nthat you're paying for.\n\n543\n00:28:28.260 --> 00:28:29.990\n&gt;&gt; That's right.\nAnd we'll post Don's credit card\n\n544\n00:28:29.990 --> 00:28:31.333\ninformation a little later in the show\n\n545\n00:28:31.333 --> 00:28:32.199\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n546\n00:28:32.199 --> 00:28:33.360\n&gt;&gt; So that you can do that.\n\n547\n00:28:33.360 --> 00:28:35.410\nThat being said, it is time for\nus to get out of here.\n\n548\n00:28:35.410 --> 00:28:36.840\nWe thank you guys for watching.\n\n549\n00:28:36.840 --> 00:28:38.620\nDon, thanks for stopping by as well.\n\n550\n00:28:38.620 --> 00:28:41.990\nBut signing off for ITProTV,\nI've been your host, Daniel Lowrie.\n\n551\n00:28:41.990 --> 00:28:42.690\n&gt;&gt; And I'm Don Pezet.\n\n552\n00:28:42.690 --> 00:28:43.420\n&gt;&gt; We'll see you next time.\n\n553\n00:28:43.420 --> 00:28:51.068\n[MUSIC]\n\n554\n00:28:51.068 --> 00:28:53.390\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "193752763"
        },
        {
          "description": "In this episode, Daniel and Don give you a working knowledge of the XFS file system. Here they will show you how to work with XFS as your daily driver, performing tasks like creating, mounting, and repairing XFS volumes. They also show changing the XFS options like setting drive labels and/or UUID. Finally, they show you how to take a backup using `xfsdump`.",
          "length": "1842",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-3-8-working_with_xfs-112816-PGM.00_30_28_12.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-3-8-working_with_xfs-112816-PGM.00_30_28_12.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-3-8-working_with_xfs-112816-PGM.00_30_28_12.Still001-sm.jpg",
          "title": "Working with XFS",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:06.668\nWelcome to ITPro.TV,\nI'm your host Don Pezet [CROSSTALK]\n\n2\n00:00:06.668 --> 00:00:08.288\n[MUSIC]\n\n3\n00:00:08.288 --> 00:00:12.225\nYou're watching ITPro.TV.\n\n4\n00:00:12.225 --> 00:00:16.698\nAll right, greetings everyone and welcome\nto another exciting episode of ITPro.TV.\n\n5\n00:00:16.698 --> 00:00:20.752\nI'm your host Daniel Lowrie, and in\ntoday's episode we are continuing on with\n\n6\n00:00:20.752 --> 00:00:24.020\nmore on our\nRed Hat Enterprise Linux Version 7 series.\n\n7\n00:00:24.020 --> 00:00:27.560\nAnd coming back for a little more of that\naction is our good friend, Mr Don Pezet.\n\n8\n00:00:27.560 --> 00:00:28.380\nDon, welcome back, sir.\n\n9\n00:00:28.380 --> 00:00:29.270\nHow's it going?\n\n10\n00:00:29.270 --> 00:00:30.370\n&gt;&gt; It is going well, Daniel.\n\n11\n00:00:30.370 --> 00:00:33.260\nAnd I'm back for what I promised,\nat least for now.\n\n12\n00:00:33.260 --> 00:00:35.208\nThe last were file system episodes.\n\n13\n00:00:35.208 --> 00:00:37.730\nI do wanna wrap up a few more\ncommands on file systems,\n\n14\n00:00:37.730 --> 00:00:40.520\nwhere we kind of check this one and\nthen move on to our next topic.\n\n15\n00:00:40.520 --> 00:00:43.210\nBut I've mentioned more than once,\n\n16\n00:00:43.210 --> 00:00:46.800\nthat XFS is the default file system\nin Red Hat Enterprise Linux 7.\n\n17\n00:00:46.800 --> 00:00:50.860\nSo if you're deploying RHEL7 on\na new system, expect to see XFS,\n\n18\n00:00:50.860 --> 00:00:53.250\nthat's kind of what you're gonna get.\n\n19\n00:00:53.250 --> 00:00:57.078\nWell, if you're new to XFS, there's some\ncommands you need to be familiar with to\n\n20\n00:00:57.078 --> 00:01:00.267\nmake sure you know how to work with it and\nunderstand what it expects.\n\n21\n00:01:00.267 --> 00:01:02.444\nAnd for the most part,\nthis isn't anything too crazy.\n\n22\n00:01:02.444 --> 00:01:07.402\nBut the thing is, we've been steeped in\nthe EXT ecosystem for so long, EXT 2,\n\n23\n00:01:07.402 --> 00:01:11.260\nEXT 3, EXT 4,\nthat there's commands that we're used to.\n\n24\n00:01:11.260 --> 00:01:15.600\nAnd those commands have kinda been, well,\nthey've been replaced by new XFS commands.\n\n25\n00:01:15.600 --> 00:01:18.150\nSo I just wanna run through some\nof the typical scenarios of stuff\n\n26\n00:01:18.150 --> 00:01:23.490\nthat we're gonna use as we go about\na normal day of operation with XFS.\n\n27\n00:01:23.490 --> 00:01:26.400\nSo let's kick it off nice and\neasy with creating an XFS file system, and\n\n28\n00:01:26.400 --> 00:01:27.720\nthen we'll move on from there.\n\n29\n00:01:27.720 --> 00:01:29.780\nSo if I have a partition created.\n\n30\n00:01:29.780 --> 00:01:33.460\nYou use fdisk, you create a partition,\nyou get it put in place.\n\n31\n00:01:33.460 --> 00:01:34.940\nAnd you need to throw\na file system on there,\n\n32\n00:01:34.940 --> 00:01:38.920\nwe've got mkfs that'll let us\ncreate an XFS file system.\n\n33\n00:01:38.920 --> 00:01:40.540\nSo let me just show you\nan example of that real quick.\n\n34\n00:01:40.540 --> 00:01:45.516\nI'm gonna do mkfs.xfs, and\nthen I just point it to whatever\n\n35\n00:01:45.516 --> 00:01:49.330\nit is that I'm trying to\ndrop a file system on.\n\n36\n00:01:49.330 --> 00:01:52.426\nAnd when you do that, it's just\ngonna give you a quick set of output\n\n37\n00:01:52.426 --> 00:01:55.192\nhere that's gonna let you know\nthe sector size and B size and\n\n38\n00:01:55.192 --> 00:01:58.642\nall the other different things that\nit tracks that goes and creates that.\n\n39\n00:01:58.642 --> 00:02:01.546\nAnd if there is an error,\nyou'd spot that error here.\n\n40\n00:02:01.546 --> 00:02:05.410\nBut hopefully it just drops on there and\nyou're in business, right?\n\n41\n00:02:05.410 --> 00:02:07.980\nNew file system ready to go.\n\n42\n00:02:07.980 --> 00:02:10.390\nAnd as far as mounting it, it's really\nno different than anything else.\n\n43\n00:02:10.390 --> 00:02:13.530\nRed Hat does automatic\nfile system detection.\n\n44\n00:02:13.530 --> 00:02:18.210\nSo I can always come in and\nI can say that I wanna mount /dev/sdb1.\n\n45\n00:02:18.210 --> 00:02:20.284\nI'm gonna mount that to /temp.\n\n46\n00:02:21.580 --> 00:02:22.710\nAnd it's mounted.\n\n47\n00:02:22.710 --> 00:02:24.520\nAnd if I use the mount command\nto verify what happened,\n\n48\n00:02:24.520 --> 00:02:27.390\nI can see right here that it mounted it.\n\n49\n00:02:27.390 --> 00:02:30.120\nAnd it mounted it as\na file system type of XFS.\n\n50\n00:02:30.120 --> 00:02:33.730\nSo so far, nothing really new here,\nall right?\n\n51\n00:02:33.730 --> 00:02:37.120\nBut one of the cool things that\nwe get with XFS is journaling.\n\n52\n00:02:37.120 --> 00:02:38.880\nAnd I know I've talked about\njournaling in other episodes, but\n\n53\n00:02:38.880 --> 00:02:40.460\njust to recap it really quick.\n\n54\n00:02:40.460 --> 00:02:42.160\nWhen you write to a file in XFS,\n\n55\n00:02:42.160 --> 00:02:45.520\nyou don't write to the actual file,\ninstead you write to a journal.\n\n56\n00:02:45.520 --> 00:02:48.780\nAnd only when you have 100% written\nall your data to the journal,\n\n57\n00:02:48.780 --> 00:02:50.560\ndoes it then apply that\ndata to the actual file.\n\n58\n00:02:50.560 --> 00:02:54.010\nAnd what that does is it gives us\nprotection in case we have a system\n\n59\n00:02:54.010 --> 00:02:59.050\ninterruption of some sort, power outage,\nor drive cable comes loose, or whatever,\n\n60\n00:02:59.050 --> 00:03:01.700\nand you're half way through a write,\nif you're ever writing to the actual file\n\n61\n00:03:01.700 --> 00:03:04.400\nwhen the system boots back up,\nthat file's now corrupt, we lose our data.\n\n62\n00:03:04.400 --> 00:03:06.440\nIt's really bad on databases.\n\n63\n00:03:06.440 --> 00:03:10.200\nBut with XFS it just looks at the journal\nand says there's half a write here,\n\n64\n00:03:10.200 --> 00:03:10.910\nlet's just throw it away.\n\n65\n00:03:10.910 --> 00:03:14.100\nAnd the file stays intact,\nthat's what XFS does.\n\n66\n00:03:14.100 --> 00:03:17.583\nWell it does that every time\nyou mount the partition.\n\n67\n00:03:17.583 --> 00:03:19.760\nNow I just mounted this for\nthe first time.\n\n68\n00:03:19.760 --> 00:03:22.760\nAnd so it's a brand new journal,\nthere's nothing special there.\n\n69\n00:03:22.760 --> 00:03:25.830\nBut if I get in and\nthen start to mess with it, so like if I\n\n70\n00:03:25.830 --> 00:03:30.900\ncopy some kind of file, I'm sure I've got\nsomething laying around here I can copy.\n\n71\n00:03:30.900 --> 00:03:34.645\nSo if I copy my website for example to-\n&gt;&gt; Which is magnificent.\n\n72\n00:03:34.645 --> 00:03:36.460\n[LAUGH]\n&gt;&gt; Yeah, it's awesome.\n\n73\n00:03:36.460 --> 00:03:37.760\nSo if I copy that over,\n\n74\n00:03:37.760 --> 00:03:42.530\nwhen that file copies over,\nit's actually writing to the journal,\n\n75\n00:03:42.530 --> 00:03:45.970\nwhen it's done it's then turning it\ninto the file data and it's in place.\n\n76\n00:03:45.970 --> 00:03:48.453\nSo the journal is now active,\nthe journal has got entries in it.\n\n77\n00:03:48.453 --> 00:03:50.510\nThe entries should be a 100%\ncomplete at this point.\n\n78\n00:03:50.510 --> 00:03:53.875\nBut maybe they're not,\nif it's a massive file is still ongoing.\n\n79\n00:03:53.875 --> 00:03:58.115\nSo that journal is really\none of the big benefits XFS.\n\n80\n00:03:58.115 --> 00:04:02.525\nAnd every time you mount the file system,\nthat's when it looks for\n\n81\n00:04:02.525 --> 00:04:05.095\nincomplete journal entries and\nthrows them away.\n\n82\n00:04:05.095 --> 00:04:07.235\nSo it's not looking for\nincomplete entries right now.\n\n83\n00:04:07.235 --> 00:04:08.535\nIf there is an incomplete entry right now,\n\n84\n00:04:08.535 --> 00:04:10.205\nit assumes that you're still writing,\nright?\n\n85\n00:04:10.205 --> 00:04:11.840\nYou just need more time to finish.\n\n86\n00:04:11.840 --> 00:04:16.730\nBut if I reboot, or\nif I unmount the folder, right?\n\n87\n00:04:16.730 --> 00:04:18.060\nSo I mounted it a minute ago.\n\n88\n00:04:19.070 --> 00:04:26.499\nIf I unmount, That directory and\nthen remount it, right?\n\n89\n00:04:26.499 --> 00:04:29.199\nThat just caused the journal to\nget scanned and it looked for\n\n90\n00:04:29.199 --> 00:04:31.145\nany incomplete write and threw then away.\n\n91\n00:04:31.145 --> 00:04:34.310\nSo I had a good clean journal\nwhen the system booted up.\n\n92\n00:04:34.310 --> 00:04:35.830\nAnd that all happens in the backgrounds,\n\n93\n00:04:35.830 --> 00:04:38.160\nwe don't really get\ninvolved in that at all.\n\n94\n00:04:38.160 --> 00:04:40.311\nIt's just being done by the system.\n\n95\n00:04:40.311 --> 00:04:42.348\nIn fact,\nno matter how much you dig around,\n\n96\n00:04:42.348 --> 00:04:44.065\nyou don't see the journal in there.\n\n97\n00:04:44.065 --> 00:04:47.560\nBut it is actually kind of\nparked away in the background.\n\n98\n00:04:47.560 --> 00:04:49.340\nWe'll see it pop up a few\ndifferent times later on.\n\n99\n00:04:50.850 --> 00:04:53.910\nAll right, so as far as working with it,\nreally not anything too crazy there.\n\n100\n00:04:53.910 --> 00:04:57.720\nIf I ever go to mount an XFS file\nsystem and I get a failure, right?\n\n101\n00:04:57.720 --> 00:05:00.420\nSomething goes wrong,\nit says the file system is corrupt or\n\n102\n00:05:00.420 --> 00:05:03.910\nthe journal is dirty or there's dirty\nreads going on or something like that.\n\n103\n00:05:03.910 --> 00:05:07.570\nIf I get file system warnings, then I'll\nprobably wanna run a file system check.\n\n104\n00:05:09.320 --> 00:05:11.760\nFSCK, that utility that has\nbeen around forever and\n\n105\n00:05:11.760 --> 00:05:15.270\never, well,\nit doesn't actually support XFS.\n\n106\n00:05:15.270 --> 00:05:18.090\nAlthough Red Hat has put a little\nalias wrapper onto it, so\n\n107\n00:05:18.090 --> 00:05:22.140\nyou can do fsck.xfx, and\npoint it to an XFS file system.\n\n108\n00:05:22.140 --> 00:05:26.950\nWhat it's actually calling in the\nbackground is a utility called xfs_repair.\n\n109\n00:05:29.770 --> 00:05:34.330\nIt's built in to RHEL, it's right\nthere and it lets you scan the system,\n\n110\n00:05:34.330 --> 00:05:38.180\nand looks for corrupted files, checks the\njournal, checks all the information and\n\n111\n00:05:38.180 --> 00:05:40.050\nmake sure the system is intact.\n\n112\n00:05:40.050 --> 00:05:41.930\nWe do need to unmount the disk.\n\n113\n00:05:41.930 --> 00:05:45.533\nIf it's a live partition,\nsomething like the root mount point, for\n\n114\n00:05:45.533 --> 00:05:48.512\nthat one I would have to go into\nan fstab folder and set it so\n\n115\n00:05:48.512 --> 00:05:50.893\nthat it would scan\nthe drive on the next boot.\n\n116\n00:05:50.893 --> 00:05:52.964\nIt would probably do it anyway\nif it detected failure, so\n\n117\n00:05:52.964 --> 00:05:54.399\nI probably don't even have to do that.\n\n118\n00:05:54.399 --> 00:05:57.192\nBut if it's something like\nthis that I can take offline,\n\n119\n00:05:57.192 --> 00:05:58.889\nthen I can always just unmount it.\n\n120\n00:06:01.095 --> 00:06:03.965\nAnd then once it's taken offline, oops.\n\n121\n00:06:03.965 --> 00:06:07.600\n[LAUGH] it's busy cuz I'm in the folder,\nso let me get out of the folder.\n\n122\n00:06:07.600 --> 00:06:10.119\nThere we go.\nAnd so now I can come in and\n\n123\n00:06:10.119 --> 00:06:15.489\nI can run exf_repair, and\nI can just point it right at that disk.\n\n124\n00:06:15.489 --> 00:06:19.129\nAnd so it runs through, there is my seven\nchecks that it does, comes back looks like\n\n125\n00:06:19.129 --> 00:06:22.674\neverything is good, I didn't get a message\nsaying the file system was changed.\n\n126\n00:06:22.674 --> 00:06:25.650\nAnd so, that means that it\ndidn't find any problems.\n\n127\n00:06:25.650 --> 00:06:27.933\nIf it found a problem I'd get a message\nsaying the file system was changed.\n\n128\n00:06:27.933 --> 00:06:31.160\nSo, easy enough to do that repair.\n\n129\n00:06:31.160 --> 00:06:35.620\nFor a live volume, if it reboots and\nit doesn't run the file system check but\n\n130\n00:06:35.620 --> 00:06:39.460\nyou know there's errors, then what you\nneed to do is edit the fstab entry.\n\n131\n00:06:39.460 --> 00:06:47.645\nSo if you go into /etc/fstab and\nyou find the entry where it's mounted.\n\n132\n00:06:47.645 --> 00:06:53.730\nSee this /dev/mapper/rhel-root,\nthis is an XFS volume.\n\n133\n00:06:53.730 --> 00:06:57.830\nAnd if I want it to be checked the next\ntime it boots, I can come over here and,\n\n134\n00:06:57.830 --> 00:06:58.540\nsee this 0 0?\n\n135\n00:06:58.540 --> 00:07:01.170\nI can take that first 0 and\njust change it to a 1.\n\n136\n00:07:01.170 --> 00:07:03.890\nAnd when you reboot that'll\nforce it to do a check.\n\n137\n00:07:03.890 --> 00:07:08.310\nAnd in the past that would be FSCK,\nnow it's actually going to be\n\n138\n00:07:08.310 --> 00:07:13.470\nxfs repair that it runs and checks a\nsystem at boot time while it's not in use.\n\n139\n00:07:13.470 --> 00:07:15.347\nSo that's how we would work\naround that if we had to,\n\n140\n00:07:15.347 --> 00:07:16.681\nyou don't normally have to do that.\n\n141\n00:07:18.694 --> 00:07:20.811\nAll right, now, what we've just seen,\n\n142\n00:07:20.811 --> 00:07:23.240\nI know we've just kinda\ncovered them briefly.\n\n143\n00:07:23.240 --> 00:07:24.670\nThose are your typical commands.\n\n144\n00:07:24.670 --> 00:07:25.770\nYou create a file system,\n\n145\n00:07:25.770 --> 00:07:29.540\nyou mount it, maybe you have to repair\nfrom time to time, and that's about it.\n\n146\n00:07:29.540 --> 00:07:31.920\nBut XFS has a lot of other features,\na lot of bells and\n\n147\n00:07:31.920 --> 00:07:33.030\nwhistles that make it kinda nice.\n\n148\n00:07:33.030 --> 00:07:36.290\nLike we can grow the file system\nif we need to, to make it bigger.\n\n149\n00:07:36.290 --> 00:07:40.800\nYou can turn on all sorts of crazy\nbackup type functionality in it.\n\n150\n00:07:40.800 --> 00:07:42.510\nIt's got some really advanced bells and\nwhistles, and\n\n151\n00:07:42.510 --> 00:07:44.640\nthat's what I want to spend\nthe rest of this episode on.\n\n152\n00:07:44.640 --> 00:07:47.970\nThese are features that you guys might\nnot use everyday, you might not use ever.\n\n153\n00:07:47.970 --> 00:07:50.590\nBut it's nice to learn about them and\nknow they exist so\n\n154\n00:07:50.590 --> 00:07:52.880\nyou can take advantage of them if you can,\nall right?\n\n155\n00:07:52.880 --> 00:07:54.880\nWell, let's talk about\ngrowing that file system.\n\n156\n00:07:54.880 --> 00:07:59.782\nWhen you have the file system in place,\nit actually can grow,\n\n157\n00:07:59.782 --> 00:08:04.782\nyou've got a utility for it,\nwhich is xfs_growfs All right,\n\n158\n00:08:04.782 --> 00:08:10.561\nand if you just run that against\nthe file system like this /dev/sdb1.\n\n159\n00:08:10.561 --> 00:08:13.924\nIf I run that, it's gonna basically say,\ntake that volume and\n\n160\n00:08:13.924 --> 00:08:17.250\ngrow it to fill all the available\nspace on the drive.\n\n161\n00:08:17.250 --> 00:08:19.420\nAnd it'll stretch it out and\nit'll grow to fill that.\n\n162\n00:08:19.420 --> 00:08:23.440\nOr I can go a little further and I can say\n-D, and I can specify the actual size.\n\n163\n00:08:23.440 --> 00:08:27.601\nSo maybe I want it to grow by 10 gigs or\nsomething.\n\n164\n00:08:27.601 --> 00:08:29.590\nAnd so\nthen we can bump it up by even larger.\n\n165\n00:08:30.610 --> 00:08:36.540\nBut this is not really the command we\nneed to be using inside of Red Hat.\n\n166\n00:08:36.540 --> 00:08:39.970\nAt Red Hat, they really only support\none way of growing the file system and\n\n167\n00:08:39.970 --> 00:08:42.720\nthat's through the LVM,\nthe logical volume manager.\n\n168\n00:08:42.720 --> 00:08:45.010\nBTRFS has LVM built-in and that's nice.\n\n169\n00:08:45.010 --> 00:08:47.430\nBut for everything else,\nfor XFS and EXT and\n\n170\n00:08:47.430 --> 00:08:50.870\nthose guys,\nwe need to have the LVM in place.\n\n171\n00:08:50.870 --> 00:08:55.390\nSo if you think you're going to need to\nbe growing your file system in the future\n\n172\n00:08:55.390 --> 00:08:59.350\nthen you should really consider\ndeploying LVM first, and\n\n173\n00:08:59.350 --> 00:09:01.910\nputting your XFS volume on top of it,\nright?\n\n174\n00:09:01.910 --> 00:09:05.380\nAnd I know we covered how to\ndo that in other episodes, but\n\n175\n00:09:05.380 --> 00:09:07.508\njust to kind of recap that real quick.\n\n176\n00:09:07.508 --> 00:09:11.030\nIf I wanna create a new volume for\n\n177\n00:09:11.030 --> 00:09:15.770\nmy XFS data to be stored in, I can come in\nand I can choose the SSM to do it, right?\n\n178\n00:09:15.770 --> 00:09:17.890\nWith the System Storage Manager.\n\n179\n00:09:17.890 --> 00:09:22.170\nSSM's not installed by default, though,\nso I'm gonna install that real quick.\n\n180\n00:09:22.170 --> 00:09:27.308\nSo this is gonna be my\nsystem-storage-manager.\n\n181\n00:09:29.487 --> 00:09:32.738\nAnd once that's installed, I'll have\na nice little command line utility that\n\n182\n00:09:32.738 --> 00:09:34.670\nmakes it super easy to deploy things.\n\n183\n00:09:34.670 --> 00:09:38.300\nYou guys saw that when I dropped\nthat XFS file system on a partition,\n\n184\n00:09:38.300 --> 00:09:40.580\nthat was one command, and\nwhen I mounted it, it was one command.\n\n185\n00:09:40.580 --> 00:09:42.280\nIt was all kind of nice and easy.\n\n186\n00:09:42.280 --> 00:09:45.440\nWith this, I can actually do\nthings a little bit more quickly.\n\n187\n00:09:45.440 --> 00:09:51.967\nSo what I'm gonna do here is, let me\njust make sure I've unmounted /mnt/temp.\n\n188\n00:09:51.967 --> 00:09:53.860\nAnd, okay, all right.\n\n189\n00:09:53.860 --> 00:09:58.840\nSo I want to create a new XFS\nfile system on top of LVM, so\n\n190\n00:09:58.840 --> 00:10:03.300\nI want it to be a logical volume on top of\na volume group on top of physical volume.\n\n191\n00:10:03.300 --> 00:10:05.401\nAnd I want it to be\nmounted to /mount/temp.\n\n192\n00:10:05.401 --> 00:10:09.580\nAnd with the SSM I can do all\nof that in one command, right?\n\n193\n00:10:09.580 --> 00:10:12.420\nSo this is really the recommended way for\ndeploying these.\n\n194\n00:10:12.420 --> 00:10:15.950\nAnd once it's deployed this way, then we\ncan grow them using the same command.\n\n195\n00:10:15.950 --> 00:10:21.620\nSo for example, if I wanna create\na temp folder that's a 100G in size,\n\n196\n00:10:21.620 --> 00:10:25.340\nI could come in and say ssm create.\n\n197\n00:10:25.340 --> 00:10:27.330\nI can specify the size, I wanna do 100G.\n\n198\n00:10:27.330 --> 00:10:29.770\nI can give it a name.\n\n199\n00:10:29.770 --> 00:10:31.580\nI'm gonna call this my temp folder.\n\n200\n00:10:32.680 --> 00:10:35.490\nI can give it a file system type.\n\n201\n00:10:35.490 --> 00:10:39.355\nActually, I need double dashes,\nthat's BSD Syntax.\n\n202\n00:10:39.355 --> 00:10:41.840\nAnd for my file system type,\nI'm gonna do xfs.\n\n203\n00:10:41.840 --> 00:10:44.980\nRight, it is going to\ncreate the partition, and\n\n204\n00:10:44.980 --> 00:10:46.630\nit's going to apply the file\nsystem on top of it.\n\n205\n00:10:47.690 --> 00:10:51.710\nI need to give it a volume group name or\na pool.\n\n206\n00:10:51.710 --> 00:10:52.960\nSo I'll call it vg1.\n\n207\n00:10:52.960 --> 00:10:56.290\nAnd then I need to tell it\nwhat disk I'm gonna use.\n\n208\n00:10:56.290 --> 00:11:00.319\nI'll use /dev/sdc1.\n\n209\n00:11:00.319 --> 00:11:02.440\nAnd last, I just need to tell\nit where to mount it to.\n\n210\n00:11:02.440 --> 00:11:05.448\nI wanna mount this to /mnt/temp.\n\n211\n00:11:05.448 --> 00:11:07.420\nSo it's a big, long command, right?\n\n212\n00:11:07.420 --> 00:11:10.990\nBut it's basically gonna take care\nof deploying the LVM for me and\n\n213\n00:11:10.990 --> 00:11:15.430\ngetting this formatted and mounted and do\nit all at once, assuming I typed it right.\n\n214\n00:11:16.480 --> 00:11:20.630\nOkay, and that output is really\nthe output of several different commands.\n\n215\n00:11:20.630 --> 00:11:24.950\nWe've got the pv create, the vg create,\nthe lv create that all ran.\n\n216\n00:11:24.950 --> 00:11:28.190\nWe've got the mkfs where it\ndropped the xfs file system on it.\n\n217\n00:11:28.190 --> 00:11:32.260\nAnd then the mount, we don't even get\noutput for that, but it did happen.\n\n218\n00:11:32.260 --> 00:11:36.465\nIf I run the mount command,\nI'll be able to see right here,\n\n219\n00:11:36.465 --> 00:11:38.795\nhere's the temp folder\nthat I've just made.\n\n220\n00:11:38.795 --> 00:11:42.190\nIt's.mounted to /mount/temp and it's XFS.\n\n221\n00:11:43.280 --> 00:11:48.351\nAll right, now,\nI could have skipped all of that junk and\n\n222\n00:11:48.351 --> 00:11:54.811\njust did an MKFS.XFS,\npointed to /dev/sdc1 and done that, right.\n\n223\n00:11:54.811 --> 00:11:58.455\nBut by having the LVM in place,\nlike I just did.\n\n224\n00:11:58.455 --> 00:12:02.330\nNow it becomes super easy\nto grow that partition.\n\n225\n00:12:02.330 --> 00:12:06.659\nIf I run a df -h right now and\ntake a look at that partition size,\n\n226\n00:12:06.659 --> 00:12:08.642\nit's 100 gigs, right?\n\n227\n00:12:08.642 --> 00:12:13.437\nAnd if I wanna grow it and\nmake it larger, I can come in and\n\n228\n00:12:13.437 --> 00:12:19.870\nI can just say, ssm resize -s,\nI'm gonna add 100 gigs to that.\n\n229\n00:12:19.870 --> 00:12:23.455\nAll right so\nI'm gonna add in that 100 gigs, /dev/,\n\n230\n00:12:23.455 --> 00:12:27.720\nyou can do their naming or\nI'll do mine, vg1/temp.\n\n231\n00:12:27.720 --> 00:12:32.730\nThat's that habit that I'm in, but\nit's the same as writing it out that way.\n\n232\n00:12:32.730 --> 00:12:37.845\nAnd so it's gonna go in, and\nit's gonna add 100 gigs to that, right?\n\n233\n00:12:37.845 --> 00:12:43.810\nSo if I were to do a vgs, and\ntake a look, well not vgs.\n\n234\n00:12:43.810 --> 00:12:46.470\nI need lvs, there we go.\n\n235\n00:12:46.470 --> 00:12:49.766\nI can see that temp is now 200 gigs\nin size, right, so it bumped it up.\n\n236\n00:12:49.766 --> 00:12:57.410\nNow if I run a df -h, I can see\nthat this is now 200 gigs in size.\n\n237\n00:12:57.410 --> 00:12:59.730\nAnd it did it live,\nwhile the system was up and running.\n\n238\n00:12:59.730 --> 00:13:00.570\nI didn't have to take it offline.\n\n239\n00:13:00.570 --> 00:13:01.730\nI didn't even have to unmount it.\n\n240\n00:13:01.730 --> 00:13:05.550\nUsers could be in there writing data\nright now and I just doubled its size.\n\n241\n00:13:05.550 --> 00:13:10.870\nThat's the supported way to resize\nxfs from Red Hat, all right?\n\n242\n00:13:10.870 --> 00:13:12.660\nSo you definitely wanna use the LVM.\n\n243\n00:13:12.660 --> 00:13:19.667\nEven though we have that xfs_grow command,\nyou really grow fs.\n\n244\n00:13:19.667 --> 00:13:20.752\nLet me make sure I say it right here.\n\n245\n00:13:20.752 --> 00:13:22.183\nI don't use the command.\n\n246\n00:13:22.183 --> 00:13:25.093\n[CROSSTALK] xfs_growfs.\n\n247\n00:13:25.093 --> 00:13:29.750\nI don't use the command because the ssm\nand lvm are the official ways to do it.\n\n248\n00:13:29.750 --> 00:13:31.560\nSo that's really the way\nyou wanna go about it.\n\n249\n00:13:31.560 --> 00:13:34.820\nEven though we have an actual command for\nit.\n\n250\n00:13:34.820 --> 00:13:37.830\nAll right, so that's how we basically\nincrease the size of one of these, not\n\n251\n00:13:37.830 --> 00:13:41.550\nhard, and really if you watched our LVM\nshow or SSM show, you've already seen it.\n\n252\n00:13:43.190 --> 00:13:46.323\nAll right let's see,\nwhat other damage can we do here?\n\n253\n00:13:46.323 --> 00:13:48.030\nFile system options.\n\n254\n00:13:48.030 --> 00:13:50.910\nWhen we drop file systems on these,\nthere's\n\n255\n00:13:50.910 --> 00:13:54.530\na lot of default options that are in place\nthat we may or may not have chosen to set.\n\n256\n00:13:54.530 --> 00:13:57.620\n&gt;&gt; We kind of saw that with the EXT\nin a previous episode, right,\n\n257\n00:13:57.620 --> 00:14:00.880\nwhere you actually added\nEXT4 options to EXT3.\n\n258\n00:14:00.880 --> 00:14:01.920\n&gt;&gt; Yeah, and absolutely.\n\n259\n00:14:01.920 --> 00:14:05.330\nAnd there, it's a big deal, cuz those\noptions add a lot of functionality.\n\n260\n00:14:05.330 --> 00:14:07.390\nXFS, it's already got\nall that stuff on there.\n\n261\n00:14:07.390 --> 00:14:08.920\nSo the options are actually kinda lame.\n\n262\n00:14:08.920 --> 00:14:10.645\n&gt;&gt; It just wakes up awesome?\n\n263\n00:14:10.645 --> 00:14:12.710\n[LAUGH]\n&gt;&gt; [LAUGH] So, in this case,\n\n264\n00:14:12.710 --> 00:14:16.240\nit's really just simple things\nthat we add, like a volume label.\n\n265\n00:14:16.240 --> 00:14:19.920\nWhen you create an XFS volume by default,\nit really doesn't get a label.\n\n266\n00:14:19.920 --> 00:14:22.916\nYou've got a utility called xfs_admin.\n\n267\n00:14:22.916 --> 00:14:24.728\nAnd what xfs_admin does is,\n\n268\n00:14:24.728 --> 00:14:29.990\nit lets you see information about xfs but\nit also lets you modify those options.\n\n269\n00:14:29.990 --> 00:14:34.922\nIf you do xfs_admin -l,\nthat will list, whoops.\n\n270\n00:14:34.922 --> 00:14:38.130\nI say -l and\nthen I need to specify a disk, right, so\n\n271\n00:14:38.130 --> 00:14:42.170\nif I do SDB sdb1, there we go.\n\n272\n00:14:42.170 --> 00:14:45.750\nI can see all the options that are right\nthere on that file system, I get it right.\n\n273\n00:14:45.750 --> 00:14:51.400\nSo, when I run that command, it's looking\nat sdb1 which is formatted with XFS and\n\n274\n00:14:51.400 --> 00:14:55.650\nit showed me the options, the only\noption I see is that label, right?\n\n275\n00:14:55.650 --> 00:14:56.550\nKInda lame.\n\n276\n00:14:56.550 --> 00:14:59.270\nWith EXT, it was stuff like do\nyou wanna turn on journaling?\n\n277\n00:14:59.270 --> 00:15:01.560\nDo you wanna turn on background\nfile system checking?\n\n278\n00:15:01.560 --> 00:15:05.080\nDo you wanna turn on directories,\nand extends?\n\n279\n00:15:05.080 --> 00:15:07.210\nYeah, that was really cool stuff.\n\n280\n00:15:07.210 --> 00:15:08.220\nEven if it's just a label.\n\n281\n00:15:08.220 --> 00:15:12.954\nBut, labels are handy, if you are moving\ndisks from one system to another, or\n\n282\n00:15:12.954 --> 00:15:15.394\nyou think things might get rearranged,\n\n283\n00:15:15.394 --> 00:15:18.783\nif it's dynamic disks that\nare stored on a virtual SAN.\n\n284\n00:15:18.783 --> 00:15:20.056\nYou wanna be able to keep track of them.\n\n285\n00:15:20.056 --> 00:15:23.010\nSo xfs_admin is the way\nthat we interact with that.\n\n286\n00:15:23.010 --> 00:15:29.267\nAnd you can easily come in and\nsay xfs_admin -L,\n\n287\n00:15:29.267 --> 00:15:34.600\nso lower case l just to see, capital L\nto change, and then I give it a label.\n\n288\n00:15:34.600 --> 00:15:38.450\nSo for example this one I mounted,\nwhat did I mount it to?\n\n289\n00:15:38.450 --> 00:15:41.160\nJust temp, right, so\nI'm gonna give it a label of temp.\n\n290\n00:15:42.680 --> 00:15:45.960\nAnd I need to tell it\nthat it is /dev/sdb1 and\n\n291\n00:15:45.960 --> 00:15:50.360\nit's gonna go and\nit's gonna set that label.\n\n292\n00:15:50.360 --> 00:15:52.620\nAnd now if I ever look at\nthe label on that system again,\n\n293\n00:15:52.620 --> 00:15:54.206\nI'll see that it's labeled as temp.\n\n294\n00:15:54.206 --> 00:15:56.287\nAnd if I were to take this\nphysical disk out, and\n\n295\n00:15:56.287 --> 00:15:59.048\ngo and drop it in another system\nto label it and follow it along,\n\n296\n00:15:59.048 --> 00:16:01.572\nI would know what the intention\nof that disk was, right?\n\n297\n00:16:01.572 --> 00:16:04.626\nReally handy with virtual SANs\nwhere things get shuffled around.\n\n298\n00:16:04.626 --> 00:16:08.955\nOr where you have a LAN on a virtual\nSAN that's being presented to\n\n299\n00:16:08.955 --> 00:16:11.780\nmore than one physical server.\n\n300\n00:16:11.780 --> 00:16:14.620\nThis can help us to differentiate\none disk from another.\n\n301\n00:16:14.620 --> 00:16:16.350\nI know it's not the most exciting,\nbut that's what it is.\n\n302\n00:16:16.350 --> 00:16:17.690\n&gt;&gt; Yeah, well until you absolutely,\n\n303\n00:16:17.690 --> 00:16:20.200\npositively need to know\nwhich disk was that again?\n\n304\n00:16:20.200 --> 00:16:21.999\nAnd then it comes in real handy.\n\n305\n00:16:21.999 --> 00:16:25.510\n&gt;&gt; Yep, well let's go one\nstep further on that, right?\n\n306\n00:16:25.510 --> 00:16:29.990\nYou might have noticed when I run mount,\nand look at everything that is mounted.\n\n307\n00:16:29.990 --> 00:16:35.960\nWhen you look, almost everything in here\nis mounted based on the disk name and\n\n308\n00:16:35.960 --> 00:16:37.410\nwhere it's located.\n\n309\n00:16:37.410 --> 00:16:39.610\nBut on your system, when you run mount,\n\n310\n00:16:39.610 --> 00:16:43.440\nyou might notice that some things\nare mounted in here with a UUID.\n\n311\n00:16:43.440 --> 00:16:46.200\nAnd I was kind of hoping that\nI would have at least one but\n\n312\n00:16:46.200 --> 00:16:47.280\nit doesn't look like I do.\n\n313\n00:16:48.400 --> 00:16:49.890\nI'm just kinda skimming through here.\n\n314\n00:16:49.890 --> 00:16:53.700\nNone of my stuff has\nmounted with the UUID.\n\n315\n00:16:53.700 --> 00:16:56.167\nWell, all right.\nSo-\n\n316\n00:16:56.167 --> 00:16:57.011\n&gt;&gt; Use that illustration.\n\n317\n00:16:57.011 --> 00:16:58.330\n&gt;&gt; Well, yeah, I've got the LVM in place.\n\n318\n00:16:58.330 --> 00:17:02.350\nAnd with the LVM, everything gets\nthese mapper aliases and stuff.\n\n319\n00:17:02.350 --> 00:17:05.120\nAnd then these, I created, and\nI didn't use the UUID on those.\n\n320\n00:17:05.120 --> 00:17:06.150\nThat's my own fault.\n\n321\n00:17:06.150 --> 00:17:08.910\nBut if you install Red Hat\nenterprise Linux and\n\n322\n00:17:08.910 --> 00:17:12.900\nyou choose not to do the LVM,\nyou'll see where it mounts your disks,\n\n323\n00:17:12.900 --> 00:17:15.830\nnot based on their udev name,\nlike /dev, / sda1.\n\n324\n00:17:15.830 --> 00:17:22.440\nInstead of that, it will say UUID equals,\nfollowed by a long string,\n\n325\n00:17:22.440 --> 00:17:27.520\nI bet if look into the fstab,\nI will show u guys any example.\n\n326\n00:17:27.520 --> 00:17:31.070\nThere we go, I knew I could find\nit somewhere, look at /boot.\n\n327\n00:17:31.070 --> 00:17:31.963\nI didn't mess with /boot.\n\n328\n00:17:31.963 --> 00:17:33.930\n&gt;&gt; [LAUGH]\n&gt;&gt; So this one's done the right way.\n\n329\n00:17:33.930 --> 00:17:38.867\nSee how /boot, instead of saying /dev\n/whatever, it has UUID equals blah,\n\n330\n00:17:38.867 --> 00:17:41.070\nblah, blah, blah, right?\n\n331\n00:17:41.070 --> 00:17:45.420\nWell, why a UUID for a disk?\n\n332\n00:17:45.420 --> 00:17:49.282\nThe reasoning here is that, well,\nwhat does a path name mean?\n\n333\n00:17:49.282 --> 00:17:51.960\n/dev, /sda1, well,\n\n334\n00:17:51.960 --> 00:17:55.870\nthat's just what udev happened to assign\nthat disk when it was first detected.\n\n335\n00:17:55.870 --> 00:17:59.520\nIf I take that disk out and\nI put it in another system somewhere,\n\n336\n00:17:59.520 --> 00:18:05.180\nit might be /dev/sde1, or sdz1,\nor who knows what, right?\n\n337\n00:18:05.180 --> 00:18:08.620\nI don't necessarily get the same udev\nname when I move from system to system.\n\n338\n00:18:08.620 --> 00:18:13.480\nSo if the motherboard dies in this system,\nand then the warranty goes guys out,\n\n339\n00:18:13.480 --> 00:18:15.710\nthey replace the motherboard,\nit boots back up.\n\n340\n00:18:15.710 --> 00:18:19.435\nAll of a sudden my drive's udev names\nmight change, because the system is\n\n341\n00:18:19.435 --> 00:18:22.360\nre-detecting them for\nthe first time on this new motherboard.\n\n342\n00:18:22.360 --> 00:18:24.010\nThings start to shuffle.\n\n343\n00:18:24.010 --> 00:18:30.170\nSo what we can do is, instead of\nusing a udev name, we can use a UUID.\n\n344\n00:18:30.170 --> 00:18:33.032\nNow, UUIDs are automatically assigned,\nif I take the disk and\n\n345\n00:18:33.032 --> 00:18:35.894\nsomething changes when it re-detects,\nit's got same UUID,\n\n346\n00:18:35.894 --> 00:18:39.310\nit gets mounted at the same point,\nthat works great.\n\n347\n00:18:39.310 --> 00:18:43.040\nBut if I have a drive fail, and I have to\nreplace the drive and I restore it from\n\n348\n00:18:43.040 --> 00:18:46.440\nback up, its UUID is gonna be different\nnow because it's an all new disc.\n\n349\n00:18:46.440 --> 00:18:51.140\nAnd when it's a new disc, it's not gonna\nautomatically mount to the right spot,\n\n350\n00:18:51.140 --> 00:18:52.080\nI mean mount problems.\n\n351\n00:18:52.080 --> 00:18:54.530\nI'm gonna go and\nthen edit fstab to correct that.\n\n352\n00:18:54.530 --> 00:18:59.240\nSo Red Hat recommends that you\ndo mount to UUIDs, all right?\n\n353\n00:18:59.240 --> 00:19:00.630\nSo when you can,\n\n354\n00:19:00.630 --> 00:19:05.930\nmount to UUID because it can survive being\nmoved to different systems and so on.\n\n355\n00:19:05.930 --> 00:19:10.650\nBut if I'm replacing a disk,\nI might need to override that UUID.\n\n356\n00:19:10.650 --> 00:19:12.048\nAnd xfs lets us do that.\n\n357\n00:19:12.048 --> 00:19:16.038\nI did xfs_admin-l for the label.\n\n358\n00:19:16.038 --> 00:19:20.150\nYou've got -u for the UUID.\n\n359\n00:19:20.150 --> 00:19:23.740\nAnd it's lowercase u, to look at it,\ncapital U to change it.\n\n360\n00:19:23.740 --> 00:19:26.350\nSo here's the UUID on this disk.\n\n361\n00:19:26.350 --> 00:19:29.870\nIf I'm getting a new\ndisk to replace this one,\n\n362\n00:19:29.870 --> 00:19:35.150\nI might wanna override the new disk's\nUUID and change it to match this one.\n\n363\n00:19:35.150 --> 00:19:38.930\nAnd so, all I have to do is come in and\n\n364\n00:19:38.930 --> 00:19:44.995\nsay xfs_admin -U followed by\nthe UUID that I wanna use.\n\n365\n00:19:44.995 --> 00:19:48.551\nAnd hopefully I've got a record of what\nthe old one was or I can just go and\n\n366\n00:19:48.551 --> 00:19:50.710\nlook in fstab and find it there.\n\n367\n00:19:50.710 --> 00:19:53.380\nAnd then I can paste that right in.\n\n368\n00:19:53.380 --> 00:19:56.408\nAnd then I just point to the disk\nthat I'm gonna be labeling it to.\n\n369\n00:19:56.408 --> 00:20:00.510\nSo maybe it's not going to sdb,\nmaybe it's sdf1 now, all right?\n\n370\n00:20:00.510 --> 00:20:04.350\nAnd it's us who are gonna write it, and\nit'll let me assign that UUID, all right?\n\n371\n00:20:04.350 --> 00:20:07.766\nSo great way to make sure that even\na new disk will get mounted back to\n\n372\n00:20:07.766 --> 00:20:08.622\nthe right spot.\n\n373\n00:20:10.447 --> 00:20:14.377\nAll right, let's see, I think that's most\nof the ins and outs of XFS as far as\n\n374\n00:20:14.377 --> 00:20:17.810\nthe crazy stuff, that we might\nhave to do on a regular basis.\n\n375\n00:20:17.810 --> 00:20:21.690\nThe only other thing that I think\nis worth mentioning is xfsdump,\n\n376\n00:20:21.690 --> 00:20:26.350\nwhich is a backup and restore type\nfunctionality that was built into XFS.\n\n377\n00:20:26.350 --> 00:20:30.440\nSo, you've got things like DD, which has\nbeen tried and true for disc duplication,\n\n378\n00:20:30.440 --> 00:20:33.660\nwhere you can take a bit for\nbit clone of a disc.\n\n379\n00:20:33.660 --> 00:20:36.370\nThe problem with DD is\nit takes a long time.\n\n380\n00:20:36.370 --> 00:20:40.740\nThat it backs up bits that are populated,\nand bits that are unpopulated.\n\n381\n00:20:40.740 --> 00:20:43.430\nSo even empty space gets backed up in DD,\nwhich makes for\n\n382\n00:20:43.430 --> 00:20:47.030\nlarge back up files and\nones that take a long time.\n\n383\n00:20:47.030 --> 00:20:50.260\nSo if I wanna do a back up of\nsomething like my website, for\n\n384\n00:20:50.260 --> 00:20:52.540\nexample, DD just takes a long time.\n\n385\n00:20:52.540 --> 00:20:55.140\nI can use other backup utilities,\nbut xfsdum,\n\n386\n00:20:55.140 --> 00:21:00.740\nwill let me backup an XFS file system and\nall the information that's inside of it.\n\n387\n00:21:00.740 --> 00:21:03.160\nAnd that's pretty darn convenient, right?\n\n388\n00:21:03.160 --> 00:21:05.480\nSo let me just show you\na quick example of that.\n\n389\n00:21:05.480 --> 00:21:12.217\nIf I go into my mount, you can see I've\ngot /dev/sde1, is my /mount/website.\n\n390\n00:21:12.217 --> 00:21:16.320\nAnd then I've got sde2,\nwhich is /mount/backup.\n\n391\n00:21:16.320 --> 00:21:20.620\nSo if I wanna backup my website volume,\nand\n\n392\n00:21:20.620 --> 00:21:25.820\nI wanna back that up to my backup volume,\nI can do that using xfsdump.\n\n393\n00:21:25.820 --> 00:21:29.760\nNow it supports full backups\nas well as incrementals.\n\n394\n00:21:29.760 --> 00:21:32.730\nSo you can actually build a whole\nbackup rotation based off of this.\n\n395\n00:21:32.730 --> 00:21:35.850\nAnd it can backup to tape as\nwell as to a file system.\n\n396\n00:21:35.850 --> 00:21:37.370\nIt's really designed to go to tape though.\n\n397\n00:21:37.370 --> 00:21:39.430\nWhen you go to file system\nyou lose some functionality.\n\n398\n00:21:39.430 --> 00:21:42.538\nBut lemme just give you a quick run\nthrough so you guys can see it.\n\n399\n00:21:42.538 --> 00:21:45.315\nAnd whether or not you use it,\nis kind of up to you but\n\n400\n00:21:45.315 --> 00:21:47.130\nit's kind of nice to see it, so.\n\n401\n00:21:48.210 --> 00:21:52.063\nReal quick just to take\nour backup is pretty easy,\n\n402\n00:21:52.063 --> 00:21:54.644\nthe utility is xsfdump, right?\n\n403\n00:21:54.644 --> 00:21:56.077\nA little inconsistency how they have\n\n404\n00:21:56.077 --> 00:21:57.080\nunderscores in some-\n&gt;&gt; Yeah\n\n405\n00:21:57.080 --> 00:21:58.331\n&gt;&gt; Of them and not others?\n\n406\n00:21:58.331 --> 00:22:00.882\nFrustrating, but anyhow, xfsdump and\n\n407\n00:22:00.882 --> 00:22:04.640\nwe're gonna specify what it\nis we're gonna be backing up.\n\n408\n00:22:04.640 --> 00:22:08.600\nAnd when we back it up, there's a few\nthings that we have to provide, right?\n\n409\n00:22:08.600 --> 00:22:11.970\nFirst of, we have to tell it\nwhere we're backing up to.\n\n410\n00:22:11.970 --> 00:22:17.706\nSo I'm gonna back up to\n/mnt/backup/websites.bak.\n\n411\n00:22:17.706 --> 00:22:19.980\nAll right, so\nthat's the backup that I'm gonna make.\n\n412\n00:22:19.980 --> 00:22:27.570\nAnd then, I need to tell it what\nmy backup level is going to be.\n\n413\n00:22:27.570 --> 00:22:30.030\nAnd the level is where things\nget a little bit weird.\n\n414\n00:22:30.030 --> 00:22:32.750\nA level of 0, that's a full backup.\n\n415\n00:22:32.750 --> 00:22:35.050\nI'm gonna take a full\nbackup of the system.\n\n416\n00:22:35.050 --> 00:22:36.920\nAnd then you've got\nlevels one through nine.\n\n417\n00:22:36.920 --> 00:22:39.250\nAnd one through nine are incrementals,\nright?\n\n418\n00:22:39.250 --> 00:22:42.420\nAnd so let's say we're doing\na standard Monday, Tuesday, Wednesday,\n\n419\n00:22:42.420 --> 00:22:44.350\nThursday, Friday backup system.\n\n420\n00:22:44.350 --> 00:22:48.200\nOn Monday, I would run a level 0,\ntake a full backup.\n\n421\n00:22:48.200 --> 00:22:52.290\nBut on Tuesday, I'd run level 1,\nthat's the first incremental.\n\n422\n00:22:52.290 --> 00:22:55.440\nOn Wednesday, I'd run level 2,\nthat's the second incremental.\n\n423\n00:22:55.440 --> 00:23:00.032\nOn Thursday, level 3,\nFriday level 4, I got that, right?\n\n424\n00:23:00.032 --> 00:23:00.600\n&gt;&gt; Yeah.\n&gt;&gt; So\n\n425\n00:23:00.600 --> 00:23:02.130\nwe're running the fourth\nincremental on Friday,\n\n426\n00:23:02.130 --> 00:23:06.120\nand then come the next Monday we would\nswitch back into a level 0 again, right?\n\n427\n00:23:06.120 --> 00:23:08.649\nSo you can have up to nine incrementals.\n\n428\n00:23:08.649 --> 00:23:10.537\nWhat if you need more\nthan nine incrementals?\n\n429\n00:23:10.537 --> 00:23:11.162\nWell too bad.\n\n430\n00:23:11.162 --> 00:23:12.858\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] I'm not aware of a way.\n\n431\n00:23:12.858 --> 00:23:13.467\n&gt;&gt; There's no way.\n\n432\n00:23:13.467 --> 00:23:15.460\n&gt;&gt; Yeah,\nI don't think there is a way to do that.\n\n433\n00:23:15.460 --> 00:23:20.040\nBecause the levels need to be only used\nonce until the next full back up, right?\n\n434\n00:23:20.040 --> 00:23:21.840\nSo that's how this is kind of set up here.\n\n435\n00:23:21.840 --> 00:23:25.500\nSo I'm just gonna say l 0,\nI'm doing a full back up, all right?\n\n436\n00:23:25.500 --> 00:23:28.870\nAnd then I just need to\ngive it a media name.\n\n437\n00:23:28.870 --> 00:23:30.620\nNow media names really mattered on tape.\n\n438\n00:23:30.620 --> 00:23:32.810\nWith files, we have file names,\nso it's kind of redundant, but\n\n439\n00:23:32.810 --> 00:23:33.760\nI'll give it a media name.\n\n440\n00:23:33.760 --> 00:23:35.230\nI'm gonna just call it website.\n\n441\n00:23:35.230 --> 00:23:38.980\nAnd then I need to tell it a label for\nthat media.\n\n442\n00:23:38.980 --> 00:23:43.570\nAgain, labels are really handy with tape,\nwith files they're somewhat redundant.\n\n443\n00:23:43.570 --> 00:23:46.660\nBut I'll give it a label,\nI'm just gonna call it my full_backup or\n\n444\n00:23:46.660 --> 00:23:50.220\nyou might call it like the Monday\nfull backup or something like that.\n\n445\n00:23:50.220 --> 00:23:52.370\nAnd then I need to tell\nit what I'm backing up.\n\n446\n00:23:52.370 --> 00:23:55.051\nI'm backing up /mount/website.\n\n447\n00:23:55.051 --> 00:24:00.380\nAnd what I'm pointing to is where that\nfile system is mounted, all right?\n\n448\n00:24:00.380 --> 00:24:04.374\nI'm not pointing to /dev/sde1 or whatever.\n\n449\n00:24:04.374 --> 00:24:05.523\nI'm pointing to where it's mounted.\n\n450\n00:24:05.523 --> 00:24:08.252\nIt'll find the disk based on that, right?\n\n451\n00:24:08.252 --> 00:24:10.950\nAnd when I run that,\nit's gonna reach out and\n\n452\n00:24:10.950 --> 00:24:15.080\nit's gonna back up that file system and\ndump it right into that file.\n\n453\n00:24:15.080 --> 00:24:18.470\nAll right, now that was Monday,\nthat was my full backup.\n\n454\n00:24:18.470 --> 00:24:21.360\nWhen Tuesday rolls around, well.\n\n455\n00:24:21.360 --> 00:24:22.559\nI just call it website.bak.\n\n456\n00:24:22.559 --> 00:24:25.812\nI probably should've done something\nlike a one under score, two under score\n\n457\n00:24:25.812 --> 00:24:29.100\nwhatever to keep them separate cuz\nyou need each one to be separate.\n\n458\n00:24:29.100 --> 00:24:31.368\nOn a tape, you can just keep\nappending to the same tape.\n\n459\n00:24:31.368 --> 00:24:33.590\nBut on a file,\nit won't let you do that, so.\n\n460\n00:24:33.590 --> 00:24:36.770\nWhat you would do is come in here and\nchange this to level 1.\n\n461\n00:24:36.770 --> 00:24:39.517\nAnd, you'd specify you're media name.\n\n462\n00:24:39.517 --> 00:24:40.906\nYou'd give it a different label.\n\n463\n00:24:40.906 --> 00:24:44.010\nSo I might call this my incr_backup.\n\n464\n00:24:44.010 --> 00:24:46.720\nAnd then, you'd specify what\nyou were backing up, right?\n\n465\n00:24:46.720 --> 00:24:50.210\nSo basically the same process,\nyou're just changing the level number and\n\n466\n00:24:50.210 --> 00:24:51.732\nthen the label, so\nyou can keep it straight.\n\n467\n00:24:51.732 --> 00:24:55.280\nAll right, but once that's backed up,\n\n468\n00:24:55.280 --> 00:25:00.910\nwhat we'll be able to see is that\nit created a little backup file.\n\n469\n00:25:00.910 --> 00:25:02.110\nAnd my website is very,\n\n470\n00:25:02.110 --> 00:25:06.960\nvery small and if you look at that,\nit's only 22 kilobytes in size.\n\n471\n00:25:06.960 --> 00:25:07.650\nRight?\n\n472\n00:25:07.650 --> 00:25:08.690\nPretty small.\n\n473\n00:25:08.690 --> 00:25:13.480\nIt didn't do a bit for bit backup like\nDD would've, it did a data backup.\n\n474\n00:25:13.480 --> 00:25:17.350\nIt got all the data that was necessary\nas well as all the XFS index\n\n475\n00:25:17.350 --> 00:25:18.170\nand all that stuff.\n\n476\n00:25:18.170 --> 00:25:20.780\nIt got all that stuff that was necessary\nand it didn't get all the extra stuff.\n\n477\n00:25:20.780 --> 00:25:25.310\nSo that's why this is a better option\nthan DD for backing up an XFS volume.\n\n478\n00:25:25.310 --> 00:25:29.010\nNow when it comes to restoring,\nI can restore the whole thing, or\n\n479\n00:25:29.010 --> 00:25:31.180\nI can restore individual files out of it.\n\n480\n00:25:31.180 --> 00:25:35.950\nSo if I just wanna get my\nindex.html file back out of it or\n\n481\n00:25:35.950 --> 00:25:41.210\nsomething I can, or I can just\nrestore the whole thing if I want.\n\n482\n00:25:41.210 --> 00:25:46.840\nTo restore, instead of xfsdump,\nwe have xfsrestore, that we use.\n\n483\n00:25:46.840 --> 00:25:49.700\nAnd that's what use to just\nget that data back out again.\n\n484\n00:25:49.700 --> 00:25:54.170\nAnd when we do it, we need to\nknow what it is we wanna restore.\n\n485\n00:25:54.170 --> 00:25:59.959\nSo before we run that, or before we get\ntoo far, I normally start with xfsdump-I,\n\n486\n00:25:59.959 --> 00:26:04.194\nwhich says, show me what my\nbackups are cuz I might not know.\n\n487\n00:26:04.194 --> 00:26:07.490\nAnd it would give you a list of\nall the backups that you've done.\n\n488\n00:26:07.490 --> 00:26:09.920\nI've only done one, so\nit lists it right here.\n\n489\n00:26:09.920 --> 00:26:11.840\nIt's my full backup.\n\n490\n00:26:11.840 --> 00:26:13.610\nThere's the session label and\nit's got a session ID.\n\n491\n00:26:13.610 --> 00:26:17.000\nAnd then as we look down,\nyou can start to see the level, so\n\n492\n00:26:17.000 --> 00:26:20.570\nI know this is a full backup and\nnot a incremental.\n\n493\n00:26:20.570 --> 00:26:23.900\nI can see it's only got one stream,\none set of data that's inside it.\n\n494\n00:26:23.900 --> 00:26:29.560\nOn a tape, you could have more than one\nsession ID inside of the same tape.\n\n495\n00:26:29.560 --> 00:26:32.989\nSo when you go to restore it,\nyou'd need to specify that session ID.\n\n496\n00:26:32.989 --> 00:26:36.650\nBut when you're backing up the files,\nthere's usually only one backup per file.\n\n497\n00:26:36.650 --> 00:26:38.410\nSo you don't have to worry about\nsession IDs and all that mess.\n\n498\n00:26:38.410 --> 00:26:39.940\nIt makes it a lot easier.\n\n499\n00:26:39.940 --> 00:26:47.428\nSo if I wanna bring my data back, I can\ncome in and I can say, xfsrestore-f and\n\n500\n00:26:47.428 --> 00:26:51.170\ntell it the source,\nwhere is my data coming from.\n\n501\n00:26:52.390 --> 00:26:58.383\nAnd so mine is coming from\nthe /mount/backup/website.bak.\n\n502\n00:26:58.383 --> 00:27:05.135\nAnd then where I want it to restore to,\nwhich would be /mount/website.\n\n503\n00:27:05.135 --> 00:27:08.087\nAnd then, it's basically just\ngonna crack open that file and\n\n504\n00:27:08.087 --> 00:27:11.760\nget everything that it can and\ndrop it off over in the destination.\n\n505\n00:27:11.760 --> 00:27:13.070\nAnd so there it goes scanning through and\n\n506\n00:27:13.070 --> 00:27:16.020\nhopefully you get this nice\nlittle Restore Status: SUCCESS.\n\n507\n00:27:16.020 --> 00:27:18.760\nYour data's been put back and\nnow you've recovered.\n\n508\n00:27:18.760 --> 00:27:20.770\nAnd again, it's only restoring the data.\n\n509\n00:27:20.770 --> 00:27:23.420\nIt's not zeroing out sectors\nthat were zero beforehand.\n\n510\n00:27:23.420 --> 00:27:25.330\nIt didn't back that up like DD would.\n\n511\n00:27:25.330 --> 00:27:28.460\nInstead it just drops it on there and\nwe're back in business very, very quickly.\n\n512\n00:27:28.460 --> 00:27:30.904\nSo xfsdump and restore works pretty well.\n\n513\n00:27:30.904 --> 00:27:37.300\nNow it does get a little bit trickier if I\nhave incrementals, but it's not that bad.\n\n514\n00:27:37.300 --> 00:27:39.710\nYou just need to add a dash\nr to the command line.\n\n515\n00:27:39.710 --> 00:27:43.985\nSo I did dash f for that source and if you\nadd a dash r, that makes it recursive.\n\n516\n00:27:43.985 --> 00:27:48.240\nAnd it'll restore the full and then each\nincremental after it that it finds and\n\n517\n00:27:48.240 --> 00:27:50.050\nbring those back online and\nget you put back in place.\n\n518\n00:27:50.050 --> 00:27:52.910\nSo if you've got incrementals,\nyou just need to go a little bit further.\n\n519\n00:27:52.910 --> 00:27:57.735\n&gt;&gt; Don, would you say that this xfsdump\n\n520\n00:27:57.735 --> 00:28:03.420\nis a better or even a replacement built\nin utility for XFS enabled drives?\n\n521\n00:28:03.420 --> 00:28:05.110\nThan DD, should I say.\n\n522\n00:28:05.110 --> 00:28:06.200\n&gt;&gt; Definitely better than DD.\n\n523\n00:28:06.200 --> 00:28:06.890\n&gt;&gt; Yeah.\n\n524\n00:28:06.890 --> 00:28:11.530\n&gt;&gt; Okay and the reason I pause here is\nthat, if you just have a single system and\n\n525\n00:28:11.530 --> 00:28:13.025\nyou're trying to script and\nautomate stuff.\n\n526\n00:28:13.025 --> 00:28:16.050\nxfsdump, xfsrestore,\nthey work fine, right?\n\n527\n00:28:16.050 --> 00:28:20.870\nBut there's not a lot of centralized\nmanagement or reporting.\n\n528\n00:28:20.870 --> 00:28:22.450\nI can't come in the morning and say,\n\n529\n00:28:22.450 --> 00:28:25.140\nhm I wonder if my backups\nwere successful last night.\n\n530\n00:28:25.140 --> 00:28:26.150\nI don't know.\nI mean, I can go with,\n\n531\n00:28:26.150 --> 00:28:28.510\nI see a file was created, and\nI might go and check it and\n\n532\n00:28:28.510 --> 00:28:29.510\nsee if it got interrupted.\n\n533\n00:28:29.510 --> 00:28:33.400\nYou might have noticed, when I did\nthe xfsdump-I, it showed whether or\n\n534\n00:28:33.400 --> 00:28:34.370\nnot it got interrupted.\n\n535\n00:28:34.370 --> 00:28:36.690\nThat kind of stuff, I can go in and see.\n\n536\n00:28:36.690 --> 00:28:42.600\nBut there's really no substitute for\na good, centralized backup solution.\n\n537\n00:28:42.600 --> 00:28:46.790\nAnd that means third party\nsoftware like Arcserve or\n\n538\n00:28:46.790 --> 00:28:48.710\nopen source software like Bacula.\n\n539\n00:28:48.710 --> 00:28:53.630\nAny of that stuff will usually provide\nall the functions that you want and\n\n540\n00:28:53.630 --> 00:28:55.350\ngive you centralized management.\n\n541\n00:28:55.350 --> 00:28:57.810\nHere I have to write it into\nthe scripts that I did.\n\n542\n00:28:57.810 --> 00:29:01.695\nIf I create a cron job for xfsdump, I'd\nhave to have it where it shot me emails\n\n543\n00:29:01.695 --> 00:29:05.000\nand ran various tests to\nmake sure things worked.\n\n544\n00:29:05.000 --> 00:29:08.240\nIt's not terribly flexible,\nI guess is what I'm getting at here.\n\n545\n00:29:08.240 --> 00:29:10.518\nBut if I'm about to replace a hard drive,\n\n546\n00:29:10.518 --> 00:29:13.680\nI'll use xfsdump like crazy\ncuz it's way faster than DDs.\n\n547\n00:29:13.680 --> 00:29:19.210\nSo I can use xfsdump to dump that file\nsystem, change out the hard drive and\n\n548\n00:29:19.210 --> 00:29:22.200\nuse xfsrestore to put the file\nsystem back on there.\n\n549\n00:29:22.200 --> 00:29:25.890\nAnd it's way faster than DD,\nknocked it out, and I'm done.\n\n550\n00:29:25.890 --> 00:29:27.580\nThat's usually how I end up using it.\n\n551\n00:29:27.580 --> 00:29:30.200\nBut, how you use it is kind of\nup to you and your situation.\n\n552\n00:29:30.200 --> 00:29:33.160\n&gt;&gt; Well it's still a really cool utility,\nhas a lot of flexibility, and\n\n553\n00:29:33.160 --> 00:29:35.700\nthe ability to do things\nlike incremental backups.\n\n554\n00:29:35.700 --> 00:29:38.930\nI mean that's nice, it, like we said,\ntotally kicks the mess out of old DD,\n\n555\n00:29:38.930 --> 00:29:41.120\neven though DD is a great utility.\n\n556\n00:29:41.120 --> 00:29:44.840\nEverything needs to evolve and\ncome to a better fruition.\n\n557\n00:29:44.840 --> 00:29:47.490\nThis xfsdump is definitely that.\n\n558\n00:29:47.490 --> 00:29:52.120\nDon, anything else we need to know\nabout XFS before we sign off today?\n\n559\n00:29:52.120 --> 00:29:54.160\n&gt;&gt; That's about it, I mean there's\nobviously a lot more out there.\n\n560\n00:29:54.160 --> 00:29:57.652\nI went kinda quick and just covered\nthe major utilities that we've got to work\n\n561\n00:29:57.652 --> 00:29:59.060\nwith XFS and change things.\n\n562\n00:29:59.060 --> 00:30:01.095\nSo, that's basically it.\n\n563\n00:30:01.095 --> 00:30:03.414\nBut again, do your research,\njump out there.\n\n564\n00:30:03.414 --> 00:30:05.344\nYou'll find there is a lot other commands,\nand\n\n565\n00:30:05.344 --> 00:30:07.720\nwe might add some additional\nfootage later on to cover it.\n\n566\n00:30:07.720 --> 00:30:10.580\nBut, I don't wanna go too\ncrazy on it because I\n\n567\n00:30:10.580 --> 00:30:13.930\nknow that Btrfs is coming around the\ncorner a lot of the stuff changes for it,\n\n568\n00:30:13.930 --> 00:30:16.170\nso that's what we'll see in the future.\n\n569\n00:30:16.170 --> 00:30:19.430\n&gt;&gt; All right, well thank you so\nmuch for explaining XFS to us and\n\n570\n00:30:19.430 --> 00:30:21.520\nhow we can use it as our daily driver.\n\n571\n00:30:21.520 --> 00:30:24.970\nAnd we do thank you guys for watching,\nbut it is time for us to sign off.\n\n572\n00:30:24.970 --> 00:30:27.500\nFor ITProTV I've been\nyour host Daniel Lowrie.\n\n573\n00:30:27.500 --> 00:30:28.460\n&gt;&gt; And I'm Don Pezet.\n\n574\n00:30:28.460 --> 00:30:30.512\n&gt;&gt; We'll see you next time.\n\n575\n00:30:30.512 --> 00:30:36.499\n[MUSIC]\n\n576\n00:30:36.499 --> 00:30:39.618\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "194036420"
        }
      ],
      "title": "Storage"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Don explain and demonstrate how to encrypt entire hard drives and drive volumes using the Linux Unified Key Setup-on-disk-format, aka LUKS. Here you'll see how to enable disk encryption at installation, checking encryption status after installation, and encrypting a volume using `cryptsetup`.",
          "length": "1921",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-rhel7-4-1-luks_disk_encryption-112916.00_31_45_04.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-rhel7-4-1-luks_disk_encryption-112916.00_31_45_04.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-rhel7-4-1-luks_disk_encryption-112916.00_31_45_04.Still001-sm.jpg",
          "title": "LUKS Disk Encryption",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:06.521\nWelcome to ITProTV, I'm your host-\n\n2\n00:00:06.521 --> 00:00:08.307\n[MUSIC]\n\n3\n00:00:08.307 --> 00:00:12.330\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.330 --> 00:00:14.220\n&gt;&gt; All right, greetings everyone and\n\n5\n00:00:14.220 --> 00:00:16.870\nwelcome to another exciting\nepisode of ITProTV.\n\n6\n00:00:16.870 --> 00:00:19.945\nI'm your host, Daniel Lowrie,\nand in today's episode,\n\n7\n00:00:19.945 --> 00:00:23.891\nthat's right it's more on our\nRed Hat Enterprise Linux version 7 Series.\n\n8\n00:00:23.891 --> 00:00:27.548\nAnd coming back for a little more of that\naction is our good friend, Mr. Don Pezet.\n\n9\n00:00:27.548 --> 00:00:29.080\nDon, welcome back sir,\nhow's it going today?\n\n10\n00:00:29.080 --> 00:00:30.722\n&gt;&gt; It is going great Daniel,\nready to dive in and\n\n11\n00:00:30.722 --> 00:00:34.450\nstart taking a look at disk encryption\ninside of Red Hat Enterprise Linux, and\n\n12\n00:00:34.450 --> 00:00:38.940\nas most of you guys know, disk encryption\nis somewhat important these days.\n\n13\n00:00:38.940 --> 00:00:42.180\nI guess we don't necessarily have\nto have it, it's not on by default.\n\n14\n00:00:42.180 --> 00:00:45.470\nIf you install RHEL 7,\nyour disks are not encrypted.\n\n15\n00:00:45.470 --> 00:00:48.460\nBut, there's a lot of us that have\nsystems that are out there that we don't\n\n16\n00:00:48.460 --> 00:00:53.340\nnecessarily have 24 hours a day,\n7 days a week control over.\n\n17\n00:00:53.340 --> 00:00:56.070\nAnd so there's a risk of\nlosing those machines and\n\n18\n00:00:56.070 --> 00:00:58.050\nin turn losing the data that's on them.\n\n19\n00:00:58.050 --> 00:01:02.750\nNow the reason encryption is not on by\ndefault in Red Hat Enterprise Linux is\n\n20\n00:01:02.750 --> 00:01:05.230\nthat a lot of us are deploying\nit as a server operating system.\n\n21\n00:01:05.230 --> 00:01:08.860\nAnd on a server,\nwe usually have the physical security in\n\n22\n00:01:08.860 --> 00:01:13.860\nplace that disc-based encryption really\ndoesn't provide any benefit whatsoever.\n\n23\n00:01:13.860 --> 00:01:17.800\nPhysically encrypting the disc really just\nprotects us from somebody coming in and\n\n24\n00:01:17.800 --> 00:01:20.500\nstealing the device, which is not normally\ngoing to happen in the server room.\n\n25\n00:01:20.500 --> 00:01:23.380\nBut if you have Red Hat desktops or\n\n26\n00:01:23.380 --> 00:01:26.620\nlaptops that are deployed out there well,\nespecially laptops.\n\n27\n00:01:26.620 --> 00:01:30.550\nVery easy for somebody to leave it on\na cab, get it stolen at the airport,\n\n28\n00:01:30.550 --> 00:01:33.110\nor whatever, and\nnow you've got a laptop that has\n\n29\n00:01:33.110 --> 00:01:35.410\npotentially sensitive data on\nit that's been compromised.\n\n30\n00:01:35.410 --> 00:01:39.530\nSo what we may need to do\nis to encrypt that data.\n\n31\n00:01:39.530 --> 00:01:42.280\nAnd it may not even be that we\nwant to necessarily do it, but\n\n32\n00:01:42.280 --> 00:01:45.878\nthat we're required by some kind of\ngovernment regulations or guideline or\n\n33\n00:01:45.878 --> 00:01:48.372\nwhatever that we need to go in and\nencrypt that data.\n\n34\n00:01:48.372 --> 00:01:53.006\nSo we have a nice little system for doing\nthat right inside of Red Hat called LUKS,\n\n35\n00:01:53.006 --> 00:01:54.315\nwhich is L-U-K-S.\n\n36\n00:01:54.315 --> 00:01:58.842\nAnd I'm not gonna lie to you, it's one of\nthose acronyms that's super annoying and\n\n37\n00:01:58.842 --> 00:02:00.010\nnobody ever says it.\n\n38\n00:02:00.010 --> 00:02:05.380\nIt's the Linux Unified Key Setup\non Disk Format.\n\n39\n00:02:05.380 --> 00:02:08.830\nWhich I know is way more words\nthan L-U-K-S, but It's a-\n\n40\n00:02:08.830 --> 00:02:11.110\n&gt;&gt; They said hey, that's enough of that.\n\n41\n00:02:11.110 --> 00:02:11.920\nYeah.\n[LAUGH] Right.\n\n42\n00:02:11.920 --> 00:02:15.770\n&gt;&gt; When it comes to Unix acronyms\nall rules are off I guess.\n\n43\n00:02:15.770 --> 00:02:18.190\nBut, anyhow so we have this LUKS system.\n\n44\n00:02:18.190 --> 00:02:20.580\nIt's built right into\nRed Hat enterprise Linux and\n\n45\n00:02:20.580 --> 00:02:24.050\nyou might have even noticed it I probably\nskipped over in the install episode.\n\n46\n00:02:24.050 --> 00:02:25.370\nLet me just show you real quick.\n\n47\n00:02:25.370 --> 00:02:30.348\nWhen we were installing ragl, so here I\nam normal installer, I popped in my disk,\n\n48\n00:02:30.348 --> 00:02:33.350\nI'm in a Fire up the installer and\nstart to move through it.\n\n49\n00:02:33.350 --> 00:02:36.010\nThat as I do the installation\n\n50\n00:02:36.010 --> 00:02:39.120\nI get to a point where it asks\nme about partitioning the disks.\n\n51\n00:02:39.120 --> 00:02:42.810\nAnd if I just leave it at the default,\nit's gonna enable the LVM and\n\n52\n00:02:42.810 --> 00:02:44.790\nit's gonna partition\nthe entire hard disk for\n\n53\n00:02:44.790 --> 00:02:48.530\nmy system and\nit's not going to encrypt anything, right.\n\n54\n00:02:48.530 --> 00:02:51.270\nBut I do have the option to turn\non encryption there if I want.\n\n55\n00:02:51.270 --> 00:02:55.250\nIf I want to get that put in place, I can\ndo it and it'll encrypt the disk for me.\n\n56\n00:02:55.250 --> 00:02:57.840\nNow, we can't encrypt our entire disk,\n\n57\n00:02:57.840 --> 00:03:00.850\nencrypt everything,\nbecause there's certain volumes or\n\n58\n00:03:00.850 --> 00:03:04.530\ncertain mount points that need to be\nunencrypted like the boot mount point.\n\n59\n00:03:04.530 --> 00:03:07.810\nWhen our system first turns on, it's not\ngeared up to start decrypting things yet.\n\n60\n00:03:07.810 --> 00:03:11.860\nIt needs to be able to access the boot\nrecords to be able to start Linux.\n\n61\n00:03:11.860 --> 00:03:13.700\nAnd then it can start decrypting things.\n\n62\n00:03:13.700 --> 00:03:15.710\nSo some things can't be encrypted.\n\n63\n00:03:15.710 --> 00:03:17.930\nBut everywhere that we have data can.\n\n64\n00:03:19.200 --> 00:03:23.860\nOur root, our home directories,\nour var folder,\n\n65\n00:03:23.860 --> 00:03:26.890\neven our swap folders can be encrypted.\n\n66\n00:03:26.890 --> 00:03:29.240\nAnd that's handy because sometimes\nyou have things that go into RAM and\n\n67\n00:03:29.240 --> 00:03:31.160\nthey get written down to a swap file.\n\n68\n00:03:31.160 --> 00:03:34.870\nAnd if it's non-encrypted, somebody\ncould yank the power cable out and\n\n69\n00:03:34.870 --> 00:03:37.320\nthen go and\nanalyze that swap file later on and\n\n70\n00:03:37.320 --> 00:03:39.950\nsee what was going on in\nthe overflow from RAM.\n\n71\n00:03:39.950 --> 00:03:43.280\nSo we can encrypt that stuff,\ntoo, really kind of flexible.\n\n72\n00:03:43.280 --> 00:03:44.700\nBut here I am in the installer,\n\n73\n00:03:44.700 --> 00:03:49.330\nand if I scroll down a bit here we've\ngot the installation destination.\n\n74\n00:03:49.330 --> 00:03:52.620\nAnd if I choose that I can pick\nwhat disk I'm gonna install on,\n\n75\n00:03:52.620 --> 00:03:54.890\nI can add other partitions and so on.\n\n76\n00:03:54.890 --> 00:03:59.820\nAnd if you scroll down there's this option\nright here to encrypt my data all right,\n\n77\n00:03:59.820 --> 00:04:02.800\nif I don't choose that it's just gonna\nformat it regular style and that's it.\n\n78\n00:04:02.800 --> 00:04:06.290\nAnd that's exactly what we did way back in\nthe installation episode that we filmed.\n\n79\n00:04:06.290 --> 00:04:08.460\nBut I'm gonna check that box here.\n\n80\n00:04:08.460 --> 00:04:12.210\nAnd when I hit done,\nit's gonna ask me for a pass phrase.\n\n81\n00:04:12.210 --> 00:04:14.610\nAnd so here's where I have to come in and\ntell it a key,\n\n82\n00:04:14.610 --> 00:04:19.710\nthis is basically a private key, that it\nwill use to be able to decrypt the drive.\n\n83\n00:04:19.710 --> 00:04:22.780\nNow, what I'm about to put in,\nit's actually not the private key,\n\n84\n00:04:22.780 --> 00:04:24.470\nI shouldn't call it that.\n\n85\n00:04:24.470 --> 00:04:29.630\nIt's a key that is able\nto decrypt a master key.\n\n86\n00:04:29.630 --> 00:04:33.720\nSo when it encrypts the drive it actually\nautomatically generates a master key.\n\n87\n00:04:33.720 --> 00:04:37.330\nAnd the master key is capable\nof decrypting the drive.\n\n88\n00:04:37.330 --> 00:04:41.310\nBut we need to be able to give\npeople access to the drive and\n\n89\n00:04:41.310 --> 00:04:43.120\ntake access away from the drive.\n\n90\n00:04:43.120 --> 00:04:46.260\nIf I gave somebody the master key,\nlike let's say I shared it with Daniel.\n\n91\n00:04:46.260 --> 00:04:48.070\nSo now Daniel can access that drive.\n\n92\n00:04:48.070 --> 00:04:52.210\nAnd then I fire Daniel because I\ndon't even need, it's all there for\n\n93\n00:04:52.210 --> 00:04:54.560\nall the various reasons we fire Daniel.\n\n94\n00:04:54.560 --> 00:04:56.365\n&gt;&gt; I can't wait to see you tonight.\n\n95\n00:04:56.365 --> 00:04:58.760\n[LAUGH]\n&gt;&gt; And now I want to take away his access.\n\n96\n00:04:58.760 --> 00:05:02.660\nSo if I got to take that key away,\nwell that was the master key,\n\n97\n00:05:02.660 --> 00:05:04.070\nthat's what the data was encrypted with.\n\n98\n00:05:04.070 --> 00:05:06.935\nI would have to decrypt all the data and\n\n99\n00:05:06.935 --> 00:05:10.460\nre-encrypt it again with\nan all new master key.\n\n100\n00:05:10.460 --> 00:05:14.190\nAnd the more data you have, the longer\nthat's gonna take, that's not realistic.\n\n101\n00:05:14.190 --> 00:05:16.360\nSo what we do, we have a pass phrase, and\n\n102\n00:05:16.360 --> 00:05:20.610\nthe pass phrase is a key that\nI can use that lets me decrypt\n\n103\n00:05:20.610 --> 00:05:24.550\nthe master key which then lets\nthe system decrypt the actual drive.\n\n104\n00:05:24.550 --> 00:05:29.170\nAnd if I give Daniel his own pass\nphrase and I have my own pass phrase\n\n105\n00:05:29.170 --> 00:05:32.900\nthen when we fire Daniel I can just\nsuspend his pass phrase and remove that.\n\n106\n00:05:32.900 --> 00:05:35.730\nHe can no longer decrypt the master\nkey which means he can no longer get\n\n107\n00:05:35.730 --> 00:05:36.720\nat the data.\n\n108\n00:05:36.720 --> 00:05:42.150\nThe whole point of this diatribe is that\nthe master key doesn't have to be changed.\n\n109\n00:05:42.150 --> 00:05:44.720\nThe master key can stay and we'll say\nthat it's good because it's long and\n\n110\n00:05:44.720 --> 00:05:45.610\nit's complex.\n\n111\n00:05:45.610 --> 00:05:47.560\nWe just have a passphrase\nwe use to access.\n\n112\n00:05:47.560 --> 00:05:51.005\nSo LUKS gives us that ability, to have\nmore than one person to have access\n\n113\n00:05:51.005 --> 00:05:55.190\nto that disk, which is really\nimportant on shared computers, right.\n\n114\n00:05:55.190 --> 00:05:58.630\nSo what I'm putting here is\nsimply the first passphrase.\n\n115\n00:05:58.630 --> 00:06:04.890\nSo this might be mine, right, so I'm gonna\npunch in what I want that password to be,\n\n116\n00:06:04.890 --> 00:06:07.630\nand I'm not putting in\nsomething terribly secure.\n\n117\n00:06:07.630 --> 00:06:10.040\nAnd it's kind of rating\nyou based on security.\n\n118\n00:06:10.040 --> 00:06:14.600\nSo punch in what you want it to be, and\nthen it's just telling us here be careful\n\n119\n00:06:14.600 --> 00:06:17.510\nwhen you get to the screen\nto punch in this pass phase.\n\n120\n00:06:17.510 --> 00:06:19.530\nCuz when you boot up it's got\nto be able to decrypt the drive.\n\n121\n00:06:19.530 --> 00:06:21.100\nSo it's gonna ask for that pass phrase.\n\n122\n00:06:21.100 --> 00:06:24.480\nWe wont be able to switch keyboard layouts\nso don't use crazy special characters or\n\n123\n00:06:24.480 --> 00:06:25.860\nwhatever if you can avoid it.\n\n124\n00:06:25.860 --> 00:06:29.300\nIf you have an international keyboard,\nthen you wanna try and\n\n125\n00:06:29.300 --> 00:06:30.390\nstay away from those characters.\n\n126\n00:06:30.390 --> 00:06:34.110\nBut letters, numbers, most of\nthe punctuation marks, those are all\n\n127\n00:06:34.110 --> 00:06:38.270\nperfectly safe and fine and work in any\nkeyboard layout regardless of language.\n\n128\n00:06:38.270 --> 00:06:40.640\nSo I'm gonna punch that in and\nhit save passphrase, and\n\n129\n00:06:40.640 --> 00:06:42.220\nthat's all it needed to know.\n\n130\n00:06:42.220 --> 00:06:44.970\nAnd once it's got that we\ncan begin the installation.\n\n131\n00:06:44.970 --> 00:06:48.530\nAnd it's gonna fire off and\nhere it goes installing.\n\n132\n00:06:48.530 --> 00:06:50.760\nIt's going to encrypt the disk.\n\n133\n00:06:50.760 --> 00:06:53.490\nAnd then seeks this little message\nthat I'm getting right here.\n\n134\n00:06:53.490 --> 00:06:56.200\nThe system needs more random data entropy.\n\n135\n00:06:56.200 --> 00:06:58.800\nSo it partitioned the disk.\n\n136\n00:06:58.800 --> 00:07:00.660\nYou saw it grab /DAB/DA1.\n\n137\n00:07:00.660 --> 00:07:03.270\nIt dropped a file system on it.\n\n138\n00:07:03.270 --> 00:07:04.930\nAnd then it went to encrypt it.\n\n139\n00:07:04.930 --> 00:07:06.960\nWell when it encrypts it it's\ngotta have that master key.\n\n140\n00:07:06.960 --> 00:07:08.930\nIt's gotta use the random data for it.\n\n141\n00:07:08.930 --> 00:07:10.580\nI'm in a virtual machine.\n\n142\n00:07:10.580 --> 00:07:14.180\nVirtual machines are terrible for\nrandom data, so it paused for\n\n143\n00:07:14.180 --> 00:07:17.560\na moment while it generated random\ndata to be able to create that key.\n\n144\n00:07:17.560 --> 00:07:20.393\nOn a physical machine it will happen\nalmost instantaneously because they\n\n145\n00:07:20.393 --> 00:07:23.070\ngenerate random data through\nhardware much, much faster.\n\n146\n00:07:23.070 --> 00:07:26.660\nVirtual machines,\nyou'll see a pause like that.\n\n147\n00:07:26.660 --> 00:07:29.150\nIf I want to encrypt my system,\nthat's the easiest way right there.\n\n148\n00:07:29.150 --> 00:07:30.220\nWe just turn it on.\n\n149\n00:07:31.770 --> 00:07:35.320\nBut what if I want to do\nit after the fact, right.\n\n150\n00:07:35.320 --> 00:07:37.520\nI don't want to encrypt during\nthe install I want to encrypt it later.\n\n151\n00:07:37.520 --> 00:07:42.250\nOr maybe I don't want to encrypt all of my\ndata I just want to encrypt certain data.\n\n152\n00:07:42.250 --> 00:07:44.210\nSo we can enable this encryption.\n\n153\n00:07:44.210 --> 00:07:48.140\nThis lux encryption after the fact,\nand it's not very hard at all.\n\n154\n00:07:48.140 --> 00:07:49.960\nSo I'm gonna take my server here for\nexample.\n\n155\n00:07:49.960 --> 00:07:50.840\nSo I've got this server,\n\n156\n00:07:50.840 --> 00:07:53.285\nwhich I do have the GUI but I'm gonna\nuse the command line for all of this.\n\n157\n00:07:53.285 --> 00:07:55.288\nLUKS doesn't have a good GUI right, so\n\n158\n00:07:55.288 --> 00:07:59.428\nthere's not really any point in trying\nto go through and configure things here.\n\n159\n00:07:59.428 --> 00:08:02.720\nBut in the terminal we can jump in and\nconfigure everything we want,\n\n160\n00:08:02.720 --> 00:08:07.210\nwhich works great on headless servers,\nas well as ones with a GUI like mine.\n\n161\n00:08:07.210 --> 00:08:12.250\nSo, if I have a disk that's\navailable that I want to encrypt,\n\n162\n00:08:12.250 --> 00:08:15.480\nwell, I can enable\nencryption after the fact.\n\n163\n00:08:15.480 --> 00:08:17.550\nIt will erase the drive.\n\n164\n00:08:17.550 --> 00:08:19.670\nWhen you encrypt it,\nyou do have to erase the drive.\n\n165\n00:08:19.670 --> 00:08:22.740\nSo in order to encrypt data that\nI've already got, I would need to\n\n166\n00:08:22.740 --> 00:08:27.940\nback up the data, create the encrypted\nstorage, and then restore the data to it.\n\n167\n00:08:27.940 --> 00:08:31.142\nOr if I have an extra set of hard drives,\nI could always create a separate set of\n\n168\n00:08:31.142 --> 00:08:33.080\nencrypted storage and\njust copy my data over.\n\n169\n00:08:33.080 --> 00:08:36.450\nEither way, but when you encrypt the disk,\nwe do destroy the data.\n\n170\n00:08:36.450 --> 00:08:39.940\nAnd the reason is we don't want residual,\n\n171\n00:08:39.940 --> 00:08:42.160\nunencrypted data laying on the disk,\nright?\n\n172\n00:08:42.160 --> 00:08:43.840\nWe need it to be encrypted and\n\n173\n00:08:43.840 --> 00:08:46.070\nby destroying the data we\ncan ensure that happens.\n\n174\n00:08:46.070 --> 00:08:46.760\nAlright?\n\n175\n00:08:46.760 --> 00:08:52.293\nSo, taking my system for example,\nif I look at my mount points,\n\n176\n00:08:52.293 --> 00:08:56.420\nI have a mount point\nright now /mnt/website.\n\n177\n00:08:56.420 --> 00:08:59.160\nRight, that's where my website is stored.\n\n178\n00:08:59.160 --> 00:09:03.335\nAnd it's coming from /dev/sdb1, right?\n\n179\n00:09:03.335 --> 00:09:06.960\nIt's a EXFS drive, and that's it.\n\n180\n00:09:06.960 --> 00:09:09.830\nIt's just a drive that's got EXFS,\nI'm not even using LVM on it,\n\n181\n00:09:09.830 --> 00:09:11.500\nit's just a straight up disk.\n\n182\n00:09:11.500 --> 00:09:16.040\nAnd that's where my website is stored and\nI want to encrypt that data.\n\n183\n00:09:16.040 --> 00:09:19.950\nI want to make sure that nobody can\ntamper with these files if they steal\n\n184\n00:09:19.950 --> 00:09:22.300\nthe hard drives out or\nif they steal the whole server and\n\n185\n00:09:22.300 --> 00:09:25.700\nmess around with things I wanna make sure\nthat data is safe and intact, all right.\n\n186\n00:09:25.700 --> 00:09:27.190\nAnd I just want to encrypt that.\n\n187\n00:09:27.190 --> 00:09:30.990\nI don't wanna encrypt all of my other\nvolumes, I just wanna encrypt this one.\n\n188\n00:09:30.990 --> 00:09:34.270\nWell, the first thing I need\nto do before I get started\n\n189\n00:09:34.270 --> 00:09:36.620\nis determine whether it's\nalready encrypted or not.\n\n190\n00:09:36.620 --> 00:09:39.830\nMaybe, when somebody set this\nup during the installation,\n\n191\n00:09:39.830 --> 00:09:41.110\nthey've already encrypted it.\n\n192\n00:09:41.110 --> 00:09:41.650\nRight?\n\n193\n00:09:41.650 --> 00:09:45.520\nWell, from the mount output,\nI can't tell if it's encrypted or not.\n\n194\n00:09:45.520 --> 00:09:48.750\nIn fact, in most of the utilities\nthat we've got, you can't tell.\n\n195\n00:09:48.750 --> 00:09:53.940\nIf you do a df -h or whatever,\nit doesn't tell you if it's encrypted.\n\n196\n00:09:53.940 --> 00:09:56.630\nEven if you look in your f stab file or\nwhatever,\n\n197\n00:09:56.630 --> 00:09:59.280\nit doesn't show whether\nit's encrypted there.\n\n198\n00:09:59.280 --> 00:10:00.340\nSo how do we know?\n\n199\n00:10:00.340 --> 00:10:05.200\nWell there's a nice little\nutility which is the block ID.\n\n200\n00:10:05.200 --> 00:10:08.950\nStorage devices are called block devices\nand the block ID command will actually\n\n201\n00:10:08.950 --> 00:10:12.810\ntell us what file system\nthat block device is using.\n\n202\n00:10:12.810 --> 00:10:15.340\nIf it is encrypted, it will tell us.\n\n203\n00:10:15.340 --> 00:10:18.520\nIf it's non-encrypted,\nit will show us the actual file system.\n\n204\n00:10:18.520 --> 00:10:25.066\nAnd so I'm going to run sudo blkid,\nblock ID, for /dev/sdb1.\n\n205\n00:10:25.066 --> 00:10:26.470\nAll right and\n\n206\n00:10:26.470 --> 00:10:31.330\nit's gonna show me right here what\nthe UID of that device is and the type.\n\n207\n00:10:31.330 --> 00:10:32.785\nAnd see how the type has xfs?\n\n208\n00:10:34.050 --> 00:10:38.980\nBecause I can see the file type I know\nit's not encrypted, the file system type.\n\n209\n00:10:38.980 --> 00:10:41.610\nIf it was encrypted it would\nactually say crypto-secure here.\n\n210\n00:10:41.610 --> 00:10:43.180\nIt would let me know\nthat it was encrypted.\n\n211\n00:10:43.180 --> 00:10:46.020\nSo I know that this is\nnot an encrypted volume.\n\n212\n00:10:46.020 --> 00:10:48.130\nI want to encrypt it, right?\n\n213\n00:10:48.130 --> 00:10:52.260\nSo before I really go crazy with\nit I need to back my data up.\n\n214\n00:10:52.260 --> 00:10:59.450\nUnfortunately, I don't have a ton of data\nso I'm gonna do a systemctl stop httpd.\n\n215\n00:10:59.450 --> 00:11:00.158\nIt's my website, right?\n\n216\n00:11:00.158 --> 00:11:03.580\nSo I'm gonna go ahead and\nstop my web service, I'm going to.\n\n217\n00:11:03.580 --> 00:11:09.080\nLet me just make a directory\nhere in my own home folder so\n\n218\n00:11:09.080 --> 00:11:17.110\nthat I can back up my data,\nand there we go.\n\n219\n00:11:18.410 --> 00:11:20.540\nSo I'm just backing up my data so\nI don't lose it.\n\n220\n00:11:20.540 --> 00:11:23.590\nThere's my little index files,\nI don't have anything too crazy there.\n\n221\n00:11:23.590 --> 00:11:26.560\nYou can do a cp-r if you\nwant it to be recursive and\n\n222\n00:11:26.560 --> 00:11:27.750\ngrab sub-folders and all that stuff.\n\n223\n00:11:27.750 --> 00:11:30.670\nBut I'm just backing up my data and\nI'm going to go ahead and\n\n224\n00:11:30.670 --> 00:11:32.170\nunmount that disk right.\n\n225\n00:11:32.170 --> 00:11:35.837\nSo let me unmount /mnt/website, right?\n\n226\n00:11:35.837 --> 00:11:39.363\nWe're going to destroy the data, so\n\n227\n00:11:39.363 --> 00:11:44.310\nI need to unmount it,\nin order to work with that.\n\n228\n00:11:44.310 --> 00:11:48.190\nAnd that means I need to take everything\noffline, so it's not a seamless process.\n\n229\n00:11:48.190 --> 00:11:50.220\nYour end users will see it\nhappening to it after the fact, but\n\n230\n00:11:50.220 --> 00:11:52.460\nhopefully this is part of your\nserver set-up process, and\n\n231\n00:11:52.460 --> 00:11:54.530\nnot something you're doing\nto interrupt the run time.\n\n232\n00:11:54.530 --> 00:11:55.560\n&gt;&gt; Don, real quick question.\n\n233\n00:11:55.560 --> 00:11:59.159\nWe were talking about during\nthe installation that we're encrypting\n\n234\n00:11:59.159 --> 00:12:03.246\nthe entire hard drive from start to finish\neverything is going to be encrypted,\n\n235\n00:12:03.246 --> 00:12:06.242\nthat's why we did a little check and\nits really easy to do.\n\n236\n00:12:06.242 --> 00:12:08.600\nI'm already there anyway and\nmake that happen.\n\n237\n00:12:08.600 --> 00:12:13.006\nWhen were doing it after the fact are we\nstill encrypting entire devices or can we\n\n238\n00:12:13.006 --> 00:12:17.720\ndo volumes like partitions inside of\nthat or does the whole block have to be?\n\n239\n00:12:17.720 --> 00:12:20.190\n&gt;&gt; So you are doing it on volumes, right?\n\n240\n00:12:20.190 --> 00:12:22.880\nSo I'm gonna encrypt \\dev\\sdb1.\n\n241\n00:12:22.880 --> 00:12:27.010\nThere might be a \\dev\\sdb2\nthat I'm not encrypting.\n\n242\n00:12:27.010 --> 00:12:28.750\nNow I can certainly\nturn that on if I want.\n\n243\n00:12:28.750 --> 00:12:31.940\nSo you pick and choose what you want\nto encrypt, but it is done by volume.\n\n244\n00:12:31.940 --> 00:12:35.810\nSo I can't say I'm gonna encrypt just\nthis one folder or just this one file.\n\n245\n00:12:35.810 --> 00:12:38.130\nNo, not using lux, there's other ways.\n\n246\n00:12:38.130 --> 00:12:42.437\nYou could use GPG, or whatever, to encrypt\nindividual files, individual folders.\n\n247\n00:12:42.437 --> 00:12:44.144\nI think TrueCrypt.\n\n248\n00:12:44.144 --> 00:12:46.730\nWell actually TrueCrypt\ncan't do it either.\n\n249\n00:12:46.730 --> 00:12:48.420\nYeah, so\nwith Luxe you're doing a whole volume.\n\n250\n00:12:48.420 --> 00:12:51.710\nBut you might have five different\nvolumes and you might encrypt some and\n\n251\n00:12:51.710 --> 00:12:52.810\nnot encrypt others.\n\n252\n00:12:52.810 --> 00:12:56.390\nI've got other volumes here if\nI just run straight up now.\n\n253\n00:12:56.390 --> 00:13:00.570\nI've got all these other things that\nare mounted like my home folders here.\n\n254\n00:13:00.570 --> 00:13:03.320\nWhich I'm not encrypting right now,\nbut I might want to.\n\n255\n00:13:03.320 --> 00:13:04.440\nAnd I can certainly go back and do that.\n\n256\n00:13:06.250 --> 00:13:09.930\nAlright, so in my case,\nI've just unmounted the disk.\n\n257\n00:13:09.930 --> 00:13:11.980\nAnd now there's something\nimportant I need to do.\n\n258\n00:13:11.980 --> 00:13:15.490\nAlright, this show is only going to be 30\nminutes long, so I can't let this whole\n\n259\n00:13:15.490 --> 00:13:20.780\nthing run, but a good idea, before\nyou encrypt the disk, is to shred it.\n\n260\n00:13:20.780 --> 00:13:23.940\nOkay, now when we talk about shredding\nwe normally talk about actually\n\n261\n00:13:23.940 --> 00:13:25.110\ndestroying the data.\n\n262\n00:13:25.110 --> 00:13:28.910\nBut in the Linux world we have this\nutility called Shred and what it does\n\n263\n00:13:28.910 --> 00:13:33.920\nis it takes all the empty space on\na disk and it writes random data to it.\n\n264\n00:13:33.920 --> 00:13:39.120\nIf you take a disk that had regular data\non it and then a bunch of empty space\n\n265\n00:13:39.120 --> 00:13:43.560\nwhen you encrypt it the regular data gets\nencrypted, and all the empty space shows\n\n266\n00:13:43.560 --> 00:13:46.930\nas empty, and now an attacker can actually\nget an idea of how much data was on that\n\n267\n00:13:46.930 --> 00:13:50.690\ndisk because they can see what actually\nhad data written to it before.\n\n268\n00:13:50.690 --> 00:13:52.730\nThey might not be able to\nsee the data itself, but\n\n269\n00:13:52.730 --> 00:13:54.130\nthey can see how much there was.\n\n270\n00:13:54.130 --> 00:13:56.910\nSo, we want to obfuscate that,\nwe want to make that not possible, and so\n\n271\n00:13:56.910 --> 00:13:58.220\nthe Shred utility will let me do that.\n\n272\n00:13:59.430 --> 00:14:02.790\nIf you run Shred and\nyou do need to sudo this one.\n\n273\n00:14:02.790 --> 00:14:04.560\nSo I'm gonna sudo shred.\n\n274\n00:14:04.560 --> 00:14:08.180\nAnd I'm gonna do a -v,\nwhich makes it show me what's going on.\n\n275\n00:14:08.180 --> 00:14:11.170\nYou probably don't necessarily\nneed to do that in real life land.\n\n276\n00:14:11.170 --> 00:14:13.728\nBut I'm also only gonna run it one time.\n\n277\n00:14:13.728 --> 00:14:17.866\nSo I'm gonna do iterations one, /dev/sdb1.\n\n278\n00:14:17.866 --> 00:14:22.864\nAnd what that's gonna make it\ndo is write random data to every\n\n279\n00:14:22.864 --> 00:14:26.010\nsingle block, all across that disk.\n\n280\n00:14:26.010 --> 00:14:27.580\nAnd I've got a 500 gig disk, and\n\n281\n00:14:27.580 --> 00:14:30.750\nyou're gonna see that it\ntakes a little while, right.\n\n282\n00:14:30.750 --> 00:14:34.090\nI've already written two gigs\nof data to it, I'm 0% complete.\n\n283\n00:14:34.090 --> 00:14:37.950\nSo it's gotta creep along\nall the way up to 500 gigs.\n\n284\n00:14:37.950 --> 00:14:41.920\nBut this is gonna make sure that I've\ngot random data on that disc, so\n\n285\n00:14:41.920 --> 00:14:45.110\nthat when I do encrypt it an attacker\nwill see the whole disc as having\n\n286\n00:14:45.110 --> 00:14:49.130\nbeen written to and have no idea what\nsize my actual data is, all right?\n\n287\n00:14:49.130 --> 00:14:51.370\nNow I'm just gonna interrupt that.\n\n288\n00:14:51.370 --> 00:14:53.460\nIn real life land, I've let that run.\n\n289\n00:14:53.460 --> 00:14:54.390\nLet it run and let it finish.\n\n290\n00:14:54.390 --> 00:14:57.200\nJust know the bigger that your disc is,\nthe longer that's gonna take.\n\n291\n00:14:57.200 --> 00:14:58.280\nAll right.\n\n292\n00:14:58.280 --> 00:15:02.130\nThat's an optional step, but\nit really does improve security so\n\n293\n00:15:02.130 --> 00:15:04.100\nI don't treat it as optional,\nI always do that.\n\n294\n00:15:05.530 --> 00:15:10.138\nAll right, once it's shredded,\nnow we're ready to encrypt the disk.\n\n295\n00:15:10.138 --> 00:15:14.090\nAnd encrypting it is somewhat\nanticlimactic because it just turns right\n\n296\n00:15:14.090 --> 00:15:15.690\non and that's about it.\n\n297\n00:15:15.690 --> 00:15:18.010\nIf we had data on the disk\nit does get destroyed so\n\n298\n00:15:18.010 --> 00:15:20.520\nit's not even going through and\nre-encrypting data that exists.\n\n299\n00:15:20.520 --> 00:15:22.640\nIt's gonna encrypt data\nas it gets written to it.\n\n300\n00:15:22.640 --> 00:15:28.570\nSo I'm gonna run cryptosetup,\nor sorry cryptsetup.\n\n301\n00:15:28.570 --> 00:15:31.910\nJust about everything we do here is gonna\npowered by this cryptsetup command.\n\n302\n00:15:31.910 --> 00:15:35.650\nSo cryptsetup I'm gonna do verbose mode\nagain just so we can see it on camera.\n\n303\n00:15:35.650 --> 00:15:39.399\nBut in real life land I probably\nwouldn't bother with making it verbose.\n\n304\n00:15:39.399 --> 00:15:44.895\nAnd then I'm gonna say, verify passphrase.\n\n305\n00:15:44.895 --> 00:15:47.738\nWhen I encrypt the disc I have\nto give it a pass phrase, and\n\n306\n00:15:47.738 --> 00:15:50.405\nI'm gonna tell it hey prompt me for\nthe pass phrase and\n\n307\n00:15:50.405 --> 00:15:53.270\nmake me enter it twice cause if\nI screw it up I want to know.\n\n308\n00:15:53.270 --> 00:15:55.850\nAnd that way I'm not locked out of my\ndata when I start filling it in there.\n\n309\n00:15:55.850 --> 00:15:57.559\nSo I'm going to tell it to\nverify the pass phrase.\n\n310\n00:15:57.559 --> 00:16:01.493\nAnd then I'm going to tell\nit to do a luxe format.\n\n311\n00:16:01.493 --> 00:16:03.085\nIt's going to erase the disc.\n\n312\n00:16:03.085 --> 00:16:04.642\nI'm going to lose my data.\n\n313\n00:16:04.642 --> 00:16:09.790\nAnd then it's gonna put the luksFormat\non there to make it an encrypted volume.\n\n314\n00:16:09.790 --> 00:16:12.220\nAnd then lastly, I just need to tell\nit who it is that I'm formatting,\n\n315\n00:16:12.220 --> 00:16:14.290\nI'm doing /dev/sdb1.\n\n316\n00:16:14.290 --> 00:16:19.800\nSo when I run that, here's my warning,\nwe're gonna overwrite data irrevocably.\n\n317\n00:16:19.800 --> 00:16:22.560\nIt's gonna be gone and\nthat's the end of it, right?\n\n318\n00:16:22.560 --> 00:16:27.350\nI need to type YES, all capital and\nthen enter in my passphrase.\n\n319\n00:16:27.350 --> 00:16:35.298\nSo I'm gonna punch in what I want my\npassphrase to be and it's really strict.\n\n320\n00:16:35.298 --> 00:16:37.710\nWell, great, so my passwords didn't match.\n\n321\n00:16:37.710 --> 00:16:40.070\nIt's really strict about dictionary\nwords and things like that, so\n\n322\n00:16:40.070 --> 00:16:43.500\nyou do have to make sure you come up with\nsomething at least moderately creative.\n\n323\n00:16:44.800 --> 00:16:47.770\nAnd that means something\nthat you could forget.\n\n324\n00:16:49.010 --> 00:16:50.704\nCome on, tell me I got it right this time.\n\n325\n00:16:50.704 --> 00:16:51.852\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n326\n00:16:51.852 --> 00:16:53.013\n&gt;&gt; All right, so there we go.\n\n327\n00:16:53.013 --> 00:16:54.209\n&gt;&gt; There it is.\n\n328\n00:16:54.209 --> 00:16:56.078\n&gt;&gt; And that's it, it's encrypted.\n\n329\n00:16:56.078 --> 00:16:56.694\n&gt;&gt; Sweet.\n\n330\n00:16:56.694 --> 00:16:59.529\n&gt;&gt; You expect something big,\nyou expect like the matrix,\n\n331\n00:16:59.529 --> 00:17:01.593\ngreen letters going across the screen.\n\n332\n00:17:01.593 --> 00:17:02.858\n&gt;&gt; I want Neo to come out after me.\n\n333\n00:17:02.858 --> 00:17:04.089\n&gt;&gt; I know, is that too much to ask?\n\n334\n00:17:04.089 --> 00:17:05.017\n&gt;&gt; Yeah, I think so.\n\n335\n00:17:05.017 --> 00:17:07.479\n&gt;&gt; Apparently, but anyhow,\nso it is encrypted, right?\n\n336\n00:17:07.479 --> 00:17:10.296\nWhat really happened is,\nthey didn't encrypt anything.\n\n337\n00:17:10.296 --> 00:17:13.981\nIt just laid out this format, this file\nsystem on there and said, all right,\n\n338\n00:17:13.981 --> 00:17:17.553\nfrom now on, whenever you copy data into\nhere it is going to be encrypted and\n\n339\n00:17:17.553 --> 00:17:19.110\nwritten down to the disk.\n\n340\n00:17:19.110 --> 00:17:21.280\nSo the encryption is\nreally an ongoing effort,\n\n341\n00:17:21.280 --> 00:17:23.220\nnot just something that\nhappens all at once.\n\n342\n00:17:23.220 --> 00:17:28.512\nBut it is done, it's in place, and\nnow it's secured, so am I done?\n\n343\n00:17:28.512 --> 00:17:31.080\nNo, there's still a lot of work to do,\nright?\n\n344\n00:17:31.080 --> 00:17:33.030\nBecause I don't have this mounted,\nI don't have it available.\n\n345\n00:17:33.030 --> 00:17:35.320\nI haven't put my data back into it,\nso I've got a lot of work to do.\n\n346\n00:17:35.320 --> 00:17:39.271\nBut before I move any further, it's\nalways a good idea to double check and\n\n347\n00:17:39.271 --> 00:17:41.959\nmake sure it actually did get encrypted,\nright?\n\n348\n00:17:41.959 --> 00:17:46.906\nRemember earlier I ran that block ID\ncommand and when I did the block ID,\n\n349\n00:17:46.906 --> 00:17:51.127\nit showed me that the file system\non the disk was XFS, right?\n\n350\n00:17:51.127 --> 00:17:55.928\nWell, if I run it now,\nI can see that type is crypto LUKS, right?\n\n351\n00:17:55.928 --> 00:17:59.941\nIt's no longer XFS and that's what you're\ngonna see on anything you've encrypted\n\n352\n00:17:59.941 --> 00:18:02.955\nwith luks, it's gonna show as\nCrypto LUKS like that, right?\n\n353\n00:18:02.955 --> 00:18:08.930\n&gt;&gt; It sounds like a 60s vacuum cleaner,\na crypto LUKS [LAUGH] that's weird.\n\n354\n00:18:08.930 --> 00:18:11.635\n&gt;&gt; Probably one of my least favorite\nacronyms, it's really just a mess.\n\n355\n00:18:11.635 --> 00:18:16.152\nBut anyhow, it does work so\nthere it is and it is encrypted.\n\n356\n00:18:16.152 --> 00:18:19.786\nThing about this is,\nI now have an encrypted volume but\n\n357\n00:18:19.786 --> 00:18:24.370\nthe encrypted volume doesn't actually\nhave a file system I can use.\n\n358\n00:18:24.370 --> 00:18:25.978\nI still need to stick\na file system on top of it.\n\n359\n00:18:25.978 --> 00:18:29.130\nSo it was XFS, now it's crypto LUKS.\n\n360\n00:18:29.130 --> 00:18:33.840\nI need to put XFS on it again but\nnot XFS replacing Crypto LUKS,\n\n361\n00:18:33.840 --> 00:18:36.840\nit's XFS on top of crypto LUKS.\n\n362\n00:18:36.840 --> 00:18:40.424\nAnd I don't have to do XFS, I can do\nEXT II, III, or IV, I can do BTRFS.\n\n363\n00:18:40.424 --> 00:18:45.110\nYou can do whatever you want,\nit's just XFS that we normally stick with.\n\n364\n00:18:45.110 --> 00:18:47.030\nThat's gonna be one of my next steps.\n\n365\n00:18:47.030 --> 00:18:51.140\nNow, before I can put a file system on it,\nI need a name to reference it.\n\n366\n00:18:51.140 --> 00:18:53.920\nWell, I've got /dev/sdb1,\n\n367\n00:18:53.920 --> 00:18:58.570\nbut if I make a file system on\n/dev/sdb1 it's gonna unencrypt.\n\n368\n00:18:58.570 --> 00:19:00.583\nIt's gonna replace this file\nsystem type and put it back.\n\n369\n00:19:00.583 --> 00:19:06.475\nSo what I need to do is assign an alias\nthat points to this encrypted volume and\n\n370\n00:19:06.475 --> 00:19:10.090\nthen I can put the file\nsystem on the alias.\n\n371\n00:19:10.090 --> 00:19:11.028\nSo let me show you how to do that.\n\n372\n00:19:11.028 --> 00:19:15.966\nWhat we do is we say, sudo cryptsetup and\n\n373\n00:19:15.966 --> 00:19:20.970\nwe're gonna tell it to do a luksOpen.\n\n374\n00:19:20.970 --> 00:19:23.823\nThat means we're gonna access\nan encrypted volume and\n\n375\n00:19:23.823 --> 00:19:29.030\nit's /dev/sdb1, and\nthen I'm gonna give it an alias.\n\n376\n00:19:29.030 --> 00:19:30.250\nNow this is my website, so\n\n377\n00:19:30.250 --> 00:19:34.300\nI'm gonna give it an alias of website,\nhelps me to remember what the heck it was.\n\n378\n00:19:34.300 --> 00:19:37.039\nAnd when I run that,\nit's gonna ask me for the passphrase.\n\n379\n00:19:37.039 --> 00:19:39.063\nIt needs to be able to\ndecrypt the master key so\n\n380\n00:19:39.063 --> 00:19:40.755\nit can read the content inside of it.\n\n381\n00:19:40.755 --> 00:19:42.050\nNow, I've got to give it a passphrase, and\n\n382\n00:19:42.050 --> 00:19:46.770\nthis'll be my first test to see if I can\nactually remember what my passphrase is.\n\n383\n00:19:46.770 --> 00:19:49.203\nAnd assuming that works,\nit's now connected.\n\n384\n00:19:49.203 --> 00:19:52.290\nAll right, so\nwhat happened in the background?\n\n385\n00:19:52.290 --> 00:19:56.210\nIn the background,\nit created an alias called website\n\n386\n00:19:56.210 --> 00:20:00.040\nthat was pointed at\nthe opened encrypted volume.\n\n387\n00:20:01.160 --> 00:20:02.080\nIf the volume was closed,\n\n388\n00:20:02.080 --> 00:20:04.830\nI wouldn't have been able to\ncreate a map point to it, right?\n\n389\n00:20:04.830 --> 00:20:08.120\nAnd it used the mapper service, so\nif you watched our LVM episode,\n\n390\n00:20:08.120 --> 00:20:09.330\nit's just like LVM.\n\n391\n00:20:09.330 --> 00:20:14.230\nIf I take a look at dev/mapper,\n\n392\n00:20:14.230 --> 00:20:18.260\ninside of there, I'll see a new\nalias called website, right?\n\n393\n00:20:18.260 --> 00:20:22.220\nAnd that alias is pointing\nat the encrypted volume.\n\n394\n00:20:22.220 --> 00:20:29.575\nIf I do a -la, I see website and see, I\nwas pointed to a dynamically mapped disk.\n\n395\n00:20:29.575 --> 00:20:31.250\nDynamically mapped number three,\n\n396\n00:20:31.250 --> 00:20:34.074\nand that's the one that set to\npoint to this luksOpen disk.\n\n397\n00:20:34.074 --> 00:20:37.330\nIf luks closes that disk,\nthis map point no longer works.\n\n398\n00:20:38.340 --> 00:20:40.530\nSo now whenever I interact with the disk,\n\n399\n00:20:40.530 --> 00:20:43.358\nI don't wanna interact\nwith /dev/sdb1 anymore.\n\n400\n00:20:43.358 --> 00:20:45.810\nOnly luks should do that, only cryptsetup.\n\n401\n00:20:46.870 --> 00:20:50.480\nI wanna interact with /dev/mapper/website,\n\n402\n00:20:50.480 --> 00:20:54.310\nthat's what I wanna interact with,\nthat's the open volume.\n\n403\n00:20:54.310 --> 00:21:01.881\nSo I'm gonna drop a file system on that,\nI'll do mkfs.xfs/dev/mapper/website.\n\n404\n00:21:01.881 --> 00:21:05.898\nAnd there it goes and\nnow it's got a file system, exciting.\n\n405\n00:21:05.898 --> 00:21:11.202\nAnd I can mount it, so I'm gonna mount\n/dev/mapper/website, and I'm gonna\n\n406\n00:21:11.202 --> 00:21:16.354\nput it right back to where my original\ndisk was, which was /mount/website.\n\n407\n00:21:18.210 --> 00:21:21.650\nSo the difference there is\nbefore I mounted /dev/sdb1,\n\n408\n00:21:21.650 --> 00:21:24.300\nnow I'm mounting this alias.\n\n409\n00:21:24.300 --> 00:21:29.760\nAnd it's kinda neat, because if we do\na mount and pull up that information,\n\n410\n00:21:29.760 --> 00:21:33.010\nit just shows as being XFS, right?\n\n411\n00:21:33.010 --> 00:21:35.675\nAs far as I'm concerned,\nit's just a regular old XFS drive.\n\n412\n00:21:35.675 --> 00:21:41.085\nBut in reality, it's an alias\nthat's pointing to /dev/sdb1.\n\n413\n00:21:41.085 --> 00:21:45.619\nAnd when we pull up that blkid for\n/dev/sdb1,\n\n414\n00:21:45.619 --> 00:21:50.050\nwhoops, if we spell blkid right,\nthere we go.\n\n415\n00:21:50.050 --> 00:21:52.375\n&gt;&gt; [LAUGH]\n&gt;&gt; We can see that it is still encrypted,\n\n416\n00:21:52.375 --> 00:21:55.426\nso it's an extra layer in between us and\nthat access, all right?\n\n417\n00:21:55.426 --> 00:21:59.492\nBut now that it's there,\nwe can work with it like normal.\n\n418\n00:21:59.492 --> 00:22:01.617\nI can put my website back in there, right?\n\n419\n00:22:01.617 --> 00:22:07.469\nSo I want to copy all of my\nfiles back into /mount/website,\n\n420\n00:22:07.469 --> 00:22:10.300\nI copy those back over.\n\n421\n00:22:10.300 --> 00:22:14.040\nAnd, to an end user, it's seamless at this\npoint, I don't even know it's encrypted.\n\n422\n00:22:14.040 --> 00:22:19.666\nThat, if I take a look at the stuff that's\nin there, there's my index, my test file.\n\n423\n00:22:19.666 --> 00:22:23.824\nIt's all there and it is encrypted,\nI just don't see it.\n\n424\n00:22:23.824 --> 00:22:26.987\nNow, am I done?\n\n425\n00:22:26.987 --> 00:22:30.597\nSort of, it is encrypted,\nI can access it, that's good.\n\n426\n00:22:30.597 --> 00:22:33.840\nBut what's gonna happen\nwhen I reboot my computer?\n\n427\n00:22:33.840 --> 00:22:36.790\nWhen I reboot the computer,\nall this stuff goes away, right?\n\n428\n00:22:36.790 --> 00:22:39.100\nSo normally what I would\ndo is I would go to fstab.\n\n429\n00:22:39.100 --> 00:22:43.270\nAnd inside of fstab, I would add an entry\nin to say, hey, remember this disk.\n\n430\n00:22:43.270 --> 00:22:44.370\nIt exists, it's there, right?\n\n431\n00:22:44.370 --> 00:22:50.380\nSo let's do that, so\nif I edit /etc/fstab and\n\n432\n00:22:50.380 --> 00:22:53.320\nI go in here and\nI'm just gonna insert a new entry.\n\n433\n00:22:53.320 --> 00:22:54.580\nActually, you know what,\nlet me just get rid of that one.\n\n434\n00:22:54.580 --> 00:22:57.390\nThat's from the NFS episode,\nwe don't have that laying around anymore.\n\n435\n00:22:57.390 --> 00:23:00.120\nSo I'm gonna come in here and\njust add a new entry and\n\n436\n00:23:00.120 --> 00:23:04.350\nI'll say that I'm doing\n/dev/mapper/website.\n\n437\n00:23:04.350 --> 00:23:09.000\nAnd I want it to mount to /mnt/website,\nits file system is xfs,\n\n438\n00:23:09.000 --> 00:23:12.430\nwe'll just do all the defaults, right?\n\n439\n00:23:12.430 --> 00:23:15.620\nSo I'm just gonna mount it\njust like anything else, okay?\n\n440\n00:23:15.620 --> 00:23:20.656\nWell, if I reboot right now,\nLUKS is gonna close that drive.\n\n441\n00:23:20.656 --> 00:23:23.420\nAnd it's gonna close it and\nthe drive is encrypted.\n\n442\n00:23:23.420 --> 00:23:29.130\nThe system is gonna boot, and it's gonna\ntry to connect to /dev/mapper/website and\n\n443\n00:23:29.130 --> 00:23:31.360\nit's not gonna exist,\nit's not there, right?\n\n444\n00:23:31.360 --> 00:23:34.821\nSo because it's not there,\nwe don't get access.\n\n445\n00:23:34.821 --> 00:23:37.280\nSo every time I reboot, I lose this.\n\n446\n00:23:37.280 --> 00:23:42.150\nSo there's a separate file where we can\ntell it to unlock disks at boot time.\n\n447\n00:23:43.260 --> 00:23:45.638\nFstab is for mounting the disks.\n\n448\n00:23:45.638 --> 00:23:50.039\nWe have crypttab for\ndoing encrypted disks, so basically,\n\n449\n00:23:50.039 --> 00:23:54.193\nunlocking the master key for\nthose disks when we boot up.\n\n450\n00:23:54.193 --> 00:24:00.297\nSo if we take a look at that,\nso I did vi /etc/fstab,\n\n451\n00:24:00.297 --> 00:24:04.382\nI'm gonna do vi /etc/crypttab.\n\n452\n00:24:04.382 --> 00:24:07.437\nAnd it's likely empty, right?\n\n453\n00:24:07.437 --> 00:24:10.470\nBut notice how it didn't tell me\nnew file created down here, right?\n\n454\n00:24:10.470 --> 00:24:12.110\nThe file existed.\n\n455\n00:24:12.110 --> 00:24:13.300\nI didn't have anything encrypted.\n\n456\n00:24:13.300 --> 00:24:16.840\nIf I'd done an encrypted install,\nI'd already have entries in here for\n\n457\n00:24:16.840 --> 00:24:18.120\nthe other folders.\n\n458\n00:24:18.120 --> 00:24:20.560\n&gt;&gt; So Don, do you just set\nthis up like you do fstab, or\n\n459\n00:24:20.560 --> 00:24:25.000\nis there a certain type of syntax\nthat you're gonna need to use?\n\n460\n00:24:25.000 --> 00:24:27.310\n&gt;&gt; There is a syntax to it,\nand it is different.\n\n461\n00:24:27.310 --> 00:24:31.050\nBecause remember, in fstab,\nyou have the file system type?\n\n462\n00:24:31.050 --> 00:24:32.010\nHere it's LUKS.\n\n463\n00:24:32.010 --> 00:24:34.115\nThere's only one encryption type, so\n\n464\n00:24:34.115 --> 00:24:35.706\nwe don't have [CROSSTALK]\n&gt;&gt; That's easier.\n\n465\n00:24:35.706 --> 00:24:37.910\n&gt;&gt; Well, I should clarify a little bit,\nI guess.\n\n466\n00:24:39.220 --> 00:24:41.630\nRed Hat does have native support for\nTrueCrypt.\n\n467\n00:24:41.630 --> 00:24:45.360\nAnd so you can actually put some options\nin here to mount a TrueCrypt volume at\n\n468\n00:24:45.360 --> 00:24:46.010\nboot time, too.\n\n469\n00:24:46.010 --> 00:24:47.420\nSo it's not just LUKS,\n\n470\n00:24:47.420 --> 00:24:51.130\nbut as far as official support\nfrom Red Hat, it is just LUKS.\n\n471\n00:24:51.130 --> 00:24:52.820\nAnd so\nthis is actually a pretty simple file.\n\n472\n00:24:52.820 --> 00:24:58.680\nThe first thing you do is you specify in\nhere the alias, so my alias was website.\n\n473\n00:24:58.680 --> 00:25:03.250\nAnd then the volume that it's gonna\ncome from, so mine was /dev/sdb1.\n\n474\n00:25:03.250 --> 00:25:07.834\nOkay, if I stop right here,\nwhen I power the computer on, and\n\n475\n00:25:07.834 --> 00:25:11.109\nit boots up, it's gonna hit the crypttab.\n\n476\n00:25:11.109 --> 00:25:12.720\nAnd it's gonna prompt me for\na pass phrase.\n\n477\n00:25:12.720 --> 00:25:14.950\nSo at boot time,\nI'll have to provide a pass phrase.\n\n478\n00:25:14.950 --> 00:25:16.690\nIf you're encrypting your entire disk,\n\n479\n00:25:16.690 --> 00:25:21.090\nincluding where the main root volume is,\nthen you want that.\n\n480\n00:25:21.090 --> 00:25:24.380\nYou wanna be prompted for a pass phrase\nevery time you turn the computer on.\n\n481\n00:25:25.470 --> 00:25:28.750\nBut if this is a server,\nthat can be a bit of a problem, right?\n\n482\n00:25:28.750 --> 00:25:33.400\nAnd so the next thing I can specify\nhere is I can specify a password.\n\n483\n00:25:33.400 --> 00:25:36.060\nAnd actually have the password\nin the crypttab file.\n\n484\n00:25:37.700 --> 00:25:40.370\nNot necessarily the greatest thing,\nbut certainly possible.\n\n485\n00:25:40.370 --> 00:25:47.250\nOr I can specify a hard path that points\nto a file that contains the password.\n\n486\n00:25:47.250 --> 00:25:49.040\nNow you might ask yourself,\nwhy would I do that?\n\n487\n00:25:49.040 --> 00:25:52.260\nAnd the thing is,\nyou might store that password on a SAN, or\n\n488\n00:25:52.260 --> 00:25:53.440\nsomething of that nature.\n\n489\n00:25:53.440 --> 00:25:55.300\nAnd if somebody steals this server and\n\n490\n00:25:55.300 --> 00:25:58.320\nruns out of the building,\nthey no longer have access to that SAN.\n\n491\n00:25:58.320 --> 00:26:01.120\nAnd so they'd no longer have access to\nthat password to be able to decrypt and\n\n492\n00:26:01.120 --> 00:26:01.990\ngain access.\n\n493\n00:26:01.990 --> 00:26:03.100\nAnd so you'd have that protection.\n\n494\n00:26:03.100 --> 00:26:06.040\nSo you can embed the password right here.\n\n495\n00:26:06.040 --> 00:26:08.520\nIf you do,\nyou can either type the password.\n\n496\n00:26:08.520 --> 00:26:12.210\nSo I could type mine,\nthat's the password I used.\n\n497\n00:26:12.210 --> 00:26:15.650\nSo you can type that in, or\nyou can do a path to a file somewhere.\n\n498\n00:26:15.650 --> 00:26:22.190\nSo you might have a SAN file, server1.key\nor whatever, and it's just a text file.\n\n499\n00:26:22.190 --> 00:26:25.250\nAnd in that file all you have is what\nthe password for that volume is.\n\n500\n00:26:25.250 --> 00:26:26.420\nSo that'll work too.\n\n501\n00:26:26.420 --> 00:26:29.220\nBut if you just leave it as empty,\nthen it's gonna prompt us.\n\n502\n00:26:29.220 --> 00:26:31.050\nAnd that's typically what we want.\n\n503\n00:26:31.050 --> 00:26:35.337\nNow you might be encrypting\nthe master disk, your root.\n\n504\n00:26:35.337 --> 00:26:38.610\nAnd then you have ten other\nvolumes that are all encrypted.\n\n505\n00:26:38.610 --> 00:26:40.850\nWell, I don't want a prompt for\nall ten passwords.\n\n506\n00:26:40.850 --> 00:26:45.330\nSo I might put all ten passwords in here,\nor links to files on all ten.\n\n507\n00:26:45.330 --> 00:26:49.710\nAnd the very first one be the root drive\nor where all those other keys are stored.\n\n508\n00:26:49.710 --> 00:26:51.980\nAnd I have to provide that one password.\n\n509\n00:26:51.980 --> 00:26:54.830\nBut once that's done, it can now access\nall the other ones inside of it.\n\n510\n00:26:54.830 --> 00:26:57.410\nSo then I can use one pass phrase\nto protect the whole thing,\n\n511\n00:26:57.410 --> 00:26:58.710\neven though I've got ten volumes.\n\n512\n00:26:58.710 --> 00:27:01.250\nSo couple of different options\non how you wanna handle that.\n\n513\n00:27:01.250 --> 00:27:02.770\nI'm gonna leave mine blank,\nthough, so it will prompt.\n\n514\n00:27:02.770 --> 00:27:06.140\nIf anybody reboots the server,\nit's gonna prompt, all right.\n\n515\n00:27:06.140 --> 00:27:07.980\nSo I'll go ahead and save that.\n\n516\n00:27:07.980 --> 00:27:10.700\nSo now when the system boots up,\nit hits crypttab.\n\n517\n00:27:10.700 --> 00:27:15.460\nIt goes to open sdb1, prompts me for\nthe passphrase, and then it's open.\n\n518\n00:27:15.460 --> 00:27:19.370\nAnd then it hits fstab, and\nit's able to mount it and bring it online.\n\n519\n00:27:19.370 --> 00:27:22.357\nAnd so now, everything's gonna\naccess in the way that we want.\n\n520\n00:27:22.357 --> 00:27:26.188\nAnd we're in business, okay?\n\n521\n00:27:26.188 --> 00:27:29.680\nOnce that's done,\nthat's pretty much all we need there.\n\n522\n00:27:31.140 --> 00:27:34.570\nAs far as cryptsetup is concerned,\nthat's really, well,\n\n523\n00:27:34.570 --> 00:27:36.560\nI guess we can go a little bit further.\n\n524\n00:27:36.560 --> 00:27:39.760\nI might have things like SELinux and stuff\nthat I have to manage for this volume.\n\n525\n00:27:39.760 --> 00:27:41.350\nAnd I do all that stuff like normal.\n\n526\n00:27:41.350 --> 00:27:42.860\nNone of that's really any different.\n\n527\n00:27:42.860 --> 00:27:45.520\nBut I mentioned you could do\nmore than one pass phrase.\n\n528\n00:27:45.520 --> 00:27:47.390\nI've got one pass phrase for me.\n\n529\n00:27:47.390 --> 00:27:49.970\nWhat if I wanna add a pass phrase for\nDaniel, right?\n\n530\n00:27:49.970 --> 00:27:51.550\nSo that's not that hard to do.\n\n531\n00:27:51.550 --> 00:27:53.517\nAll we do is [CROSSTALK]\n&gt;&gt; It's dangerous.\n\n532\n00:27:53.517 --> 00:27:54.999\n[LAUGH]\n&gt;&gt; [LAUGH] It is.\n\n533\n00:27:56.803 --> 00:28:00.210\nRemember, we don't want to just share\none key because it is dangerous, right?\n\n534\n00:28:00.210 --> 00:28:02.770\nYou have an employee who get disgruntled,\nor you let somebody go,\n\n535\n00:28:02.770 --> 00:28:04.820\nyou don't wanna have to go and\nreset all these keys.\n\n536\n00:28:04.820 --> 00:28:08.790\nSo we can use cryptsetup, and\nwe can add more keys, right?\n\n537\n00:28:08.790 --> 00:28:13.089\nSo I can say,\nsudo cryptsetup LuksAddKey, and\n\n538\n00:28:13.089 --> 00:28:15.570\nthen the device that I'm adding a key to.\n\n539\n00:28:15.570 --> 00:28:17.798\nSo I might want to add it to /dev/sdb1.\n\n540\n00:28:17.798 --> 00:28:20.084\nNow it's gonna be mad.\n\n541\n00:28:20.084 --> 00:28:22.348\nI think it's gonna be mad\nbecause I'm mounted right now.\n\n542\n00:28:24.004 --> 00:28:29.838\nLet's see, I'm pretty sure we have to\nunmount this thing, Before we do this.\n\n543\n00:28:31.964 --> 00:28:33.045\nI have no idea what I just typed.\n\n544\n00:28:33.045 --> 00:28:37.741\n&gt;&gt; [LAUGH]\n&gt;&gt; Anyhow, let's see.\n\n545\n00:28:37.741 --> 00:28:39.294\nYou know what?\nActually, I'm doing this wrong, anyway.\n\n546\n00:28:39.294 --> 00:28:40.389\nLet me back up.\n\n547\n00:28:40.389 --> 00:28:44.030\nSo I'm sudo-ing this.\n\n548\n00:28:44.030 --> 00:28:47.560\nTechnically, you don't have to be\na full-blown administrator to do this.\n\n549\n00:28:47.560 --> 00:28:51.960\nAnybody who currently has a pass phrase\ncan add somebody else's pass phrase.\n\n550\n00:28:51.960 --> 00:28:55.240\nIf you have access to the data, you can\ngive somebody else access to the data.\n\n551\n00:28:55.240 --> 00:28:58.580\nSo when I the LuxAddKey,\nthe first thing it's asking me is not for\n\n552\n00:28:58.580 --> 00:29:00.345\nwhat the new phrase is,\nwhich is what I was typing.\n\n553\n00:29:00.345 --> 00:29:03.452\nIt's asking me to enter\nany existing pass phrase.\n\n554\n00:29:03.452 --> 00:29:06.450\nSo anybody who's got a current key,\nthey need to punch that in.\n\n555\n00:29:06.450 --> 00:29:11.140\nSo I'm going to punch in\nwhat my key is there.\n\n556\n00:29:11.140 --> 00:29:15.650\nAnd now it verifies my key, and\nit'll let me add an additional key.\n\n557\n00:29:15.650 --> 00:29:18.430\nNow Red Hat recommends that\nyou do no more than eight.\n\n558\n00:29:18.430 --> 00:29:19.396\nAfter you get past eight keys,\n\n559\n00:29:19.396 --> 00:29:21.076\nit just starts becoming\nreally difficult to manage.\n\n560\n00:29:21.076 --> 00:29:22.630\nAnd LUKS doesn't do so well with it.\n\n561\n00:29:22.630 --> 00:29:24.354\nSo I'm gonna add another one.\n\n562\n00:29:27.813 --> 00:29:29.925\nAnd I'll type it twice.\n\n563\n00:29:32.868 --> 00:29:36.350\nAnd there we go, and what it's\ndoing is it's adding another key.\n\n564\n00:29:36.350 --> 00:29:38.810\nNot adding another key\nto decrypt the disk,\n\n565\n00:29:38.810 --> 00:29:41.820\nadding another key to allow\ndecrypting the master key.\n\n566\n00:29:41.820 --> 00:29:42.858\nSo the master key is the same.\n\n567\n00:29:42.858 --> 00:29:44.892\nIt's this pass phrase that's different.\n\n568\n00:29:44.892 --> 00:29:46.590\nAnd actually it didn't make me dismount,\nso there we go.\n\n569\n00:29:46.590 --> 00:29:50.560\nSo that worked, and\nnow I've got a second key assigned.\n\n570\n00:29:50.560 --> 00:29:51.980\nAnd so now I can give that one to Daniel.\n\n571\n00:29:51.980 --> 00:29:53.280\nHey, Daniel, here's your key.\n\n572\n00:29:53.280 --> 00:29:53.890\nHe's got his.\n\n573\n00:29:53.890 --> 00:29:55.050\nI've got mine.\n\n574\n00:29:55.050 --> 00:30:00.600\nAnd then if we let him go, or whatever,\nthings don't work out, as they tend to do.\n\n575\n00:30:00.600 --> 00:30:05.110\n&gt;&gt; How about I'm temporarily helping out\nwith administrative duties on the disk?\n\n576\n00:30:05.110 --> 00:30:05.880\n&gt;&gt; Yeah.\n&gt;&gt; Yeah.\n\n577\n00:30:05.880 --> 00:30:07.171\n&gt;&gt; Yeah, so that's gonna happen.\n\n578\n00:30:07.171 --> 00:30:07.775\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n579\n00:30:07.775 --> 00:30:09.460\n&gt;&gt; So you're a contractor.\n\n580\n00:30:09.460 --> 00:30:10.690\nYou come in, you do your work.\n\n581\n00:30:10.690 --> 00:30:13.460\nThe contract's over, so\nI just need to remove that access.\n\n582\n00:30:13.460 --> 00:30:18.276\nI can come in, and\nwe just do LuksRemoveKey, right?\n\n583\n00:30:18.276 --> 00:30:21.630\nAnd then we enter the pass\nphrase that we wanna remove.\n\n584\n00:30:21.630 --> 00:30:27.170\nAnd so I punch in his key, and\nthen it's gonna remove that key.\n\n585\n00:30:27.170 --> 00:30:29.209\nThe master key stays the same, but\n\n586\n00:30:29.209 --> 00:30:32.620\nhis key is no longer valid for\ndecrypting the master key.\n\n587\n00:30:32.620 --> 00:30:34.887\nMine is still valid, his is gone, right?\n\n588\n00:30:34.887 --> 00:30:40.490\nSo easy to add keys, and remove keys after\nthe fact, to give people temporary access.\n\n589\n00:30:40.490 --> 00:30:42.879\nSo, all right,\nonce that's done, we're online.\n\n590\n00:30:42.879 --> 00:30:43.958\nWe're in business.\n\n591\n00:30:43.958 --> 00:30:45.530\nWe just treat it like a normal disk.\n\n592\n00:30:45.530 --> 00:30:47.789\nAt this point, we kinda ignore\nthe decryption going on in the background.\n\n593\n00:30:47.789 --> 00:30:52.018\nIt is seamless to us, seamless to\nthe services, and you're in business.\n\n594\n00:30:52.018 --> 00:30:53.272\nThat's effectively LUKS.\n\n595\n00:30:53.272 --> 00:30:57.292\n&gt;&gt; Yeah, and what's cool about it was that\nif you have a pretty good idea of how to,\n\n596\n00:30:57.292 --> 00:31:00.292\nat this point, you should,\nof how to do the disk mounting,\n\n597\n00:31:00.292 --> 00:31:03.138\ncreating volumes,\nall that other good stuff.\n\n598\n00:31:03.138 --> 00:31:07.930\nAll you're doing now is basically adding\nhow to encrypt them on top of that.\n\n599\n00:31:07.930 --> 00:31:09.050\nSo it's just one little thing.\n\n600\n00:31:09.050 --> 00:31:11.341\nIt seems like a lot because it took us 30\nminutes to do this and Don explaining it.\n\n601\n00:31:11.341 --> 00:31:13.450\n&gt;&gt; [LAUGH]\n&gt;&gt; But really he just added one thing,\n\n602\n00:31:13.450 --> 00:31:17.070\nwhich is here's how to encrypt it and\nmake sure that encryption works.\n\n603\n00:31:17.070 --> 00:31:19.370\nPlus all the other stuff you\nalready know about using disk and\n\n604\n00:31:19.370 --> 00:31:20.230\nmanaging file systems.\n\n605\n00:31:20.230 --> 00:31:22.425\nSo pretty simple, not too bad.\n\n606\n00:31:22.425 --> 00:31:24.700\nI thought it was actually gonna be\na whole lot more difficult than it was.\n\n607\n00:31:24.700 --> 00:31:27.230\nDon you made it look very seamless,\nvery easy.\n\n608\n00:31:27.230 --> 00:31:30.580\nSo that being said, I'm looking at our\nclock, you know what else is easy?\n\n609\n00:31:30.580 --> 00:31:32.225\nIs the time has expired.\n\n610\n00:31:32.225 --> 00:31:33.940\n&gt;&gt; [LAUGH]\n&gt;&gt; And it's easy for us to close it down.\n\n611\n00:31:33.940 --> 00:31:38.010\nSo Don, thank you, very much, for\nexplaining encryption on disks for\n\n612\n00:31:38.010 --> 00:31:39.000\nus using LUKS.\n\n613\n00:31:39.000 --> 00:31:42.100\nWe thank you guys for joining us today,\nbut we are ready to sign off.\n\n614\n00:31:42.100 --> 00:31:44.480\nFor ITProTV, I've been your host,\nDaniel Lowrie.\n\n615\n00:31:44.480 --> 00:31:45.395\n&gt;&gt; And I'm Don Pezet.\n\n616\n00:31:45.395 --> 00:31:50.870\n&gt;&gt; We'll see you next time.\n\n617\n00:31:50.870 --> 00:31:53.578\n[MUSIC]\n\n618\n00:31:53.578 --> 00:31:57.260\n&gt;&gt; Thank you for watching ITproTV.\n\n",
          "vimeoId": "193756721"
        },
        {
          "description": "In this episode, Daniel and Don take a look into managing Security-Enhanced Linux or SE-Linux. The goal of this episode is to equip you for working in an SE-Linux environment which includes learning the SE-Linux Modes, checking and changing status, and finally configuring SE-Linux to working with both standard and non-standard services.",
          "length": "2146",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-rhel7-4-2-managing_selinux-112916-PGM.00_35_31_16.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-rhel7-4-2-managing_selinux-112916-PGM.00_35_31_16.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-rhel7-4-2-managing_selinux-112916-PGM.00_35_31_16.Still001-sm.jpg",
          "title": "Managing SELinux",
          "transcript": "WEBVTT\n\n1\n00:00:00.084 --> 00:00:03.115\nWelcome to ITProTV, I'm your host Don-\n&gt;&gt; [CROSSTALK]\n\n2\n00:00:03.115 --> 00:00:04.774\n&gt;&gt; Coming at you live from San Francisco,\n\n3\n00:00:04.774 --> 00:00:05.380\nCalifornia.\n\n4\n00:00:05.380 --> 00:00:06.900\n&gt;&gt; [CROSSTALK]\n\n5\n00:00:06.900 --> 00:00:08.224\n[MUSIC]\n\n6\n00:00:08.224 --> 00:00:11.874\n&gt;&gt; You're watching ITProTV.\n\n7\n00:00:11.874 --> 00:00:13.942\n&gt;&gt; All right, greetings everyone, and\n\n8\n00:00:13.942 --> 00:00:16.470\nwelcome to another great\nepisode of ITProTV.\n\n9\n00:00:16.470 --> 00:00:19.613\nI'm your host Daniel Lowrie,\nand in today's episode,\n\n10\n00:00:19.613 --> 00:00:24.780\nwe are continuing on moving forward on our\nRed Hat Enterprise Linux version 7 series.\n\n11\n00:00:24.780 --> 00:00:27.650\nAnd joining us back for a little more\nof that action, is our good friend and\n\n12\n00:00:27.650 --> 00:00:29.270\nmentor, Mr. Don Pezet.\n\n13\n00:00:29.270 --> 00:00:31.160\nDon, welcome back sir, how's it going?\n\n14\n00:00:31.160 --> 00:00:33.780\n&gt;&gt; It is going great Daniel, I'm actually\nreally excited about this episode,\n\n15\n00:00:33.780 --> 00:00:36.630\nbecause we're gonna be tackling SELinux,\n\n16\n00:00:36.630 --> 00:00:41.060\nwhich is the security enhanced Linux,\nthat's found in Redhat Enterprise Linux.\n\n17\n00:00:41.060 --> 00:00:42.254\n&gt;&gt; I thought it was a myth.\n\n18\n00:00:42.254 --> 00:00:45.290\n[LAUGH]\n&gt;&gt; I know, we've mentioned it in almost\n\n19\n00:00:45.290 --> 00:00:48.030\nevery single stinking episode\nwe filmed on this content.\n\n20\n00:00:48.030 --> 00:00:51.390\nAnd it's because it's such an integral\npart of Red Hat Enterprise Linux.\n\n21\n00:00:51.390 --> 00:00:56.300\nFor those of you who haven't heard of\nSELinux, it's a special security sublayer\n\n22\n00:00:56.300 --> 00:01:00.420\nthat's been added onto the Linux\noperating system, and technically,\n\n23\n00:01:00.420 --> 00:01:01.700\nany distro can use it.\n\n24\n00:01:01.700 --> 00:01:04.285\nBut Red Hat is really the company\nthat pushed it forward and\n\n25\n00:01:04.285 --> 00:01:05.840\neven got it put in place.\n\n26\n00:01:05.840 --> 00:01:11.299\nAnd what it's designed to do is\nto give us fine grained granular\n\n27\n00:01:11.299 --> 00:01:16.254\ncontrol of file access for\npeople and software and so on.\n\n28\n00:01:16.254 --> 00:01:20.794\nIt really improves the way the security\nis managed inside of Linux.\n\n29\n00:01:20.794 --> 00:01:25.089\nThink about traditional Unix\nfile permissions, right?\n\n30\n00:01:25.089 --> 00:01:29.103\nWhen we talk about POSIX file permissions\nand stuff that you have the UGO,\n\n31\n00:01:29.103 --> 00:01:31.637\nthe User, the Group, and the Other, right?\n\n32\n00:01:31.637 --> 00:01:32.462\nLet me get in here,\n\n33\n00:01:32.462 --> 00:01:36.010\nand instead of just rattling on,\nlet me show you guys as an example.\n\n34\n00:01:36.010 --> 00:01:38.890\nLet me get into my website here.\n\n35\n00:01:38.890 --> 00:01:42.610\nAll right, so,\nwhen I look at normal files,\n\n36\n00:01:42.610 --> 00:01:44.620\nthey've got permissions over here, right?\n\n37\n00:01:44.620 --> 00:01:47.180\nAnd you've got the first little bit\nhere that identifies whether we're\n\n38\n00:01:47.180 --> 00:01:48.590\na directory or not.\n\n39\n00:01:48.590 --> 00:01:51.570\nAnd then the next three\nvalues are the user values.\n\n40\n00:01:51.570 --> 00:01:55.660\nWhoever owns this file is the user, and\nthey've got read and write, or read,\n\n41\n00:01:55.660 --> 00:01:57.130\nwrite, and execute, or whatever.\n\n42\n00:01:57.130 --> 00:02:00.880\nThe next block, that's the group, and\nwhat permissions they would have.\n\n43\n00:02:00.880 --> 00:02:04.500\nAnd then everybody else,\nthat's the other, U-G-O.\n\n44\n00:02:04.500 --> 00:02:05.680\nHere's the user.\n\n45\n00:02:05.680 --> 00:02:08.270\nHere's the group, and\nthen the other is everybody else.\n\n46\n00:02:08.270 --> 00:02:11.030\nWell, that only gives me so much control.\n\n47\n00:02:11.030 --> 00:02:11.650\nIt's just one group.\n\n48\n00:02:11.650 --> 00:02:14.890\nIt's just one user, and then there's\neverybody else, and that's it.\n\n49\n00:02:14.890 --> 00:02:17.960\nWhat if I want five groups to have access?\n\n50\n00:02:17.960 --> 00:02:19.340\nWell, I've gotta create five groups.\n\n51\n00:02:19.340 --> 00:02:20.450\nI've gotta create a sixth group.\n\n52\n00:02:20.450 --> 00:02:23.500\nPut the five all in that sixth group,\nand then you get into nesting, and\n\n53\n00:02:23.500 --> 00:02:25.210\nit gets really complex really fast.\n\n54\n00:02:25.210 --> 00:02:28.310\nIt's just not very flexible,\nand if you wanna go per file,\n\n55\n00:02:28.310 --> 00:02:30.000\nit gets even more complex.\n\n56\n00:02:30.000 --> 00:02:33.360\nIt's also limited to just files,\nso it doesn't go beyond that.\n\n57\n00:02:33.360 --> 00:02:38.790\nIf I have ports, or even like virtual\nservices I want people to access,\n\n58\n00:02:38.790 --> 00:02:40.050\nthey don't have file\npermissions like this.\n\n59\n00:02:40.050 --> 00:02:42.560\nSo, it's really limited, but that's okay,\n\n60\n00:02:42.560 --> 00:02:46.800\ncuz this is just how it was designed back\nin the 1970s, a long, long time ago.\n\n61\n00:02:46.800 --> 00:02:48.668\nSecurity needs were different then.\n\n62\n00:02:48.668 --> 00:02:52.580\n&gt;&gt; So, what SELinux does, is it bolts\non on top of all this, and it creates\n\n63\n00:02:52.580 --> 00:02:58.290\nsecurity policies, which are mandatory\naccess controls, or access control lists\n\n64\n00:02:58.290 --> 00:03:03.730\nthat dictate this software is allowed\nto access these things, and that's it.\n\n65\n00:03:03.730 --> 00:03:05.380\nIt's not allowed to access anything else.\n\n66\n00:03:05.380 --> 00:03:08.610\nAnd this user is allowed to access\nthese other things, and that's it,\n\n67\n00:03:08.610 --> 00:03:10.190\nnot allowed to access anything else.\n\n68\n00:03:10.190 --> 00:03:13.390\nAnd you can get extremely\nspecific with it.\n\n69\n00:03:13.390 --> 00:03:14.730\nNow, what is that important?\n\n70\n00:03:14.730 --> 00:03:18.620\nIt's important because if somebody\nhacks into your Red Hat Server, and\n\n71\n00:03:18.620 --> 00:03:22.010\nthey compromise Apache, well,\nif they compromise it, and\n\n72\n00:03:22.010 --> 00:03:26.510\nthat service is run as root, for example,\nwhich it shouldn't be, but if it is,\n\n73\n00:03:27.520 --> 00:03:30.370\nthey now have root access to the whole\nbox, they can access whatever they want.\n\n74\n00:03:30.370 --> 00:03:32.180\nBut in SELinux, I can say, you know what?\n\n75\n00:03:32.180 --> 00:03:33.930\nI don't care if Apache has run its root.\n\n76\n00:03:33.930 --> 00:03:37.452\nThe Apache services only allowed to access\nto these files and folders and that's it.\n\n77\n00:03:37.452 --> 00:03:39.600\nThey're not allowed to\naccess anything else.\n\n78\n00:03:39.600 --> 00:03:40.370\nAnd so now, yes,\n\n79\n00:03:40.370 --> 00:03:45.460\nApache might be fully compromised, but\nthey can't access the rest of the system.\n\n80\n00:03:45.460 --> 00:03:48.870\nWe've kind of jailed,\nwe've restricted each service, or\n\n81\n00:03:48.870 --> 00:03:52.220\neach user to just the little\nareas they're allowed to access.\n\n82\n00:03:52.220 --> 00:03:56.520\nNow, when you install Red Hat Enterprise\nLinux, SELinux is already installed and\n\n83\n00:03:56.520 --> 00:03:57.680\nturned on.\n\n84\n00:03:57.680 --> 00:04:00.830\nAlready there, in all the different\ninstallation modes that we've picked,\n\n85\n00:04:00.830 --> 00:04:05.610\nfrom minimal all the way up to full server\nwith GUI, they're all there, right?\n\n86\n00:04:05.610 --> 00:04:09.120\nAnd if you're just deploying standard\nservices, you can kind of ignore it.\n\n87\n00:04:09.120 --> 00:04:10.950\nYou don't really have to worry about it.\n\n88\n00:04:10.950 --> 00:04:15.180\nBut it won't be long until\nyou customize a service or\n\n89\n00:04:15.180 --> 00:04:19.752\ninstall a non-standard service, and you\nbump into SELinux and stuff doesn't work.\n\n90\n00:04:19.752 --> 00:04:21.830\nRight, let me show you\nwhat that looks like.\n\n91\n00:04:21.830 --> 00:04:25.240\nSo, I've got this folder, /mnt/website.\n\n92\n00:04:25.240 --> 00:04:26.360\nIn some of the other episodes,\n\n93\n00:04:26.360 --> 00:04:29.030\nI have mentioned how I wanna move\nmy website to a different volume.\n\n94\n00:04:29.030 --> 00:04:32.180\nAnd so I've got this one mounted, it's\nactually mounted on an encrypted volume,\n\n95\n00:04:32.180 --> 00:04:34.700\nso I've got this from kinda\npushed off to the side.\n\n96\n00:04:34.700 --> 00:04:39.088\nI wanna put my website here, and\nif I look, I've already got an index.html\n\n97\n00:04:39.088 --> 00:04:44.630\nan test.html, I've got some files\nin there, and that's my website.\n\n98\n00:04:44.630 --> 00:04:48.758\nWell, I need to go and modify Apache\nto treat this as the home directory for\n\n99\n00:04:48.758 --> 00:04:49.500\nmy website.\n\n100\n00:04:49.500 --> 00:04:55.898\nNow normally,\nApache uses /var/www/html, right?\n\n101\n00:04:55.898 --> 00:04:58.790\nThat's where the homepage\nwould normally be.\n\n102\n00:04:58.790 --> 00:05:01.190\nAnd on a default install, it's empty, and\n\n103\n00:05:01.190 --> 00:05:04.850\nit's got these kind of reference\npages that are already there.\n\n104\n00:05:04.850 --> 00:05:10.200\nSo if I do a systemctl start httpd,\n\n105\n00:05:11.460 --> 00:05:14.950\nI can fire it up, and\nlet me get to good old Firefox.\n\n106\n00:05:14.950 --> 00:05:17.700\nAnd I'm gonna browse right to my system.\n\n107\n00:05:17.700 --> 00:05:24.240\n127.0.0.1 and I get this\nRed Hat Enterprise Linux test page, right?\n\n108\n00:05:24.240 --> 00:05:25.530\nThat's what we expect to see.\n\n109\n00:05:25.530 --> 00:05:30.180\nNow, that page, whoops, was not in.\n\n110\n00:05:30.180 --> 00:05:32.040\nThe folder, this folder was empty, right?\n\n111\n00:05:32.040 --> 00:05:33.580\nThere's nothing in here.\n\n112\n00:05:33.580 --> 00:05:37.100\nAnd that's because I just\nhaven't put anything in there.\n\n113\n00:05:37.100 --> 00:05:40.150\nAnd that little default web\npage that we saw, that is just,\n\n114\n00:05:40.150 --> 00:05:44.620\nI believe it's stored somewhere\nin the /lib folder or whatever,\n\n115\n00:05:44.620 --> 00:05:46.630\nit's just kind of a part\nof the Apache install.\n\n116\n00:05:46.630 --> 00:05:51.370\nBut if I copy some actual content\ninto that folder, and I go back, and\n\n117\n00:05:51.370 --> 00:05:55.790\nI try to browse to it, now I get\nDon's Super Awesome Website, right?\n\n118\n00:05:55.790 --> 00:05:59.180\nSo, that's where Apache\nexpects the files to be.\n\n119\n00:05:59.180 --> 00:06:02.430\nIt expects them to be right there, okay?\n\n120\n00:06:02.430 --> 00:06:04.700\nWhat if I wanna move them\nsomewhere else though?\n\n121\n00:06:04.700 --> 00:06:06.890\nWell, I can jump into\nApache's configuration, and\n\n122\n00:06:06.890 --> 00:06:09.410\nI can point to my new folder.\n\n123\n00:06:09.410 --> 00:06:11.444\nSo, I'm gonna remove these files.\n\n124\n00:06:14.157 --> 00:06:14.819\nThere we go.\n\n125\n00:06:14.819 --> 00:06:18.568\nSo, that they only exist in /mnt/website.\n\n126\n00:06:18.568 --> 00:06:19.718\nAnd that's where I wanna point it to.\n\n127\n00:06:19.718 --> 00:06:24.252\nAnd so I'm gonna modify this configuration\nto point to that new location, right,\n\n128\n00:06:24.252 --> 00:06:25.627\nto that ultimate place.\n\n129\n00:06:25.627 --> 00:06:30.879\nSo I'm gonna edit\n/etc/httpd/conf /httpd.com,\n\n130\n00:06:30.879 --> 00:06:36.250\nnice easy name to remember,\nrolls right off the tongue.\n\n131\n00:06:36.250 --> 00:06:39.362\nAnd in here, I'm just gonna go and\nfind the document root.\n\n132\n00:06:39.362 --> 00:06:42.690\nAnd I'm gonna point it to my new folder.\n\n133\n00:06:42.690 --> 00:06:45.548\nNow, where this is gonna\ncause me a problem is\n\n134\n00:06:45.548 --> 00:06:50.730\nthat SELinux is already installed,\nand already doing its job.\n\n135\n00:06:50.730 --> 00:06:58.200\nAnd it's gonna say look, this folder\nright here /var/www/html, that's okay.\n\n136\n00:06:58.200 --> 00:07:02.640\nYou can put a website there if you want,\nbut I'm changing that.\n\n137\n00:07:02.640 --> 00:07:04.630\nSo, what's SELinux gonna do?\n\n138\n00:07:04.630 --> 00:07:06.080\nIt's gonna say that's not okay.\n\n139\n00:07:06.080 --> 00:07:08.570\nThat's not where a website should be, and\n\n140\n00:07:08.570 --> 00:07:11.230\nit's going to be allowed\nto have that access.\n\n141\n00:07:11.230 --> 00:07:12.875\nI do need to change one more spot,\nright here.\n\n142\n00:07:14.072 --> 00:07:16.813\nModify this, and there we go.\n\n143\n00:07:16.813 --> 00:07:21.571\nSo now I'm storing information\nin a non-standard location,\n\n144\n00:07:21.571 --> 00:07:24.545\nand I'm just going to restart Apache.\n\n145\n00:07:24.545 --> 00:07:26.820\nAnd now it's gonna restart.\n\n146\n00:07:26.820 --> 00:07:31.159\nAnd I'm gonna go back to my web browser\nwhere I could easily see my super awesome\n\n147\n00:07:31.159 --> 00:07:33.030\nwebsite a moment ago.\n\n148\n00:07:33.030 --> 00:07:38.740\nAnd now, when I browse to it,\nI get the Red Hat Linux test page, but\n\n149\n00:07:38.740 --> 00:07:40.060\nsurely I misconfigured it.\n\n150\n00:07:40.060 --> 00:07:42.950\nRight, it must be just\ngoing back to the default.\n\n151\n00:07:42.950 --> 00:07:47.190\nNo, it tried to access the file, and it\ngot blocked, and so, what does Apache do?\n\n152\n00:07:47.190 --> 00:07:48.677\nThrows up the test page.\n\n153\n00:07:48.677 --> 00:07:53.891\nIf I add to this a little more,\nIf I try and add to this a little more,\n\n154\n00:07:53.891 --> 00:08:00.807\nso I'm gonna make sure I'm using HTTP, and\nI'm gonna point to test.html Forbidden.\n\n155\n00:08:00.807 --> 00:08:04.069\nYou do not have permission to\naccess/test.html on the server.\n\n156\n00:08:04.069 --> 00:08:04.950\nI don't have access.\n\n157\n00:08:06.060 --> 00:08:06.704\nWell, why is that?\n\n158\n00:08:06.704 --> 00:08:12.140\nThe reason is, not file permissions,\nthe reason is SELinux.\n\n159\n00:08:12.140 --> 00:08:18.110\nApache is trying to access files outside\nof the area that it's normally allowed.\n\n160\n00:08:18.110 --> 00:08:21.150\nThe people at Red Hat already defined\nwhat Apache should be allowed to touch,\n\n161\n00:08:21.150 --> 00:08:24.258\nnow it's trying to touch something that\nit shouldn't, and it gets blocked.\n\n162\n00:08:24.258 --> 00:08:27.711\n&gt;&gt; And Don, does Red Hat define\nthese things as an entity,\n\n163\n00:08:27.711 --> 00:08:31.974\nor are they taking cues from the Linux\ncommunity, as this is normally\n\n164\n00:08:31.974 --> 00:08:37.260\nhow Apache should work and we're just\ngonna start making that the standard.\n\n165\n00:08:37.260 --> 00:08:38.830\n&gt;&gt; So it's kind of both, right?\n\n166\n00:08:38.830 --> 00:08:42.280\nThe community feeds a lot of\nthis into it with Apache,\n\n167\n00:08:42.280 --> 00:08:44.970\nobviously the authors of Apache\nfeed that information back.\n\n168\n00:08:44.970 --> 00:08:46.970\nAnd that's where a lot of it comes from.\n\n169\n00:08:46.970 --> 00:08:51.000\nBut Red Hat is really kind of the number\none source of information on this stuff,\n\n170\n00:08:51.000 --> 00:08:53.550\nso they contribute a ton\nas part of the community.\n\n171\n00:08:53.550 --> 00:08:55.917\nSo that's Kind of a circular.\n\n172\n00:08:55.917 --> 00:08:57.080\n[CROSSTALK] Process yeah.\n\n173\n00:08:57.080 --> 00:09:00.061\n&gt;&gt; So if I go to if I'm not\nusing Red Hat god forbid, right,\n\n174\n00:09:00.061 --> 00:09:01.650\nyou know want to do that.\n\n175\n00:09:01.650 --> 00:09:05.678\nBut if I wasn't, I was on a different\ndistribution I might find SELinux working\n\n176\n00:09:05.678 --> 00:09:10.270\ndifferently as far as just for\nthe sake of an argument Apache?\n\n177\n00:09:10.270 --> 00:09:11.464\n&gt;&gt; You might.\n\n178\n00:09:11.464 --> 00:09:12.464\nTypically you don't though.\n\n179\n00:09:12.464 --> 00:09:14.323\n&gt;&gt; Right.\n&gt;&gt; Because SELinux is standardized.\n\n180\n00:09:14.323 --> 00:09:15.270\n&gt;&gt; Okay.\n&gt;&gt; And so\n\n181\n00:09:15.270 --> 00:09:17.708\nusually if you have SELinux\ndeployed on different distros.\n\n182\n00:09:17.708 --> 00:09:19.510\nUnless that distro chose to modify it,\n\n183\n00:09:19.510 --> 00:09:21.660\nit should function the same\nway as it does on Red Hat.\n\n184\n00:09:21.660 --> 00:09:24.790\nBut understand that Red Hat is really\nwhere the primary development of this\n\n185\n00:09:24.790 --> 00:09:25.660\nstuff is happening.\n\n186\n00:09:25.660 --> 00:09:26.470\n&gt;&gt; Okay.\n\n187\n00:09:26.470 --> 00:09:28.650\n&gt;&gt; All right.\nSo what do I do to fix this?\n\n188\n00:09:28.650 --> 00:09:29.730\nHow do I fix it?\n\n189\n00:09:29.730 --> 00:09:33.150\nWell this is the important part\nthat we need to understand.\n\n190\n00:09:33.150 --> 00:09:36.120\nYou can find countless\ntutorials on the Internet.\n\n191\n00:09:36.120 --> 00:09:39.765\nTons of postings where people say,\nhere's how you disable SELinux.\n\n192\n00:09:39.765 --> 00:09:42.390\n&gt;&gt; [LAUGH]\n&gt;&gt; It's maddening the amount\n\n193\n00:09:42.390 --> 00:09:43.080\nof times you see it.\n\n194\n00:09:43.080 --> 00:09:48.940\nAnd it's so frustrating because it only\ntakes a minute to learn how SELinux works\n\n195\n00:09:48.940 --> 00:09:52.640\nand get it put in place to be able to\ntake advantage of it and really benefit.\n\n196\n00:09:52.640 --> 00:09:55.020\nWe want this kind of protection.\n\n197\n00:09:55.020 --> 00:09:57.750\nYou don't want somebody being able\nto compromise one process and\n\n198\n00:09:57.750 --> 00:09:59.760\nfrom there compromise\nthe whole rest of the system.\n\n199\n00:09:59.760 --> 00:10:02.510\nWe want to keep people\ncompartmentalized as much as possible.\n\n200\n00:10:02.510 --> 00:10:05.890\nAnd disabling SELinux is\nnot the way to do it.\n\n201\n00:10:05.890 --> 00:10:08.370\nAll right, so I'm just gonna\nput that one out of my mind.\n\n202\n00:10:08.370 --> 00:10:10.660\nI don't even wanna really tackle that one.\n\n203\n00:10:10.660 --> 00:10:15.660\nYou should already be enforcing with\nSELinux and you should be doing it sharp.\n\n204\n00:10:15.660 --> 00:10:17.840\nAnd if I have something like this\nwhere I wanna move a folder,\n\n205\n00:10:17.840 --> 00:10:18.950\nI just need to fix it.\n\n206\n00:10:18.950 --> 00:10:22.080\nIt's not that hard to fix it, and\nthen we can go on with our lives and\n\n207\n00:10:22.080 --> 00:10:23.050\neverything works fine, right?\n\n208\n00:10:23.050 --> 00:10:24.590\nSo let's run through that process.\n\n209\n00:10:24.590 --> 00:10:28.940\nFirst off, how do I know that SELinux is\neven running in the first place, right?\n\n210\n00:10:28.940 --> 00:10:30.140\nMaybe it's not even running.\n\n211\n00:10:30.140 --> 00:10:31.315\n&gt;&gt; You ask the computer.\n\n212\n00:10:31.315 --> 00:10:32.193\n&gt;&gt; You certainly could.\n\n213\n00:10:32.193 --> 00:10:35.150\nIt'd be like a Star Trek movie, computer?\n\n214\n00:10:36.320 --> 00:10:39.470\nAnyhow, we had the sestatus command.\n\n215\n00:10:39.470 --> 00:10:42.570\nIf you run sestatus, it'll tell you\nwhether you're running SELinux or not.\n\n216\n00:10:42.570 --> 00:10:43.970\nYou are, right?\n\n217\n00:10:43.970 --> 00:10:45.220\nBut it might be disabled.\n\n218\n00:10:45.220 --> 00:10:47.700\nWhen I look at mine,\nSELinux status is enabled.\n\n219\n00:10:47.700 --> 00:10:48.370\nIt's running.\n\n220\n00:10:48.370 --> 00:10:50.850\nRight, so\nthat's the main thing that I care about.\n\n221\n00:10:50.850 --> 00:10:53.670\nIt shows where some of the config files\nare, its root directory and so on.\n\n222\n00:10:53.670 --> 00:10:56.230\nBut the main thing I care\nabout is that it's enabled.\n\n223\n00:10:56.230 --> 00:11:00.115\nAnd then what is the current mode?\n\n224\n00:11:00.115 --> 00:11:02.820\nSELinux actually has three modes.\n\n225\n00:11:02.820 --> 00:11:05.832\nDisable is one of them, right, so\ndisable is not doing anything.\n\n226\n00:11:05.832 --> 00:11:10.358\nAnd then after that, you have\nenforcing and permissive, all right?\n\n227\n00:11:10.358 --> 00:11:12.650\nEnforcing is where you wanna be.\n\n228\n00:11:12.650 --> 00:11:16.780\nThat means that SELinux is monitoring\nall software on the system.\n\n229\n00:11:16.780 --> 00:11:19.880\nAnd if any software tries to\ndeviate from the allowed policy,\n\n230\n00:11:19.880 --> 00:11:20.950\nit gets blocked, right?\n\n231\n00:11:20.950 --> 00:11:22.940\nSo enforcing is what we want.\n\n232\n00:11:22.940 --> 00:11:25.060\nBut there is another\nmode called permissive.\n\n233\n00:11:25.060 --> 00:11:28.890\nAnd in Permissive it says, we're gonna\nmonitor all software and if a process\n\n234\n00:11:28.890 --> 00:11:32.880\ntries to do something it's not allowed,\nwe're gonna log it, and that's it.\n\n235\n00:11:32.880 --> 00:11:36.520\nWe'll let it do it, we'll let it break the\nrules, but we're gonna crate a log entry.\n\n236\n00:11:36.520 --> 00:11:39.820\nAll right, and you might ask yourself\nwhy the heck would I want that?\n\n237\n00:11:39.820 --> 00:11:43.540\nAnd the answer is, you might be\ndeploying nonstandard software.\n\n238\n00:11:43.540 --> 00:11:46.140\nMaybe, I've got some software that I'm\ndeploying that doesn't match the standard.\n\n239\n00:11:46.140 --> 00:11:48.910\nOr, like what I'm doing here, with Apache.\n\n240\n00:11:48.910 --> 00:11:50.720\nApache is standard software.\n\n241\n00:11:50.720 --> 00:11:54.110\nBut I'm storing my web files\nsomewhere that's not standard, right?\n\n242\n00:11:54.110 --> 00:11:57.430\nSo I might need to run some tests and\n\n243\n00:11:57.430 --> 00:12:00.530\nfigure out what's getting blocked,\nand permissive mode lets me do that.\n\n244\n00:12:00.530 --> 00:12:02.350\nI can run some tests,\nI can figure out what's getting blocked,\n\n245\n00:12:02.350 --> 00:12:04.970\nand then I can update the policy\nto reflect that, right?\n\n246\n00:12:06.010 --> 00:12:08.480\nBut let's just assume that it\nis completely standard, right?\n\n247\n00:12:08.480 --> 00:12:10.140\nThis is standard software.\n\n248\n00:12:10.140 --> 00:12:12.930\nI can stay in enforcing and\nthen I can go in and\n\n249\n00:12:12.930 --> 00:12:16.530\nI can tell it to allow Apache to access\nthe content that I wanted to access.\n\n250\n00:12:16.530 --> 00:12:20.810\nSo the way we do that\nis we come through and\n\n251\n00:12:20.810 --> 00:12:24.210\nI'll run through it two different ways,\nright?\n\n252\n00:12:24.210 --> 00:12:25.250\nSo if I do it the standard way,\n\n253\n00:12:25.250 --> 00:12:29.900\nif it's like Apache, I can just\ntell the system, hey, /mnt/website.\n\n254\n00:12:29.900 --> 00:12:31.230\nThat's actually an okay place.\n\n255\n00:12:31.230 --> 00:12:33.420\nIt's okay for you to put web files there.\n\n256\n00:12:33.420 --> 00:12:36.000\nAnd then it will be able\nto access that system.\n\n257\n00:12:36.000 --> 00:12:37.950\nSo if we wanna go that route,\n\n258\n00:12:37.950 --> 00:12:42.000\nyou can change to what's called\nthe context of that folder.\n\n259\n00:12:42.000 --> 00:12:44.110\nAnd let's talk a little\nbit about that context.\n\n260\n00:12:44.110 --> 00:12:50.040\nIf I do a ls -la of /var/www, right?\n\n261\n00:12:50.040 --> 00:12:52.730\nYou can see the HTML\nfolder right there and\n\n262\n00:12:52.730 --> 00:12:54.350\nthe permissions that are assigned on it.\n\n263\n00:12:54.350 --> 00:12:57.940\nRoot has access and we've got the various\nread write and execute, read and\n\n264\n00:12:57.940 --> 00:12:59.360\nexecute permissions.\n\n265\n00:12:59.360 --> 00:13:05.930\nIf I take a look at /mnt and\nlook at my website folder, right?\n\n266\n00:13:05.930 --> 00:13:09.582\nRoot's got ownership and I've got\nread write access, read and execute.\n\n267\n00:13:09.582 --> 00:13:11.480\nThey're identical.\n\n268\n00:13:11.480 --> 00:13:13.710\nEverything should be fine,\nthe permissions are identical.\n\n269\n00:13:13.710 --> 00:13:15.230\nOne works, one doesn't.\n\n270\n00:13:15.230 --> 00:13:19.283\nWell if you run ls -laZ, a capital Z,\n\n271\n00:13:19.283 --> 00:13:25.490\nthat says show me the SELinux\nsecurity context.\n\n272\n00:13:25.490 --> 00:13:30.730\nAnd when I take a look at /var/www,\nand I find that html folder.\n\n273\n00:13:30.730 --> 00:13:33.556\nLook at this extra data that\nI've got right here, okay?\n\n274\n00:13:33.556 --> 00:13:37.980\nIt's a system object, and\n\n275\n00:13:37.980 --> 00:13:43.290\nit's tied to httpd_sys_content_t, right?\n\n276\n00:13:43.290 --> 00:13:45.490\nThat's the enforcement type.\n\n277\n00:13:45.490 --> 00:13:50.270\nAnd it's set up to support Apache, httpd.\n\n278\n00:13:50.270 --> 00:13:51.870\nThat's what I want.\n\n279\n00:13:51.870 --> 00:14:00.090\nIf I do that same thing from my website\nfolder, it just shows as unlabeled.\n\n280\n00:14:00.090 --> 00:14:03.930\nAnd who's allowed to access\nunlabeled by default?\n\n281\n00:14:03.930 --> 00:14:04.830\nNobody.\n&gt;&gt; [LAUGH]\n\n282\n00:14:04.830 --> 00:14:05.750\n&gt;&gt; No services.\n\n283\n00:14:05.750 --> 00:14:09.170\nAs a user I can interact with\nit interactively, or directly.\n\n284\n00:14:09.170 --> 00:14:11.910\nBut as a service,\nservices are not allowed to access it.\n\n285\n00:14:11.910 --> 00:14:13.760\nSo Apache's not allowed, right.\n\n286\n00:14:13.760 --> 00:14:18.360\nThat's the difference is that label,\nthat security context.\n\n287\n00:14:18.360 --> 00:14:21.300\nI need to change that context\nif I want Apache to have\n\n288\n00:14:21.300 --> 00:14:24.670\naccess to be able to work with it,\nand so I can do that right from here.\n\n289\n00:14:24.670 --> 00:14:25.750\nAll right.\n\n290\n00:14:25.750 --> 00:14:29.952\nNow if I wanna change the context on it,\nall I have to do is come through and\n\n291\n00:14:29.952 --> 00:14:34.160\nspecify that this is okay,\nthis is something that I want.\n\n292\n00:14:34.160 --> 00:14:39.930\nSo I'm gonna say, chcon,\nI'm gonna change the context and\n\n293\n00:14:39.930 --> 00:14:45.160\nI'm gonna do a dash rv, the dash r,\nthat means do it recursively.\n\n294\n00:14:45.160 --> 00:14:47.145\nDon't just change the context\nof the folder but\n\n295\n00:14:47.145 --> 00:14:48.489\ndo all of the files inside of it.\n\n296\n00:14:48.489 --> 00:14:49.674\nAnd the v is verbose.\n\n297\n00:14:49.674 --> 00:14:51.859\nI normally wouldn't do the verbose,\nI'm doing it here on the show so\n\n298\n00:14:51.859 --> 00:14:52.810\nyou guys can see what it does.\n\n299\n00:14:52.810 --> 00:14:54.494\nIt'll list each file that it hits.\n\n300\n00:14:54.494 --> 00:14:56.990\nIf you don't do the v,\nit just doesn't show the files.\n\n301\n00:14:56.990 --> 00:15:01.121\nAnd then, I'm gonna say\n\n302\n00:15:01.121 --> 00:15:09.600\n--type=httpd_sys_content_t /website.\n\n303\n00:15:09.600 --> 00:15:14.590\nNow, how did I know to\ndo httpd sys content t?\n\n304\n00:15:14.590 --> 00:15:18.880\nWell, I looked at the existing folder and\nI saw what context it had.\n\n305\n00:15:20.040 --> 00:15:22.875\nThis is Apache,\nit's already got a context.\n\n306\n00:15:22.875 --> 00:15:25.948\nMySQL or MariaDB,\nthey've already got a context.\n\n307\n00:15:25.948 --> 00:15:29.665\nJust look at their existing folder,\nand wherever you're moving data to, or\n\n308\n00:15:29.665 --> 00:15:32.245\nyou're trying to grant them access,\njust set it to the same content app,\n\n309\n00:15:32.245 --> 00:15:33.135\nevery easy, right?\n\n310\n00:15:33.135 --> 00:15:36.325\n&gt;&gt; Is there a master list of labels or\ncontents?\n\n311\n00:15:36.325 --> 00:15:40.330\n&gt;&gt; There is, it's incredibly unuseful.\n\n312\n00:15:40.330 --> 00:15:43.035\n&gt;&gt; [LAUGH]\n&gt;&gt; Well, if you think about it, right?\n\n313\n00:15:43.035 --> 00:15:46.060\nSo, I've got Apache, let me go to\nthis master list and look it up.\n\n314\n00:15:46.060 --> 00:15:47.590\nIf you search for Apache,\nyou won't find it.\n\n315\n00:15:47.590 --> 00:15:50.028\nYou gotta search for httpd,\ngotta know the service name.\n\n316\n00:15:50.028 --> 00:15:53.556\nAnd that does vary from distro to distro,\nso I usually don't use it.\n\n317\n00:15:53.556 --> 00:15:56.500\nSo I don't actually know the URL, but\nif you go to Red Hat's documentation,\n\n318\n00:15:56.500 --> 00:15:58.606\nthey do have a master list\nof all the security context.\n\n319\n00:15:58.606 --> 00:16:01.445\nAnd there's actually,\nthere's like a command that I don't know.\n\n320\n00:16:01.445 --> 00:16:03.333\nBut it will actually\nlist all of the context,\n\n321\n00:16:03.333 --> 00:16:04.883\nbecause there are hundreds of them.\n\n322\n00:16:04.883 --> 00:16:07.620\n&gt;&gt; It's where our favorite search\nengine comes into play [LAUGH]\n\n323\n00:16:07.620 --> 00:16:08.485\n&gt;&gt; I don't even do that though,\n\n324\n00:16:08.485 --> 00:16:11.100\ncuz you can just look at\nthe existing folders, right?\n\n325\n00:16:11.100 --> 00:16:11.690\n&gt;&gt; It doesn't make sense.\n\n326\n00:16:11.690 --> 00:16:14.850\n&gt;&gt; When you install a service,\nit will create folders,\n\n327\n00:16:14.850 --> 00:16:17.140\nyou're working with the service,\nyou should know where those folders are.\n\n328\n00:16:17.140 --> 00:16:19.150\nJust look at any one of\nthe existing folders, and\n\n329\n00:16:19.150 --> 00:16:21.050\nyou got the context right there.\n\n330\n00:16:21.050 --> 00:16:23.212\nJust assign that context\nto wherever you're going.\n\n331\n00:16:23.212 --> 00:16:24.240\nSo, you don't have to look anything up.\n\n332\n00:16:24.240 --> 00:16:25.440\nIt's all right there and self-contained.\n\n333\n00:16:25.440 --> 00:16:26.400\nThat's what I do.\n\n334\n00:16:26.400 --> 00:16:29.140\nSo, that makes it really easy for\nstandard services.\n\n335\n00:16:29.140 --> 00:16:31.000\nI'll talk about non standard\nservices in a minute.\n\n336\n00:16:31.000 --> 00:16:32.936\nSo on this one,\nI didn't have to look up anything.\n\n337\n00:16:32.936 --> 00:16:38.480\nI knew to do, httpd sys content t,\nbecause that's what Apache was already\n\n338\n00:16:38.480 --> 00:16:43.593\nusing in /var/www.html, so\nI'm just gonna use that same thing.\n\n339\n00:16:43.593 --> 00:16:50.506\nAnd as soon as I assign that,\noops, sorry, /mnt/website.\n\n340\n00:16:50.506 --> 00:16:51.349\nThat'll make a difference.\n\n341\n00:16:51.349 --> 00:16:51.933\n&gt;&gt; Very important.\n\n342\n00:16:51.933 --> 00:16:54.520\n&gt;&gt; And because I did the -v,\nI can see it reset each one.\n\n343\n00:16:54.520 --> 00:16:57.240\nIt did the individual files\nas well as the website.\n\n344\n00:16:57.240 --> 00:17:04.700\nAnd so now, when I pull up,\nan ls-laz, and I take a look,\n\n345\n00:17:04.700 --> 00:17:09.850\nI can see where that security context\nis set for the website, all right?\n\n346\n00:17:09.850 --> 00:17:13.590\nAnd from there, I can jump back to my web\nbrowser where I got a forbidden a moment\n\n347\n00:17:13.590 --> 00:17:16.750\nago, and\nnow I get Don's Super Awesome Test Site.\n\n348\n00:17:16.750 --> 00:17:17.890\nNow it works, right?\n\n349\n00:17:17.890 --> 00:17:20.210\nI gave Apache access to that folder.\n\n350\n00:17:20.210 --> 00:17:24.731\nWhat I really did is I added\nthat folder to Apache's policy.\n\n351\n00:17:24.731 --> 00:17:27.270\nI didn't really change Apache,\nand I didn't change the policy.\n\n352\n00:17:27.270 --> 00:17:29.090\nI changed the folder, right?\n\n353\n00:17:29.090 --> 00:17:31.280\nOr the individual file.\n\n354\n00:17:31.280 --> 00:17:33.020\nYou can really get specific if you want.\n\n355\n00:17:33.020 --> 00:17:35.380\nI want them to have\naccess to this one file.\n\n356\n00:17:35.380 --> 00:17:38.220\nAnd by adding it to that policy,\nnow it works.\n\n357\n00:17:38.220 --> 00:17:39.910\nI didn't have to turn off SELinux,\n\n358\n00:17:39.910 --> 00:17:42.950\nI didn't even have to go digging\nthrough logs or anything.\n\n359\n00:17:42.950 --> 00:17:45.280\nI just said, hey, I'm adding this folder.\n\n360\n00:17:45.280 --> 00:17:47.880\nThis is not a normal folder,\nI just need to go and change the context.\n\n361\n00:17:47.880 --> 00:17:50.390\nAs simple as that, and there we go.\n\n362\n00:17:50.390 --> 00:17:53.620\nSo all those people that are saying,\nwell, step one disable Sem-Linux.\n\n363\n00:17:53.620 --> 00:17:55.895\nYou need to say step one,\nclose this webpage.\n\n364\n00:17:55.895 --> 00:17:56.480\n&gt;&gt; [LAUGH] Yeah.\n\n365\n00:17:56.480 --> 00:17:57.390\n&gt;&gt; That's the first thing I do.\n\n366\n00:17:57.390 --> 00:17:59.870\nWhen I see somebody post that, I'm like,\nall right, this guy's an idiot.\n\n367\n00:17:59.870 --> 00:18:01.785\nSo, let me just move on\nto a different blog post.\n\n368\n00:18:01.785 --> 00:18:02.980\n&gt;&gt; [LAUGH]\n&gt;&gt; So,\n\n369\n00:18:02.980 --> 00:18:06.840\nthat's a problem with-\n&gt;&gt; Get Googling for solutions sometimes.\n\n370\n00:18:06.840 --> 00:18:10.050\n&gt;&gt; But that right there, what I just\nshowed you, that works great for\n\n371\n00:18:10.050 --> 00:18:11.000\nstandard services.\n\n372\n00:18:11.000 --> 00:18:14.680\nAnd if you're in the standard services\nworld, then perfect, that's it, you just\n\n373\n00:18:14.680 --> 00:18:17.930\nlearned everything you need to know about\nSE Linux, and you're done, all right?\n\n374\n00:18:17.930 --> 00:18:21.950\nWhere it starts to get a little on\nthe hairy side are non-standard services.\n\n375\n00:18:21.950 --> 00:18:28.250\nLet's say that I've written my\nown home-grown custom Apache.\n\n376\n00:18:28.250 --> 00:18:32.890\nOr it's just some other program\nthat we build in-house that has no\n\n377\n00:18:32.890 --> 00:18:36.880\nstandard security context\nthat I can piggy back off of.\n\n378\n00:18:36.880 --> 00:18:38.200\nNow things get a little more difficult.\n\n379\n00:18:38.200 --> 00:18:42.950\nBut, even still, it's not that hard,\ndon't disable SE Linux,\n\n380\n00:18:42.950 --> 00:18:44.230\nwhich a lot of people do.\n\n381\n00:18:44.230 --> 00:18:46.808\nAll right, well, I wrote my own software\nso, screw it, I'll just turn off SE Linux.\n\n382\n00:18:46.808 --> 00:18:50.510\nBut let me show you how you can\nwrite a custom security policy, and\n\n383\n00:18:50.510 --> 00:18:53.347\nyou don't even have to know\na single line of code.\n\n384\n00:18:53.347 --> 00:18:55.110\nThere's a couple of utilities that\nare built right in there that\n\n385\n00:18:55.110 --> 00:18:55.738\nmake this super easy.\n\n386\n00:18:55.738 --> 00:18:59.460\nSo, here's what I'm gonna do.\n\n387\n00:18:59.460 --> 00:19:04.030\nI'm gonna reset my mnt folder here, so\nI used, let me pull the line back up.\n\n388\n00:19:04.030 --> 00:19:06.470\nI use chcon to change the context, and\n\n389\n00:19:06.470 --> 00:19:08.370\nI set that folder to have\na standard context, right?\n\n390\n00:19:08.370 --> 00:19:11.350\nSo, I'm gonna undo that change.\n\n391\n00:19:11.350 --> 00:19:14.686\nAnd I'm gonna go in here, and\n\n392\n00:19:14.686 --> 00:19:19.620\nI'm gonna say, restore -Rv, right?\n\n393\n00:19:19.620 --> 00:19:24.040\nAnd this is gonna restore the context of\nthat folder back to the default context.\n\n394\n00:19:24.040 --> 00:19:27.590\nWell, the default context is nothing.\n\n395\n00:19:27.590 --> 00:19:28.510\nThere was no default label.\n\n396\n00:19:28.510 --> 00:19:29.990\nSee the warnings that are coming up?\n\n397\n00:19:29.990 --> 00:19:34.120\nAnd so, it's gonna put it back to what\nshould just be the regular user one.\n\n398\n00:19:34.120 --> 00:19:38.430\nAnd I say should, so\nlet's verify that that is what happened.\n\n399\n00:19:38.430 --> 00:19:42.100\nAnd sure enough, it's back to just being,\nactually, you know what?\n\n400\n00:19:42.100 --> 00:19:44.210\nIt set it to mount,\nbecause I had a mount folder there.\n\n401\n00:19:44.210 --> 00:19:46.340\nSo, it actually switched\nto a different context.\n\n402\n00:19:46.340 --> 00:19:49.150\nDo you see all the other\nmount folders had that one?\n\n403\n00:19:49.150 --> 00:19:51.670\nSo because it's been mounted,\nbut I'm okay with that.\n\n404\n00:19:51.670 --> 00:19:56.047\nAnd if I look inside of website,\nthose guys stayed httpd, so\n\n405\n00:19:56.047 --> 00:19:57.730\nthat's not what I want.\n\n406\n00:19:57.730 --> 00:19:58.350\nLets do this.\n\n407\n00:19:58.350 --> 00:20:04.330\nI am going to delete those files,\n\n408\n00:20:04.330 --> 00:20:09.140\nI guess I could manually reset it,\nbut it will be faster at this point.\n\n409\n00:20:09.140 --> 00:20:14.495\nIf I just remove those files, yeah,\nyeah, oops [LAUGH] we're going to make\n\n410\n00:20:14.495 --> 00:20:20.853\nthis as hard as possible, so I'm just\ngoing to get rid of those and then I will.\n\n411\n00:20:20.853 --> 00:20:26.030\nCopy my little backup\nright back into here.\n\n412\n00:20:26.030 --> 00:20:29.250\nNow, when I do that, I'm copying files.\n\n413\n00:20:29.250 --> 00:20:31.140\nAnd when you copy files,\n\n414\n00:20:31.140 --> 00:20:34.990\nthey inherit the context type of\nthe folder they're being copied into.\n\n415\n00:20:34.990 --> 00:20:38.129\nAnd so these guys now have mnt_t.\n\n416\n00:20:38.129 --> 00:20:40.513\nHad I known I was gonna make that many\ntypos, it would have been faster for\n\n417\n00:20:40.513 --> 00:20:42.234\nme to just change their\nstinking context in the first\n\n418\n00:20:42.234 --> 00:20:42.780\nplace,\n&gt;&gt; [LAUGH]\n\n419\n00:20:42.780 --> 00:20:43.690\n&gt;&gt; But I thought I was gonna be\n\n420\n00:20:43.690 --> 00:20:44.357\nfaster than that.\n\n421\n00:20:44.357 --> 00:20:45.001\n&gt;&gt; Good job, Don.\n\n422\n00:20:45.001 --> 00:20:45.890\n&gt;&gt; I know.\n\n423\n00:20:45.890 --> 00:20:50.470\nSo anyhow, so now back to the context, and\nwhy that's important is I wanna be able to\n\n424\n00:20:50.470 --> 00:20:55.180\ncome back here and try and access this web\npage and see that it gets blocked, right?\n\n425\n00:20:55.180 --> 00:21:02.067\nSo that when I browse to it,\nI go in, and I get the default page.\n\n426\n00:21:02.067 --> 00:21:07.210\nAnd if I try and get to test that html,\nFirefox has cached it, shoot.\n\n427\n00:21:07.210 --> 00:21:08.650\n&gt;&gt; [LAUGH]\n&gt;&gt; But, when I just go to the main site,\n\n428\n00:21:08.650 --> 00:21:11.290\nyou see I get my default test page,\n\n429\n00:21:11.290 --> 00:21:13.240\nbecause I'm being denied\naccess to the main page.\n\n430\n00:21:14.430 --> 00:21:17.990\nSo, I'm being denied, because I know I\ndon;t have the right security context.\n\n431\n00:21:17.990 --> 00:21:21.960\nAnd if I restart Apache, that'll cause the\ncache to clear out, or restart Firefox,\n\n432\n00:21:21.960 --> 00:21:23.560\nthat'll cause its cache to clear out,\nand whoever's cached,\n\n433\n00:21:23.560 --> 00:21:25.810\nit will make that go away.\n\n434\n00:21:25.810 --> 00:21:31.810\nSo, at this point, let's pretend that\nApache is some all new thing that\n\n435\n00:21:31.810 --> 00:21:37.120\nnobody's ever heard of before, shocking,\nand I need a security context for it.\n\n436\n00:21:37.120 --> 00:21:40.080\nWell, here's where some\nof the other modes of\n\n437\n00:21:40.080 --> 00:21:42.470\nSELinux come in really handy, all right.\n\n438\n00:21:42.470 --> 00:21:47.570\nSo, when I ran SEStatus a moment ago,\nI saw that it was enforcing.\n\n439\n00:21:47.570 --> 00:21:50.040\nSo it's blocking inappropriate access.\n\n440\n00:21:50.040 --> 00:21:53.130\nI can change that to be permissive.\n\n441\n00:21:53.130 --> 00:21:57.390\nAnd the reason I would do that is,\nI need to find out what's being blocked,\n\n442\n00:21:57.390 --> 00:21:59.370\nwhat's not being allowed, right?\n\n443\n00:21:59.370 --> 00:22:03.230\nAll of this is being logged to a log file.\n\n444\n00:22:03.230 --> 00:22:08.780\nIf I take a look at /var/audit or\n\n445\n00:22:08.780 --> 00:22:14.660\nsorry, slash log\n/audit/audit.log eventually,\n\n446\n00:22:14.660 --> 00:22:17.150\nI will get there.\n\n447\n00:22:19.020 --> 00:22:22.830\nThis is logging what's\ngoing inside of SEM Linux.\n\n448\n00:22:22.830 --> 00:22:25.690\nAnd each one of these lines is showing\nsomething that's happening, and\n\n449\n00:22:25.690 --> 00:22:27.080\nusually they're going to be successes.\n\n450\n00:22:27.080 --> 00:22:27.900\nStuff that was allowed.\n\n451\n00:22:29.010 --> 00:22:32.310\nBut sometimes,\nthings are going to be getting denied.\n\n452\n00:22:32.310 --> 00:22:36.820\nAnd so, I can look in here, and I can find\nwhere services are performing actions.\n\n453\n00:22:36.820 --> 00:22:40.050\nIn seeing whether or not they're\nhitting some kind of unconfined data or\n\n454\n00:22:40.050 --> 00:22:42.430\ndata that's gonna get them denied and\nblocked, right?\n\n455\n00:22:42.430 --> 00:22:45.234\nSo, you can look in here and\nfind out where things get blocked.\n\n456\n00:22:45.234 --> 00:22:49.908\nThe problem is sometimes a service\nneeds to perform five steps, and\n\n457\n00:22:49.908 --> 00:22:55.570\nthe first step gets blocked, so it never\ndoes step two through five, right?\n\n458\n00:22:55.570 --> 00:22:56.620\nOnly the first step got blocked.\n\n459\n00:22:56.620 --> 00:22:57.500\nThat's the one I see in the log.\n\n460\n00:22:57.500 --> 00:23:00.270\nI could correct it, and\nnow step two gets blocked.\n\n461\n00:23:00.270 --> 00:23:02.360\nI correct it,\nthen step three gets blocked.\n\n462\n00:23:02.360 --> 00:23:07.240\nSo, if I flip it to permissive,\nI'll see all five steps that get blocked.\n\n463\n00:23:07.240 --> 00:23:10.130\nI'll see everything that gets\nblocked by the system, and\n\n464\n00:23:10.130 --> 00:23:13.580\nthen I can use that to figure how what\npermissions I need to grant, all right?\n\n465\n00:23:13.580 --> 00:23:17.060\nSo, I'm gonna change SE Linux\nto permissive mode, and\n\n466\n00:23:17.060 --> 00:23:18.430\nyou never wanna stay in permissive mode.\n\n467\n00:23:18.430 --> 00:23:21.000\nYou just wanna put it in permissive\nmode temporarily, right,\n\n468\n00:23:21.000 --> 00:23:23.930\nwhile you're testing out and\nlearning your software.\n\n469\n00:23:23.930 --> 00:23:29.500\nSo, the way we do that is by\nusing the setenforce utility.\n\n470\n00:23:29.500 --> 00:23:30.420\nWith setenforce,\n\n471\n00:23:30.420 --> 00:23:34.700\nwe're changing how SE Linux is enforcing,\nenforcing is our default.\n\n472\n00:23:34.700 --> 00:23:41.270\nIf we say, setenforce 0, that's permissive\nmode, or set enforce 1, that's enforcing.\n\n473\n00:23:41.270 --> 00:23:42.020\nOr if you're like me, and\n\n474\n00:23:42.020 --> 00:23:44.300\nyou can't remember without having\nnotes sitting here on the table,\n\n475\n00:23:44.300 --> 00:23:48.630\nyou can say set enforce permissive,\nor set enforce enforcing.\n\n476\n00:23:48.630 --> 00:23:50.093\nRight, that's the one I remember.\n\n477\n00:23:50.093 --> 00:23:53.346\nSo, I'm gonna say set enforce permissive.\n\n478\n00:23:53.346 --> 00:23:57.613\nAnd now, if I run sestatus I can\nsee that I am in permissive mode,\n\n479\n00:23:57.613 --> 00:23:59.754\nmy current mode is permissive.\n\n480\n00:23:59.754 --> 00:24:03.495\nBut the mode from the config file\nis enforcing, so if I reboot,\n\n481\n00:24:03.495 --> 00:24:06.050\nit's gonna go back to enforcing, right?\n\n482\n00:24:06.050 --> 00:24:10.730\nI wanna be temporarily in permissive mode,\nso I did said enforce permissive.\n\n483\n00:24:12.200 --> 00:24:15.870\nNow I can restart Apache.\n\n484\n00:24:15.870 --> 00:24:19.970\nSo I can do a systemctl restart httpd.\n\n485\n00:24:19.970 --> 00:24:21.550\nSo I'm gonna restart it.\n\n486\n00:24:21.550 --> 00:24:24.690\nOr if you hadn't started it yet,\nyou start it now.\n\n487\n00:24:24.690 --> 00:24:26.550\nAnd run the software through its paces,\nright?\n\n488\n00:24:26.550 --> 00:24:27.820\nRemember, it's a custom program.\n\n489\n00:24:27.820 --> 00:24:28.390\nWe don't know what it is.\n\n490\n00:24:28.390 --> 00:24:31.000\nSo it'll run through all the different\nthings that program does.\n\n491\n00:24:31.000 --> 00:24:32.570\nSo I'm gonna go back here to my web page.\n\n492\n00:24:32.570 --> 00:24:36.110\nAnd actually, let me get a clean\nFirefox window open here.\n\n493\n00:24:36.110 --> 00:24:37.290\nSo I'm gonna, oops.\n\n494\n00:24:37.290 --> 00:24:39.870\nI'm gonna just close out, I'm gonna try.\n\n495\n00:24:39.870 --> 00:24:41.598\nPlease, let me close, there we go.\n\n496\n00:24:41.598 --> 00:24:44.660\n[LAUGH] And I'll get back into Firefox.\n\n497\n00:24:44.660 --> 00:24:46.560\nAnd I'm gonna browse to my webpage.\n\n498\n00:24:46.560 --> 00:24:50.300\nI'm gonna verify that things are working\nthe way that I think they should, right?\n\n499\n00:24:50.300 --> 00:24:53.840\nSo I'm gonna go to this webpage,\nI'll go to some subdirectories.\n\n500\n00:24:53.840 --> 00:24:57.000\nYou're basically just trying to\nrecreate all the different things\n\n501\n00:24:57.000 --> 00:24:58.240\nthat your software does.\n\n502\n00:24:58.240 --> 00:25:00.350\nIf it's database software, or\nbackup software, whatever,\n\n503\n00:25:00.350 --> 00:25:02.080\nrun through all its different paces.\n\n504\n00:25:02.080 --> 00:25:06.200\nNow, in the background,\nI might be breaking rules.\n\n505\n00:25:06.200 --> 00:25:09.900\nBut instead of enforcing,\nit's letting me break the rules, and\n\n506\n00:25:09.900 --> 00:25:12.170\nit's logging them, right?\n\n507\n00:25:12.170 --> 00:25:13.870\nSo I'm getting logged, and\n\n508\n00:25:13.870 --> 00:25:19.020\nwhen I go back in to my shell,\nI can take a look at that log.\n\n509\n00:25:19.020 --> 00:25:21.610\nSo I'm just going to\ntail the audit.log file.\n\n510\n00:25:21.610 --> 00:25:24.670\nAnd when you look at it,\nyou'll see some successes,\n\n511\n00:25:24.670 --> 00:25:30.320\nthese are things that were allowed,\nbut you'll likely see some denies,\n\n512\n00:25:30.320 --> 00:25:33.090\nexcept when you get to a deny,\nlike right here.\n\n513\n00:25:33.090 --> 00:25:36.670\nI've got a denied read, okay?\n\n514\n00:25:36.670 --> 00:25:40.140\nAnd if I look at what happened,\nthe executable was httpd.\n\n515\n00:25:40.140 --> 00:25:44.960\nIt was being run from /usr/sbin/httpd.\n\n516\n00:25:44.960 --> 00:25:46.680\nAnd what was it trying to do?\n\n517\n00:25:46.680 --> 00:25:48.050\nWell, it's off the top of my screen, but\n\n518\n00:25:48.050 --> 00:25:52.910\nif I scroll up a little bit, I can find\nout the file that it was trying to access.\n\n519\n00:25:52.910 --> 00:25:58.043\nSo it was a system call, and\nI am just missing it right here,\n\n520\n00:25:58.043 --> 00:26:00.480\n/mnt/website/test.html.\n\n521\n00:26:00.480 --> 00:26:05.340\nSo when I tried to access that file,\nI was denied, okay?\n\n522\n00:26:05.340 --> 00:26:08.833\nBut it let me do it anyway and it got it\nhere in the log so now I can spot it and\n\n523\n00:26:08.833 --> 00:26:11.247\nI can say,\nall right well I tried to access that.\n\n524\n00:26:11.247 --> 00:26:14.623\nAnd here's the deal the context was, and\n\n525\n00:26:14.623 --> 00:26:19.352\nit shows me the context that it\nwas an unconfined system and\n\n526\n00:26:19.352 --> 00:26:26.280\nit's context was set to mnt_t, not set\nto whatever Apache was approved for.\n\n527\n00:26:26.280 --> 00:26:26.780\nOkay?\n\n528\n00:26:28.520 --> 00:26:30.710\nNow that I know that what do I do with it?\n\n529\n00:26:30.710 --> 00:26:32.620\nThis is where things get a little hard and\n\n530\n00:26:32.620 --> 00:26:34.345\nmost people just turn off SELinux,\nwhich is dumb.\n\n531\n00:26:34.345 --> 00:26:38.430\n&gt;&gt; [LAUGH]\n&gt;&gt; Instead, there is an awesome utility\n\n532\n00:26:38.430 --> 00:26:43.220\nthat is built right into Red Hat\nthat will let us read the log.\n\n533\n00:26:43.220 --> 00:26:47.690\nAnd generate a custom policy based off\nof the denies, and it works so well.\n\n534\n00:26:47.690 --> 00:26:51.710\n&gt;&gt; You mean to tell me they want you to\nactually be able to manage this system and\n\n535\n00:26:51.710 --> 00:26:52.710\nwork with SELinux?\n\n536\n00:26:52.710 --> 00:26:53.560\n&gt;&gt; It's crazy, isn't it?\n\n537\n00:26:53.560 --> 00:26:54.526\n&gt;&gt; It just blows my mind.\n\n538\n00:26:54.526 --> 00:26:56.270\n[LAUGH]\n&gt;&gt; They know that it's hard to\n\n539\n00:26:56.270 --> 00:26:56.860\nwrite policies.\n\n540\n00:26:56.860 --> 00:26:59.030\nThey know that you're gonna run\nsoftware that's different than\n\n541\n00:26:59.030 --> 00:27:00.000\nwhat other people do.\n\n542\n00:27:00.000 --> 00:27:03.720\nAnd so, they created this software\ncalled audit2allow, all right?\n\n543\n00:27:03.720 --> 00:27:06.480\nAnd what it does, oops,\nif you run it, it does nothing.\n\n544\n00:27:06.480 --> 00:27:13.360\nBut what it does is it lets you feed a log\nfile into it and it'll find all the denies\n\n545\n00:27:13.360 --> 00:27:19.240\nand it will generate a custom policy that\nmatches those denies and allows them.\n\n546\n00:27:19.240 --> 00:27:23.180\nAnd it'll create that custom line that\nworks, that let's you go in and do this.\n\n547\n00:27:23.180 --> 00:27:26.670\nAnd it's important that you do this as\na policy because when you go and change\n\n548\n00:27:26.670 --> 00:27:29.761\nlabels, like what I did earlier I changed\nthe context of a file or folder, if\n\n549\n00:27:29.761 --> 00:27:34.350\nsomebody ever screws things up, they might\nreset all the contexts back to default.\n\n550\n00:27:34.350 --> 00:27:35.820\nIf that happens,\nnow all my software breaks.\n\n551\n00:27:35.820 --> 00:27:37.840\nSo I gotta remember to go and redo it.\n\n552\n00:27:37.840 --> 00:27:39.330\nWell if I create policies, and\n\n553\n00:27:39.330 --> 00:27:43.120\nsomebody resets everything to default,\nmy policy is part of that default, and so\n\n554\n00:27:43.120 --> 00:27:45.210\nit'll relabel properly,\nit's now a permanent part of the system.\n\n555\n00:27:45.210 --> 00:27:47.030\nSo this is really the best way to do it.\n\n556\n00:27:47.030 --> 00:27:51.810\nSo what we do, is we need to\nfeed that log into audit2allow.\n\n557\n00:27:51.810 --> 00:27:52.790\nThere's a few ways to do that.\n\n558\n00:27:52.790 --> 00:27:56.880\nYou can take the deny lines of the log and\nput it in a text file and feed that to it.\n\n559\n00:27:56.880 --> 00:28:01.790\nBut what I normally do, if you have a nice\nclean log, if it's a new system that\n\n560\n00:28:01.790 --> 00:28:04.840\nyou're testing the software on, which is\nwhat you're supposed to do by the way.\n\n561\n00:28:04.840 --> 00:28:08.210\nThen you can just take that log file and\nfeed it right into that.\n\n562\n00:28:08.210 --> 00:28:12.630\nSo what I'll do is something like grep.\n\n563\n00:28:13.780 --> 00:28:14.970\nAnd I'll look for my service.\n\n564\n00:28:14.970 --> 00:28:16.880\nRemember this is custom,\nit's whatever you called it.\n\n565\n00:28:16.880 --> 00:28:18.550\nIt might be Don's Demon or whatever.\n\n566\n00:28:18.550 --> 00:28:20.140\nI'm just gonna do httpd.\n\n567\n00:28:20.140 --> 00:28:26.956\nSo I'm gonna look for\nthe httpd string in /var/log/audit.log.\n\n568\n00:28:26.956 --> 00:28:29.800\nAnd the reason I'm using grep on this one,\n\n569\n00:28:29.800 --> 00:28:35.530\nis I don't want to get denies from other\nsoftware that I may not want to permit.\n\n570\n00:28:35.530 --> 00:28:38.995\nI just wanna focus on my custom software\nhere, so I'm doing just that service.\n\n571\n00:28:38.995 --> 00:28:44.860\nAnd I'm gonna take that, and\nI'm gonna feed that into audit2allow.\n\n572\n00:28:44.860 --> 00:28:47.290\nNow when I ran audit2allow a moment ago,\nit just sat there.\n\n573\n00:28:47.290 --> 00:28:49.250\nAnd the reason is, it was expecting input.\n\n574\n00:28:49.250 --> 00:28:53.180\nWell I'm gonna be taking\nthe output of my grep command and\n\n575\n00:28:53.180 --> 00:28:54.610\npiping it into audit2allow.\n\n576\n00:28:54.610 --> 00:28:56.760\nSo now it has something to do, all right?\n\n577\n00:28:56.760 --> 00:28:59.040\nAnd I don't want to go too crazy on this,\nso\n\n578\n00:28:59.040 --> 00:29:04.720\nI'm gonna do a -m which\ntells it just to monitor.\n\n579\n00:29:04.720 --> 00:29:06.290\nShow me what you find.\n\n580\n00:29:06.290 --> 00:29:08.810\nOkay, so take a look in there and\nshow me what you find.\n\n581\n00:29:08.810 --> 00:29:09.800\nAnd I need it to tell it.\n\n582\n00:29:09.800 --> 00:29:14.080\nOr, I'm sorry,\nI'm getting this a little wrong.\n\n583\n00:29:14.080 --> 00:29:16.710\n-m, I'm telling it the module\nI want to look for.\n\n584\n00:29:16.710 --> 00:29:19.210\nAnd the module I want is httpd.\n\n585\n00:29:19.210 --> 00:29:21.100\nI need to do -w.\n\n586\n00:29:21.100 --> 00:29:22.811\nWhich is gonna wrap on me here.\n\n587\n00:29:22.811 --> 00:29:23.736\nThere we go.\n\n588\n00:29:23.736 --> 00:29:26.900\n-w, and the w is what's telling\nit I want it to monitor.\n\n589\n00:29:26.900 --> 00:29:27.790\nTell me why.\n\n590\n00:29:27.790 --> 00:29:29.080\nTell me why things got blocked.\n\n591\n00:29:29.080 --> 00:29:32.110\nAnd so it's gonna look at the denies and\ntell me what happened, right?\n\n592\n00:29:32.110 --> 00:29:34.020\nSo this isn't gonna change anything.\n\n593\n00:29:34.020 --> 00:29:36.620\nIt's just gonna interpret the logs for me.\n\n594\n00:29:36.620 --> 00:29:41.145\nAnd when I run that It's gonna take a look\nand assuming that I get my path right,\n\n595\n00:29:41.145 --> 00:29:46.480\n/var/log/audit.log.\n\n596\n00:29:46.480 --> 00:29:47.490\nThere we go.\n\n597\n00:29:47.490 --> 00:29:51.220\nIt tries to convert those\ndenies into plain english.\n\n598\n00:29:51.220 --> 00:29:57.080\nThis one, Missing a type enforcement allow\nrule, it's not allowed to access MNT_T.\n\n599\n00:29:57.080 --> 00:30:00.610\nSo it's telling me what's wrong and\nit's highlighting all those denies.\n\n600\n00:30:00.610 --> 00:30:03.560\nSo now I'm just looking at the denies,\nright?\n\n601\n00:30:03.560 --> 00:30:08.120\nAnd I can go a step further and\nI can get rid of that -w and\n\n602\n00:30:08.120 --> 00:30:13.890\nI can change the -m from\na lowercase m to a capital M.\n\n603\n00:30:13.890 --> 00:30:18.370\nAnd what's that's gonna do is it's gonna\nsay, I want to do this for this module,\n\n604\n00:30:18.370 --> 00:30:22.680\nbut I need you to create for\nme a policy file that matches for\n\n605\n00:30:22.680 --> 00:30:25.680\nthat module that will allow\nit to do what it needs to do.\n\n606\n00:30:25.680 --> 00:30:28.678\nSo, when I run that,\nit generates a file for me,\n\n607\n00:30:28.678 --> 00:30:34.210\nhttpd.pp, right, pp is for policy package.\n\n608\n00:30:34.210 --> 00:30:38.750\nIt's a binary file that's made that\nhas all the settings necessary\n\n609\n00:30:38.750 --> 00:30:40.239\nto allow httpd to work.\n\n610\n00:30:41.720 --> 00:30:44.754\nAnd all I have to do\nimport that policy in and\n\n611\n00:30:44.754 --> 00:30:48.580\nnow SELinux knows how to\nhandle my custom software.\n\n612\n00:30:48.580 --> 00:30:53.350\nSo this might be Don's Demon.pp and\nI can import that in and\n\n613\n00:30:53.350 --> 00:30:55.910\nit doesn't matter that no one else in\nthe world has ever heard of this thing,\n\n614\n00:30:55.910 --> 00:30:59.180\nnow SELinux will know what exactly\nwhat to allow for that software.\n\n615\n00:30:59.180 --> 00:31:05.960\nSo all I have to do is say semodule -i,\ncuz I'm importing.\n\n616\n00:31:05.960 --> 00:31:10.570\nAnd I'm gonna import that module.\n\n617\n00:31:10.570 --> 00:31:13.130\nAnd that's gonna bring it\ninto my system policy.\n\n618\n00:31:13.130 --> 00:31:16.160\nSo it's gonna become a part of\nthe SELinux security policy.\n\n619\n00:31:16.160 --> 00:31:20.180\nAnd if somebody ever resets the file\nsystem to default policies.\n\n620\n00:31:20.180 --> 00:31:22.620\nMy policy will still be there,\nand so it will read that.\n\n621\n00:31:22.620 --> 00:31:24.040\nMy software will continue to work.\n\n622\n00:31:24.040 --> 00:31:26.180\nThis is what we really want, right?\n\n623\n00:31:26.180 --> 00:31:31.850\nAnd now that it's there, I can make sure\nthat it worked by doing an semodule -l and\n\n624\n00:31:31.850 --> 00:31:34.080\nthat will list all the modules,\nso you can go through and\n\n625\n00:31:34.080 --> 00:31:37.420\nsee if your custom software is now on\nthat list, right, which it should be.\n\n626\n00:31:37.420 --> 00:31:40.690\nMine was technically already\nthere because httpd is standard.\n\n627\n00:31:40.690 --> 00:31:43.724\nBut if you added your own,\nthen it would be something new.\n\n628\n00:31:43.724 --> 00:31:45.018\nAll right.\n\n629\n00:31:45.018 --> 00:31:47.940\nNow that it's there, what do I do?\n\n630\n00:31:47.940 --> 00:31:49.510\nWell, it's there.\n\n631\n00:31:49.510 --> 00:31:51.238\nThe policy's in place.\n\n632\n00:31:51.238 --> 00:31:54.898\nWhat I should be able to do\nis turn off permissive mode.\n\n633\n00:31:54.898 --> 00:31:56.584\nSo I'm gonna do a.\n\n634\n00:31:56.584 --> 00:32:00.680\nsetenforce enforcing.\n\n635\n00:32:00.680 --> 00:32:01.400\nRight?\n\n636\n00:32:01.400 --> 00:32:07.249\nAnd I can do an sestatus and\nmake sure that I am enforcing.\n\n637\n00:32:07.249 --> 00:32:12.510\nAnd if I restart,\nI'm not sure If I have to restart HTTPd or\n\n638\n00:32:12.510 --> 00:32:14.050\nnot but I'm gonna restart anyway.\n\n639\n00:32:15.480 --> 00:32:19.725\nSo I'm gonna restart it, and\nnow it should work, right?.\n\n640\n00:32:19.725 --> 00:32:24.038\nIf I go back here, let me get a clean\nFirefox instance up and going.\n\n641\n00:32:27.050 --> 00:32:30.507\nAnd as soon as that comes\nup I'm gonna try and\n\n642\n00:32:30.507 --> 00:32:34.163\nbrowse to my system and\nwe'll see what we get.\n\n643\n00:32:34.163 --> 00:32:36.300\nAnd there it is,\nI get Don's Super Awesome Website.\n\n644\n00:32:36.300 --> 00:32:39.360\nIf I add test.html to\nthe end I get the test site.\n\n645\n00:32:39.360 --> 00:32:40.790\nEverything's working, all right.\n\n646\n00:32:40.790 --> 00:32:43.383\nI didn't have to go through and figure\nout the individual folders and stuff.\n\n647\n00:32:43.383 --> 00:32:45.810\nThe policy takes care of it.\n\n648\n00:32:45.810 --> 00:32:50.483\nAnd if I look at that from the file\nsystem's point of view, And\n\n649\n00:32:50.483 --> 00:32:55.391\nI look inside of /mnt,\nsee how the website still has mnt_t?\n\n650\n00:32:55.391 --> 00:33:01.590\nAnd if I look inside of that, even these\nguys, they've got the wrong policy, right?\n\n651\n00:33:01.590 --> 00:33:02.590\nBut that's okay.\n\n652\n00:33:02.590 --> 00:33:05.320\nBecause the policy that we\nloaded into the system policy\n\n653\n00:33:05.320 --> 00:33:07.310\noverrides the context that's here.\n\n654\n00:33:07.310 --> 00:33:09.390\nYes, the context is mnt_t.\n\n655\n00:33:09.390 --> 00:33:11.302\nBut HTTPd, in this one case,\n\n656\n00:33:11.302 --> 00:33:15.446\nis allowed to access it because\nthat's what our policy states.\n\n657\n00:33:15.446 --> 00:33:17.310\nSo I don't even have to go and\nadjust these files.\n\n658\n00:33:17.310 --> 00:33:20.533\nThat's why I don't care if somebody\nresets these to defaults anymore.\n\n659\n00:33:20.533 --> 00:33:22.266\nBecause my policy is still there and\n\n660\n00:33:22.266 --> 00:33:25.440\nHTTPd can function the way\nthat it needs to function.\n\n661\n00:33:25.440 --> 00:33:27.930\nIt's not hard to do,\nit just takes a few minutes.\n\n662\n00:33:27.930 --> 00:33:30.960\nAnd I can support standard software and\ncustom software, and\n\n663\n00:33:30.960 --> 00:33:33.030\nI didn't have to disable SELinux.\n\n664\n00:33:33.030 --> 00:33:34.460\n&gt;&gt; Wow, that's really interesting.\n\n665\n00:33:34.460 --> 00:33:37.530\nSo instead of having to work with\neach individual folder, directory,\n\n666\n00:33:37.530 --> 00:33:39.740\nwhatever, you just do it in SELinux.\n\n667\n00:33:39.740 --> 00:33:44.090\nAnd say, here's a new policy, I don't care\nwhat's going on inside the file structure.\n\n668\n00:33:44.090 --> 00:33:45.879\nThis is what I want you to be able to do,\nand\n\n669\n00:33:45.879 --> 00:33:49.830\nSELinux looks at itself instead of looking\nat the files to see what the context is.\n\n670\n00:33:49.830 --> 00:33:53.480\n&gt;&gt; Yep, the only negative is\nif this is custom software,\n\n671\n00:33:53.480 --> 00:33:55.620\nevery time your dev team says hey,\nwe're pushing a new version,\n\n672\n00:33:55.620 --> 00:33:59.660\nyou need to say wait a minute,\ngive me a copy of that.\n\n673\n00:33:59.660 --> 00:34:01.560\nAnd you need to run that test.\n\n674\n00:34:01.560 --> 00:34:04.960\nBring up a brand new Red Hat Enterprise\nLinux box, run the software,\n\n675\n00:34:04.960 --> 00:34:06.433\ngenerate an SELinux policy.\n\n676\n00:34:06.433 --> 00:34:09.125\nIt's just a file, that HTTPd.pp file.\n\n677\n00:34:09.125 --> 00:34:13.003\nI could take that and copy it to\na thousand servers and import it.\n\n678\n00:34:13.003 --> 00:34:15.550\nAnd now we're ready to push\nthat new deployment, right?\n\n679\n00:34:15.550 --> 00:34:18.480\nSo we need to make sure we test that\ncustom software before we roll it out.\n\n680\n00:34:18.480 --> 00:34:19.900\nStandard software,\nwe wouldn't have to worry about so\n\n681\n00:34:19.900 --> 00:34:21.390\nmuch, but custom software, we would.\n\n682\n00:34:21.390 --> 00:34:22.700\n&gt;&gt; All right, very cool.\n\n683\n00:34:22.700 --> 00:34:26.021\nSELinux, obviously,\nit has some mysterium about it, right?\n\n684\n00:34:26.021 --> 00:34:27.853\n&gt;&gt; [LAUGH]\n&gt;&gt; That people get a little afraid,\n\n685\n00:34:27.853 --> 00:34:30.656\nthat's why you look at the blogs,\nand Don sees them,\n\n686\n00:34:30.656 --> 00:34:32.670\nand they say just shut it off, right?\n\n687\n00:34:32.670 --> 00:34:33.830\nI can't play with this thing.\n\n688\n00:34:33.830 --> 00:34:36.137\nIt's not that, you just have to,\nit's a technology,\n\n689\n00:34:36.137 --> 00:34:38.407\nwe have to learn them just\nlike we learn anything else.\n\n690\n00:34:38.407 --> 00:34:41.900\nAnd I know old dogs and\nthe new trick thing but you can do it,\n\n691\n00:34:41.900 --> 00:34:46.200\nit's not that difficult and\nit's better for you because it is secure.\n\n692\n00:34:47.920 --> 00:34:49.867\n&gt;&gt; One thing I didn't mention, Daniel,\nI just want to throw in real quick.\n\n693\n00:34:49.867 --> 00:34:51.602\nI know we're out of time,\nyou're giving me the evil eye.\n\n694\n00:34:51.602 --> 00:34:55.120\nBut I did all of this from\na standpoint of files.\n\n695\n00:34:55.120 --> 00:34:57.215\nBut it also applies to ports, too.\n\n696\n00:34:57.215 --> 00:34:59.610\nSELinux can manage ports,\nkinda like a firewall.\n\n697\n00:34:59.610 --> 00:35:02.610\nAnd that's important when you have one\nservice that talks to another service,\n\n698\n00:35:02.610 --> 00:35:04.490\ncuz they use a virtual\nport between each other.\n\n699\n00:35:04.490 --> 00:35:05.800\nSELinux controls that.\n\n700\n00:35:05.800 --> 00:35:08.710\nSo I'll put some notes in the show notes\njust to give you an example of how to\n\n701\n00:35:08.710 --> 00:35:09.380\ndo that with ports.\n\n702\n00:35:09.380 --> 00:35:12.300\nBut just be aware,\nit does go beyond just the file system and\n\n703\n00:35:12.300 --> 00:35:13.590\ncontrols network access too.\n\n704\n00:35:13.590 --> 00:35:14.460\n&gt;&gt; Really cool.\n\n705\n00:35:14.460 --> 00:35:15.351\nWell, there you go.\n\n706\n00:35:15.351 --> 00:35:18.636\nSELinux is not the big demon\nit's been made out to be,\n\n707\n00:35:18.636 --> 00:35:20.711\nunless you count it as a service.\n\n708\n00:35:20.711 --> 00:35:21.220\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n709\n00:35:21.220 --> 00:35:22.000\n&gt;&gt; That being said,\n\n710\n00:35:22.000 --> 00:35:25.080\nwe are well out of time for this episode.\nWe thank you for joining us today.\n\n711\n00:35:25.080 --> 00:35:28.570\nDon, we thank you for your demonstration\nof SELinux, but it is time to sign off.\n\n712\n00:35:28.570 --> 00:35:31.280\nFor ITPro TV,\nI've been your host Daniel Lowrie.\n\n713\n00:35:31.280 --> 00:35:31.920\n&gt;&gt; And I'm Don Pezet.\n\n714\n00:35:31.920 --> 00:35:33.308\n&gt;&gt; And we'll see you next time.\n\n715\n00:35:33.308 --> 00:35:40.530\n[MUSIC]\n\n716\n00:35:40.530 --> 00:35:43.714\nThank you for watching ITProTV.\n\n",
          "vimeoId": "194037051"
        },
        {
          "description": "In this episode, Daniel and Don introduce you to firewalld which is the default firewall for RHEL7, replacing iptables. They begin by showing you how to perform management tasks like start/stop firewalld service, list default zones, create custom zones, assigning network interfaces to a zone, and allowing standard and non-standard services.",
          "length": "1695",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-rhel7-4-3-configuring_firewalld-112916-PGM.00_28_01_09.Still002.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-rhel7-4-3-configuring_firewalld-112916-PGM.00_28_01_09.Still002-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-rhel7-4-3-configuring_firewalld-112916-PGM.00_28_01_09.Still002-sm.jpg",
          "title": "Configuring firewalld",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:01.440\nWelcome to ITProTV.\n\n2\n00:00:01.440 --> 00:00:03.098\nI'm your host, Don-\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:03.098 --> 00:00:05.292\n&gt;&gt; Coming at you live from San Francisco,\n\n4\n00:00:05.292 --> 00:00:06.558\nCalifornia [CROSSTALK]\n\n5\n00:00:06.558 --> 00:00:08.357\n[MUSIC]\n\n6\n00:00:08.357 --> 00:00:10.761\n&gt;&gt; You're watching ITProTV.\n\n7\n00:00:10.761 --> 00:00:12.386\n[MUSIC]\n\n8\n00:00:12.386 --> 00:00:14.106\n&gt;&gt; All right, greetings everyone and\n\n9\n00:00:14.106 --> 00:00:17.210\nwelcome to another exciting\nepisode of ITProTV.\n\n10\n00:00:17.210 --> 00:00:18.310\nI'm your host Daniel Lowrie and\n\n11\n00:00:18.310 --> 00:00:21.190\nin today's episode we definitely got\nsomething exciting for you today.\n\n12\n00:00:21.190 --> 00:00:22.950\nCuz it's about to get\na little hot in here, or\n\n13\n00:00:22.950 --> 00:00:25.620\nat least protect us from\nthe flames outside.\n\n14\n00:00:25.620 --> 00:00:29.500\nAnd joining to show us how to keep out\nof those flames is a good friend, Mr.\n\n15\n00:00:29.500 --> 00:00:30.200\nDon Pezet.\n\n16\n00:00:30.200 --> 00:00:31.560\nDon, welcome back, how's it going today?\n\n17\n00:00:31.560 --> 00:00:33.010\n&gt;&gt; So much mystery and drama.\n\n18\n00:00:33.010 --> 00:00:33.880\n&gt;&gt; I know, I like to build him up.\n\n19\n00:00:33.880 --> 00:00:35.512\n[LAUGH]\n&gt;&gt; All right, well,\n\n20\n00:00:35.512 --> 00:00:36.922\nI'm excited to be back on the show,\nDaniel.\n\n21\n00:00:36.922 --> 00:00:40.940\nWe're gonna be jumping into\nthe firewalld firewall daemon today.\n\n22\n00:00:40.940 --> 00:00:44.140\nSo basically,\nthe replacement for iptables.\n\n23\n00:00:44.140 --> 00:00:47.910\nThat if you've used Red Hat or any Red Hat\nderivative over the last few years,\n\n24\n00:00:47.910 --> 00:00:54.020\nin RHEL version 6 and earlier,\nwe had a firewall service called iptables.\n\n25\n00:00:54.020 --> 00:00:58.195\nIt's not just a Linux thing, it's used\nin BSD and other operating systems.\n\n26\n00:00:58.195 --> 00:01:00.090\nIptable's been around a long time.\n\n27\n00:01:00.090 --> 00:01:02.970\nIn RHEL 7, though, things change.\n\n28\n00:01:02.970 --> 00:01:06.876\nAnd now instead of iptables, we have\na new thing called the firewalld, or\n\n29\n00:01:06.876 --> 00:01:07.900\nfirewall daemon.\n\n30\n00:01:07.900 --> 00:01:11.830\nIt's a part of systemd, or\nkind of an add-on to systemd,\n\n31\n00:01:11.830 --> 00:01:13.690\nwhich is why we've kinda switched.\n\n32\n00:01:13.690 --> 00:01:16.090\nBut also, iptables is just kind of a pain.\n\n33\n00:01:16.090 --> 00:01:18.347\nI think most people will agree that\niptables wasn't the easiest thing to\n\n34\n00:01:18.347 --> 00:01:19.095\nmaintain and support.\n\n35\n00:01:19.095 --> 00:01:21.290\n&gt;&gt; Heresy, [LAUGH].\n\n36\n00:01:21.290 --> 00:01:23.655\n&gt;&gt; There's a lot of people out there\nthat'll swear by it and I've used it for\n\n37\n00:01:23.655 --> 00:01:25.160\nyears and\nreally didn't think much about it.\n\n38\n00:01:25.160 --> 00:01:27.590\nBut apparently, enough people were\nupset that now we get firewalld.\n\n39\n00:01:27.590 --> 00:01:30.651\nAnd to be honest with you,\nit's actually kinda nice, I like it.\n\n40\n00:01:30.651 --> 00:01:33.960\nIt is a lot easier to work with cuz\nit's completely command line driven.\n\n41\n00:01:33.960 --> 00:01:37.010\nWe don't have to go digging\nthrough config files anymore.\n\n42\n00:01:37.010 --> 00:01:40.273\nWe can just do it all right from the CLI\nand knock things out nice and easy.\n\n43\n00:01:40.273 --> 00:01:43.167\nSo that's what we're gonna take\na look at right here in this episode,\n\n44\n00:01:43.167 --> 00:01:46.140\nis how to manage and\nsupport the firewalld service.\n\n45\n00:01:46.140 --> 00:01:48.530\nAll right, well,\nlet's get started with the easy stuff, and\n\n46\n00:01:48.530 --> 00:01:50.020\nthen we'll move on to the hard stuff.\n\n47\n00:01:50.020 --> 00:01:53.440\nFirst off, firewalld,\nit's installed by default with RHEL, so\n\n48\n00:01:53.440 --> 00:01:54.770\nyou likely already have it.\n\n49\n00:01:54.770 --> 00:01:56.520\nIt's in there, it's probably running.\n\n50\n00:01:56.520 --> 00:01:59.820\nYou can verify really quick from the\ncommand line if you want by just issuing\n\n51\n00:01:59.820 --> 00:02:01.280\na simple command.\n\n52\n00:02:02.290 --> 00:02:08.286\nAlmost everything in firewalld is managed\nusing a command called firewall-cmd,\n\n53\n00:02:08.286 --> 00:02:08.900\nright?\n\n54\n00:02:08.900 --> 00:02:12.640\nThis utility lets us send commands to\nthe firewall and open ports, close ports,\n\n55\n00:02:12.640 --> 00:02:14.170\nverify status, all that other stuff.\n\n56\n00:02:14.170 --> 00:02:15.830\nAnd that's exactly what I wanna do.\n\n57\n00:02:15.830 --> 00:02:20.280\nI'm gonna do a --state to find\nout what my firewall state is.\n\n58\n00:02:20.280 --> 00:02:22.150\nNow, I forgot to sudu this one, so\n\n59\n00:02:22.150 --> 00:02:25.530\nI am getting prompted here\nto provide a password.\n\n60\n00:02:25.530 --> 00:02:28.840\nAnd I can see that firewalld is\nalready running for me, all right.\n\n61\n00:02:28.840 --> 00:02:30.500\nIt's probably already running for you too.\n\n62\n00:02:30.500 --> 00:02:38.550\nIf it isn't, you can always just do\na quick systemctl start firewalld.\n\n63\n00:02:38.550 --> 00:02:40.160\nAnd that'll start it up if\nit's not started already.\n\n64\n00:02:40.160 --> 00:02:44.444\nIf you need it to start at boot time, make\nsure you change that start to an enable so\n\n65\n00:02:44.444 --> 00:02:46.151\nthat it'll start at boot time.\n\n66\n00:02:46.151 --> 00:02:47.290\nAnd now you'll be running that firewall.\n\n67\n00:02:47.290 --> 00:02:49.913\n&gt;&gt; Now Don, that was interesting\nwhen you forgot the sudu.\n\n68\n00:02:49.913 --> 00:02:51.025\nIt gave you a graphical prompt for\n\n69\n00:02:51.025 --> 00:02:53.130\nyour password, instead of just\ndoing it in the command line.\n\n70\n00:02:53.130 --> 00:02:53.980\nWhy did it do that?\n\n71\n00:02:53.980 --> 00:02:57.900\n&gt;&gt; All right, so there's a lot of commands\nout there that you have to be root for,\n\n72\n00:02:57.900 --> 00:03:01.070\nand it just gives you permission denied,\nand you gotta sudu them.\n\n73\n00:03:01.070 --> 00:03:05.180\nBut in this case, firewall-cmd,\nit's actually a wrapper.\n\n74\n00:03:05.180 --> 00:03:08.310\nIt's like a front end for\na bunch of utilities in the back.\n\n75\n00:03:08.310 --> 00:03:10.770\nAnd so Red Hat has just taken the time\nto put the code in there to say,\n\n76\n00:03:10.770 --> 00:03:12.930\nhey, if you're not root,\nprompt for the credentials.\n\n77\n00:03:12.930 --> 00:03:15.290\nSo if this were an actual command,\n\n78\n00:03:15.290 --> 00:03:17.740\nI probably would have gotten\naccess denied and that's it.\n\n79\n00:03:17.740 --> 00:03:20.876\nBut because it's a wrapper, then it's\nactually going to prompt for that,\n\n80\n00:03:20.876 --> 00:03:22.254\njust a little difference there.\n\n81\n00:03:22.254 --> 00:03:26.305\nFirewall-cmd, it's a script,\nreally, in the background.\n\n82\n00:03:26.305 --> 00:03:27.605\nAnd it's just designed to\nmake your life easier.\n\n83\n00:03:27.605 --> 00:03:31.004\n&gt;&gt; I just thought it was telling me\nthis was an actual graphical tool that\n\n84\n00:03:31.004 --> 00:03:31.598\nwe can use.\n\n85\n00:03:31.598 --> 00:03:32.907\n&gt;&gt; Well, I mean, there is a GUI.\n\n86\n00:03:32.907 --> 00:03:35.268\n&gt;&gt; Really?\n&gt;&gt; So normally I use the command line for\n\n87\n00:03:35.268 --> 00:03:38.575\nall this stuff cuz you're on\na headless server or whatever.\n\n88\n00:03:38.575 --> 00:03:42.260\nBut if you're on a workstation, your\nworkstation's running firewall-cmd also.\n\n89\n00:03:42.260 --> 00:03:46.150\nAnd if you go up to Applications,\ntoo crazy on the zoom there.\n\n90\n00:03:46.150 --> 00:03:50.920\nIf we [LAUGH] go up into Applications,\nand you down to the Sundry section.\n\n91\n00:03:50.920 --> 00:03:53.230\nUnder Sundry, you'll find Firewall.\n\n92\n00:03:53.230 --> 00:04:00.520\nAnd it has a firewall GUI, and you've\ngot to be an administrator to access it.\n\n93\n00:04:00.520 --> 00:04:04.160\nAnd once you get in,\nyou'll see your interfaces over here.\n\n94\n00:04:04.160 --> 00:04:06.930\nYou'll see your Zones,\nyour Services, your IP Sets,\n\n95\n00:04:06.930 --> 00:04:09.340\nall the different things you\ncan define and configure.\n\n96\n00:04:09.340 --> 00:04:12.520\nAnd you can jump in and enable them and\nit makes life easier, right?\n\n97\n00:04:12.520 --> 00:04:16.466\nSo for desktop users, they don't have to\ndrop to the command line to configure it.\n\n98\n00:04:16.466 --> 00:04:19.845\nYou do have a GUI,\nit does make life a little easier.\n\n99\n00:04:19.845 --> 00:04:23.461\nAll right, but in my scenario,\nI'm not gonna use that because most of us\n\n100\n00:04:23.461 --> 00:04:27.751\nare dealing with headless servers and we\ndon't have a fancy-pants GUI to work with.\n\n101\n00:04:27.751 --> 00:04:28.300\nWe're gonna have to do it right from here.\n\n102\n00:04:29.690 --> 00:04:31.560\nAll right, so how do we work with it?\n\n103\n00:04:31.560 --> 00:04:35.740\nWell, I mentioned\nthe firewall-cmd utility, right.\n\n104\n00:04:35.740 --> 00:04:38.930\nThat utility is gonna do\nthe majority of what we want.\n\n105\n00:04:38.930 --> 00:04:43.420\nAnd you can always pull up its man\npage to see all the crazy bells and\n\n106\n00:04:43.420 --> 00:04:45.520\nwhistles that it has kinda\ntucked inside of it.\n\n107\n00:04:45.520 --> 00:04:48.450\nBut I'm gonna run you through\nthe primary things that'll show\n\n108\n00:04:48.450 --> 00:04:52.000\nyou basically what you need to know to get\nthe firewall running on a regular basis.\n\n109\n00:04:52.000 --> 00:04:54.680\nAll right, the first thing I need\nto be aware of is whether it's\n\n110\n00:04:54.680 --> 00:04:55.460\nstarted or not, right?\n\n111\n00:04:55.460 --> 00:04:59.560\nSo we already saw that firewall-cmd\n--state will show us if it's running, and\n\n112\n00:04:59.560 --> 00:05:01.460\nwe can always start it if it isn't.\n\n113\n00:05:01.460 --> 00:05:05.660\nAfter that,\nI need to understand the zone system.\n\n114\n00:05:05.660 --> 00:05:07.420\nFirewall-cmd uses zones.\n\n115\n00:05:07.420 --> 00:05:11.450\nZones are important because, in iptables,\nwe always had to define what's open and\n\n116\n00:05:11.450 --> 00:05:14.120\nwhat's closed, and\ntie it to different interfaces and so on,\n\n117\n00:05:14.120 --> 00:05:15.520\nit was kind of a pain.\n\n118\n00:05:15.520 --> 00:05:17.660\nHere in firewall-cmd you have zones.\n\n119\n00:05:17.660 --> 00:05:21.100\nAnd so\nI might have five network adapters and\n\n120\n00:05:21.100 --> 00:05:24.780\ntwo of them are load\nbalancing from my LAN.\n\n121\n00:05:24.780 --> 00:05:29.470\nAnd one of them is in the DMZ and two of\nthem are connected to two different ISPs.\n\n122\n00:05:29.470 --> 00:05:34.060\nSo the ones connected to ISPs are gonna\nhave different permissions than the ones\n\n123\n00:05:34.060 --> 00:05:34.753\nin the DMZ.\n\n124\n00:05:34.753 --> 00:05:36.229\nAnd definitely different\nthan the ones in the LAN.\n\n125\n00:05:37.300 --> 00:05:42.190\nI can create zones and open holes in\nthe zone instead of on a network adapter.\n\n126\n00:05:42.190 --> 00:05:44.760\nAnd I can then attach\nthe adapters to the zone.\n\n127\n00:05:44.760 --> 00:05:48.260\nThat way I can reuse my rules over and\nover on more than one network adapter.\n\n128\n00:05:48.260 --> 00:05:50.810\nZones make life a lot easier.\n\n129\n00:05:50.810 --> 00:05:52.460\nIf you're not gonna do that,\n\n130\n00:05:52.460 --> 00:05:55.822\nif you just have one network adapter,\nyou still use a zone.\n\n131\n00:05:55.822 --> 00:05:57.310\nAnd all the work is done on the zone, and\n\n132\n00:05:57.310 --> 00:05:58.580\nyou just have that one\nadapter in the zone.\n\n133\n00:05:58.580 --> 00:06:01.660\nAnd it's nice because if you ever replace\nthe adapter, you add in a second one,\n\n134\n00:06:01.660 --> 00:06:04.510\nyou just add that adapter to the zone.\n\n135\n00:06:04.510 --> 00:06:06.500\nAnd all the rules follow along with it.\n\n136\n00:06:06.500 --> 00:06:08.630\nSo we need to understand\nthe zones that are in place.\n\n137\n00:06:08.630 --> 00:06:11.660\nAnd Red Hat creates a bunch of them for\nus by default.\n\n138\n00:06:11.660 --> 00:06:15.430\nIf you run firewall-cmd, and\n\n139\n00:06:15.430 --> 00:06:21.630\nthen do a --get-zones, you'll see all\nthe zones that are included by default.\n\n140\n00:06:21.630 --> 00:06:26.000\nWork, drop, internal, external,\ntrusted, home, dmz, public and block.\n\n141\n00:06:26.000 --> 00:06:27.490\nI didn't make any of these.\n\n142\n00:06:27.490 --> 00:06:31.274\nThese are all part of\nthe default install of RHEL.\n\n143\n00:06:31.274 --> 00:06:35.527\nNow, one of these zones will be\nconsidered the default zone and\n\n144\n00:06:35.527 --> 00:06:39.715\nall of your adapters will be in\nthe default zone, by default.\n\n145\n00:06:39.715 --> 00:06:40.236\n&gt;&gt; Default?\n[LAUGH]\n\n146\n00:06:40.236 --> 00:06:41.926\n&gt;&gt; That's the dumbest sentence I've\n\n147\n00:06:41.926 --> 00:06:42.605\nsaid all day.\n\n148\n00:06:42.605 --> 00:06:45.520\nAnyhow it's gonna be public,\nunless somebody's messed with it.\n\n149\n00:06:45.520 --> 00:06:47.750\nSo normally the default zone is public.\n\n150\n00:06:47.750 --> 00:06:49.220\nAnd that's where all your\nadapters are going to be.\n\n151\n00:06:49.220 --> 00:06:50.910\nNow we can verify that real quick.\n\n152\n00:06:50.910 --> 00:06:55.046\nInstead of a get-zones we can\ndo a get-default-zone, and\n\n153\n00:06:55.046 --> 00:06:58.136\nit'll tell us which one\nis the default zone.\n\n154\n00:06:58.136 --> 00:07:00.450\nAnd mine is public because I\nhaven't messed with it, right?\n\n155\n00:07:00.450 --> 00:07:02.540\nSo that's what's normally\ngonna be the default.\n\n156\n00:07:02.540 --> 00:07:10.780\nAnd if you do a get-active-zones,\n\n157\n00:07:10.780 --> 00:07:13.400\nnot every zone is active, right?\n\n158\n00:07:13.400 --> 00:07:17.100\nIf a zone has no network adapters\nattached to it, it's not gonna be active.\n\n159\n00:07:17.100 --> 00:07:20.420\nSo while Red Hat has\ncreated all these zones for\n\n160\n00:07:20.420 --> 00:07:23.830\nme, I've only got one active,\nthe public zone.\n\n161\n00:07:23.830 --> 00:07:26.340\nAnd it's showing what\ninterfaces are in that zone.\n\n162\n00:07:26.340 --> 00:07:30.990\nI only have one interface, my virtual\ninterface, eno1 blah blah blah, and\n\n163\n00:07:30.990 --> 00:07:33.640\nthat happens to be in the public zone.\n\n164\n00:07:33.640 --> 00:07:38.130\nSo if I just have one adapter, and this\nis a workstation that's all I care about,\n\n165\n00:07:38.130 --> 00:07:42.890\nthen all I need to do is open and close\nports on the public zone and I'm done.\n\n166\n00:07:42.890 --> 00:07:45.160\nThat's it,\nI don't even care that other zones exist.\n\n167\n00:07:45.160 --> 00:07:49.080\nI've only got one adapter, it can only be\nin one zone, and that's all I'm gonna do.\n\n168\n00:07:49.080 --> 00:07:52.133\nSo now it's just a matter of\nmanipulating the public zone, and\n\n169\n00:07:52.133 --> 00:07:53.638\nthat's what we typically do.\n\n170\n00:07:53.638 --> 00:07:58.399\nBut if you have more than one adapter, and\nyou have different needs, now you might\n\n171\n00:07:58.399 --> 00:08:02.815\nput one adapter in the Public zone,and\nanother adapter in the DMZ zone, and\n\n172\n00:08:02.815 --> 00:08:06.390\nthen another adapter in the private zone,\nor wherever.\n\n173\n00:08:06.390 --> 00:08:08.150\nYou can even create your own, right,\n\n174\n00:08:08.150 --> 00:08:10.900\nI mentioned private,\nthere is no private zone by default.\n\n175\n00:08:10.900 --> 00:08:15.000\nso, I might create a custom\nzone to match my needs to show\n\n176\n00:08:15.000 --> 00:08:16.350\nwhat is this that I am trying to achieve.\n\n177\n00:08:16.350 --> 00:08:19.130\nSo, you can always make these hourly work.\n\n178\n00:08:19.130 --> 00:08:21.250\nNow, to make a zone.\n\n179\n00:08:21.250 --> 00:08:26.486\nAll you have to do is say firewall-cmd,\nand\n\n180\n00:08:26.486 --> 00:08:31.890\nthen --new-zone, and then give it a name.\n\n181\n00:08:31.890 --> 00:08:34.920\nI'm gonna make one called testlab, okay.\n\n182\n00:08:34.920 --> 00:08:37.678\nNow, when you run that,\nyou've gotta be careful,\n\n183\n00:08:37.678 --> 00:08:41.940\nwhoop, [LAUGH] This is actually\nthe point I was just about to make.\n\n184\n00:08:41.940 --> 00:08:43.200\nSo, the error works out well for me.\n\n185\n00:08:43.200 --> 00:08:46.840\nYou've gotta be careful because all\nthe changes you make to the firewall\n\n186\n00:08:46.840 --> 00:08:48.420\nare considered transient.\n\n187\n00:08:48.420 --> 00:08:49.740\nThey're being made in RAM.\n\n188\n00:08:49.740 --> 00:08:52.010\nAnd if you reboot they go away.\n\n189\n00:08:52.010 --> 00:08:55.370\nSo, if I start opening,\nwe're creating some new zones and\n\n190\n00:08:55.370 --> 00:08:59.220\nmodifying the zones,\nit could all go away when I reboot.\n\n191\n00:08:59.220 --> 00:09:03.820\nSo, you need to add the --permanent\nWhich is what I was about to say\n\n192\n00:09:03.820 --> 00:09:05.380\nto make it survive reboots.\n\n193\n00:09:05.380 --> 00:09:09.080\nWell in this case apparently creating\na new zone requires --permanent so\n\n194\n00:09:09.080 --> 00:09:10.280\nit won't even let me do that.\n\n195\n00:09:10.280 --> 00:09:13.220\nWe'll see with our rules that we add later\nlike when you open holes they'll let you\n\n196\n00:09:13.220 --> 00:09:14.180\nopen holes temporarily.\n\n197\n00:09:14.180 --> 00:09:15.410\nMaybe you're just troubleshooting.\n\n198\n00:09:15.410 --> 00:09:17.650\nSo, you open a hole temporarily and\nthen you want to close it,\n\n199\n00:09:17.650 --> 00:09:20.040\nyou don't it to be there when you reboot.\n\n200\n00:09:20.040 --> 00:09:24.250\nAdding --permanent though\nmakes it commit this.\n\n201\n00:09:24.250 --> 00:09:28.530\nTo the configuration, so,\nthat if I rebut the system and\n\n202\n00:09:28.530 --> 00:09:34.630\nI spell permanent right-- English\nis my first language, sadly.\n\n203\n00:09:34.630 --> 00:09:38.090\nBut if I make that permanent, now,\nwhen I reboot It will be permanent,\n\n204\n00:09:38.090 --> 00:09:41.360\nit will be there, and this zone\nwill now exist even after a reboot.\n\n205\n00:09:41.360 --> 00:09:43.970\n&gt;&gt; So, we do this instead of\nlike what we did before in IP\n\n206\n00:09:43.970 --> 00:09:46.020\ntables which is modify a config file?\n\n207\n00:09:46.020 --> 00:09:47.010\n&gt;&gt; Right.\nI don't have\n\n208\n00:09:47.010 --> 00:09:48.560\nto go into config files at all.\n\n209\n00:09:48.560 --> 00:09:49.720\nIt's just being done right here.\n\n210\n00:09:49.720 --> 00:09:51.430\nIt's modifying the config file for me.\n\n211\n00:09:51.430 --> 00:09:54.520\nThat's the nice part about having\na wrapper on the front of this.\n\n212\n00:09:54.520 --> 00:09:55.890\nAll right, so now I've got a new zone.\n\n213\n00:09:55.890 --> 00:10:02.850\nIf I go back to get zones, and\npull that up, I'll see no test lab.\n\n214\n00:10:02.850 --> 00:10:04.670\nWhat the heck?\nWhere is it?\n\n215\n00:10:04.670 --> 00:10:08.370\nWell, I created it and\nI made it permanent.\n\n216\n00:10:08.370 --> 00:10:13.220\nWhen do you this get dash zones, it's\nactually showing you what's in RAM, right,\n\n217\n00:10:13.220 --> 00:10:17.470\nwell the zone I just added was permanent\nwhen to the config file, it's not actually\n\n218\n00:10:17.470 --> 00:10:21.790\nhere and running it, I had to restart the\nfirewall service, you can actually do a,\n\n219\n00:10:21.790 --> 00:10:26.610\nwhen you do a get --get zones you could\nadd -- permanent you'd see the ones that\n\n220\n00:10:26.610 --> 00:10:29.140\nwill be there the next you reboot but\nit's not showing up yet\n\n221\n00:10:29.140 --> 00:10:32.690\nbecause I haven't restarted the firewall\nservice I haven't made that active and so\n\n222\n00:10:32.690 --> 00:10:35.160\nthat's how it's gonna kinda show up.\n\n223\n00:10:35.160 --> 00:10:41.710\nIf I do a firewall cmd --reload,\nthat will restart firewall.\n\n224\n00:10:41.710 --> 00:10:45.180\nAnd when it restarts now it\nloads the config files, and\n\n225\n00:10:45.180 --> 00:10:46.620\nnow it's gonna be present.\n\n226\n00:10:46.620 --> 00:10:52.400\nAnd so, when I do the --get zones I'm\ngonna see my test lab right there.\n\n227\n00:10:52.400 --> 00:10:56.480\nSo, just remember when you do\na --permanent it goes into the config but\n\n228\n00:10:56.480 --> 00:10:57.900\nit's not loaded yet.\n\n229\n00:10:57.900 --> 00:10:59.200\nNot until you restart that firewall.\n\n230\n00:11:01.020 --> 00:11:03.950\nSo, some of the other\nthings that I can do.\n\n231\n00:11:05.140 --> 00:11:09.780\nEach of these zones can have different\nsecurity configurations, different ports\n\n232\n00:11:09.780 --> 00:11:12.640\nthat are open, and software that's\na lot to access and then so on.\n\n233\n00:11:12.640 --> 00:11:15.540\nSo, we can look into a zone to\nsee how it's configured and\n\n234\n00:11:15.540 --> 00:11:17.400\nsee all sorts of different\ninformation on it.\n\n235\n00:11:17.400 --> 00:11:24.460\nIf you do firewall-cmd and do a,\nthere's a few different way to do this.\n\n236\n00:11:24.460 --> 00:11:28.580\nI could just say list-all and\nit's gonna show me all the zones and\n\n237\n00:11:28.580 --> 00:11:31.510\nall the config and it's just\nan overwhelming amount of information.\n\n238\n00:11:31.510 --> 00:11:35.490\nOr I can do a zone= and\nspecify the zone I wanna see.\n\n239\n00:11:35.490 --> 00:11:40.070\nSo, if I wanna see the public zone, which\nis my default, I can punch that in and\n\n240\n00:11:40.070 --> 00:11:41.909\nsay --list-all.\n\n241\n00:11:43.040 --> 00:11:49.400\nAnd when I run that, so here's the command\nthat I ran.- - zone equals public,- -\n\n242\n00:11:49.400 --> 00:11:53.800\nlist- all, it's gonna show me\ninformation about that zone.\n\n243\n00:11:53.800 --> 00:11:55.880\nI can see that it is my default zone.\n\n244\n00:11:55.880 --> 00:11:58.010\nI can see the adapter\nthat's attached to it.\n\n245\n00:11:58.010 --> 00:12:02.020\nAnd I can see these services\nalready approved passed through it.\n\n246\n00:12:02.020 --> 00:12:03.950\nSamba, SSH, RPC bind, NFS, MountD.\n\n247\n00:12:03.950 --> 00:12:07.090\nEach of these have been allowed\nto pass through that firewall.\n\n248\n00:12:08.210 --> 00:12:10.760\nIf I like other zones, I may not see that.\n\n249\n00:12:10.760 --> 00:12:14.680\nSo for example, if I look at testlab,\nthe one I just made, and\n\n250\n00:12:14.680 --> 00:12:17.510\nI look at it, Services none.\n\n251\n00:12:17.510 --> 00:12:18.720\nNo services are allowed through.\n\n252\n00:12:18.720 --> 00:12:22.390\nNo ports, no protocols, no source IPs.\n\n253\n00:12:22.390 --> 00:12:23.640\nNobody is allowed through.\n\n254\n00:12:23.640 --> 00:12:26.360\nTestlab is completely empty.\n\n255\n00:12:26.360 --> 00:12:30.220\nSo, if we assign this to somebody,\nthey're not gonna be able to communicate.\n\n256\n00:12:30.220 --> 00:12:32.330\nWell, they'll be able to send but\nnot receive.\n\n257\n00:12:32.330 --> 00:12:35.640\nSo, I need to go through and\nupdate that, right?\n\n258\n00:12:35.640 --> 00:12:39.850\nPut in entries where this is gonna make\nit do what I want it to do, all right?\n\n259\n00:12:39.850 --> 00:12:47.210\nNow, when I start to create zones I need\nto attach the interfaces to the zones.\n\n260\n00:12:47.210 --> 00:12:50.180\nAnd there is a command line\nthat we can use to put that in.\n\n261\n00:12:50.180 --> 00:12:52.140\nBut it's kinda pointless,\ncuz it's not permanent and\n\n262\n00:12:52.140 --> 00:12:54.170\nthere's no dash dash permanent for\nthis one.\n\n263\n00:12:54.170 --> 00:12:57.730\nSo, when the system boots up,\n\n264\n00:12:57.730 --> 00:13:01.020\nthe network adapters read the\nconfigurations from a configuration file.\n\n265\n00:13:01.020 --> 00:13:04.940\nAnd the zone is determined\nby that file at boot time.\n\n266\n00:13:04.940 --> 00:13:07.490\nSo, this is the one time that we do\nactually have to get into a config file\n\n267\n00:13:07.490 --> 00:13:09.320\nand it's just our interface adapter right.\n\n268\n00:13:09.320 --> 00:13:18.633\nSo, when I go into /etc/\nsysconfig/network-scripts, right?\n\n269\n00:13:18.633 --> 00:13:21.415\nIf you watched our episode where he's\ntalking about network configuration,\n\n270\n00:13:21.415 --> 00:13:25.125\nthese are the scripts that we would\ndo that assign IP address, and\n\n271\n00:13:25.125 --> 00:13:26.325\nDNS server, and so on.\n\n272\n00:13:26.325 --> 00:13:29.025\nEvery network adapter has a config.\n\n273\n00:13:29.025 --> 00:13:35.100\nAnd, if I edit that config, There we go.\n\n274\n00:13:35.100 --> 00:13:38.160\nAnd I go in here,\nyou'll see all this information.\n\n275\n00:13:38.160 --> 00:13:40.900\nAnd nowhere in here\ndoes it mention a zone.\n\n276\n00:13:40.900 --> 00:13:41.950\nSo, when this boots up,\n\n277\n00:13:41.950 --> 00:13:45.510\nit's gonna put this adaptor in\nwhatever the default zone is.\n\n278\n00:13:45.510 --> 00:13:48.130\nWell, if this is a server\nthat's gonna be at my office,\n\n279\n00:13:48.130 --> 00:13:51.670\nI might wanna put it in the work zone,\nright?\n\n280\n00:13:51.670 --> 00:13:53.940\nSo, I might say zone.\n\n281\n00:13:53.940 --> 00:13:55.870\nEquals work.\n\n282\n00:13:55.870 --> 00:13:57.640\nAnd now, whenever my system reboots and\n\n283\n00:13:57.640 --> 00:14:02.480\nthis network adapter is loaded it's\ngonna put it in the work zone, right.\n\n284\n00:14:02.480 --> 00:14:05.060\nSo, that's kind of an important piece\nright there to make that permanent.\n\n285\n00:14:05.060 --> 00:14:06.900\nSo, I'm gonna go ahead and save that.\n\n286\n00:14:06.900 --> 00:14:07.940\nAnd now, it's said to be in the work zone.\n\n287\n00:14:07.940 --> 00:14:09.840\nBut it doesn't happen right away.\n\n288\n00:14:09.840 --> 00:14:13.098\nIf I do a firewall-cmd.\n\n289\n00:14:13.098 --> 00:14:20.340\nGet active zones.\n\n290\n00:14:20.340 --> 00:14:20.950\nRight?\n\n291\n00:14:20.950 --> 00:14:24.930\nI still see public,\nthe interface is still attached to it.\n\n292\n00:14:24.930 --> 00:14:28.340\nIn order for this to happen I\neither need to reboot the system or\n\n293\n00:14:28.340 --> 00:14:31.320\nrestart the network and\nthe firewall, right?\n\n294\n00:14:31.320 --> 00:14:33.310\nSo, I can kind of go either way.\n\n295\n00:14:33.310 --> 00:14:34.630\nI'll do the restarts.\n\n296\n00:14:34.630 --> 00:14:35.940\nI don't wanna reboot the whole system.\n\n297\n00:14:35.940 --> 00:14:38.850\nIt'll just be faster for\nme to do a systemctl restart network.\n\n298\n00:14:38.850 --> 00:14:39.408\nAnd that's gonna reload.\n\n299\n00:14:39.408 --> 00:14:42.630\nAnd that's gonna reload\nthe network adapters config.\n\n300\n00:14:42.630 --> 00:14:45.070\nIt will see that zone equals work.\n\n301\n00:14:45.070 --> 00:14:46.360\nBut even then, I'm still not done.\n\n302\n00:14:46.360 --> 00:14:50.650\nI need to restart the firewall,\nwhich I could do firewallcmd--reload, but\n\n303\n00:14:53.540 --> 00:14:58.150\ninstead I'm gonna do a Restart\nof the service itself.\n\n304\n00:14:58.150 --> 00:14:59.230\nThere we go.\n\n305\n00:14:59.230 --> 00:15:01.260\nEither way,\nreally when you do the dash dash reload,\n\n306\n00:15:01.260 --> 00:15:02.440\nit's just running this anyway.\n\n307\n00:15:02.440 --> 00:15:03.210\nSo, it's kind of the same thing.\n\n308\n00:15:03.210 --> 00:15:04.590\n&gt;&gt; Six on one and\nhalf a dozen on the other, right?\n\n309\n00:15:04.590 --> 00:15:07.490\n&gt;&gt; Yes, whichever one's faster, and in\nmy case I'm kind of doing the history to\n\n310\n00:15:07.490 --> 00:15:11.140\nmake sure that it jumps back and\nwe get to that a little faster.\n\n311\n00:15:11.140 --> 00:15:15.950\nSo, I'm going to do a get active zones\nnow, and I can see that that interface is\n\n312\n00:15:15.950 --> 00:15:19.940\nindeed in work, and\nnow we're in that new zone, right?\n\n313\n00:15:19.940 --> 00:15:21.470\nThat's where I wanted it to be.\n\n314\n00:15:21.470 --> 00:15:23.970\nNow, I do have a slight problem.\n\n315\n00:15:23.970 --> 00:15:26.530\nIn that the zone for work,\n\n316\n00:15:26.530 --> 00:15:30.160\nI haven't configured it actually, I don't\nknow what's got approved or whatever.\n\n317\n00:15:30.160 --> 00:15:34.690\nSo, I'm gonna do a, oops sorry, --zone,\n\n318\n00:15:34.690 --> 00:15:40.540\nI'm gonna do a list all on that work zone,\nand I just wanna see what's approved.\n\n319\n00:15:40.540 --> 00:15:43.060\nAnd I can see a dhcpv6-client and ssh.\n\n320\n00:15:43.060 --> 00:15:45.870\nThat's all that's approved\non work right now, okay?\n\n321\n00:15:45.870 --> 00:15:48.870\nSo, let's pretend that this\nis gonna be a web server.\n\n322\n00:15:48.870 --> 00:15:52.774\nThis is a web server, so\nI need to allow HTTP and HTTPS in.\n\n323\n00:15:52.774 --> 00:15:56.308\nOr, I wanna restrict it so\nthat only certainly people can connect in.\n\n324\n00:15:56.308 --> 00:15:58.592\nI need to start putting in some rules.\n\n325\n00:15:58.592 --> 00:16:02.320\nWell adding rules here is\nnot a difficult thing to do.\n\n326\n00:16:02.320 --> 00:16:07.148\nWe continue to use firewall-cmd and we can\nmodify that work zone to have exactly what\n\n327\n00:16:07.148 --> 00:16:10.560\nwe need in there and\nwe'll be in business, right?\n\n328\n00:16:10.560 --> 00:16:15.680\nSo if I wanna add services to it\nI can add them by port number,\n\n329\n00:16:15.680 --> 00:16:16.470\nif I know the port number,\n\n330\n00:16:16.470 --> 00:16:20.370\nbut there is a lot of services that are\npredefined that are already in the system.\n\n331\n00:16:20.370 --> 00:16:24.522\nIf you do a firewall-cmd--get -services,\n\n332\n00:16:24.522 --> 00:16:31.595\nyou'll see the list of services that\nare predefined, and it's quite the list.\n\n333\n00:16:31.595 --> 00:16:34.430\nAs you get this whole output and,\nand, I'm talking about web traffic.\n\n334\n00:16:34.430 --> 00:16:37.800\nSo if I look I can find HTTP and HTTPS.\n\n335\n00:16:39.070 --> 00:16:42.623\nBut what if I'm running a web proxy and\nit's on port 8080?\n\n336\n00:16:42.623 --> 00:16:44.460\nWell, that's not standard,\nit's not gonna be in the list.\n\n337\n00:16:44.460 --> 00:16:46.210\nSo that I would have to add by port.\n\n338\n00:16:46.210 --> 00:16:51.420\nBut if I know the protocol and it's here\nin this list I can use this or, hey,\n\n339\n00:16:51.420 --> 00:16:56.160\nlet's say you have 100 servers, and\nyou want your custom protocol to be known.\n\n340\n00:16:56.160 --> 00:16:58.120\nYou can actually add it to this list.\n\n341\n00:16:58.120 --> 00:17:00.620\nThese are all just XML files\nthat it's pulling from.\n\n342\n00:17:00.620 --> 00:17:05.320\nIf you ever get bored [LAUGH] you can take\na look at it, I know I get bored a lot.\n\n343\n00:17:05.320 --> 00:17:09.838\nIf you go into\n/usr/lib/firewalld/services, so\n\n344\n00:17:09.838 --> 00:17:14.647\nif you browse into that folder and\nyou take a look around and\n\n345\n00:17:14.647 --> 00:17:17.830\nthere is to much XML files.\n\n346\n00:17:17.830 --> 00:17:22.743\nAnd I can look in here and\nI can find http for example, and\n\n347\n00:17:22.743 --> 00:17:27.480\nif we open up that file,\nthere's not much to it.\n\n348\n00:17:27.480 --> 00:17:29.320\nIt's an XML file.\n\n349\n00:17:29.320 --> 00:17:31.980\nThe bulk of it is a description,\nit's completely optional, so\n\n350\n00:17:31.980 --> 00:17:33.100\nyou don't need to have that.\n\n351\n00:17:33.100 --> 00:17:37.470\nSo the rest of it is just a short name and\nthe protocol.\n\n352\n00:17:37.470 --> 00:17:42.039\nI can do this one as tcp port 80,\nand that's it, right?\n\n353\n00:17:42.039 --> 00:17:47.559\nIf I were to look ftp, it's a little bit\ndifferent, because ftp uses port 21 for\n\n354\n00:17:47.559 --> 00:17:52.452\nits connection, and then it gets all\nweird and does that passive stuff.\n\n355\n00:17:52.452 --> 00:17:56.100\nSo now we have to have a connection\ntrack that's being called.\n\n356\n00:17:56.100 --> 00:17:57.650\nSo this one's a little more advanced.\n\n357\n00:17:57.650 --> 00:18:00.870\nSome of them geek complex but\nas far as just individual ports,\n\n358\n00:18:00.870 --> 00:18:04.280\nyou just add the ports one after the other\nand here's all the ports that you need.\n\n359\n00:18:04.280 --> 00:18:07.225\nSo you could create a a custom one\nof these but don't do it in here.\n\n360\n00:18:07.225 --> 00:18:10.786\n&gt;&gt; LAUGH] If you do it in this\nfolder then things get messy, right.\n\n361\n00:18:10.786 --> 00:18:15.230\nSo if you're creating your\nown custom protocols and\n\n362\n00:18:15.230 --> 00:18:19.371\nyou want them defined so\nyou can use them by name,\n\n363\n00:18:19.371 --> 00:18:24.322\ntrhe place to put them is\n/etc/firewalld/services and\n\n364\n00:18:24.322 --> 00:18:28.905\nthe odds are that,\nit;s not gonna like this, is it?\n\n365\n00:18:28.905 --> 00:18:30.150\n[LAUGH] There you go.\n\n366\n00:18:30.150 --> 00:18:36.765\nThe odds are that that folder's gonna\nbe empty, and let me just elevate here.\n\n367\n00:18:36.765 --> 00:18:40.661\nI'm gonna break the rules and\nget into /etc/\n\n368\n00:18:40.661 --> 00:18:41.493\n&gt;&gt; Etcs\n\n369\n00:18:41.493 --> 00:18:43.187\n&gt;&gt; We'll it's kinda protected,\n\n370\n00:18:43.187 --> 00:18:46.699\ncuz they don't want malicious user or\nwhatever jumping in here and\n\n371\n00:18:46.699 --> 00:18:48.740\nstarting to mess with this stuff.\n\n372\n00:18:48.740 --> 00:18:51.520\nBut if you go into\n/etc/firewalld/services/ and\n\n373\n00:18:51.520 --> 00:18:53.750\ntake a look it's empty.\n\n374\n00:18:53.750 --> 00:18:57.550\nAnd here's where you can create\nXML files for your own services.\n\n375\n00:18:57.550 --> 00:19:02.170\nAnd what I normally do,\ncuz I don't wanna exert a ton of effort,\n\n376\n00:19:02.170 --> 00:19:04.980\nis I just copy one of the existing ones.\n\n377\n00:19:04.980 --> 00:19:06.300\nAnd copy it right into here, so\n\n378\n00:19:06.300 --> 00:19:10.542\nI might take /usr/lib/\n&gt;&gt; Tom you love Microsoft\n\n379\n00:19:10.542 --> 00:19:11.316\nexams, don't you?\n\n380\n00:19:11.316 --> 00:19:13.148\n&gt;&gt; I know.\n&gt;&gt; With the least amount of administrative\n\n381\n00:19:13.148 --> 00:19:14.230\neffort please try to do this.\n\n382\n00:19:14.230 --> 00:19:15.075\n&gt;&gt; That's my goal.\n\n383\n00:19:15.075 --> 00:19:17.165\n&gt;&gt; [LAUGH]\n&gt;&gt; So I'm gonna take something\n\n384\n00:19:17.165 --> 00:19:20.473\nlike http.xml and\nI'm gonna copy right down here and\n\n385\n00:19:20.473 --> 00:19:22.910\nmaybe I got some kinda custom service.\n\n386\n00:19:22.910 --> 00:19:25.232\nSo I'll just drop in a custom.xml and\n\n387\n00:19:25.232 --> 00:19:28.460\nthen what I can do is I can\nedit that custom xml file.\n\n388\n00:19:28.460 --> 00:19:33.148\nI can just come in here and\nset what I want that name to be and\n\n389\n00:19:33.148 --> 00:19:39.133\nall the other good stuff so it's gonna\nbe my custom service or whatever.\n\n390\n00:19:39.133 --> 00:19:43.451\nWe can get rid of that because that's just\na waste of space, and then I can come in\n\n391\n00:19:43.451 --> 00:19:47.465\nhere and say that is TCP port 80, or\nin my case it would be like 8080.\n\n392\n00:19:47.465 --> 00:19:51.776\nAnd so now I've got a custom service\ndefined, and it's right here and so when\n\n393\n00:19:51.776 --> 00:19:56.573\nthe firewall service starts, it'll read\nthis and it'll add it to the service list.\n\n394\n00:19:56.573 --> 00:19:58.170\nBut I do need to restart the firewall for\nthat to happen.\n\n395\n00:19:58.170 --> 00:19:58.930\nSo you can add these in.\n\n396\n00:19:58.930 --> 00:20:02.120\nThat's really useful if you've got 100\nservers, you can have this as part of your\n\n397\n00:20:02.120 --> 00:20:04.920\nbaked in config that gets\ndropped onto the system and\n\n398\n00:20:04.920 --> 00:20:07.410\nnow they can work with that custom\nservice very easily in the firewall.\n\n399\n00:20:07.410 --> 00:20:09.290\nSo you can certainly\ndefine those on your own.\n\n400\n00:20:09.290 --> 00:20:13.025\n&gt;&gt; And these are all for\nincoming connections, right?\n\n401\n00:20:13.025 --> 00:20:15.816\nMy machine itself has allowed just to\nsend anything out that it wants to any\n\n402\n00:20:15.816 --> 00:20:16.780\nport it wants.\n\n403\n00:20:16.780 --> 00:20:19.450\nThis is saying,\nnow I'm allowing things to come back in.\n\n404\n00:20:19.450 --> 00:20:23.660\n&gt;&gt; Right, and that's a little different\ncuz IP tables you could actually manage\n\n405\n00:20:23.660 --> 00:20:26.830\nboth directions file or do by default\nreally just the incoming side.\n\n406\n00:20:26.830 --> 00:20:30.479\nAnd what they found is that nobody ever\nreally restricts us from things going\n\n407\n00:20:30.479 --> 00:20:31.399\noutbound anyway.\n\n408\n00:20:31.399 --> 00:20:33.870\nThere's really just a few\nscenarios where you do that.\n\n409\n00:20:33.870 --> 00:20:36.300\n&gt;&gt; So, that functionality\nis not enabled by default.\n\n410\n00:20:36.300 --> 00:20:38.110\nSo it's really just incoming connections.\n\n411\n00:20:38.110 --> 00:20:40.290\nAnd these files,\nI don't even need to create these files.\n\n412\n00:20:40.290 --> 00:20:44.113\nIt's just to help me remember like,\nwhy do I have these five ports open?\n\n413\n00:20:44.113 --> 00:20:47.150\nWell instead of those five ports, now I\njust have an entry for that one protocol,\n\n414\n00:20:47.150 --> 00:20:50.184\nand it's easy to say like, and it's\nthere because I've got a SIP phone, or\n\n415\n00:20:50.184 --> 00:20:51.230\nsomething like that, so.\n\n416\n00:20:52.610 --> 00:20:54.380\nSo, how do we add rules?\n\n417\n00:20:54.380 --> 00:20:56.283\nHow do we enable things?\n\n418\n00:20:56.283 --> 00:21:00.093\nWell, enabling things is done using the\nfirewall cmd that we've been using this\n\n419\n00:21:00.093 --> 00:21:00.720\nwhole time.\n\n420\n00:21:00.720 --> 00:21:05.310\nSo, if I do a firewall-cmd and,\nI need to tell it a zone.\n\n421\n00:21:05.310 --> 00:21:07.442\nAnd so here's where I tell it\nwhich zone I'm gonna mess with,\n\n422\n00:21:07.442 --> 00:21:08.683\nI'm gonna mess with the work zone.\n\n423\n00:21:08.683 --> 00:21:11.480\nAnd then I need to tell\nit what I want to enable.\n\n424\n00:21:11.480 --> 00:21:16.282\nAnd if the service if defined,\nI can just say dash, dash,\n\n425\n00:21:16.282 --> 00:21:21.588\nadd -service= and what it's going to be so\nmaybe I'll do FTP.\n\n426\n00:21:21.588 --> 00:21:25.060\nAnd so I'll get that one added and\nI'll get an error screwed something.\n\n427\n00:21:25.060 --> 00:21:31.350\nI said add service, I typed add server,\nthere we go, and I added it, success.\n\n428\n00:21:32.620 --> 00:21:35.170\nWell sort of success.\n\n429\n00:21:35.170 --> 00:21:40.540\nIf i do a, I forgot I'm elevated\npermissions and snot a sudo anymore.\n\n430\n00:21:40.540 --> 00:21:47.679\nIf i do a get-zone=work --list-all,\n\n431\n00:21:47.679 --> 00:21:51.453\nand i take a look at it.\n\n432\n00:21:51.453 --> 00:21:54.201\nLet's see, what did i screw up here?\n\n433\n00:21:54.201 --> 00:21:59.010\nShoot, I just need zone, There we go.\n\n434\n00:21:59.010 --> 00:22:01.840\nI can look and\nsure enough ftp is added to the services.\n\n435\n00:22:01.840 --> 00:22:04.170\nSo that's what I wanted, I'm done.\n\n436\n00:22:04.170 --> 00:22:07.600\nWell, my problem is if I reboot,\nif I reboot,\n\n437\n00:22:07.600 --> 00:22:10.530\nthat's not part of the config\nthat goes away and I lose it.\n\n438\n00:22:10.530 --> 00:22:15.013\nSo if I want that to be permanent\nI need to modify my last line and\n\n439\n00:22:15.013 --> 00:22:19.078\nI just need to add- -permanent\nat some point in there.\n\n440\n00:22:19.078 --> 00:22:23.900\nAnd now, even if I reboot,\nthat service will be open and available.\n\n441\n00:22:23.900 --> 00:22:28.610\nSo bear that in mind,\nthat that- -permanent is pretty important.\n\n442\n00:22:28.610 --> 00:22:31.370\nYou're gonna get in the habit of\npretty much always doing- -permanent,\n\n443\n00:22:31.370 --> 00:22:33.600\njust to make sure that\nthe stuff gets saved.\n\n444\n00:22:33.600 --> 00:22:35.920\nBut if I just wanted to\ntemporarily open a port, I could,\n\n445\n00:22:35.920 --> 00:22:39.940\nand just leave off the --permanent part,\nand then remove it when you're done.\n\n446\n00:22:39.940 --> 00:22:44.150\nI did a --add-service, you've also got\n--remove-service to take them out and\n\n447\n00:22:44.150 --> 00:22:45.250\nthen you're back in business.\n\n448\n00:22:45.250 --> 00:22:48.270\n&gt;&gt; Don, if I've already written my rule\nand I forgot to do the --permanent,\n\n449\n00:22:48.270 --> 00:22:50.710\ndo I have to go back and\nrewrite the entire string out?\n\n450\n00:22:50.710 --> 00:22:54.460\nOr can I just say, whatever you've\ngot now, make it permanent.\n\n451\n00:22:54.460 --> 00:22:57.620\n&gt;&gt; There's not really a way to single out\na rule without typing the whole thing.\n\n452\n00:22:57.620 --> 00:23:01.250\nBut, you just put your command history\nback up and add --perma, it's not so bad.\n\n453\n00:23:01.250 --> 00:23:02.991\nBut if it was done a while ago,\n\n454\n00:23:02.991 --> 00:23:06.079\nyeah you're gonna have to\ntype out the whole thing.\n\n455\n00:23:06.079 --> 00:23:09.198\nNow, I added a service by name there,\nI added FTP.\n\n456\n00:23:09.198 --> 00:23:12.650\nIf I have a custom service, I can define\nan XML file and I can add it by name too,\n\n457\n00:23:12.650 --> 00:23:14.540\nor I could just add it by port, right?\n\n458\n00:23:14.540 --> 00:23:15.500\nAnd it's not much different.\n\n459\n00:23:15.500 --> 00:23:18.458\nLet me bring up that example again and\n\n460\n00:23:18.458 --> 00:23:23.619\ninstead of --add-service,\nI'm gonna say --add-port.\n\n461\n00:23:23.619 --> 00:23:28.860\nAnd then from here, I can type in\nthe port number and the protocol.\n\n462\n00:23:28.860 --> 00:23:33.781\nI gotta specify whether it's TCP or\nUDP, so\n\n463\n00:23:33.781 --> 00:23:41.230\nI'm gonna say --add-port\nequals followed by 8080/tcp.\n\n464\n00:23:41.230 --> 00:23:45.460\nSo 8080 is the port number,\nand then /tcp is the protocol.\n\n465\n00:23:45.460 --> 00:23:49.938\nAnd that's gonna add that individual\nport and get that one punched on.\n\n466\n00:23:49.938 --> 00:23:51.487\nYou can do ranges also.\n\n467\n00:23:51.487 --> 00:23:56.648\nSo, for example, a SIP phone, I might\nhave a block of UDP ports available for\n\n468\n00:23:56.648 --> 00:23:59.837\nSIP to use so\nI might want to come in here and say.\n\n469\n00:23:59.837 --> 00:24:04.568\nAdd-port 50,000 through 50,010, so\n\n470\n00:24:04.568 --> 00:24:11.180\nthere's a block of 11 ports right there,\nand /udp, right?\n\n471\n00:24:11.180 --> 00:24:14.380\nSo now it's a range of\nports that I'm adding.\n\n472\n00:24:14.380 --> 00:24:18.510\nAnd when we go and\ntake a look at the workzone, and\n\n473\n00:24:18.510 --> 00:24:20.360\nwe pull that information back up.\n\n474\n00:24:20.360 --> 00:24:24.113\nI'll be able to see in here what's\nbeen added and what hasn't.\n\n475\n00:24:24.113 --> 00:24:29.954\nNow, notice how the ports aren't showing\nup even though I just added it, right?\n\n476\n00:24:29.954 --> 00:24:33.082\nI did dash dash permanent,\nit's part of the config but\n\n477\n00:24:33.082 --> 00:24:35.770\nit hasn't made it into the firewall yet.\n\n478\n00:24:35.770 --> 00:24:38.480\nSo I can either rerun those commands\nwithout the permanent to bring it\n\n479\n00:24:38.480 --> 00:24:39.920\nactive right now.\n\n480\n00:24:39.920 --> 00:24:43.860\nOr I can do a firewall-cmd- -reload, and\n\n481\n00:24:43.860 --> 00:24:47.930\nthat's gonna cause it to reload and\n\n482\n00:24:47.930 --> 00:24:52.440\nwhen it's done, I can come in here and\nnow all my ports are showing up.\n\n483\n00:24:52.440 --> 00:24:57.570\nThe individual port that I approved As\nwell as the range of ports, right there.\n\n484\n00:24:57.570 --> 00:25:03.702\nSo, pretty easy to add that stuff in,\nand I did //add/service and\n\n485\n00:25:03.702 --> 00:25:08.585\n//add/port, there's also //add/protocol.\n\n486\n00:25:08.585 --> 00:25:13.574\nIf I just wanna approve All TCP, or\nall IP, all IPV6, you can do dash dash\n\n487\n00:25:13.574 --> 00:25:17.941\nprotocol, or dash dash add dash\nprotocol to do the whole thing.\n\n488\n00:25:17.941 --> 00:25:18.482\n&gt;&gt; Lot of dashes.\n\n489\n00:25:18.482 --> 00:25:19.997\n[LAUGH]\n&gt;&gt; I know it gets a little crazy.\n\n490\n00:25:19.997 --> 00:25:21.275\nThank BSD for that.\n\n491\n00:25:21.275 --> 00:25:27.350\n&gt;&gt; Now, Don, I saw the con track in there,\nthe connection tracking.\n\n492\n00:25:27.350 --> 00:25:30.800\nIs this a state full firewall,\nare we able to do that?\n\n493\n00:25:30.800 --> 00:25:33.120\nAnd I know that that might be beyond\nwhat we're trying to show today,\n\n494\n00:25:33.120 --> 00:25:35.760\nbut-\n&gt;&gt; So it is a safer firewall that if\n\n495\n00:25:35.760 --> 00:25:41.580\nyou're allowing something in it assumes\nyou wanna be able to reply back.\n\n496\n00:25:41.580 --> 00:25:44.690\nNow that's not blocking reply backs\nanyway, but if you talk to somebody on\n\n497\n00:25:44.690 --> 00:25:47.660\nthe outside it assumes you wanna\nallow them to respond to you, so\n\n498\n00:25:47.660 --> 00:25:49.060\nit does allow that.\n\n499\n00:25:49.060 --> 00:25:52.750\nAs far as that connection tracking,\nsome of that is built into\n\n500\n00:25:52.750 --> 00:25:55.990\nthe system with these custom rules,\nlike FTP has a custom rule built in.\n\n501\n00:25:55.990 --> 00:25:58.040\nYou can develop your own and\nreally get in there.\n\n502\n00:25:58.040 --> 00:26:01.060\nIt does get advanced and complex fast,\nmost of us don't need that but\n\n503\n00:26:01.060 --> 00:26:03.530\nthat functionality is there,\nit is a staple firewall.\n\n504\n00:26:03.530 --> 00:26:05.990\nIt's a drop-in replacement for IP tables.\n\n505\n00:26:05.990 --> 00:26:08.780\nIt does everything that\nwe had in IP tables\n\n506\n00:26:08.780 --> 00:26:11.670\njust right here through a somewhat\neasier to use interface.\n\n507\n00:26:11.670 --> 00:26:15.053\nAnd then remember you've got that\nGUI also which is pretty handy.\n\n508\n00:26:15.053 --> 00:26:19.870\nSo if I jump back into sundry and\nfirewall, I can pull this up.\n\n509\n00:26:21.300 --> 00:26:25.130\nAnd all the stuff that I've been\nmessing with is gonna show up here.\n\n510\n00:26:25.130 --> 00:26:27.660\nSee my eno adaptor is in zone work.\n\n511\n00:26:27.660 --> 00:26:31.278\nAnd if I go into zones and I go down\nto work, I can jump over here and\n\n512\n00:26:31.278 --> 00:26:35.701\nI can see the services like the dhcpv6\nclient that was enabled if I go to ports,\n\n513\n00:26:35.701 --> 00:26:37.596\nthere's the ports that I added.\n\n514\n00:26:37.596 --> 00:26:40.515\nI haven't added any protocol or\nsources to mess with, but\n\n515\n00:26:40.515 --> 00:26:42.910\nall those things are right\nthere in the GUI too.\n\n516\n00:26:42.910 --> 00:26:46.774\nSo it's just a all around more\nrobust solution than iptables was,\n\n517\n00:26:46.774 --> 00:26:48.638\nfrom a usability perspective.\n\n518\n00:26:48.638 --> 00:26:49.790\n&gt;&gt; Yeah, and that makes sense.\n\n519\n00:26:49.790 --> 00:26:54.400\nI'm a long term iptables user,\nDon has used iptables as well.\n\n520\n00:26:54.400 --> 00:26:57.332\nReally if you've been working in\na Linux environment, whatsoever.\n\n521\n00:26:57.332 --> 00:27:01.820\nIP tables has been your firewall for\nquite some time, and he's totally right.\n\n522\n00:27:01.820 --> 00:27:05.857\nIt gets a little convoluted with\nthe switches and the read domain page.\n\n523\n00:27:05.857 --> 00:27:09.709\nIt can be a little daunting, even though\nwe had to do a lot of dash-dash-this and\n\n524\n00:27:09.709 --> 00:27:10.750\ndash-dash-that.\n\n525\n00:27:10.750 --> 00:27:14.360\nHuman readable words make this\na whole lot easier to work with.\n\n526\n00:27:14.360 --> 00:27:16.960\nAnd Don,\nyou've done a fantastic job as normal\n\n527\n00:27:16.960 --> 00:27:19.410\nof showing us how to at least\nget our feet wet in it.\n\n528\n00:27:19.410 --> 00:27:22.030\n&gt;&gt; Yeah, the hardest part\nwith firewall cmd is simply\n\n529\n00:27:22.030 --> 00:27:23.630\nremembering the command line.\n\n530\n00:27:23.630 --> 00:27:25.950\nThere's a lot of dash dash this and\ndash dash that.\n\n531\n00:27:25.950 --> 00:27:28.793\nBut you can pull up the manual file for\nfirewall dash cmd.\n\n532\n00:27:28.793 --> 00:27:31.153\nIt is the default firewall in\nRed Hat Enterprise Linux, so\n\n533\n00:27:31.153 --> 00:27:34.310\nwhether you're setting up a server or\nworkstation it's there.\n\n534\n00:27:34.310 --> 00:27:38.180\nEasy to work with, no more mucking about\non the config files if you don't want to.\n\n535\n00:27:38.180 --> 00:27:40.865\nYou can do everything right from\nthe command line, it's pretty easy to use.\n\n536\n00:27:40.865 --> 00:27:41.417\n&gt;&gt; All right.\n\n537\n00:27:41.417 --> 00:27:45.651\nWell now,\nwe've got our feed web with firewall D.\n\n538\n00:27:45.651 --> 00:27:49.706\nAnd that's kind of a funny play\non words there or lit, so fire.\n\n539\n00:27:49.706 --> 00:27:50.835\nAlways a good time.\n\n540\n00:27:50.835 --> 00:27:53.655\nThat being said, it obviously\nis the end of our episode here,\n\n541\n00:27:53.655 --> 00:27:54.600\ncuz I'm getting punchy.\n\n542\n00:27:54.600 --> 00:27:56.815\n&gt;&gt; [LAUGH]\n&gt;&gt; So we're gonna call it a day.\n\n543\n00:27:56.815 --> 00:27:57.725\nThanks for watching.\n\n544\n00:27:57.725 --> 00:28:00.745\nSigning off for IT Pro TV,\nI've been your host, Daniel Lawry.\n\n545\n00:28:00.745 --> 00:28:01.458\n&gt;&gt; And I'm Dom.\n\n546\n00:28:01.458 --> 00:28:03.591\nWe'll see you next time.\n\n547\n00:28:03.591 --> 00:28:09.774\n[MUSIC]\n\n548\n00:28:09.774 --> 00:28:12.706\nThank you for watching ITProTV.\n\n",
          "vimeoId": "194037743"
        },
        {
          "description": "In this episode, Daniel and Don demonstrate how to take the already secure SSH and secure it even further. They will show you techniques for hardening both the SSH server and clients including changing the default port, restricting who can login, and configuring key-based authentication.",
          "length": "1968",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-4-4-securing_ssh-120116.00_32_32_25.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-4-4-securing_ssh-120116.00_32_32_25.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-4-4-securing_ssh-120116.00_32_32_25.Still001-sm.jpg",
          "title": "Securing SSH",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:03.262\nWelcome to ITProTV,\n\n2\n00:00:03.262 --> 00:00:08.233\nI'm your host Don [CROSSTALK] [SOUND]\n\n3\n00:00:08.233 --> 00:00:12.203\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.203 --> 00:00:14.047\n&gt;&gt; All right, greetings everyone, and\n\n5\n00:00:14.047 --> 00:00:16.950\nwelcome to another great\nepisode of ITProTV.\n\n6\n00:00:16.950 --> 00:00:19.834\nI'm your host Daniel Lowrie,\nand in today's episode,\n\n7\n00:00:19.834 --> 00:00:23.850\nwe are jumping back into our\nRed Hat Enterprise Linux Version 7 series.\n\n8\n00:00:23.850 --> 00:00:27.000\nJoining us back for that action\nis our good friend, Mr Don Pezet.\n\n9\n00:00:27.000 --> 00:00:27.990\nDon, how's it going today?\n\n10\n00:00:27.990 --> 00:00:29.080\n&gt;&gt; It is going swell, Daniel,\n\n11\n00:00:29.080 --> 00:00:31.880\nready to dive right back into\nRed Hat Enterprise Linux security.\n\n12\n00:00:31.880 --> 00:00:35.230\nAnd in this episode we're gonna\ntalk about something that is not so\n\n13\n00:00:35.230 --> 00:00:36.570\nmuch Red Hat exclusive.\n\n14\n00:00:36.570 --> 00:00:39.350\nI know I've tried to focus on\nthings that are available in\n\n15\n00:00:39.350 --> 00:00:40.620\nRHEL that make it special.\n\n16\n00:00:40.620 --> 00:00:45.650\nBut this is one that is just really\nsuper important for any distro, really.\n\n17\n00:00:45.650 --> 00:00:48.070\nAnd that's securing SSH.\n\n18\n00:00:48.070 --> 00:00:53.590\nSSH, the secure shell protocol,\nit is installed and enabled in, as\n\n19\n00:00:53.590 --> 00:00:57.350\nfar as I'm aware, every variation of the\ninstallation of Red Hat Enterprise Linux.\n\n20\n00:00:57.350 --> 00:01:01.710\nSo when you install it,\nyou've got secure shell up running and\n\n21\n00:01:01.710 --> 00:01:04.400\nlistening for people to open remote\nshell connections to your system.\n\n22\n00:01:04.400 --> 00:01:06.540\nNow it is secure, right?\n\n23\n00:01:06.540 --> 00:01:07.965\nIt's in the name, secure shell, right?\n\n24\n00:01:07.965 --> 00:01:08.664\n&gt;&gt; So they say.\n\n25\n00:01:08.664 --> 00:01:10.480\n&gt;&gt; So it's gotta be secure.\n\n26\n00:01:10.480 --> 00:01:12.340\nIt's definitely better than Telnet,\nthat's for\n\n27\n00:01:12.340 --> 00:01:17.550\ncertain, but the default config\nis not as secure as it could be.\n\n28\n00:01:17.550 --> 00:01:21.775\nSo whenever I bring up a new Red Hat box,\none of the first things that I do is I sit\n\n29\n00:01:21.775 --> 00:01:25.155\ndown and I try and tighten up\nthe security of SSH a little bit and\n\n30\n00:01:25.155 --> 00:01:27.368\nmake it run as securely as I can, right?\n\n31\n00:01:27.368 --> 00:01:30.152\nSo that's what we're gonna take a look\nat right here, is how we do that,\n\n32\n00:01:30.152 --> 00:01:32.314\nhow we secure SSH and\nget it running the way that we want.\n\n33\n00:01:32.314 --> 00:01:35.261\nSo I'm gonna take my work\nstation here that I've got,\n\n34\n00:01:35.261 --> 00:01:37.580\nI'm running Red Hat Enterprise Linux 7.\n\n35\n00:01:37.580 --> 00:01:40.140\nAnd I haven't messed with SSH at all, but\n\n36\n00:01:40.140 --> 00:01:42.900\nI know it's running on\nhere because it always is.\n\n37\n00:01:42.900 --> 00:01:48.625\nIf I drop into a terminal and\njust do a quick little test here,\n\n38\n00:01:48.625 --> 00:01:55.603\nright, if I do an SSH with my\nusername into my local IP 127.00.1.\n\n39\n00:01:55.603 --> 00:01:59.006\nIf I go in and try to remote into that,\nwhen I go to connect,\n\n40\n00:01:59.006 --> 00:02:03.180\nI'm gonna get a message that says\nverify the key fingerprint, right?\n\n41\n00:02:03.180 --> 00:02:06.110\nSo is this the server you think it is?\n\n42\n00:02:06.110 --> 00:02:10.360\nWell, I'm sitting on the server, so I know\nit is the server I'm trying to connect to.\n\n43\n00:02:10.360 --> 00:02:14.410\nBut in real life land, we'd wanna make\nsure that this was the actual server.\n\n44\n00:02:14.410 --> 00:02:16.881\nBecause otherwise,\nthe next thing it asks for is my password.\n\n45\n00:02:16.881 --> 00:02:20.955\nAnd if I say yes and I'm on some false\nserver, I could start sending my password\n\n46\n00:02:20.955 --> 00:02:23.793\nto a server that I don't trust,\nthat I don't know, so\n\n47\n00:02:23.793 --> 00:02:28.070\nwe need to make sure that we are connected\nto who we think we're connecting to.\n\n48\n00:02:28.070 --> 00:02:30.640\n&gt;&gt; Don, how would we know if\nthat key was correct or not?\n\n49\n00:02:30.640 --> 00:02:35.570\n&gt;&gt; All right, so when you enable SSH,\nit actually shows you the fingerprint.\n\n50\n00:02:35.570 --> 00:02:36.640\nBut we didn't enable it, did we?\n\n51\n00:02:36.640 --> 00:02:37.407\n&gt;&gt; No, we did not.\n\n52\n00:02:37.407 --> 00:02:39.330\n&gt;&gt; Part of the default install,\nso we never saw that.\n\n53\n00:02:39.330 --> 00:02:43.510\nSo, [COUGH] the fingerprint is actually\nbeing calculated off of a key that's right\n\n54\n00:02:43.510 --> 00:02:44.670\non your system.\n\n55\n00:02:44.670 --> 00:02:50.370\nSo /etc/ssh is a folder that contains\na lot of the information about ssh,\n\n56\n00:02:50.370 --> 00:02:54.290\nand that key, that ECDSA key that\nwas being displayed right there,\n\n57\n00:02:54.290 --> 00:02:56.510\nis located right in that folder.\n\n58\n00:02:56.510 --> 00:02:58.565\nNow here, let me see if I can\nkinda browse and find it.\n\n59\n00:02:58.565 --> 00:03:02.180\nActually, let me elevate my\npermissions real quick because\n\n60\n00:03:02.180 --> 00:03:05.090\nit doesn't let non-admins\nget into that stuff.\n\n61\n00:03:05.090 --> 00:03:09.454\nSo, I'm gonna bump into /etc/ssh.\n\n62\n00:03:09.454 --> 00:03:12.483\nAnd if you poke around in there,\nyou'll see a bunch of files.\n\n63\n00:03:12.483 --> 00:03:17.005\nAnd we've got ssh_host_ecdsa key and\n\n64\n00:03:17.005 --> 00:03:20.480\necdsa_key.pub, right?\n\n65\n00:03:20.480 --> 00:03:23.890\nSo that's the public key and the private\nkey that's being used for this server.\n\n66\n00:03:23.890 --> 00:03:27.240\nNow public key is the one that's being\npresented to us when we connect, and\n\n67\n00:03:27.240 --> 00:03:29.380\nit's the fingerprint of that\nkey that's asking us to verify.\n\n68\n00:03:29.380 --> 00:03:30.970\nSo we can always compare that and\n\n69\n00:03:30.970 --> 00:03:34.790\nmake sure it is the right key for\nus, all right?\n\n70\n00:03:34.790 --> 00:03:38.570\nNow when we fire up a server, a lot of\nthe stuff is already configured for us.\n\n71\n00:03:38.570 --> 00:03:39.900\nSo we didn't even have to\nknow about these keys.\n\n72\n00:03:39.900 --> 00:03:41.810\nIt's just there and\nit's running, and technically,\n\n73\n00:03:41.810 --> 00:03:45.560\nI'm still SSHed in, so\nlet me get out of that, there.\n\n74\n00:03:45.560 --> 00:03:49.890\nSo what we need to do is we need to\ntweak the way the security works.\n\n75\n00:03:49.890 --> 00:03:52.000\nLet me show you some of the problems\nthat we have by default.\n\n76\n00:03:52.000 --> 00:03:55.660\nBy default, our server is listening\non port 22 for connections coming in.\n\n77\n00:03:55.660 --> 00:03:58.200\nIt's opened up on the firewall,\nfirewall D.\n\n78\n00:03:58.200 --> 00:04:03.150\nAnd anybody in the entire planet could\nconnect to this server on port 22 and\n\n79\n00:04:03.150 --> 00:04:04.520\npresent credentials.\n\n80\n00:04:04.520 --> 00:04:06.730\nNow is that a problem?\n\n81\n00:04:06.730 --> 00:04:07.270\nIt depends.\n\n82\n00:04:07.270 --> 00:04:08.662\n&gt;&gt; I'm already running\nHydra against it right now.\n\n83\n00:04:08.662 --> 00:04:10.427\n&gt;&gt; Yeah.\n&gt;&gt; [LAUGH]\n\n84\n00:04:10.427 --> 00:04:11.463\n&gt;&gt; Somebody could attempt to brute\n\n85\n00:04:11.463 --> 00:04:12.080\nforce it, right?\n\n86\n00:04:12.080 --> 00:04:13.950\nAnybody could connect and\nbuild a secure tunnel.\n\n87\n00:04:13.950 --> 00:04:15.860\nAnd then they start throwing usernames and\npasswords.\n\n88\n00:04:15.860 --> 00:04:17.880\nSo we need things like fail2ban and\n\n89\n00:04:17.880 --> 00:04:20.530\nother protocols that will stop people\nfrom brute forcing a password.\n\n90\n00:04:20.530 --> 00:04:22.580\nAnd that stuff's turned on by default too.\n\n91\n00:04:22.580 --> 00:04:24.380\nBut we can certainly restrict that.\n\n92\n00:04:24.380 --> 00:04:28.275\nThe other thing is, if you're an attacker,\nI'll put you on the spot, Daniel,\n\n93\n00:04:28.275 --> 00:04:32.340\nif you're gonna attack my system,\nwhat user account would you target first?\n\n94\n00:04:32.340 --> 00:04:35.660\n&gt;&gt; Well, my ultimate goal is gonna\nbe root, that's what I want.\n\n95\n00:04:35.660 --> 00:04:38.190\nIt's the ultimate system, and\nI've been there, so that's what I want.\n\n96\n00:04:38.190 --> 00:04:40.120\n&gt;&gt; It's the one account you know exists,\n\n97\n00:04:40.120 --> 00:04:42.360\nyou don't know if there's\na dpezet account.\n\n98\n00:04:42.360 --> 00:04:45.027\nMaybe I called it Don Pezet, maybe I\njust called it Don, who knows, right?\n\n99\n00:04:45.027 --> 00:04:46.960\nBut root, you know root exists.\n\n100\n00:04:46.960 --> 00:04:47.990\nSo people are gonna target it.\n\n101\n00:04:47.990 --> 00:04:54.220\nAnd in RHEL 7 at least,\nthe root account is allowed to SSH in.\n\n102\n00:04:54.220 --> 00:04:57.860\nSo if I were to repeat my little\nexample there and try and\n\n103\n00:04:57.860 --> 00:04:59.077\nlog in as root-\n&gt;&gt; And\n\n104\n00:04:59.077 --> 00:05:01.950\nDon's username is always ladiesman2367,\nright?\n\n105\n00:05:01.950 --> 00:05:03.930\n&gt;&gt; Everybody knows that, right?\n\n106\n00:05:03.930 --> 00:05:07.050\nSo when I come in here and\npunch this in, I connect and\n\n107\n00:05:07.050 --> 00:05:09.370\nI'm logged in as root, right?\n\n108\n00:05:09.370 --> 00:05:11.450\nSo the root user is allowed to SSH in,\n\n109\n00:05:11.450 --> 00:05:13.410\na lot of other distros have\ndisabled that by default.\n\n110\n00:05:13.410 --> 00:05:15.310\nSo I probably wanna turn that off.\n\n111\n00:05:15.310 --> 00:05:18.660\nAnd I wanna go beyond that and\nnot only turn that off, but\n\n112\n00:05:18.660 --> 00:05:21.680\nchange who's allowed to\nSSH in in the first place.\n\n113\n00:05:21.680 --> 00:05:25.790\nAnd we can do all of that right\nthrough a simple little spot.\n\n114\n00:05:25.790 --> 00:05:31.377\nSo I'm gonna elevate my privileges again,\nand I'm going to edit a little file.\n\n115\n00:05:31.377 --> 00:05:39.800\nSo let me edit /etc/ssh/sshd_config.\n\n116\n00:05:39.800 --> 00:05:44.108\nIf you dive into that file, this is\nthe ssh demon and its configuration and\n\n117\n00:05:44.108 --> 00:05:47.480\nall the stuff that tells\nit how to do what it does.\n\n118\n00:05:47.480 --> 00:05:49.080\nAnd as you look through it,\n\n119\n00:05:49.080 --> 00:05:53.990\nthere's a number of things in here we can\ntweak to make our system more stable,\n\n120\n00:05:53.990 --> 00:05:57.750\nsecure, and just more hardened\nthan it is out of the box.\n\n121\n00:05:57.750 --> 00:06:00.440\nAnd the first one that I'm gonna look for\nis that root account.\n\n122\n00:06:00.440 --> 00:06:05.510\nIf you just do a quick search for root,\nyou'll find it real quick right here.\n\n123\n00:06:05.510 --> 00:06:08.610\nAnd the way this file is structured is\n\n124\n00:06:08.610 --> 00:06:12.280\nmost of the things in here are commented\nout, which means they don't take effect.\n\n125\n00:06:12.280 --> 00:06:16.030\nSo this line, PermitRootLogin yes,\nis commented out.\n\n126\n00:06:16.030 --> 00:06:17.590\nIt doesn't take effect, does it?\n\n127\n00:06:17.590 --> 00:06:21.420\nBut we just saw a minute ago\nthat it does work, right?\n\n128\n00:06:21.420 --> 00:06:25.330\nWhat they did at Red Hat, and\nthis was a great idea, is they said,\n\n129\n00:06:25.330 --> 00:06:29.240\nwe're gonna put all the defaults\nin the file, and comment them out.\n\n130\n00:06:29.240 --> 00:06:32.460\nSo you can look at this and see, and say\nall right, yeah, it's commented out, but\n\n131\n00:06:32.460 --> 00:06:36.330\nthe default is, yes,\nroot would be allowed to log in.\n\n132\n00:06:36.330 --> 00:06:38.610\nSo if I wanna change that,\nI've got two choices.\n\n133\n00:06:38.610 --> 00:06:42.430\nI could just edit this line, that's what I\nnormally do, but there's a lot of people\n\n134\n00:06:42.430 --> 00:06:45.720\nthat say, leave that there, so\nyou know what the default is.\n\n135\n00:06:45.720 --> 00:06:47.620\nAnd then just add another line.\n\n136\n00:06:47.620 --> 00:06:50.561\nAnd come in and say PermitRootLogin no.\n\n137\n00:06:50.561 --> 00:06:52.148\n&gt;&gt; That seems like a lot more typing,\nDon [LAUGH].\n\n138\n00:06:52.148 --> 00:06:55.277\n&gt;&gt; It is more typing,\nwhich is why I don't like it, but\n\n139\n00:06:55.277 --> 00:06:59.060\nit is nice though that you know okay,\nthat's not the default.\n\n140\n00:06:59.060 --> 00:07:02.870\nI've overridden the default, and this guy\nright up here, that one's got the default.\n\n141\n00:07:02.870 --> 00:07:06.330\nSo right here,\nI'm saying PermitRootLogin no,\n\n142\n00:07:06.330 --> 00:07:08.970\nthat's gonna disable that root\nlogin account, all right?\n\n143\n00:07:08.970 --> 00:07:14.080\nNow that's enough to secure the root\naccount, but I like to go a step further\n\n144\n00:07:14.080 --> 00:07:18.575\nbecause technically, anybody with a user\naccount on this system can connect in and\n\n145\n00:07:18.575 --> 00:07:20.920\nthere's a lot of stuff with user accounts.\n\n146\n00:07:20.920 --> 00:07:23.780\nAll the user account has to have is\na password, any account with a password.\n\n147\n00:07:23.780 --> 00:07:25.240\nNow why do I mention that?\n\n148\n00:07:25.240 --> 00:07:28.048\nWell, let me get out of this file for\na second.\n\n149\n00:07:28.048 --> 00:07:34.180\nIf you take a look at etc/passwd, that's\nwhere your user accounts are stored.\n\n150\n00:07:34.180 --> 00:07:37.650\nAnd you start looking down the list and\nyou see all these accounts, right?\n\n151\n00:07:37.650 --> 00:07:41.960\nAnd if you get down to, like me,\nI've got dpezet and there's an x here.\n\n152\n00:07:41.960 --> 00:07:44.180\nThat's where the password\nwould normally be stored.\n\n153\n00:07:44.180 --> 00:07:46.190\nFollowed by my ID and my account, right?\n\n154\n00:07:46.190 --> 00:07:48.651\nSo I'm allowed to connect\nin because of that.\n\n155\n00:07:48.651 --> 00:07:52.994\nSome of these systems, like tcpdump,\nit has a user account,\n\n156\n00:07:52.994 --> 00:07:56.012\nand look at its shell, /sbin/nologin.\n\n157\n00:07:56.012 --> 00:07:58.171\nSo if it tries to connect,\nwhat's gonna happen?\n\n158\n00:07:58.171 --> 00:08:01.953\nIt's not gonna work, but if you've\ninstalled third-party software it might\n\n159\n00:08:01.953 --> 00:08:04.140\nnot have it shell map to no login.\n\n160\n00:08:04.140 --> 00:08:07.140\nAnd if that happens,\nit could still try an SSH in and\n\n161\n00:08:07.140 --> 00:08:11.530\npotentially get a shell, or when you SSH,\nyou don't have to use a shell.\n\n162\n00:08:11.530 --> 00:08:14.580\nYou can just build a tunnel,\nto tunnel other access to the system and\n\n163\n00:08:14.580 --> 00:08:17.577\nthen even these no login one's pose\na risk in that scenario, right.\n\n164\n00:08:18.680 --> 00:08:23.230\nAnd if you take a look\ninside of /etc/shadow,\n\n165\n00:08:23.230 --> 00:08:26.410\nhere's where you can see whether\nsomebody actually has a password set.\n\n166\n00:08:26.410 --> 00:08:29.438\nAnd so if you look,\nsee how my account dpezet and\n\n167\n00:08:29.438 --> 00:08:34.140\nI've got this huge chunk of\nciphertext coming after it,right.\n\n168\n00:08:34.140 --> 00:08:35.706\nThat's how I know I have a password.\n\n169\n00:08:35.706 --> 00:08:38.653\nIf I look at tcpdump,\nsee how it has, exclamation point.\n\n170\n00:08:38.653 --> 00:08:40.758\nIt doesn't actually have a password,\nright.\n\n171\n00:08:40.758 --> 00:08:45.650\nIt's not blank, it's that it's not\ndesigned for interactive login so\n\n172\n00:08:45.650 --> 00:08:51.050\nit's not going to work, but as you\nskim through this list any service or\n\n173\n00:08:51.050 --> 00:08:56.090\nany application that does have\na password could potentially get in and\n\n174\n00:08:56.090 --> 00:08:58.110\nthat root user is right there.\n\n175\n00:08:58.110 --> 00:09:01.520\nI've already secured root by saying it's\nnot allowed to use SSH,but if you have\n\n176\n00:09:01.520 --> 00:09:04.290\nanybody else in this list,\nyou might wanna secure them too.\n\n177\n00:09:04.290 --> 00:09:08.690\nAnd the way to do everybody else is\na little bit different than root user.\n\n178\n00:09:08.690 --> 00:09:14.985\nSo, if I go back into\n/etc/ssh/sshd_config and\n\n179\n00:09:14.985 --> 00:09:18.820\nI'm gonna right back to\nour set that root user.\n\n180\n00:09:18.820 --> 00:09:23.540\nThere's another option we can specify\nin here that's not really documented,\n\n181\n00:09:23.540 --> 00:09:25.550\nit's not in here as a default.\n\n182\n00:09:25.550 --> 00:09:29.730\nAnd that's the AllowUsers entry.\n\n183\n00:09:29.730 --> 00:09:31.900\nAnd we can specify exactly who is allowed.\n\n184\n00:09:31.900 --> 00:09:36.060\nAnd so if I say, AllowUsers dpezet,\nthat's it, it's just me.\n\n185\n00:09:36.060 --> 00:09:39.890\nOnly me, I'm the only one allowed,\nnobody else is allowed to SSH in.\n\n186\n00:09:39.890 --> 00:09:43.100\nSo if they try and connect and\nthey provide any username other than mine,\n\n187\n00:09:43.100 --> 00:09:45.590\nit's gonna reject them out of hand\nwhether the password is right or\n\n188\n00:09:45.590 --> 00:09:47.120\nnot it's not gonna care, right.\n\n189\n00:09:47.120 --> 00:09:49.920\nSo that's a great way to lock that in and\nI can always add more people,\n\n190\n00:09:49.920 --> 00:09:53.840\nI wanna add Daniel or whoever else, I just\nstart punching in those other accounts.\n\n191\n00:09:53.840 --> 00:09:57.770\n&gt;&gt; Now Don if I wanted to go a little\nmore easy on the admin set of things,\n\n192\n00:09:57.770 --> 00:10:00.340\nam I allowed to add groups as well.\n\n193\n00:10:00.340 --> 00:10:02.190\nBecause adding people and\n\n194\n00:10:02.190 --> 00:10:06.940\ndeleting people from a list of people\ncan get very strenuous [LAUGH].\n\n195\n00:10:06.940 --> 00:10:09.860\n&gt;&gt; Well, I'm glad you brought\nit up because it is strenuous.\n\n196\n00:10:09.860 --> 00:10:11.490\nIt's tedious to maintain these files.\n\n197\n00:10:11.490 --> 00:10:12.190\n&gt;&gt; Yes.\n&gt;&gt; But\n\n198\n00:10:12.190 --> 00:10:17.730\nthe other thing is this config file is\nonly read when the SSHD memory starts.\n\n199\n00:10:17.730 --> 00:10:21.930\nSo, anytime I change this config file\nI've got restart SSH for it take effect.\n\n200\n00:10:21.930 --> 00:10:25.670\nWell, every time I hire a new network\nadmin, I don't wanna have to go and\n\n201\n00:10:25.670 --> 00:10:27.350\nrestart SSH on all my servers.\n\n202\n00:10:27.350 --> 00:10:28.850\nThat's a bit of a hassle.\n\n203\n00:10:28.850 --> 00:10:32.140\nSo instead of a user, we could do a group.\n\n204\n00:10:32.140 --> 00:10:37.442\nI can come in and just put in a group, so\nif I say instead of AllowUsers, I'll say,\n\n205\n00:10:37.442 --> 00:10:42.680\nAllowGroups, and then I could specify\nwhatever groups I had, group1 or\n\n206\n00:10:42.680 --> 00:10:45.920\nadm or whatever it is that I wanna map\nout I can come in and put those in.\n\n207\n00:10:45.920 --> 00:10:49.300\nAnd now I can restart\nSSH this takes effect.\n\n208\n00:10:49.300 --> 00:10:51.380\nIn the future,\nI just add people to the group or\n\n209\n00:10:51.380 --> 00:10:54.480\ntake them out of the group and then I\ndon't have to restart SSH at all, right.\n\n210\n00:10:54.480 --> 00:10:56.030\nThat's much easier for\n\n211\n00:10:56.030 --> 00:10:58.610\nus and something we can handle as\npart of our normal user on boarding.\n\n212\n00:10:59.920 --> 00:11:03.110\nNow I'm just going to throw a pound symbol\nbefore that cuz, I don't need any groups,\n\n213\n00:11:03.110 --> 00:11:05.150\nI'm doing the users on this one.\n\n214\n00:11:05.150 --> 00:11:07.250\nAnd so we can leave it just like that.\n\n215\n00:11:07.250 --> 00:11:08.860\nAnd, we can let this take effect.\n\n216\n00:11:08.860 --> 00:11:11.570\nNow, I just said it,\nit doesn't take effect until I restart, so\n\n217\n00:11:11.570 --> 00:11:16.320\nI need to do a systemctl restart of sshd.\n\n218\n00:11:16.320 --> 00:11:17.920\nIt should be the only one but\n\n219\n00:11:17.920 --> 00:11:21.840\nI'll add the old service to\nthe end of that and there we go.\n\n220\n00:11:21.840 --> 00:11:24.870\nAll right, so,\nhow do I know this all worked?\n\n221\n00:11:24.870 --> 00:11:30.770\nWe test it,\nif I SSH as root into my own system.\n\n222\n00:11:30.770 --> 00:11:32.240\nSo I'm gonna in and connect.\n\n223\n00:11:32.240 --> 00:11:35.510\nI get my fingerprint message, which\nI'll say yes to and now it's asking for\n\n224\n00:11:35.510 --> 00:11:36.400\nmy password.\n\n225\n00:11:36.400 --> 00:11:42.060\nI'll punch in my password and\nhopefully we get declined, there we go.\n\n226\n00:11:42.060 --> 00:11:43.290\n&gt;&gt; Right.\n&gt;&gt; Yep.\n\n227\n00:11:43.290 --> 00:11:47.700\nAnd it's not a incorrect password message,\nit's permission denied, right.\n\n228\n00:11:47.700 --> 00:11:50.970\nI'm not allowed to log in but\nif I switch that over,\n\n229\n00:11:50.970 --> 00:11:54.590\ninstead of using root I'm\ngonna use good old dpezet.\n\n230\n00:11:54.590 --> 00:11:56.370\nNow I can go and connect, and\n\n231\n00:11:56.370 --> 00:11:59.770\nI didn't get the fingerprint message\ncuz I've already it to my known hosts.\n\n232\n00:11:59.770 --> 00:12:02.460\nAnd when I connect,\nthere it is, I'm logged in.\n\n233\n00:12:02.460 --> 00:12:04.860\nAnd there we go.\n\n234\n00:12:04.860 --> 00:12:07.410\nSo now it's up and it's going,\nit's doing its thing.\n\n235\n00:12:07.410 --> 00:12:09.370\nAnd it's working the way that I want it.\n\n236\n00:12:09.370 --> 00:12:10.999\nSo we can restrict what users\nare allowed uses to station.\n\n237\n00:12:13.120 --> 00:12:15.720\nAll right,\nlet's see what else do we want to tweak?\n\n238\n00:12:15.720 --> 00:12:17.590\nLet's talk about the port number, right.\n\n239\n00:12:17.590 --> 00:12:21.480\nWhen I ask the station this box,\nI just specify a username at and\n\n240\n00:12:21.480 --> 00:12:22.440\nthen the host name.\n\n241\n00:12:22.440 --> 00:12:23.730\nYou can do a host name or an IP.\n\n242\n00:12:23.730 --> 00:12:26.220\nI did IP cuz, I'm doing a loop back.\n\n243\n00:12:26.220 --> 00:12:29.540\nBut, when we do that,\nit is assuming a default port.\n\n244\n00:12:29.540 --> 00:12:32.130\nThe default port for us SSH is port 22.\n\n245\n00:12:32.130 --> 00:12:36.540\nWell I know that, you know that and so\ndo all the hackers that are out there.\n\n246\n00:12:36.540 --> 00:12:40.930\nAnd so a lot of them run these quick\nprobing attacks, these quick scans and\n\n247\n00:12:40.930 --> 00:12:42.490\nthey look for boxes with port 22 open.\n\n248\n00:12:42.490 --> 00:12:46.960\nBecause when they find that, they have\na pretty good idea that, that's a server.\n\n249\n00:12:46.960 --> 00:12:50.280\nAnd hackers would rather target servers\nthan workstations in most scenarios.\n\n250\n00:12:50.280 --> 00:12:51.800\nSo when they see that,\n\n251\n00:12:51.800 --> 00:12:54.150\nthat's a great indicator that's\na system they want to target.\n\n252\n00:12:54.150 --> 00:12:56.660\nSo what we can do is we can take SSH and\n\n253\n00:12:56.660 --> 00:13:00.030\nwe can move it to a different port number\nif we want, move it somewhere else.\n\n254\n00:13:00.030 --> 00:13:02.130\nIf you move it to another port number,\n\n255\n00:13:02.130 --> 00:13:04.840\nit doesn't change its security profile,\nright.\n\n256\n00:13:04.840 --> 00:13:07.240\nI mean, you still have the same\nlevel of security as before.\n\n257\n00:13:07.240 --> 00:13:09.290\nIt just makes it a little harder to find.\n\n258\n00:13:09.290 --> 00:13:13.950\nSo those random, quick probing\nattacks won't find SSH on your server.\n\n259\n00:13:13.950 --> 00:13:16.370\nNow, we could always tweak\nthe firewall rules and\n\n260\n00:13:16.370 --> 00:13:19.500\nblock that access from IP\nbased on source or whatever.\n\n261\n00:13:19.500 --> 00:13:23.680\nThat's another way to go about it or\nwe can just move SSH to another port.\n\n262\n00:13:23.680 --> 00:13:26.129\nIt's easy enough to do, but\nthere are a few steps to it.\n\n263\n00:13:26.129 --> 00:13:29.138\nSo let's say I wanna move this one,\nI don't want to be on port 22 anymore,\n\n264\n00:13:29.138 --> 00:13:30.540\nI want to be on port 22,222.\n\n265\n00:13:30.540 --> 00:13:33.996\nProbably a bad choice, but\nyou know, it's something like that.\n\n266\n00:13:33.996 --> 00:13:34.740\n&gt;&gt; It's a big number [LAUGH].\n\n267\n00:13:34.740 --> 00:13:35.830\n&gt;&gt; It is a big number.\n\n268\n00:13:35.830 --> 00:13:39.500\nSo, I can go right back into that config\nfile that we've been working with, right.\n\n269\n00:13:39.500 --> 00:13:46.680\n/etc/ssh/sshd_config and right here at the\ntop, you've got the port number, right.\n\n270\n00:13:46.680 --> 00:13:49.760\nSo here's the port number\nthat we've got as a default.\n\n271\n00:13:49.760 --> 00:13:55.105\nAnd I'm gonna add in Port 222222.\n\n272\n00:13:55.105 --> 00:13:57.790\nAnd too many 2s there we go [LAUGH].\n\n273\n00:13:57.790 --> 00:14:01.992\nIt's gotta be between one and\n65,535 right that's you're limit.\n\n274\n00:14:01.992 --> 00:14:02.875\n&gt;&gt; Cuz those are real ports [LAUGH].\n\n275\n00:14:02.875 --> 00:14:05.880\n&gt;&gt; Yeah well it's a 16 bit number,\n&gt;&gt; Yeah.\n\n276\n00:14:05.880 --> 00:14:10.630\n&gt;&gt; 16 bit is that right so that's\nthe maximum you can get to is 65,535.\n\n277\n00:14:10.630 --> 00:14:14.200\nBut as Daniel pointed out, many of\nthe ports are already in use, right.\n\n278\n00:14:14.200 --> 00:14:16.600\nIf I'm running Apache,\nI don't wanna set SSH to run on port 80.\n\n279\n00:14:16.600 --> 00:14:18.610\nIt's not gonna work out so well.\n\n280\n00:14:18.610 --> 00:14:19.920\n&gt;&gt; Yeah, [LAUGH]\n&gt;&gt; So\n\n281\n00:14:19.920 --> 00:14:22.330\nyou can only have one service\ntied to a port at a time.\n\n282\n00:14:22.330 --> 00:14:25.470\nSo the official rules state at a minimum,\n\n283\n00:14:25.470 --> 00:14:28.100\nyou need to pick something\nhigher than 1,025.\n\n284\n00:14:28.100 --> 00:14:32.950\nBut really, if you go and dig into\nthe specs of how ports are assigned and\n\n285\n00:14:32.950 --> 00:14:34.590\nthe official RFCs and stuff for\n\n286\n00:14:34.590 --> 00:14:37.900\nall that, you should be picking\nsomething higher than 49,000.\n\n287\n00:14:37.900 --> 00:14:40.260\nThat's where you truly get\ninto the dynamic ranges.\n\n288\n00:14:40.260 --> 00:14:43.390\nBut I'm just gonna pick 22,222 cuz,\nit's easy to remember.\n\n289\n00:14:43.390 --> 00:14:47.030\nAll right,\nnow pay attention to this note right here.\n\n290\n00:14:47.030 --> 00:14:53.190\nIt's telling me if I change the port\nnumber and SELinux is enabled.\n\n291\n00:14:53.190 --> 00:14:57.590\nI need to tell SELinux that it's okay for\nSSH to use that port number.\n\n292\n00:14:57.590 --> 00:15:00.930\nBecause by default the SSH server\nis only allowed to talk on port 22.\n\n293\n00:15:00.930 --> 00:15:04.000\nAnd if you watched the SELinux episode\nyou already know my stance on this.\n\n294\n00:15:04.000 --> 00:15:07.136\nThere's a lot of people out there that\nsay, we'll just disable SELinux and\n\n295\n00:15:07.136 --> 00:15:07.880\nthat's stupid.\n\n296\n00:15:07.880 --> 00:15:08.890\n&gt;&gt; [LAUGH]\n&gt;&gt; Especially\n\n297\n00:15:08.890 --> 00:15:12.880\nwhen they tell you the command\nright here to solve your problem.\n\n298\n00:15:12.880 --> 00:15:14.260\nIt just doesn't make any\nsense to turn it off.\n\n299\n00:15:14.260 --> 00:15:19.180\nSo, now that I've got that port\nnumber set, I'm going to save that.\n\n300\n00:15:19.180 --> 00:15:22.507\nAnd the first thing I'm gonna\ndo before I go any further,\n\n301\n00:15:22.507 --> 00:15:26.749\nis I'm gonna paste in that command\nthat they gave me right on the screen.\n\n302\n00:15:26.749 --> 00:15:30.738\nAnd I'm gonna type in my new port, 22222.\n\n303\n00:15:30.738 --> 00:15:32.426\n&gt;&gt; That seems really hard, Don.\n\n304\n00:15:32.426 --> 00:15:35.049\n&gt;&gt; It's tough it'd be so\nmuch easier just to disable SELinux and,\n\n305\n00:15:35.049 --> 00:15:37.300\n&gt;&gt; Yeah, that's what I'd say [LAUGH].\n\n306\n00:15:37.300 --> 00:15:40.120\n&gt;&gt; So, that took a little longer\nthan I thought, I was worried.\n\n307\n00:15:40.120 --> 00:15:41.860\nI thought it was gonna give me an error.\n\n308\n00:15:41.860 --> 00:15:43.582\nSo, [LAUGH] for\nwhatever reason it took awhile.\n\n309\n00:15:43.582 --> 00:15:47.208\nRemember that if you do\na minimal service install,\n\n310\n00:15:47.208 --> 00:15:53.041\nit does have SELinux turned on but it may\nnot have the SE manage utility installed.\n\n311\n00:15:53.041 --> 00:15:56.026\nAnd so if that's the case you may need\nto add it as part of the Python Core\n\n312\n00:15:56.026 --> 00:15:57.099\nutilities for SELinux.\n\n313\n00:15:57.099 --> 00:15:59.266\nSo on a minimal install that\ncan be a little bit tricky.\n\n314\n00:15:59.266 --> 00:16:01.810\nBut on all the other\ninstalls you have semanage.\n\n315\n00:16:01.810 --> 00:16:04.740\nYou run it, it adds that port number and\nthen you're in business.\n\n316\n00:16:04.740 --> 00:16:05.350\nOkay.\n\n317\n00:16:05.350 --> 00:16:09.118\nWell almost in business, there is\none more thing, the firewall demon.\n\n318\n00:16:09.118 --> 00:16:12.310\nThe firewall demon is allowing\nconnections on port 22,\n\n319\n00:16:12.310 --> 00:16:14.890\nwhere SSH was a few minutes ago.\n\n320\n00:16:14.890 --> 00:16:16.040\nWell I am moving SSH.\n\n321\n00:16:16.040 --> 00:16:20.097\nSo I need to tell the firewall\ndemon to change that.\n\n322\n00:16:20.097 --> 00:16:22.540\nSo I am gonna run firewall-cmd.\n\n323\n00:16:22.540 --> 00:16:25.610\nAnd then I am gonna do\na --zone equals public.\n\n324\n00:16:25.610 --> 00:16:28.090\nI only have one network\nadapter in this system.\n\n325\n00:16:28.090 --> 00:16:31.000\nAnd the one network adapter will\nbe in the public zone by default.\n\n326\n00:16:31.000 --> 00:16:33.340\nIf you had more than one adapter\nyou may have created other zones.\n\n327\n00:16:33.340 --> 00:16:35.740\nSo you'd put in the appropriate\nzone name here.\n\n328\n00:16:35.740 --> 00:16:38.490\nBut on a single adapter system,\nit's almost always public.\n\n329\n00:16:38.490 --> 00:16:43.770\nAnd then I'm gonna tell it\nthat I want to add a port.\n\n330\n00:16:43.770 --> 00:16:46.230\nAnd the port I'm adding is\n22222/tcp because it's-\n\n331\n00:16:46.230 --> 00:16:53.188\n&gt;&gt; Well, it's TCP port.\n\n332\n00:16:53.188 --> 00:16:55.380\n&gt;&gt; That makes sense.\nSo I'm gonna add that in.\n\n333\n00:16:55.380 --> 00:16:55.880\nOkay.\n\n334\n00:16:55.880 --> 00:16:58.240\nNow that's gonna take effect right away.\n\n335\n00:16:58.240 --> 00:17:01.030\nBut if I reboot, I'm gonna lose it.\n\n336\n00:17:01.030 --> 00:17:04.340\nSo I need to run it a second time,\nand I'm just gonna add dash,\n\n337\n00:17:04.340 --> 00:17:06.800\ndash permanent in there.\n\n338\n00:17:06.800 --> 00:17:09.200\nAnd instead of modifying\nthe running firewall,\n\n339\n00:17:09.200 --> 00:17:13.240\nthat's gonna modify the config files that\nare loaded when the fire wall starts up.\n\n340\n00:17:13.240 --> 00:17:15.070\nSo I can see I got successes.\n\n341\n00:17:15.070 --> 00:17:16.520\nYou really do need to run both.\n\n342\n00:17:16.520 --> 00:17:20.570\nThe alternative is I can run the permanent\ncommand and then restart the firewall\n\n343\n00:17:20.570 --> 00:17:23.260\nservice, but that's going to take\nthe server offline for a second.\n\n344\n00:17:23.260 --> 00:17:26.080\nSo by running it twice like that I don't\nhave to take the server offline and\n\n345\n00:17:26.080 --> 00:17:27.330\nit all just takes effect.\n\n346\n00:17:27.330 --> 00:17:32.290\nAll right, so I changed the port number in\nthe config, I told SE Linux it was okay,\n\n347\n00:17:32.290 --> 00:17:34.240\nI told the firewall it was okay.\n\n348\n00:17:34.240 --> 00:17:36.860\nNow I just need ssh to make the change,\n\n349\n00:17:36.860 --> 00:17:38.290\nbecause it hasn't actually\nmade the change yet.\n\n350\n00:17:38.290 --> 00:17:39.720\nI need to restart ssh.\n\n351\n00:17:39.720 --> 00:17:43.990\nSo let me just do\na systemctl restart of sshd.\n\n352\n00:17:45.350 --> 00:17:45.950\nAnd, there we go.\n\n353\n00:17:45.950 --> 00:17:49.210\nAll right, so, did it work?\n\n354\n00:17:49.210 --> 00:17:49.860\nWell, I don't know.\n\n355\n00:17:49.860 --> 00:17:50.930\nI guess we can test, right?\n\n356\n00:17:50.930 --> 00:17:52.560\nSo, if I, ssh.\n\n357\n00:17:54.130 --> 00:17:58.670\nAnd I'm going to try to SSH\nas root into my system.\n\n358\n00:17:58.670 --> 00:18:00.400\nRight or I keep using the loop back.\n\n359\n00:18:00.400 --> 00:18:06.020\nLet's use my actual address\nwhich I don't know.\n\n360\n00:18:06.020 --> 00:18:06.920\nIt is 199.\n\n361\n00:18:06.920 --> 00:18:13.430\nSo I'm going to say SSH as\nroot into 10.0.14.199 and\n\n362\n00:18:13.430 --> 00:18:17.600\nthat is gonna try and connect on port 22,\nsee, it says it right there, port 22.\n\n363\n00:18:17.600 --> 00:18:19.410\nAnd I got connected refused.\n\n364\n00:18:19.410 --> 00:18:21.377\nA moment ago, when I tried his root,\n\n365\n00:18:21.377 --> 00:18:25.100\nit rejected my attempt to log in\nbecause of a permission denied.\n\n366\n00:18:25.100 --> 00:18:31.520\nHere, it didn't even ask for\na password, I didn't connect.\n\n367\n00:18:31.520 --> 00:18:34.490\nBut if I add a- p 222222, Now,\n&gt;&gt; Oops, one too many twos.\n\n368\n00:18:34.490 --> 00:18:35.460\n&gt;&gt; There we go.\n\n369\n00:18:35.460 --> 00:18:38.160\nAnd, try and log in now.\n\n370\n00:18:38.160 --> 00:18:39.420\nNow I get connected.\n\n371\n00:18:39.420 --> 00:18:40.430\nBut it's a different port number so\n\n372\n00:18:40.430 --> 00:18:45.710\nI do have to accept that key again,\nand now I can provide my password.\n\n373\n00:18:45.710 --> 00:18:48.980\nAnd I'll get permission denied,\nor at least I should.\n\n374\n00:18:48.980 --> 00:18:49.880\nThere we go.\n\n375\n00:18:49.880 --> 00:18:52.680\nAnd so then I can try it again and\nold dpezet.\n\n376\n00:18:54.670 --> 00:18:59.690\nAnd hopefully we see a little bit\nbetter response, and there we go.\n\n377\n00:18:59.690 --> 00:19:02.640\nI'm connected in, and off I go.\n\n378\n00:19:02.640 --> 00:19:03.870\n&gt;&gt; Awesome.\n\n379\n00:19:03.870 --> 00:19:06.030\n&gt;&gt; So, that's a good thing, right?\n\n380\n00:19:06.030 --> 00:19:08.635\nWe've got, the root user's\nno longer allowed to log in,\n\n381\n00:19:08.635 --> 00:19:11.665\nit's limited to my account,\nwe've changed the port number.\n\n382\n00:19:11.665 --> 00:19:15.135\nI could probably go back into the firewall\nCMD and add some source IPs and\n\n383\n00:19:15.135 --> 00:19:18.615\nsay I'm only allowed to SSH in from\nthis workstation or from this subnet,\n\n384\n00:19:18.615 --> 00:19:22.715\nthose are good things to do too, but there\nis one more thing I wanna tackle, and\n\n385\n00:19:22.715 --> 00:19:27.000\nI've only got so much time in the episode,\nso I need to jump into it, which is,\n\n386\n00:19:27.000 --> 00:19:31.070\nwhen you configure SSH, the default\nauthentication, is username and password.\n\n387\n00:19:31.070 --> 00:19:33.590\nYou're sending a user name,\nand a password.\n\n388\n00:19:33.590 --> 00:19:35.320\nWell the problem with doing a username and\n\n389\n00:19:35.320 --> 00:19:38.170\na password is somebody\ncan learn what it is.\n\n390\n00:19:38.170 --> 00:19:41.410\nDaniel could guess my password,\nor he could walk up to my desk,\n\n391\n00:19:41.410 --> 00:19:43.670\nand pick up the keyboard and\nsee it stuck on the bottom of my keyboard,\n\n392\n00:19:43.670 --> 00:19:45.080\ncuz that's what I do\nwith all my passwords.\n\n393\n00:19:45.080 --> 00:19:45.765\n&gt;&gt; Doesn't everybody?\n\n394\n00:19:45.765 --> 00:19:47.470\n[LAUGH]\n&gt;&gt; It's a standard practice.\n\n395\n00:19:47.470 --> 00:19:49.918\nSo people can figure out your password.\n\n396\n00:19:49.918 --> 00:19:51.132\n&gt;&gt; Missed documents.\n\n397\n00:19:51.132 --> 00:19:54.354\n&gt;&gt; [LAUGH] If somebody- See,\nthe official U.S. Government way.\n\n398\n00:19:54.354 --> 00:19:56.931\nSo, if somebody knows your\npassword they connect as you and\n\n399\n00:19:56.931 --> 00:19:58.330\nthe computer thinks it's you.\n\n400\n00:19:58.330 --> 00:19:59.100\nThat's it right?\n\n401\n00:19:59.100 --> 00:20:01.190\nNo real help there.\n\n402\n00:20:01.190 --> 00:20:06.390\nSo instead of doing password\nauthentication, we can tell SSH to\n\n403\n00:20:06.390 --> 00:20:11.390\ndo certificate authentication instead, or\nyou can do both, password and certificate.\n\n404\n00:20:11.390 --> 00:20:14.770\nBut with certificate authentication it's\nreally nice, because you have a private\n\n405\n00:20:14.770 --> 00:20:20.130\nkey on your system, and remotely they\nhave a public key, and you sync the two\n\n406\n00:20:20.130 --> 00:20:23.780\ntogether to be able to talk and verify\nthe identity of you as well as the server.\n\n407\n00:20:23.780 --> 00:20:26.560\nThe cool part here is you\ndon't have to type a password.\n\n408\n00:20:26.560 --> 00:20:30.910\nSo if somebody runs a key logger on\nyour system you don't have a password.\n\n409\n00:20:30.910 --> 00:20:32.130\nYou have one, you're just not using it.\n\n410\n00:20:32.130 --> 00:20:33.990\nYou're using a certificate instead.\n\n411\n00:20:33.990 --> 00:20:35.970\nSo it protects you from\nthat type of attack.\n\n412\n00:20:35.970 --> 00:20:39.860\nIf somebody is watching over your shoulder\nthey can't see you type a password\n\n413\n00:20:39.860 --> 00:20:40.730\nbecause you don't type it.\n\n414\n00:20:40.730 --> 00:20:42.730\nYou just hand off a certificate instead.\n\n415\n00:20:42.730 --> 00:20:46.630\nNow when we configure this\ncertificate based authentication,\n\n416\n00:20:46.630 --> 00:20:50.760\nwe actually have to do more of the work\non our client than we do on the server\n\n417\n00:20:50.760 --> 00:20:52.700\nbecause the private key is\nactually on the client.\n\n418\n00:20:52.700 --> 00:20:54.040\nThis is one of those\nthat's kinda backwards.\n\n419\n00:20:54.040 --> 00:20:56.980\nWe think we're securing SSH and\ndo everything on the server.\n\n420\n00:20:56.980 --> 00:20:57.655\nNot in this case.\n\n421\n00:20:57.655 --> 00:21:01.650\nCertificate-based authentication is\nreally tied to the user account and\n\n422\n00:21:01.650 --> 00:21:02.430\nto the client.\n\n423\n00:21:02.430 --> 00:21:05.540\nThe server just happens to be\nholding the user account, right?\n\n424\n00:21:05.540 --> 00:21:07.630\nSo the bulk of the work is\ndone on our client, and so\n\n425\n00:21:07.630 --> 00:21:11.090\nlet me show you how you would get this\nset up and It's the same on Mac OS.\n\n426\n00:21:11.090 --> 00:21:13.750\nIt's the same on most Linux distros.\n\n427\n00:21:13.750 --> 00:21:16.210\nYou can't do it on Windows,\nyou have to fire up PuTTY and\n\n428\n00:21:16.210 --> 00:21:17.080\ndo all sorts of crazy things.\n\n429\n00:21:17.080 --> 00:21:21.220\nBut on Linux-based or Unix-based systems,\nit's actually really easy to do.\n\n430\n00:21:21.220 --> 00:21:24.570\nSo the first thing that I need to do\nbefore I turn on certificate-based\n\n431\n00:21:24.570 --> 00:21:26.900\nauthentication, is I need\nto get a certificate.\n\n432\n00:21:26.900 --> 00:21:31.520\nRemember at the beginning of\nthe episode I showed /etc/ssh and\n\n433\n00:21:31.520 --> 00:21:33.280\nhow there all these certificates.\n\n434\n00:21:33.280 --> 00:21:36.190\nThe private keys just have a file name.\n\n435\n00:21:36.190 --> 00:21:37.860\nAnd the public keys end in dot pub.\n\n436\n00:21:37.860 --> 00:21:39.470\nBut those are private\nkey public key pairs.\n\n437\n00:21:39.470 --> 00:21:42.050\nAnd those are used to\nauthenticate the server.\n\n438\n00:21:42.050 --> 00:21:44.990\nI need the same thing for me, as the user.\n\n439\n00:21:44.990 --> 00:21:46.370\nAnd I might already have it.\n\n440\n00:21:46.370 --> 00:21:48.410\nIf you take a look in your home directory,\n\n441\n00:21:48.410 --> 00:21:51.680\nyou might have a folder\nin here called dot ssh.\n\n442\n00:21:51.680 --> 00:21:53.400\nAnd if you do and\n\n443\n00:21:53.400 --> 00:21:57.400\nyou take a look inside of that folder\nyou might have some certificates.\n\n444\n00:21:57.400 --> 00:21:58.550\nNow in my case I don't.\n\n445\n00:21:58.550 --> 00:22:01.270\nI have a file called known hosts.\n\n446\n00:22:01.270 --> 00:22:04.070\nWhen I first SSH into a server\nit shows me the fingerprint and\n\n447\n00:22:04.070 --> 00:22:06.600\nit says is this the server you\nwanna connect to yes or no.\n\n448\n00:22:06.600 --> 00:22:10.190\nIf you say yes,\nit adds the fingerprint to this file and\n\n449\n00:22:10.190 --> 00:22:12.550\nthen it doesn't prompt you for\nit anymore, right?\n\n450\n00:22:12.550 --> 00:22:16.320\nThat's why it didn't ask me the second\ntime I connected whether or not that was\n\n451\n00:22:17.460 --> 00:22:22.120\nsomething I wanted to use, and\nif I take a look at that known host file,\n\n452\n00:22:22.120 --> 00:22:27.000\nI'll see where its got the IP address and\nit's mapped to that server.\n\n453\n00:22:27.000 --> 00:22:30.180\nCertificate to be able to verify that,\nokay.\n\n454\n00:22:30.180 --> 00:22:32.770\nI've got that but\nI don't have any certificates of my own.\n\n455\n00:22:32.770 --> 00:22:36.510\nNow I do need to remember that I'm\nactually in, I elevated my privileges so\n\n456\n00:22:36.510 --> 00:22:40.570\nI'm showing up as root not as dpezet,\nso I need to exit out of that so\n\n457\n00:22:40.570 --> 00:22:43.110\nI show up as dpezet, so there we go.\n\n458\n00:22:43.110 --> 00:22:47.080\nSo now I am dpezet and\nI want to generate certificates for me so\n\n459\n00:22:47.080 --> 00:22:53.240\nthat I can SSH into a server and use that\nfor authentication instead of a password.\n\n460\n00:22:53.240 --> 00:22:57.920\nSo the first thing I'm going to do is\nI'm going to run the ssh-keygen command.\n\n461\n00:22:57.920 --> 00:22:59.630\nAnd depending on which\ndistro you're running,\n\n462\n00:22:59.630 --> 00:23:01.280\nthere's different defaults for this.\n\n463\n00:23:01.280 --> 00:23:05.772\nSo you might need to do a -t Rsa or\n\n464\n00:23:05.772 --> 00:23:11.030\n-t dsa or\necdsa to get the right level certificate.\n\n465\n00:23:11.030 --> 00:23:13.320\nBut on one hand,\nwe can just run ssh -keygen.\n\n466\n00:23:13.320 --> 00:23:16.640\nAnd it's gonna generate a public\nkey/private key pair and\n\n467\n00:23:16.640 --> 00:23:20.890\nsee where its gonna put it,\n/home/dpezet/.ssh/id_rsa.\n\n468\n00:23:20.890 --> 00:23:25.120\nSo, it's gonna generate\nrsa certificates for me.\n\n469\n00:23:26.200 --> 00:23:27.690\nI could set a passphrase.\n\n470\n00:23:27.690 --> 00:23:30.970\nIf I do every time I connect I have\nto provide the passphrase which\n\n471\n00:23:30.970 --> 00:23:32.110\ngets a little annoying.\n\n472\n00:23:32.110 --> 00:23:36.990\nYou can set up an SSA, SSH agent that\nputs the passphrase in for you, but\n\n473\n00:23:36.990 --> 00:23:41.540\nit's kind of a extra level of\ncomplexity we don't necessarily need.\n\n474\n00:23:41.540 --> 00:23:43.390\nSo as long as I protect my private keys,\n\n475\n00:23:43.390 --> 00:23:46.900\nwhich everybody should be doing, then\nyou can just advance right through here.\n\n476\n00:23:46.900 --> 00:23:48.020\nWithout providing passwords.\n\n477\n00:23:48.020 --> 00:23:49.180\nI'll leave that blank.\n\n478\n00:23:49.180 --> 00:23:49.740\nAnd there it goes.\n\n479\n00:23:49.740 --> 00:23:50.366\nIt generates it.\n\n480\n00:23:50.366 --> 00:23:54.149\nAnd see how when we generate, we actually\nget that fingerprint up on the screen.\n\n481\n00:23:54.149 --> 00:23:56.865\nIt actually shows us\nthe key was generated.\n\n482\n00:23:56.865 --> 00:24:00.828\nAnd now,\nif I take a look at that .ssh folder,\n\n483\n00:24:00.828 --> 00:24:06.125\nI've got two new files,\nid_rsa and id_rsa.pub, right?\n\n484\n00:24:06.125 --> 00:24:08.095\nA private key and a public key.\n\n485\n00:24:08.095 --> 00:24:09.871\nThe private key is for me, I keep that.\n\n486\n00:24:09.871 --> 00:24:13.120\nIt stays right here on my machine and\nI don't share it with anybody.\n\n487\n00:24:13.120 --> 00:24:15.630\nThe public key, I share that with people.\n\n488\n00:24:15.630 --> 00:24:19.350\nI share that with servers that I wanna\nbe able to ssh into the certificate\n\n489\n00:24:19.350 --> 00:24:23.050\nauthentication and I can copy this\nto 1,000 servers, the public key.\n\n490\n00:24:23.050 --> 00:24:24.940\nAnd now, when I connect in,\n\n491\n00:24:24.940 --> 00:24:28.810\nI can authenticate using that and\nI'll be in business, all right.\n\n492\n00:24:28.810 --> 00:24:31.260\nSo, step 1, I generate a certificate, so\n\n493\n00:24:31.260 --> 00:24:34.840\nthat was just running\nthe ssh-keygen command.\n\n494\n00:24:34.840 --> 00:24:38.650\nStep 2, I've gotta get my certificate\nup to that server, right?\n\n495\n00:24:38.650 --> 00:24:40.515\nWell fortunately, we've got a nice\nlittle command that does that.\n\n496\n00:24:40.515 --> 00:24:45.483\nThe command is ssh-copy-id.\n\n497\n00:24:45.483 --> 00:24:48.025\nAnd it lets us copy our\nidentity certificate up to\n\n498\n00:24:48.025 --> 00:24:51.439\na server that's currently set up for\npassword authentication.\n\n499\n00:24:51.439 --> 00:24:53.412\nSo, I'm gonna copy it up to my server.\n\n500\n00:24:53.412 --> 00:24:56.892\nSo I'm gonna copy it up and when I do\nthat, I need to specify a login for\n\n501\n00:24:56.892 --> 00:24:57.620\nthe servers.\n\n502\n00:24:57.620 --> 00:25:01.465\nSo I'm dpezet@10.0.14.199.\n\n503\n00:25:01.465 --> 00:25:05.190\nAnd I don't have certificate\nauthentication yet.\n\n504\n00:25:05.190 --> 00:25:07.790\nSo when it goes to connect,\nit's gonna reach out.\n\n505\n00:25:07.790 --> 00:25:08.917\nShoot.\n[LAUGH] We changed the port\n\n506\n00:25:08.917 --> 00:25:09.720\nnumber, didn't we?\n\n507\n00:25:09.720 --> 00:25:10.420\n&gt;&gt; We did do that.\n\n508\n00:25:10.420 --> 00:25:12.610\n&gt;&gt; So I need to tell it about\nthat other port number.\n\n509\n00:25:12.610 --> 00:25:17.890\nSo I'm just gonna add\nin a little -p 22222.\n\n510\n00:25:17.890 --> 00:25:21.020\nThere we go and\nnow we can get connected in.\n\n511\n00:25:21.020 --> 00:25:25.727\nAnd it's gonna reach out and so when\nit does, it's gonna attempt to log in.\n\n512\n00:25:25.727 --> 00:25:26.647\nAnd it's asking me for\n\n513\n00:25:26.647 --> 00:25:30.050\nmy password cuz we still have\npassword authentication turned on.\n\n514\n00:25:30.050 --> 00:25:33.840\nAnd it's gonna connect up and it's\ngonna copy my key up, see how it says,\n\n515\n00:25:33.840 --> 00:25:34.710\nkey added: 1?\n\n516\n00:25:34.710 --> 00:25:37.670\nAll right, well, what did it just do?\n\n517\n00:25:37.670 --> 00:25:41.960\nWell, it uploaded my public key to\nthe server and dropped it into my profile.\n\n518\n00:25:41.960 --> 00:25:43.140\nI already have a user account.\n\n519\n00:25:43.140 --> 00:25:45.650\nAnd now the public key has\nbeen uploaded into it, right?\n\n520\n00:25:45.650 --> 00:25:47.440\nSo it just gives me a little note and\nthere it is.\n\n521\n00:25:47.440 --> 00:25:49.799\n&gt;&gt; Now Don,\nonce we turn on password authentication,\n\n522\n00:25:49.799 --> 00:25:51.201\nthis won't be able to be done.\n\n523\n00:25:51.201 --> 00:25:52.529\nWe'll have have to do it in\na different way, correct?\n\n524\n00:25:52.529 --> 00:25:54.810\n&gt;&gt; Right, so\nlet's say it's already turned on.\n\n525\n00:25:54.810 --> 00:25:56.660\n&gt;&gt; Right.\n&gt;&gt; Right, so we hire a new employee,\n\n526\n00:25:56.660 --> 00:25:58.760\nwe turned on certificate\nauthentication months ago.\n\n527\n00:25:58.760 --> 00:26:00.590\nWell, they would need to generate a key.\n\n528\n00:26:00.590 --> 00:26:04.240\nAnd then you would need to copy\nthe contents of that public key and\n\n529\n00:26:04.240 --> 00:26:07.360\nthen just go up to the server and\npaste it into their .ssh folder.\n\n530\n00:26:07.360 --> 00:26:08.164\nSo you can do it by hand.\n\n531\n00:26:08.164 --> 00:26:08.838\n&gt;&gt; Yeah.\n\n532\n00:26:08.838 --> 00:26:10.753\n&gt;&gt; But\nif you're initially setting up the server,\n\n533\n00:26:10.753 --> 00:26:12.960\nthis is an easy way to get it done for\nyour first account.\n\n534\n00:26:12.960 --> 00:26:16.850\nAnd it's all just through that\nssh copy command, or ssh-copy-id.\n\n535\n00:26:16.850 --> 00:26:20.930\nAll right, so my identity's up there,\nthat's good to go.\n\n536\n00:26:22.190 --> 00:26:23.480\nWe're really pretty good to go there.\n\n537\n00:26:23.480 --> 00:26:26.860\nThe only other thing we need to do is to\ntell the server to allow authentication\n\n538\n00:26:26.860 --> 00:26:28.150\nwith a certificate, right?\n\n539\n00:26:28.150 --> 00:26:31.460\nSo on the server,\nI need to go and modify ssh.\n\n540\n00:26:31.460 --> 00:26:40.306\nSo I'm gonna edit /etc/ssh/sshd_config.\n\n541\n00:26:40.306 --> 00:26:42.248\nAnd when you go into that config file,\n\n542\n00:26:42.248 --> 00:26:45.410\nsame one who have been modifying\nthis whole episode, right?\n\n543\n00:26:45.410 --> 00:26:46.860\nWhere you change it to 22222.\n\n544\n00:26:46.860 --> 00:26:50.090\nI need to jump in there and\nsomewhere in there,\n\n545\n00:26:50.090 --> 00:26:55.410\nif you just search for the word password,\nyou'll find PasswordAuthentication yes.\n\n546\n00:26:55.410 --> 00:27:00.190\nOkay, what's going on is the system will\nactually do certificate authentication and\n\n547\n00:27:00.190 --> 00:27:01.530\npassword authentication at the same time.\n\n548\n00:27:01.530 --> 00:27:03.190\nThat's what it's doing right now.\n\n549\n00:27:03.190 --> 00:27:06.270\nI wanna turn off password authentication.\n\n550\n00:27:06.270 --> 00:27:09.130\nI don't want people to be able to\nconnect with passwords anymore.\n\n551\n00:27:09.130 --> 00:27:11.510\nI wanna force certificates.\n\n552\n00:27:11.510 --> 00:27:12.300\nMaybe you don't.\n\n553\n00:27:12.300 --> 00:27:14.270\nMaybe you're okay with password and\ncertificate.\n\n554\n00:27:14.270 --> 00:27:16.250\nAnd so I could've left it at\nthe default and now I support both,\n\n555\n00:27:16.250 --> 00:27:20.810\nwhich would make it easier for those\nssh-copy-id commands to keep working and\n\n556\n00:27:20.810 --> 00:27:22.590\nthen people switch over to certificates.\n\n557\n00:27:22.590 --> 00:27:25.293\nBut I wanna force it and so I'm gonna\ndisable that password authentication.\n\n558\n00:27:25.293 --> 00:27:27.929\n&gt;&gt; Now Don, I'm just looking at your\nconfig screen here and it looks like\n\n559\n00:27:27.929 --> 00:27:31.270\nthere's also PasswordAuthentication yes,\ntwo lines below that.\n\n560\n00:27:31.270 --> 00:27:34.009\n&gt;&gt; Shoot. [LAUGH] &gt;&gt; So,\nis that supposed to be that way, or?\n\n561\n00:27:34.009 --> 00:27:37.561\n[LAUGH]\n&gt;&gt; Remember how they put the default or\n\n562\n00:27:37.561 --> 00:27:41.196\nwhatever here, hashtagged out or whatever.\n\n563\n00:27:41.196 --> 00:27:43.559\n&gt;&gt; Yeah.\n&gt;&gt; So it's really the same command twice.\n\n564\n00:27:43.559 --> 00:27:45.839\nThat would've really screwed up.\n\n565\n00:27:45.839 --> 00:27:46.442\n&gt;&gt; [LAUGH]\n&gt;&gt; And\n\n566\n00:27:46.442 --> 00:27:49.330\nactually it takes the first line it finds,\nso I guess it would've worked in the end.\n\n567\n00:27:49.330 --> 00:27:51.830\nBut yeah, thank you for\nspotting that Daniel.\n\n568\n00:27:51.830 --> 00:27:54.990\nSo I'm gonna set that there, so I'm not\nallowing password authentication anymore.\n\n569\n00:27:54.990 --> 00:27:58.780\nNow, when I do that,\nI need to be a little careful.\n\n570\n00:27:58.780 --> 00:28:01.880\nI haven't tested certificate\nauthentication yet, right?\n\n571\n00:28:01.880 --> 00:28:04.650\nAnd since I haven't tested\ncertificate authentication,\n\n572\n00:28:04.650 --> 00:28:07.740\nif I disable password authentication and\nit doesn't work.\n\n573\n00:28:07.740 --> 00:28:08.240\n&gt;&gt; You're out.\n\n574\n00:28:08.240 --> 00:28:09.269\n&gt;&gt; I'm in trouble.\n&gt;&gt; Yeah.\n\n575\n00:28:09.269 --> 00:28:12.834\n&gt;&gt; So, probably a good idea before\nI restart it to test my certificate\n\n576\n00:28:12.834 --> 00:28:15.110\nauthentication and make sure it works.\n\n577\n00:28:15.110 --> 00:28:18.639\nAnd the way that works is up until now,\nwhen I ssh in,\n\n578\n00:28:18.639 --> 00:28:22.262\nI've been coming in and\nsaying something like this.\n\n579\n00:28:22.262 --> 00:28:26.100\nLet me just update this to the IP.\n\n580\n00:28:26.100 --> 00:28:27.520\nAnd I gotta do my port number, right?\n\n581\n00:28:27.520 --> 00:28:30.640\nSo it was -p 22222, there.\n\n582\n00:28:30.640 --> 00:28:34.450\nAll right, so that's my normal,\nhey, I'm sshing command.\n\n583\n00:28:34.450 --> 00:28:37.270\nIf I wanna use a certificate,\nI need to add a little more to it.\n\n584\n00:28:37.270 --> 00:28:43.250\nAnd I'm gonna say, -i and tell it where\nto find an identity file, i for identity.\n\n585\n00:28:43.250 --> 00:28:44.770\nAnd it's just the certificate, right?\n\n586\n00:28:44.770 --> 00:28:46.371\nSo I need to point to.\n\n587\n00:28:46.371 --> 00:28:50.865\nAnd this one is going to be ~/\nwhich is my home directory,\n\n588\n00:28:50.865 --> 00:28:54.832\n.ssh/ and\nthen I'm gonna point to my public key.\n\n589\n00:28:54.832 --> 00:28:58.191\nSo in my case it was,\n\n590\n00:28:58.191 --> 00:29:04.780\nit was called id_rsa.pub, right?\n\n591\n00:29:04.780 --> 00:29:06.573\nOr you'd point to wherever\nyours happen to be stored.\n\n592\n00:29:06.573 --> 00:29:07.995\nOr if you've renamed it or\n\n593\n00:29:07.995 --> 00:29:11.820\nwhatever, that's the ID that I'm\ngonna be verifying on the server.\n\n594\n00:29:11.820 --> 00:29:14.370\nSo I expect that ID to\nbe on the server and\n\n595\n00:29:14.370 --> 00:29:16.650\nI've got it right here on the client for\nwhen I connect.\n\n596\n00:29:16.650 --> 00:29:20.650\nAnd so when I reach out like that,\nlook what it did.\n\n597\n00:29:20.650 --> 00:29:24.760\nIt didn't prompt for a fingerprint cuz\nit's already in my known hosts file.\n\n598\n00:29:24.760 --> 00:29:25.850\nAnd it didn't prompt for\n\n599\n00:29:25.850 --> 00:29:30.540\na password because I provided\nmy certificate to identify me.\n\n600\n00:29:30.540 --> 00:29:34.660\nSo it got my public key, it verified it\nagainst the server, everything matched.\n\n601\n00:29:34.660 --> 00:29:36.403\nWe let it in, right?\n\n602\n00:29:36.403 --> 00:29:42.250\nNow, because that worked, I know that it's\nsafe to disable password authentication.\n\n603\n00:29:42.250 --> 00:29:47.219\nSo I can do a systemctl restart sshd,\n\n604\n00:29:47.219 --> 00:29:50.273\nso that'll restart.\n\n605\n00:29:50.273 --> 00:29:53.506\nAnd now, if I come in and\nI try and ssh in and\n\n606\n00:29:53.506 --> 00:29:57.315\ndo password authentication like this,\nright?\n\n607\n00:29:57.315 --> 00:29:59.712\nI'm gonna reach out and, shoot.\n\n608\n00:29:59.712 --> 00:30:03.509\nIt's cached my certificate identity now,\nso it is gonna be provided.\n\n609\n00:30:03.509 --> 00:30:05.251\nAnd the ssh agent that runs\nin the background says,\n\n610\n00:30:05.251 --> 00:30:06.190\nyou wanna do certificates.\n\n611\n00:30:06.190 --> 00:30:10.440\nSo it's doing it that way, but\nif I try to present a password now,\n\n612\n00:30:10.440 --> 00:30:12.466\nit's not going to allow that.\n\n613\n00:30:12.466 --> 00:30:13.640\nIt's not gonna be happy about that.\n\n614\n00:30:13.640 --> 00:30:18.228\nSo, like if I were to change my name,\nwhich actually I'm remoted in now,\n\n615\n00:30:18.228 --> 00:30:21.120\nto a different user that\nwouldn't be cached.\n\n616\n00:30:21.120 --> 00:30:26.000\nSo if I try to log in as Daniel,\nAnd go to connect.\n\n617\n00:30:26.000 --> 00:30:28.465\nSee how I get permission denied and\n\n618\n00:30:28.465 --> 00:30:33.226\nit's saying\npublickey,gssapi-keyex.gssapi-witn-mic.\n\n619\n00:30:33.226 --> 00:30:35.532\nPlain text is not on the list.\n\n620\n00:30:35.532 --> 00:30:39.080\nPlain text is where we submit a password,\nand that's been disabled.\n\n621\n00:30:39.080 --> 00:30:41.740\nSo we're only allowing\ncertificate authentication now.\n\n622\n00:30:41.740 --> 00:30:45.460\nSo if I use my user account,\nI can connect up and I'll be in business.\n\n623\n00:30:45.460 --> 00:30:49.120\nIf I use a password,\nit's not gonna work, right?\n\n624\n00:30:49.120 --> 00:30:52.860\nAnd the ssh agent actually registered\nmy little identity there and tied it.\n\n625\n00:30:52.860 --> 00:30:54.970\nSo I don't even have to provide\nthe certificate anymore.\n\n626\n00:30:54.970 --> 00:30:57.500\nNow I can ssh into that server super easy.\n\n627\n00:30:57.500 --> 00:31:02.290\nAnd, I can get in,\nI can start to work, just that quick.\n\n628\n00:31:02.290 --> 00:31:05.310\nAnd we're in business so, certificate\nauthentication's a great feature to have.\n\n629\n00:31:05.310 --> 00:31:08.715\nIf you're deploying Red Hat\nin Amazon Web Services,\n\n630\n00:31:08.715 --> 00:31:10.280\nthey've got it turned on by default.\n\n631\n00:31:10.280 --> 00:31:12.740\nIf you deploy it in Microsoft's Azure,\nthey don't have it turned on, so\n\n632\n00:31:12.740 --> 00:31:14.250\nit's a good idea to get that turned on.\n\n633\n00:31:14.250 --> 00:31:15.730\nBut it's just a great\nway to authenticate and\n\n634\n00:31:15.730 --> 00:31:17.430\nnow you don't have to\nworry about key loggers.\n\n635\n00:31:17.430 --> 00:31:18.094\n&gt;&gt; All right Don.\n\n636\n00:31:18.094 --> 00:31:21.806\nWell, it just goes to show you, just\nbecause we're using a secure protocol,\n\n637\n00:31:21.806 --> 00:31:25.070\ndoesn't mean that there aren't some\nfurther steps that you can take\n\n638\n00:31:25.070 --> 00:31:27.030\nto make it a little more hardened.\n\n639\n00:31:27.030 --> 00:31:29.940\nAnd doing things like enabling,\nusing the key encryption,\n\n640\n00:31:29.940 --> 00:31:33.110\nthat's always a great feature\nthat you definitely wanna do.\n\n641\n00:31:33.110 --> 00:31:37.280\nAnd make sure that you\ndisable root login and\n\n642\n00:31:38.770 --> 00:31:41.510\ngroups and\nusers that should be allowed to login.\n\n643\n00:31:41.510 --> 00:31:43.370\nDon, anything else you need\nto add to this episode?\n\n644\n00:31:43.370 --> 00:31:45.385\n&gt;&gt; So\nthere was a good question in the chatroom.\n\n645\n00:31:45.385 --> 00:31:48.455\n[COUGH] Could we actually use unique\nkeys for every server, right?\n\n646\n00:31:48.455 --> 00:31:51.230\nCuz I said you can just take this\none public key upload it everywhere.\n\n647\n00:31:51.230 --> 00:31:52.903\n&gt;&gt; Right.\n&gt;&gt; If my private key gets compromised,\n\n648\n00:31:52.903 --> 00:31:53.709\nI'm screwed, right?\n\n649\n00:31:53.709 --> 00:31:54.257\n&gt;&gt; That would be bad.\n\n650\n00:31:54.257 --> 00:31:55.225\n&gt;&gt; Because now somebody can\nget into all my servers.\n\n651\n00:31:55.225 --> 00:31:57.520\n&gt;&gt; [LAUGH]\n&gt;&gt; So yes you can, right?\n\n652\n00:31:57.520 --> 00:32:00.570\nSo when you generated that key,\nit got a default name but\n\n653\n00:32:00.570 --> 00:32:02.500\nyou can override the name\nwhen you create it.\n\n654\n00:32:02.500 --> 00:32:05.480\nAnd then you can upload a different\nkey to different servers so\n\n655\n00:32:05.480 --> 00:32:07.400\nyou could have a separate one.\n\n656\n00:32:07.400 --> 00:32:10.260\nIt becomes a bit of an administrative\nchallenge to keep it all straight.\n\n657\n00:32:10.260 --> 00:32:12.460\nSo there is software out there\nthat'll help you with that.\n\n658\n00:32:12.460 --> 00:32:14.970\nBut you certainly can,\nyou can have a different key for\n\n659\n00:32:14.970 --> 00:32:16.810\nevery single server you connect to.\n\n660\n00:32:16.810 --> 00:32:17.914\nIt does certainly work.\n\n661\n00:32:17.914 --> 00:32:18.695\n&gt;&gt; Well that sounds fun.\n\n662\n00:32:18.695 --> 00:32:20.074\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n663\n00:32:20.074 --> 00:32:20.825\n&gt;&gt; That being said,\n\n664\n00:32:20.825 --> 00:32:23.910\nit does look like we've come to\nthe end of our time for this episode.\n\n665\n00:32:23.910 --> 00:32:25.278\nWe do thank you guys for watching.\n\n666\n00:32:25.278 --> 00:32:29.240\nWe thank Don for explaining this to us,\nbut it looks like it's time to sign off.\n\n667\n00:32:29.240 --> 00:32:31.800\nFor ITProTV, I've been your host,\nDaniel Lowery.\n\n668\n00:32:31.800 --> 00:32:32.640\n&gt;&gt; And I'm Don Pezet.\n\n669\n00:32:32.640 --> 00:32:34.167\n&gt;&gt; We'll see you next time.\n\n670\n00:32:34.167 --> 00:32:40.830\n[MUSIC]\n\n671\n00:32:40.830 --> 00:32:43.716\nThank you for watching ITProTV.\n\n",
          "vimeoId": "195018578"
        },
        {
          "description": "In this episode, Daniel and Don explain how to keep your Red Hat Enterprise Linux systems secure by installing security updates. They begin by showing you how to check for and apply security updates available for your system from the terminal and then jump over to the Red Hat Customer Portal to perform security updates.",
          "length": "1706",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-4-5-security_updates-120116-PGM.00_28_11_24.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-4-5-security_updates-120116-PGM.00_28_11_24.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-4-5-security_updates-120116-PGM.00_28_11_24.Still001-sm.jpg",
          "title": "Security Updates",
          "transcript": "WEBVTT\n\n1\n00:00:00.362 --> 00:00:07.204\nWelcome to ITProTV\n&gt;&gt; [CROSSTALK]\n\n2\n00:00:07.204 --> 00:00:08.660\n[MUSIC]\n\n3\n00:00:08.660 --> 00:00:14.262\n&gt;&gt; You're watching ITProTV\n&gt;&gt; All right greetings everyone and\n\n4\n00:00:14.262 --> 00:00:16.360\nwelcome to another episode of ITProTV.\n\n5\n00:00:16.360 --> 00:00:18.160\nI'm your host Daniel Lowrie and\n\n6\n00:00:18.160 --> 00:00:22.220\ntoday's episode will you know we're\nback with more on our red hat Linux.\n\n7\n00:00:22.220 --> 00:00:23.550\nOur Enterprise Linux series.\n\n8\n00:00:23.550 --> 00:00:25.950\nJoining us back from the studio yet again.\n\n9\n00:00:25.950 --> 00:00:28.610\nIs our good friend and\nmentor, Mr. Don Bizet.\n\n10\n00:00:28.610 --> 00:00:29.460\nDon, welcome, sir.\n\n11\n00:00:29.460 --> 00:00:30.290\nHow's it going today?\n\n12\n00:00:30.290 --> 00:00:31.570\n&gt;&gt; It is going just well, Dane.\n\n13\n00:00:31.570 --> 00:00:33.070\nReady to dive right back in to Red Hat.\n\n14\n00:00:33.070 --> 00:00:36.350\nIn this episode,\nwe're taking a look at security updates.\n\n15\n00:00:36.350 --> 00:00:39.280\nOne of the cool things about Red Hat\nEnterprise Linux is that it's commercially\n\n16\n00:00:39.280 --> 00:00:40.170\nsupported.\n\n17\n00:00:40.170 --> 00:00:42.730\nAnd that means when there is some kind\nof vulnerability or whatever, we're not\n\n18\n00:00:42.730 --> 00:00:46.700\nwaiting on a community patch, we get the\nguys at Red Hat corporate to sit down, and\n\n19\n00:00:46.700 --> 00:00:49.400\nthey write the patch and they get these\nthings pushed out very, very quickly.\n\n20\n00:00:49.400 --> 00:00:51.900\nSo you're gonna stay\nas secure as possible,\n\n21\n00:00:51.900 --> 00:00:54.260\nas far as most of the Linux\nplatforms are concerned.\n\n22\n00:00:54.260 --> 00:00:58.050\nNow where this gets a little tricky\nis we need to adjust the way that we\n\n23\n00:00:58.050 --> 00:01:00.850\nhandle updates, for\nour system to take that into account.\n\n24\n00:01:00.850 --> 00:01:05.080\nBecause inevitably what happens\nis we run into a problem where.\n\n25\n00:01:05.080 --> 00:01:08.044\nWe're running maria DB 4.1.\n\n26\n00:01:08.044 --> 00:01:10.180\nAnd maria DB 4.2 comes out.\n\n27\n00:01:10.180 --> 00:01:12.840\nAnd 4.2 has some new features It changes\n\n28\n00:01:12.840 --> 00:01:14.560\nhow something works and\nwe don't want that.\n\n29\n00:01:14.560 --> 00:01:16.290\nIt's gonna break our software.\n\n30\n00:01:16.290 --> 00:01:23.050\nBut it also fixes some security stuff and\nnewly do on that, but now what do we do?\n\n31\n00:01:23.050 --> 00:01:26.430\nIt happens with web browsers all the time,\nwhere hey,\n\n32\n00:01:26.430 --> 00:01:29.440\nI can't go to the latest version of this\nweb browser cuz it breaks some site that\n\n33\n00:01:29.440 --> 00:01:31.160\nmy employees need to be able to use.\n\n34\n00:01:31.160 --> 00:01:35.620\nSo how do we balance security and\nfeature updates like that.\n\n35\n00:01:35.620 --> 00:01:40.330\nAnd what Red Hat does, is they do push\nout the regular updates just like\n\n36\n00:01:40.330 --> 00:01:45.600\nevery distro out there, but\nthey also push out just security updates.\n\n37\n00:01:45.600 --> 00:01:48.060\nWe can go in and say hey, I don't want\nall the new features or crazy bells and\n\n38\n00:01:48.060 --> 00:01:51.490\nwhistles, I just want the security\nupdates, keep my system protected.\n\n39\n00:01:51.490 --> 00:01:53.100\nAnd there's a way to do that,\n\n40\n00:01:53.100 --> 00:01:55.640\nwe just have to handle updates\na little bit different, right.\n\n41\n00:01:55.640 --> 00:02:00.210\nNormally what I would do if I had\na system that I needed to update, right.\n\n42\n00:02:00.210 --> 00:02:06.380\nI would jump right in and\nI would just say, update, right?\n\n43\n00:02:06.380 --> 00:02:08.500\nAnd it's gonna reach\nout to the server and,\n\n44\n00:02:08.500 --> 00:02:11.450\nwell, assuming that I have\nthe permissions to run the command.\n\n45\n00:02:11.450 --> 00:02:15.550\nIt'll jump right out to the server, and\nit'll find out what updates are available.\n\n46\n00:02:15.550 --> 00:02:18.207\nAnd it'll give me a big fat\nlist of updates, over three.\n\n47\n00:02:18.207 --> 00:02:21.500\n&gt;&gt; [LAUGH]\n&gt;&gt; Apparently I'm pretty up to date.\n\n48\n00:02:21.500 --> 00:02:23.580\nSo it'll find those updates,\nand then it'll say, hey,\n\n49\n00:02:23.580 --> 00:02:25.240\ndo you want to install them or not, right.\n\n50\n00:02:25.240 --> 00:02:28.720\nBut when I look at this,\nare these security updates?\n\n51\n00:02:28.720 --> 00:02:30.070\nAre these feature updates?\n\n52\n00:02:30.070 --> 00:02:31.870\nIf they are security updates,\nwhat are they fixing?\n\n53\n00:02:32.870 --> 00:02:33.550\nI don't know.\n\n54\n00:02:33.550 --> 00:02:36.350\nI don't see any of that here and\n\n55\n00:02:36.350 --> 00:02:39.420\nso I'm not getting any of that\nextra information that I need.\n\n56\n00:02:39.420 --> 00:02:41.490\nSo there's a series of commands\nthat we need to use and\n\n57\n00:02:41.490 --> 00:02:43.130\nI'm going to say no to all this stuff.\n\n58\n00:02:44.180 --> 00:02:47.240\nOne of them's related to Java so\nyou know that's gotta be security.\n\n59\n00:02:47.240 --> 00:02:48.760\nBut I wanna know for a fact, right.\n\n60\n00:02:48.760 --> 00:02:50.440\nI wanna know about these things.\n\n61\n00:02:50.440 --> 00:02:54.070\nAnd I also wanna know about security\nthings that I've already been patched for.\n\n62\n00:02:54.070 --> 00:02:56.050\nHow do I keep up with that stuff?\n\n63\n00:02:56.050 --> 00:02:57.770\nSo in this episode,\nI wanna show you two things.\n\n64\n00:02:57.770 --> 00:03:00.780\nI wanna show you a set of command\nline utilities we can run that will\n\n65\n00:03:00.780 --> 00:03:04.000\ntell us all sorts of information\nabout the security updates.\n\n66\n00:03:04.000 --> 00:03:06.890\nAnd then I want to show you\nthe red hat customer portal.\n\n67\n00:03:06.890 --> 00:03:10.530\nAnd how it has a whole section\nin there where we can keep track\n\n68\n00:03:10.530 --> 00:03:13.360\nof the vulnerabilities and other things\nthat are out there that we need to be\n\n69\n00:03:13.360 --> 00:03:15.650\naware of in patching on our systems,\nall right?\n\n70\n00:03:15.650 --> 00:03:17.100\nBut let's start right here\nfrom our command line.\n\n71\n00:03:17.100 --> 00:03:20.660\nThe first thing I wanna show you\nguys is when I ran yum update\n\n72\n00:03:20.660 --> 00:03:23.460\nI'm actually telling the system,\nhey I wanna do an update.\n\n73\n00:03:23.460 --> 00:03:26.690\nBut I didn't want to do an update,\nI just wanted to see the updates.\n\n74\n00:03:26.690 --> 00:03:30.250\nAnd so you can do a yum check-update.\n\n75\n00:03:30.250 --> 00:03:33.620\nWhich says, I dont actually wanna\ndo the update just check and\n\n76\n00:03:33.620 --> 00:03:36.000\nsee what available and tell me about it.\n\n77\n00:03:36.000 --> 00:03:39.070\nAnd so when you run that command,\nit's gonna reach out and look for\n\n78\n00:03:39.070 --> 00:03:42.810\nthose updates in return\nthe exact same data.\n\n79\n00:03:42.810 --> 00:03:46.130\nThe only advantage here is that\nit didn't offer to install it.\n\n80\n00:03:46.130 --> 00:03:48.950\nI couldn't accidentally hit enter which\nautomatically makes them install.\n\n81\n00:03:48.950 --> 00:03:51.410\nSo check-update is a great way to do that.\n\n82\n00:03:51.410 --> 00:03:55.310\nBut check-update has another little\ncommand line modifier that you can use.\n\n83\n00:03:55.310 --> 00:03:57.200\nWhich is --security.\n\n84\n00:03:57.200 --> 00:04:00.330\nIn other words, check for updates and\n\n85\n00:04:00.330 --> 00:04:03.690\njust show me the ones that\nare security updates.\n\n86\n00:04:03.690 --> 00:04:06.670\nNow I can get a better idea\nof what these updates are.\n\n87\n00:04:06.670 --> 00:04:10.610\nI've got three updates available and wow,\n\n88\n00:04:10.610 --> 00:04:12.780\nthat's quite a bit that just\ncame across the screen, right?\n\n89\n00:04:12.780 --> 00:04:13.810\nQuite a bit of stuff.\n\n90\n00:04:13.810 --> 00:04:18.567\nWell, I can see expat.x86_64.\n\n91\n00:04:18.567 --> 00:04:21.581\nThis package right here,\nthat's one package needed for\n\n92\n00:04:21.581 --> 00:04:23.760\nsecurity out of three available.\n\n93\n00:04:23.760 --> 00:04:27.660\nThere were three updates but only one\nof them is actually a security update.\n\n94\n00:04:27.660 --> 00:04:31.900\nSo those other two, they might be\nadding features or functionality,\n\n95\n00:04:31.900 --> 00:04:34.690\nmight be a bug fix, but\nnot a security-related bug.\n\n96\n00:04:34.690 --> 00:04:37.390\nMaybe there was a typo in the program,\nsomething like that.\n\n97\n00:04:37.390 --> 00:04:41.050\nI don't need to rush to do those,\nI don't need to worry about breaking\n\n98\n00:04:41.050 --> 00:04:45.810\nmy custom software or website with\nupdates that don't add anything.\n\n99\n00:04:45.810 --> 00:04:47.060\nI need the security update.\n\n100\n00:04:47.060 --> 00:04:47.640\nRight?\nAnd\n\n101\n00:04:47.640 --> 00:04:50.820\nI can see there is really just\none of them that truly did that.\n\n102\n00:04:50.820 --> 00:04:53.900\nNow all the stuff that\nscroll across the screen\n\n103\n00:04:53.900 --> 00:04:56.130\nwhat it's showing here is\nall the dependencies, right.\n\n104\n00:04:56.130 --> 00:04:58.370\nAnd the dependencies\nare pretty significant.\n\n105\n00:04:58.370 --> 00:05:00.630\nBut none of these\ndependencies had updates.\n\n106\n00:05:00.630 --> 00:05:01.620\nIf they did,\n\n107\n00:05:01.620 --> 00:05:05.380\nit has to check the dependency to say, is\nthis a security update for the dependency.\n\n108\n00:05:05.380 --> 00:05:08.070\nRight, so that's why all this stuff\nis scrolling across the screen.\n\n109\n00:05:08.070 --> 00:05:12.560\nAnd you know, I don't remember off hand,\nbut I think it's like no-dependencies or\n\n110\n00:05:12.560 --> 00:05:15.360\nsomething like that that you can add and\nit hides all that stuff.\n\n111\n00:05:15.360 --> 00:05:17.870\nBut what I want is right\nhere to end anyway, so\n\n112\n00:05:17.870 --> 00:05:19.780\nyou can just let it run and there you go.\n\n113\n00:05:19.780 --> 00:05:24.240\nBut just remember,\nthat was check -update --security.\n\n114\n00:05:24.240 --> 00:05:26.650\nJust show me the ones that actually\nhave security updates in them.\n\n115\n00:05:28.050 --> 00:05:30.038\nAnd we can go a little\nbit further with that.\n\n116\n00:05:30.038 --> 00:05:36.390\nThere's a yum update info command.\n\n117\n00:05:36.390 --> 00:05:39.220\nAnd normally this would show you\ninformation about any particular update.\n\n118\n00:05:39.220 --> 00:05:41.350\nYou could specify the update and\nthat was it.\n\n119\n00:05:41.350 --> 00:05:45.710\nBut if it's a security update that\nwe're concerned about we can say\n\n120\n00:05:45.710 --> 00:05:49.290\nsudo yum updateinfo security.\n\n121\n00:05:49.290 --> 00:05:51.760\nAnd that's gonna say give me\ninformation about that security update.\n\n122\n00:05:51.760 --> 00:05:55.370\nI know that expat apparently\nis a security update.\n\n123\n00:05:55.370 --> 00:05:56.440\nWhat about it, right?\n\n124\n00:05:56.440 --> 00:05:58.940\nOr if there were five different\nones I can just run this and\n\n125\n00:05:58.940 --> 00:06:00.630\nit'll tell me about all five of them.\n\n126\n00:06:00.630 --> 00:06:03.510\nAnd so it's gonna do a lookup to\nfind out what needed to be done and\n\n127\n00:06:03.510 --> 00:06:05.690\nthen it's gonna give me\na little bit of output.\n\n128\n00:06:05.690 --> 00:06:07.490\nAnd when I say a little bit,\nboy do I mean it.\n\n129\n00:06:07.490 --> 00:06:08.470\nIt really didn't no.\n\n130\n00:06:08.470 --> 00:06:11.280\nIt didn't give me much at all.\n\n131\n00:06:11.280 --> 00:06:13.360\nThat's an interesting one.\n\n132\n00:06:13.360 --> 00:06:14.310\n&gt;&gt; It's moderate.\n\n133\n00:06:14.310 --> 00:06:16.110\n&gt;&gt; Let's change here.\n\n134\n00:06:16.110 --> 00:06:20.480\nIt may actually be that it's\nnot a true security issue,\n\n135\n00:06:20.480 --> 00:06:22.410\nthat it's flagged as a security update.\n\n136\n00:06:23.500 --> 00:06:28.630\nSometimes you see where there's a\nvulnerability that is yet to be exploited.\n\n137\n00:06:28.630 --> 00:06:31.430\nSo it is a security problem but\n\n138\n00:06:31.430 --> 00:06:35.040\nit's not being exploited yet so\nit's not like an urgent thing.\n\n139\n00:06:35.040 --> 00:06:38.260\nSo you're here sometimes people will tell\nyou about the new update, how to blade was\n\n140\n00:06:38.260 --> 00:06:41.800\ngreat example, you need to push out\nthis fix today, don't test just\n\n141\n00:06:41.800 --> 00:06:46.010\npush it out because you are vulnerable\nright now, people are exploiting this.\n\n142\n00:06:46.010 --> 00:06:48.550\nBut other times there\nis these radicle ones,\n\n143\n00:06:48.550 --> 00:06:52.323\nIt's theoretically possible to break 256.\n\n144\n00:06:52.323 --> 00:06:57.250\nIt doesn't mean that we should move to 512\nright now, but in the near future we will.\n\n145\n00:06:57.250 --> 00:07:01.240\nThose kinds of things can cause it to\nshow up in one area and not another.\n\n146\n00:07:01.240 --> 00:07:03.300\nI ran yum updateinfo security.\n\n147\n00:07:03.300 --> 00:07:10.690\nI'm going to change that and\nrun yum updateinfo CVEs, right?\n\n148\n00:07:10.690 --> 00:07:14.630\nCVEs, you'll hear about CVEs in any\nother security manual that you read.\n\n149\n00:07:14.630 --> 00:07:18.080\nAnd it's common vulnerabilities and\nexploits.\n\n150\n00:07:18.080 --> 00:07:22.270\nSo when somebody learns about a new\nvulnerability it gets documented and\n\n151\n00:07:22.270 --> 00:07:23.950\nassigned a CVE number.\n\n152\n00:07:23.950 --> 00:07:28.805\nAnd so there is more than likely\na CVE number attached to this\n\n153\n00:07:28.805 --> 00:07:33.260\nExpat.x86_64 file.\n\n154\n00:07:33.260 --> 00:07:37.060\nSo if I pull this up,\nhopefully I'll get some more output here.\n\n155\n00:07:37.060 --> 00:07:39.650\nIf I don't, then we really get confused.\n\n156\n00:07:39.650 --> 00:07:41.370\nAnd I don't, all right.\n\n157\n00:07:41.370 --> 00:07:44.740\nNo, wait,\nI'm Overlooking the output on my screen.\n\n158\n00:07:44.740 --> 00:07:47.391\nSo there is a CVE attached to it.\n\n159\n00:07:47.391 --> 00:07:52.971\nSo CVE- 2016- 0718 Moderate/Sec,\n\n160\n00:07:52.971 --> 00:07:56.046\nso it is a moderate issue.\n\n161\n00:07:56.046 --> 00:07:59.258\nIt's a security issue and\nthat's what's being tied to it.\n\n162\n00:07:59.258 --> 00:08:00.545\nAnd so it's giving me that information.\n\n163\n00:08:00.545 --> 00:08:03.480\n&gt;&gt; And the cool thing is you can\nactually look up those CDE numbers, and\n\n164\n00:08:03.480 --> 00:08:06.881\nsometimes they have a lovely little thing\ncalled proof of concept codes that go\n\n165\n00:08:06.881 --> 00:08:07.670\nalong with them.\n\n166\n00:08:07.670 --> 00:08:10.400\nAnd that's real fun for\nyou budding hackers out there [LAUGH].\n\n167\n00:08:10.400 --> 00:08:12.700\n&gt;&gt; Yeah, and the proof of concept\ncode is what you can take in and\n\n168\n00:08:12.700 --> 00:08:15.690\nturn into an exploit, so those are usually\nthe ones that have already been exploited,\n\n169\n00:08:15.690 --> 00:08:17.210\nand those are ones that you\nreally have to worry about.\n\n170\n00:08:17.210 --> 00:08:20.280\nSo now I've got the CVE number,\nI can go and look that up.\n\n171\n00:08:20.280 --> 00:08:21.962\nI can look it up on Red Hat's website.\n\n172\n00:08:21.962 --> 00:08:26.240\nI don't normally do it, but you can look\nit up right here from the command line.\n\n173\n00:08:26.240 --> 00:08:29.130\nI don't, I actually don't\nremember the command for that.\n\n174\n00:08:29.130 --> 00:08:33.925\nThere's a -v or verbose,\nor something like that.\n\n175\n00:08:33.925 --> 00:08:37.690\nIt'll actually display the CV information\nright here in the command line.\n\n176\n00:08:37.690 --> 00:08:38.540\nApparently, that's not it.\n\n177\n00:08:38.540 --> 00:08:40.025\nBut I don't normally pull it here.\n\n178\n00:08:40.025 --> 00:08:43.846\nBecause what's really gonna happen is,\nif you're supporting hundreds of servers,\n\n179\n00:08:43.846 --> 00:08:46.832\nyou're not remoting into the servers and\npulling these updates and\n\n180\n00:08:46.832 --> 00:08:48.660\nlooking at it right from here.\n\n181\n00:08:48.660 --> 00:08:51.460\nWe're normally doing it from\nthe Red Hat customer portal.\n\n182\n00:08:51.460 --> 00:08:54.480\nAnd that's where we'll see the CVs and\nwe can easily read the documentation and\n\n183\n00:08:54.480 --> 00:08:55.270\ndo it at our leisure.\n\n184\n00:08:55.270 --> 00:08:58.200\nSo I'm gonna show you guys\nthat way here in a little bit,\n\n185\n00:08:58.200 --> 00:08:59.810\nwe'll pull up the detailed information.\n\n186\n00:08:59.810 --> 00:09:03.960\nBut now I know that,\nthat one package does need to be updated.\n\n187\n00:09:03.960 --> 00:09:07.950\nIt does have a vulnerability,\nit's moderate so that's enough for\n\n188\n00:09:07.950 --> 00:09:10.400\nme to worry about it, and\nI need to push that update out.\n\n189\n00:09:10.400 --> 00:09:11.398\nThe other two updates?\n\n190\n00:09:11.398 --> 00:09:12.982\nI can let those sit there,\nI don't care about those.\n\n191\n00:09:12.982 --> 00:09:16.960\nBut this one, I need to get\nthat updated sooner or later.\n\n192\n00:09:16.960 --> 00:09:21.740\nAnd so, when I do a yum update,\ninstead of just running yum update and\n\n193\n00:09:21.740 --> 00:09:26.540\nupdating the whole thing, if it's just\none, like this, I can go in and just say,\n\n194\n00:09:26.540 --> 00:09:27.160\nUpdate expat.\n\n195\n00:09:27.160 --> 00:09:28.824\nAnd that's it, right?\n\n196\n00:09:28.824 --> 00:09:33.248\nOr, I could say update --security.\n\n197\n00:09:33.248 --> 00:09:39.860\nAnd when I do that, now it's only gonna\nupdate packages that are security updates.\n\n198\n00:09:39.860 --> 00:09:41.552\nAnd see how expat is the only\nthing that shows up.\n\n199\n00:09:41.552 --> 00:09:45.600\nThat's useful cuz you might have a hundred\npackages that need to be updated.\n\n200\n00:09:45.600 --> 00:09:49.113\nMaybe you just did a new install,\nfresh and clean new install, and\n\n201\n00:09:49.113 --> 00:09:51.826\nthere's 100 packages\nthat need to be updated.\n\n202\n00:09:51.826 --> 00:09:54.660\nAnd 20 of them are security.\n\n203\n00:09:54.660 --> 00:09:58.470\nWell you don't have to do all 20 of those\none at a time or write them all out.\n\n204\n00:09:58.470 --> 00:10:01.420\nSo by doing it this way it will update\njust the 20 that need security and\n\n205\n00:10:01.420 --> 00:10:02.390\nthe other ones it will leave be.\n\n206\n00:10:03.430 --> 00:10:07.229\nAll right, so if I just say yes to that,\nit's going to apply and\n\n207\n00:10:07.229 --> 00:10:09.754\nnow just the expat package gets updated.\n\n208\n00:10:09.754 --> 00:10:17.303\nAnd now if I do a pseudo\nyum check- update.\n\n209\n00:10:17.303 --> 00:10:20.140\nI can look at it and\nI can see where those two other ones.\n\n210\n00:10:20.140 --> 00:10:23.090\nThe tz data, that's time zone data.\n\n211\n00:10:23.090 --> 00:10:24.580\n&gt;&gt; [LAUGH]\n&gt;&gt; That's not critical.\n\n212\n00:10:24.580 --> 00:10:27.739\nSo the time zone right there,\nthat's just kinda sitting there.\n\n213\n00:10:27.739 --> 00:10:28.922\nThose updates are out.\n\n214\n00:10:28.922 --> 00:10:33.441\nBut if I add a little --security,\nnow I can see that my system is\n\n215\n00:10:33.441 --> 00:10:38.152\ncompletely patched and up to date\nas far as security is concerned.\n\n216\n00:10:38.152 --> 00:10:41.520\nNow let me add a little caveat to that,\nall right.\n\n217\n00:10:41.520 --> 00:10:44.820\nNo package is needed for security,\nwonderful right, that's what I wanna see.\n\n218\n00:10:45.850 --> 00:10:50.620\nHere's my caveat, when I did this\nupdate it updated a package and\n\n219\n00:10:50.620 --> 00:10:52.660\nthat package was already\ninstalled on my system.\n\n220\n00:10:52.660 --> 00:10:56.533\nSo it patched it, it took effect, and\nwe're done now, right, everything's great?\n\n221\n00:10:56.533 --> 00:10:57.605\nNot always.\n\n222\n00:10:57.605 --> 00:11:02.456\nFor example, if I'm patching a service\nlike Apache and it's running,\n\n223\n00:11:02.456 --> 00:11:06.605\nwell I patched its files but\nit's running from RAM right now.\n\n224\n00:11:06.605 --> 00:11:09.960\nAnd so I haven't actually patched\nwhat's running on the system.\n\n225\n00:11:09.960 --> 00:11:14.301\nSo if Apache takes an update,\nI really need to restart that service.\n\n226\n00:11:14.301 --> 00:11:17.260\nIf i have to update the kernel, right?\n\n227\n00:11:17.260 --> 00:11:20.640\nThe kernel does get updates, and if\nit's the Linux kernel that gets updated,\n\n228\n00:11:20.640 --> 00:11:22.430\nit's always in use.\n\n229\n00:11:22.430 --> 00:11:25.812\nSo if it takes an update, yeah it'll\nupdate the kernel on the file system, but\n\n230\n00:11:25.812 --> 00:11:28.443\nyou've got to reboot your server\nbefore that takes effect.\n\n231\n00:11:28.443 --> 00:11:32.807\nAnd there's a lot of people out there\nthat operate under this misguided\n\n232\n00:11:32.807 --> 00:11:37.820\nperception that you can run Linux 24/7 for\nyears on end and never reboot.\n\n233\n00:11:37.820 --> 00:11:39.500\nAnd it's just not true.\n\n234\n00:11:39.500 --> 00:11:43.038\nIf a kernel update comes in,\nyou gotta restart.\n\n235\n00:11:43.038 --> 00:11:45.256\nYou have to,\notherwise the kernel doesn't reload.\n\n236\n00:11:45.256 --> 00:11:48.824\n&gt;&gt; Well you can run it 24/7, but\nit's a good way to get hacked into, right?\n\n237\n00:11:48.824 --> 00:11:50.575\n&gt;&gt; Yeah, not with security patches.\n\n238\n00:11:50.575 --> 00:11:52.095\n&gt;&gt; [LAUGH]\n&gt;&gt; I will say that kernel updates\n\n239\n00:11:52.095 --> 00:11:53.298\nare pretty rare, right?\n\n240\n00:11:53.298 --> 00:11:54.406\nBut they do happen.\n\n241\n00:11:54.406 --> 00:11:58.258\nSo if you ever walk into a building and\nthey start bragging about a server they\n\n242\n00:11:58.258 --> 00:12:01.520\nhave that's got a three year uptime,\nthat's pretty awesome.\n\n243\n00:12:01.520 --> 00:12:04.266\nA three year uptime is great, but I\nguarantee you that there are some security\n\n244\n00:12:04.266 --> 00:12:06.181\nexploits that haven't been\npatched on that server.\n\n245\n00:12:06.181 --> 00:12:07.620\n&gt;&gt; It's mining bitcoins\nat that point [LAUGH].\n\n246\n00:12:07.620 --> 00:12:09.064\n&gt;&gt; It may well be.\n\n247\n00:12:09.064 --> 00:12:13.582\nSo you definitely want to check that and\nif it's a kernel update you gotta restart.\n\n248\n00:12:13.582 --> 00:12:15.770\nBut if it's anything else usually\njust restarting a service.\n\n249\n00:12:15.770 --> 00:12:16.770\nAnd Linux will run for\n\n250\n00:12:16.770 --> 00:12:20.120\nyears on end as long as you don't have\nanything too crazy going on there.\n\n251\n00:12:20.120 --> 00:12:21.389\nSo we gotta keep an eye on that.\n\n252\n00:12:21.389 --> 00:12:27.230\nNow as far as the command line,\nthat's mostly what we need to see.\n\n253\n00:12:27.230 --> 00:12:30.320\nI guess one more thing,\nsecurity advisories.\n\n254\n00:12:30.320 --> 00:12:32.570\nSecurity advisories come\nout from time to time.\n\n255\n00:12:32.570 --> 00:12:34.280\nWhere Red Hat will push these out and\nlet you know.\n\n256\n00:12:34.280 --> 00:12:35.356\nWe can see them from the command line.\n\n257\n00:12:35.356 --> 00:12:38.410\nAgain, I never do this in real life\nbecause you use the customer portal for\n\n258\n00:12:38.410 --> 00:12:40.900\nthe advisories, but\nif you want to see them from here.\n\n259\n00:12:40.900 --> 00:12:45.562\nIf you're kind of into that thing,\nyou can say,\n\n260\n00:12:45.562 --> 00:12:48.984\nyum updateinfo and then advisory.\n\n261\n00:12:50.320 --> 00:12:51.823\nFollowed by an advisory number.\n\n262\n00:12:51.823 --> 00:12:54.749\nIf you don't do an advisory number I\nbelieve it just displays them all.\n\n263\n00:12:54.749 --> 00:12:57.270\nAnd it'll show any outstanding\nadvisories for the system.\n\n264\n00:12:57.270 --> 00:12:59.822\nI don't have any advisories right now so\nI'm fine, but\n\n265\n00:12:59.822 --> 00:13:03.584\nit would give me additional advisories on\nstuff that I should be aware of, right?\n\n266\n00:13:03.584 --> 00:13:06.477\nSo if there's a worm that\nexploiting something right now and\n\n267\n00:13:06.477 --> 00:13:10.240\nit's really common on the internet,\nit would show up here.\n\n268\n00:13:10.240 --> 00:13:10.820\nAll right.\n\n269\n00:13:10.820 --> 00:13:12.943\nSo, enough about that,\nthe command line side.\n\n270\n00:13:12.943 --> 00:13:17.859\nThe main two commands I want you to take\naway from this are the yum update --\n\n271\n00:13:17.859 --> 00:13:21.079\nsecurity and yum check-update --security.\n\n272\n00:13:21.079 --> 00:13:23.815\nThat's how we can see what\nsecurity updates are out there and\n\n273\n00:13:23.815 --> 00:13:26.776\nwhich ones to apply, and\nnot worry about all our other packages.\n\n274\n00:13:26.776 --> 00:13:31.020\n&gt;&gt; All right, so that leaves us with\nthe good old Red Hat portal, right?\n\n275\n00:13:31.020 --> 00:13:32.960\n&gt;&gt; Yep, let me fire the portal up.\n\n276\n00:13:32.960 --> 00:13:34.860\nAll right, so if you haven't seen it,\n\n277\n00:13:34.860 --> 00:13:38.640\nwhat I've got pulled up on my computer\nhere is the Red Hat customer portal.\n\n278\n00:13:38.640 --> 00:13:41.620\nYou can go to access.redhat.com,\nand you can get at it.\n\n279\n00:13:41.620 --> 00:13:44.950\nIf you don't have an account,\nyou can set one up for free.\n\n280\n00:13:44.950 --> 00:13:47.755\nA lot of the stuff doesn't really\nwork unless you have at least one\n\n281\n00:13:47.755 --> 00:13:48.576\nlicensed system.\n\n282\n00:13:48.576 --> 00:13:51.830\nBut if you have at least one licensed\nsystem then all the stuff will work and\n\n283\n00:13:51.830 --> 00:13:52.786\nyou can get in there.\n\n284\n00:13:52.786 --> 00:13:55.005\nIf you have a developer license,\nthat's enough, too.\n\n285\n00:13:55.005 --> 00:13:56.302\nAnd developer licenses are free.\n\n286\n00:13:56.302 --> 00:13:58.766\nSo that'll get you your one license,\nyou get in here and\n\n287\n00:13:58.766 --> 00:14:00.662\nyou can access everything free of charge.\n\n288\n00:14:00.662 --> 00:14:04.279\nBut when you go in, a lot of this\nis tailored around the subscription\n\n289\n00:14:04.279 --> 00:14:08.085\nmanagement and products and\nservices so you can buy more stuff.\n\n290\n00:14:08.085 --> 00:14:09.545\nRed Hat has to pay the bills.\n\n291\n00:14:09.545 --> 00:14:14.110\nBut if you look over a little further,\nyou've got a whole security menu.\n\n292\n00:14:14.110 --> 00:14:20.190\nAnd when you drop that down, here is the\nsecurity advisories the SEV database and\n\n293\n00:14:20.190 --> 00:14:22.970\neven security labs which are pretty cool.\n\n294\n00:14:22.970 --> 00:14:24.376\nAs we go through each one of these,\n\n295\n00:14:24.376 --> 00:14:27.382\nit's giving us the same information\nthat we have in the command line, but\n\n296\n00:14:27.382 --> 00:14:29.722\nthe core part is I don't have\nto log in to 100 servers.\n\n297\n00:14:29.722 --> 00:14:32.154\nI can just look here to\nfind out what's new and\n\n298\n00:14:32.154 --> 00:14:34.480\nthen understand what I\nneed to be aware of.\n\n299\n00:14:34.480 --> 00:14:36.300\nSo let's start with the advisories.\n\n300\n00:14:36.300 --> 00:14:39.810\nWhen I go to the Security Advisories,\nthis is going to be up-to-date\n\n301\n00:14:39.810 --> 00:14:43.380\ninformation that's telling me about\nthings that I need to be aware of.\n\n302\n00:14:43.380 --> 00:14:45.880\nAnd by default,\nit shows all their products.\n\n303\n00:14:45.880 --> 00:14:49.070\nAnd you'll be surprised how\nmany products Red Hat makes.\n\n304\n00:14:49.070 --> 00:14:50.085\nIt's kinda shocking.\n\n305\n00:14:50.085 --> 00:14:50.880\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n306\n00:14:50.880 --> 00:14:54.390\nyou'll always wanna filter that\ndown to restrict that a bit.\n\n307\n00:14:54.390 --> 00:14:57.782\nAnd let's see,\nthere we go took it a minute to load.\n\n308\n00:14:57.782 --> 00:15:01.910\nSo I need to make sure that I kinda tie\nthat down to Red Hat Enterprise Linux.\n\n309\n00:15:01.910 --> 00:15:04.897\nSo I'm just gonna type,\nwe have to type it out, don't we?\n\n310\n00:15:04.897 --> 00:15:08.020\nRed Hat Enterprise Linux, there we go.\n\n311\n00:15:08.020 --> 00:15:12.105\nAnd you've got Red Hat Enterprise Linux\nas well as the Red Hat Enterprise Linux 7\n\n312\n00:15:12.105 --> 00:15:15.115\nDesktop High Touch Beta and\nRelease Candidate and\n\n313\n00:15:15.115 --> 00:15:16.765\nResilient Storage High Touch Beta.\n\n314\n00:15:16.765 --> 00:15:20.075\nThere's several different versions of\nRed Hat Enterprise Linux that have\n\n315\n00:15:20.075 --> 00:15:21.525\ncustom software on them.\n\n316\n00:15:21.525 --> 00:15:23.435\nAnd so if you're running one of\nthose you want to make sure you've\n\n317\n00:15:23.435 --> 00:15:23.995\npicked the right one.\n\n318\n00:15:23.995 --> 00:15:27.070\nBut for most of us it's going\nto be this very first one.\n\n319\n00:15:27.070 --> 00:15:29.725\nAnd then it's gonna display advisories for\nevery version.\n\n320\n00:15:29.725 --> 00:15:31.400\nAnd that can be a little\nbit of a problem too.\n\n321\n00:15:31.400 --> 00:15:37.010\nI need to put in to All Versions, and\npick the version that I'm running now.\n\n322\n00:15:37.010 --> 00:15:40.491\nI'm might want all versions, if I'm\nrunning more than one version out here in\n\n323\n00:15:40.491 --> 00:15:43.513\nmy production environment, but\nin my system I was running 7.2.\n\n324\n00:15:43.513 --> 00:15:46.199\nOr at least I think I am,\nhang on, let's find out.\n\n325\n00:15:46.199 --> 00:15:49.591\nIf you ever forget your version,\nit tells you when you boot.\n\n326\n00:15:49.591 --> 00:15:56.920\nBut if you don't feel like rebooting,\nyou can look in /etc/redhat Dash release.\n\n327\n00:15:56.920 --> 00:15:57.726\nAnd it'll tell you.\n\n328\n00:15:57.726 --> 00:16:00.648\nSo I'm running 7.3, I'm pretty up to date.\n\n329\n00:16:00.648 --> 00:16:03.791\nAll right, so if I go back to the portal,\n\n330\n00:16:03.791 --> 00:16:08.700\nI'm gonna come in here and\nfilter that version down to 7.3.\n\n331\n00:16:08.700 --> 00:16:11.300\nAll right, so now that I'm in\n7.3 I can look and sure enough,\n\n332\n00:16:11.300 --> 00:16:12.860\nthere's some advisories.\n\n333\n00:16:12.860 --> 00:16:17.390\nHere's an advisory, and\nimportant Thunderbird security Update, and\n\n334\n00:16:17.390 --> 00:16:19.675\nwe're talking about Thunderbird\nthe email client, not the malt liquor.\n\n335\n00:16:19.675 --> 00:16:23.040\n[LAUGH] Although there should be\na security advisory for that one as well.\n\n336\n00:16:23.040 --> 00:16:24.584\nI was gonna do a whole show on that?\n\n337\n00:16:24.584 --> 00:16:26.510\n[LAUGH] [LAUGH] Can we\nparlay that into a show?\n\n338\n00:16:26.510 --> 00:16:27.806\nI think we can.\n[LAUGH] Yeah, I think we can do it.\n\n339\n00:16:27.806 --> 00:16:29.550\n[LAUGH] There's\na Thunderbird advisory now.\n\n340\n00:16:29.550 --> 00:16:32.140\nIf I'm running Thunderbird,\nI need to read this.\n\n341\n00:16:32.140 --> 00:16:34.450\nI'm not running Thunderbird,\nI'm actually not a very big fan of it.\n\n342\n00:16:34.450 --> 00:16:37.330\nAnd so, I can safely ignore this,\nI'm not running it.\n\n343\n00:16:37.330 --> 00:16:39.550\nSo but there is an advisory\nI need to go and read it.\n\n344\n00:16:39.550 --> 00:16:41.200\nThe severity is important.\n\n345\n00:16:41.200 --> 00:16:45.990\nAnd if you look up here you'll see all,\nlow, moderate, important, critical.\n\n346\n00:16:45.990 --> 00:16:47.850\nImportant is edging up there.\n\n347\n00:16:47.850 --> 00:16:48.560\nRight.\n\n348\n00:16:48.560 --> 00:16:49.870\nI might want to go critical.\n\n349\n00:16:49.870 --> 00:16:51.680\nShow me the really urgent stuff.\n\n350\n00:16:51.680 --> 00:16:55.770\nIn 7.3 is there something super dangerous\nthat I really need to be worried about?\n\n351\n00:16:55.770 --> 00:16:59.760\nAnd sure enough Critical Firefox\nsecurity update.\n\n352\n00:16:59.760 --> 00:17:00.560\nI'm running Firefox.\n\n353\n00:17:00.560 --> 00:17:03.890\nI'm in Firefox right now reading\nabout this critical update.\n\n354\n00:17:03.890 --> 00:17:05.310\nSo I need to worry about that and\n\n355\n00:17:05.310 --> 00:17:10.190\nIf I look over here I see it even\nthe text Red Hat Enterprise Linux Server.\n\n356\n00:17:10.190 --> 00:17:13.250\nI'm running server and\nI installed the GUI so I have Firefox.\n\n357\n00:17:13.250 --> 00:17:16.940\nIf I'm running server and I didn't install\nthe GUI, I'm not gonna have Firefox, am I?\n\n358\n00:17:16.940 --> 00:17:18.350\nSo I don't have to worry about it.\n\n359\n00:17:18.350 --> 00:17:19.960\nBut I have it, so\nI need to worry about this.\n\n360\n00:17:19.960 --> 00:17:21.660\nThis is a --one I need to worry about.\n\n361\n00:17:21.660 --> 00:17:26.600\nSo if I go in and read this article,\nit's gonna tell me what the exploit is and\n\n362\n00:17:26.600 --> 00:17:29.990\nwhat the considerations are for\nit, what I need to worry about.\n\n363\n00:17:29.990 --> 00:17:32.400\nAnd How to patch it right?\n\n364\n00:17:32.400 --> 00:17:34.810\nAnd how to patch it is normally you\njust do your updates and that's it.\n\n365\n00:17:34.810 --> 00:17:37.270\nBut sometimes patching can\nbe a little more involved,\n\n366\n00:17:37.270 --> 00:17:38.270\nlike when Heartbleed was out.\n\n367\n00:17:38.270 --> 00:17:40.970\nPatching was a little more involved\nbecause you needed to really\n\n368\n00:17:40.970 --> 00:17:42.230\nregenerate your keys.\n\n369\n00:17:42.230 --> 00:17:44.130\nAnd so\nit had instructions on how to do that.\n\n370\n00:17:44.130 --> 00:17:46.580\nSo when I come in here and\nread about this advisory.\n\n371\n00:17:46.580 --> 00:17:49.620\nIt's gonna tell me right here all\nthe information about it, the topic,\n\n372\n00:17:49.620 --> 00:17:57.033\nthe description, disk upgrades,\nFirefox, the version, 45.5.0.\n\n373\n00:17:57.033 --> 00:17:59.557\nOkay, what version am I running?\n\n374\n00:17:59.557 --> 00:18:01.490\nActually I have no idea.\n\n375\n00:18:01.490 --> 00:18:06.460\nSo Let's see if we can figure that out and\nyou know I'm not a big Firefox user.\n\n376\n00:18:06.460 --> 00:18:08.260\nDaniel, do you know how to\npull version on this thing?\n\n377\n00:18:08.260 --> 00:18:10.900\nIsn't there in the options maybe?\n\n378\n00:18:11.940 --> 00:18:15.110\nI'm not checking my version very often.\n\n379\n00:18:15.110 --> 00:18:17.780\nIt would probably be faster if I\npull it up from the command line,\n\n380\n00:18:17.780 --> 00:18:20.510\nwhich is probably a little\nmore what I would normally do.\n\n381\n00:18:20.510 --> 00:18:27.650\nBut if we do a pseudo yum List Firefox.\n\n382\n00:18:27.650 --> 00:18:31.420\nAnd we can find out what\nversion we're running.\n\n383\n00:18:31.420 --> 00:18:32.320\nSo, we look at it.\n\n384\n00:18:32.320 --> 00:18:33.920\nI'm already running 45.5.0.\n\n385\n00:18:33.920 --> 00:18:37.310\nAnd if I look here, it says that\nit's gonna upgrade me to 45.5.0.\n\n386\n00:18:37.310 --> 00:18:39.590\nSo I'm up to date,\nI don't have to worry about this one.\n\n387\n00:18:39.590 --> 00:18:40.130\nRight?\n\n388\n00:18:40.130 --> 00:18:44.170\nBut it is a good idea to read about it,\nbecause This update might change\n\n389\n00:18:44.170 --> 00:18:46.730\nsomething, and it might break\nsome functionality in my company.\n\n390\n00:18:46.730 --> 00:18:49.660\nI need the security update,\nthis is critical, right?\n\n391\n00:18:49.660 --> 00:18:54.610\nSo it's not like I can choose not to do\nit, but I do need to take steps to make\n\n392\n00:18:54.610 --> 00:18:58.040\nsure that all my software continues\nto function.n And as I look at it,\n\n393\n00:18:58.040 --> 00:19:03.410\nI can see there is a whole list of\nCVEs attached to this one problem.\n\n394\n00:19:03.410 --> 00:19:06.190\nSo it's a pretty bad one,\nthat's probably why it's critical.\n\n395\n00:19:06.190 --> 00:19:09.240\nAnd it looks like it's all\nwrapped up into one big CVE here.\n\n396\n00:19:09.240 --> 00:19:12.730\nSo you can read about it,\nyou can learn all about that advisory.\n\n397\n00:19:12.730 --> 00:19:15.140\nAnd then if you go here\nto updated packages,\n\n398\n00:19:15.140 --> 00:19:17.650\nit'll actually tell us\nthe packages that are involved.\n\n399\n00:19:17.650 --> 00:19:21.700\nThe main source, as well as any\ndependencies that might be tied to it.\n\n400\n00:19:21.700 --> 00:19:23.710\nSo it just kinda lists them out.\n\n401\n00:19:23.710 --> 00:19:26.540\nAnd it's listing it for\neach version of RedHat.\n\n402\n00:19:26.540 --> 00:19:28.950\nI'm running 7.3 But I see 6 and\n\n403\n00:19:28.950 --> 00:19:32.370\n5 cuz I might still have those in\nproduction those are still supported.\n\n404\n00:19:32.370 --> 00:19:36.580\nDon is the customer portal able\nto actually connect to my system,\n\n405\n00:19:36.580 --> 00:19:41.309\nsee what it is I'm running and tell me\nthese are the software patches you need?\n\n406\n00:19:43.230 --> 00:19:46.230\nWell technically,\nwhen you drop to the command prompt.\n\n407\n00:19:46.230 --> 00:19:50.210\nAnd you do the check update,\nyou know, in dash security.\n\n408\n00:19:50.210 --> 00:19:51.950\nThat's really worth going in and\nchecking that.\n\n409\n00:19:51.950 --> 00:19:54.200\nIt's looking up against\nthis database here.\n\n410\n00:19:54.200 --> 00:19:58.860\nOn the website,\nthere used to be a really cool tool.\n\n411\n00:19:58.860 --> 00:20:02.990\nThey updated the portalette at the I\ndon't know, ten months ago or so.\n\n412\n00:20:02.990 --> 00:20:06.150\nWell, it guess it depends on\nwhen you watch this video.\n\n413\n00:20:06.150 --> 00:20:07.851\nYeah [LAUGH] But, while back we update it.\n\n414\n00:20:07.851 --> 00:20:09.650\nIt used to be that you\ncould go to security and\n\n415\n00:20:09.650 --> 00:20:12.470\nit had an entry in here for my devices.\n\n416\n00:20:12.470 --> 00:20:15.425\nAnd, it would show you\nYour systems because\n\n417\n00:20:15.425 --> 00:20:17.399\nremember you've got\na subscription back to Red Hat.\n\n418\n00:20:17.399 --> 00:20:20.125\nSo you're reporting information back but\nit would show your systems.\n\n419\n00:20:20.125 --> 00:20:24.345\nAnd you would have an idea of what\nadvisories applied to each system.\n\n420\n00:20:24.345 --> 00:20:27.305\nWhen they switch the portal\nthat went away and\n\n421\n00:20:27.305 --> 00:20:29.875\nif they've reincorporated it\nsomewhere I've no idea where it is.\n\n422\n00:20:29.875 --> 00:20:31.466\nI have not been able to find\nit anywhere [CROSSTALK] since.\n\n423\n00:20:31.466 --> 00:20:34.376\nBut I've never really used it all that\nmuch anyway but it did used to be there.\n\n424\n00:20:34.376 --> 00:20:35.255\nI wouldn't be surprised if it came back.\n\n425\n00:20:35.255 --> 00:20:36.915\nIt used to be right here\nunder the security menu.\n\n426\n00:20:38.450 --> 00:20:41.380\nAll right, speaking on the security menu,\nI was under security advisory and\n\n427\n00:20:41.380 --> 00:20:44.323\nthe next part is th CV database.\n\n428\n00:20:44.323 --> 00:20:48.770\nSo we saw in my command prompt\nearlier there was a CV available for\n\n429\n00:20:48.770 --> 00:20:54.720\nthe expat file and if I want to learn\nmore about it before applying it,\n\n430\n00:20:54.720 --> 00:20:56.860\ninstead of putting it to\nthe command prompt I made there,\n\n431\n00:20:56.860 --> 00:21:00.540\nI come here to the CV database,\nAnd I can find it, right?\n\n432\n00:21:00.540 --> 00:21:03.330\nAnd so I can see the CVs,\nthey're arrange by date so\n\n433\n00:21:03.330 --> 00:21:06.480\nI can see ones that came in recently.\n\n434\n00:21:06.480 --> 00:21:10.101\nThese are November 30th which is,\nit's yesterday.\n\n435\n00:21:10.101 --> 00:21:13.020\nYeah So, I mean, that's pretty recent.\n\n436\n00:21:13.020 --> 00:21:14.440\nAnd they go back a few days.\n\n437\n00:21:14.440 --> 00:21:17.150\nIf I haven't been doing updates,\nthis is something I need to worry about.\n\n438\n00:21:17.150 --> 00:21:19.250\nNow Let me clarify that statement.\n\n439\n00:21:19.250 --> 00:21:23.390\nSometimes the CVE comes out and\nthere's not an update for it yet, right?\n\n440\n00:21:23.390 --> 00:21:24.720\nAn exploit gets detected and\n\n441\n00:21:24.720 --> 00:21:27.850\nit can take RedHat a little while\nto figure out what to do to fix it.\n\n442\n00:21:27.850 --> 00:21:30.300\nSo there might be a CVE like this one.\n\n443\n00:21:30.300 --> 00:21:31.520\nThis one is important.\n\n444\n00:21:33.630 --> 00:21:36.740\nBut it might not pertain to\nan actual update file for me.\n\n445\n00:21:36.740 --> 00:21:38.220\nSo I do need to be careful with that.\n\n446\n00:21:38.220 --> 00:21:43.780\nActually, in this case,\nthese two are reserved So with this one,\n\n447\n00:21:43.780 --> 00:21:46.040\nthese aren't actual real updates,\nthese first two.\n\n448\n00:21:46.040 --> 00:21:49.780\nAnd as we look down, now, we got\nanother one here that is actually real.\n\n449\n00:21:49.780 --> 00:21:52.670\nThis one is an important update,\ncame up two days ago.\n\n450\n00:21:52.670 --> 00:21:55.710\nIf I jump and you read the CVE,\nit's gonna tell me\n\n451\n00:21:55.710 --> 00:21:58.680\nabout the vulnerability of whether\nthis next put it attached to it.\n\n452\n00:21:58.680 --> 00:22:02.300\nAnd it gives base score which is how\nthey evaluate whether it's critical or\n\n453\n00:22:02.300 --> 00:22:03.890\nmoderate and so on.\n\n454\n00:22:03.890 --> 00:22:05.050\nAnd as you go through and\n\n455\n00:22:05.050 --> 00:22:09.610\nread you can find out information about\nthis as well as pull up the Errata that's\n\n456\n00:22:09.610 --> 00:22:13.990\ntied to it which is where you can\nactually find out more about this one.\n\n457\n00:22:13.990 --> 00:22:17.360\nThis one applies to the cloud forms\nmanagement engine, which I'm not running,\n\n458\n00:22:17.360 --> 00:22:18.194\ncuz I haven't paid for it.\n\n459\n00:22:18.194 --> 00:22:20.490\n[LAUGH] So\nI don't have to worry about that.\n\n460\n00:22:20.490 --> 00:22:22.580\nBut if you run that platform\nthat becomes important right?\n\n461\n00:22:22.580 --> 00:22:26.330\nSo definitely kind of pick through and\nlook at that information to find out\n\n462\n00:22:26.330 --> 00:22:27.770\nwhether it's something that\nreally does apply to you.\n\n463\n00:22:28.970 --> 00:22:31.600\nAll right another great resource and\n\n464\n00:22:31.600 --> 00:22:35.820\nthis is where I'm going to go a little\noff the standard security kind of thing.\n\n465\n00:22:35.820 --> 00:22:41.060\nIs there are tons of security resources\nthat are out there like bug track and\n\n466\n00:22:41.060 --> 00:22:43.430\nsites like that where they\ngive you great information.\n\n467\n00:22:43.430 --> 00:22:46.120\nBut you also have\nthe Red Hat security blog.\n\n468\n00:22:46.120 --> 00:22:48.840\nAnd the Red Hat security blog is full of\n\n469\n00:22:48.840 --> 00:22:53.010\ngreat information that's not necessarily\na CVE or an advisory or whatever.\n\n470\n00:22:53.010 --> 00:22:57.220\nBut recommended practices from them,\nand so, I don't know about you guys but\n\n471\n00:22:57.220 --> 00:23:00.790\nI use RSS readers all the time and\nthat's how I read my news and\n\n472\n00:23:00.790 --> 00:23:04.670\nstuff in the morning, and I have the\nRedhat security blog in my news feed so\n\n473\n00:23:04.670 --> 00:23:08.540\nthat I see that stuff each day, if you go\nback to that security menu, we've kind of\n\n474\n00:23:08.540 --> 00:23:11.810\nbeen hanging out, the security updates,\nthat's where I've been working so\n\n475\n00:23:11.810 --> 00:23:14.140\nfar but over here on the right\nside you've got resources.\n\n476\n00:23:14.140 --> 00:23:15.880\nAnd you'll see Security Blog.\n\n477\n00:23:15.880 --> 00:23:17.230\nAnd you can jump into that blog.\n\n478\n00:23:17.230 --> 00:23:21.400\nAnd the redhat engineers,\nthe people that are actually on the ground\n\n479\n00:23:21.400 --> 00:23:24.180\ntaking care of this stuff,\nthey post information.\n\n480\n00:23:24.180 --> 00:23:25.560\nAnd sometimes it's like this.\n\n481\n00:23:25.560 --> 00:23:28.790\nHere, Evolution of the SSL and\nTLS protocol.\n\n482\n00:23:28.790 --> 00:23:31.800\nThat's not something I need to act on,\nit's really educating us,\n\n483\n00:23:31.800 --> 00:23:36.580\nletting us know how TLS has replaced SSL\nsome of the new features that are in there\n\n484\n00:23:36.580 --> 00:23:39.370\nlinks to IETF articles and RFCs and stuff.\n\n485\n00:23:39.370 --> 00:23:43.589\nJust a wealth of information to be had and\nit's a free service,\n\n486\n00:23:43.589 --> 00:23:45.909\nit's just it's free education.\n\n487\n00:23:45.909 --> 00:23:50.276\nWe're definitely taking them as a security\nblog as you poke around in there and\n\n488\n00:23:50.276 --> 00:23:54.378\njust get great information from Not\npeople are talking about concepts and\n\n489\n00:23:54.378 --> 00:23:58.282\ntheories but people who are actually\nimplementing the technology and\n\n490\n00:23:58.282 --> 00:24:00.220\nshowing you how it works and so on.\n\n491\n00:24:00.220 --> 00:24:03.400\nSo, here they're showing how to write\na script to probe to see if you have\n\n492\n00:24:03.400 --> 00:24:04.570\na certain exploit.\n\n493\n00:24:04.570 --> 00:24:06.290\nIt's that kind of stuff that's really,\nreally useful.\n\n494\n00:24:07.430 --> 00:24:11.480\nAnd the other resource that's really\nuseful if I go back to that security menu\n\n495\n00:24:11.480 --> 00:24:12.940\nare the Security Labs.\n\n496\n00:24:12.940 --> 00:24:17.320\nThe Security Labs are really cool also,\nRed Hat has this virtualized environment\n\n497\n00:24:17.320 --> 00:24:22.730\nwhere you can come through and actually\nsee how some of these exploits work.\n\n498\n00:24:22.730 --> 00:24:25.920\nSo for example,\nthe Shellshock Bash vulnerability, so\n\n499\n00:24:25.920 --> 00:24:28.830\nit's telling me here,\nthis script helps you confirm whether your\n\n500\n00:24:28.830 --> 00:24:31.690\nsystem is susceptible to the Bash\ncode injection vulnerability.\n\n501\n00:24:31.690 --> 00:24:34.620\nSo this was a big one to hit\nthe news a few months ago.\n\n502\n00:24:34.620 --> 00:24:38.754\nAnd so if I choose go to app,\nit's gonna take me into that lab and\n\n503\n00:24:38.754 --> 00:24:42.820\nit's gonna show me how I can check for\nthat stuff on my system.\n\n504\n00:24:42.820 --> 00:24:46.922\nAnd so, they've actually got a shell\nscript written right there and I can take\n\n505\n00:24:46.922 --> 00:24:51.021\nthat and put it on my system and when I\nrun it, here's the output that I expect to\n\n506\n00:24:51.021 --> 00:24:55.220\nsee and whether or not my system is\nvulnerable to that exploit or not.\n\n507\n00:24:55.220 --> 00:24:56.760\nSome of the labs are really simple.\n\n508\n00:24:56.760 --> 00:24:58.250\nLike this one, really straight forward.\n\n509\n00:24:58.250 --> 00:25:00.810\nHere's a trustworthy script\nthat I can use to test.\n\n510\n00:25:00.810 --> 00:25:03.500\nOthers are even more advanced, there's\na few that link to virtual machines.\n\n511\n00:25:03.500 --> 00:25:06.870\nThat actually fire up a virtualized\nenvironment and you can test and\n\n512\n00:25:06.870 --> 00:25:10.350\nsee the stuff in action.\n\n513\n00:25:10.350 --> 00:25:13.840\nOther ones will have downloadable\nscripts or executables.\n\n514\n00:25:13.840 --> 00:25:16.370\nThere's a lot of neat\nstuff kind of poked around\n\n515\n00:25:16.370 --> 00:25:19.720\nare hidden inside of here if you\njust browse around and mess with it.\n\n516\n00:25:21.260 --> 00:25:22.331\nLet's see, what's a good one?\n\n517\n00:25:22.331 --> 00:25:25.998\nThat's QMU,\nwe got a cross protocol, so DROWN.\n\n518\n00:25:25.998 --> 00:25:27.060\nWe can take a look at that.\n\n519\n00:25:27.060 --> 00:25:28.670\nIt's, I think it's another script one.\n\n520\n00:25:28.670 --> 00:25:31.540\nYeah, so another script, easy way to\ndetect if you have that exploit or\n\n521\n00:25:31.540 --> 00:25:32.990\nvulnerability.\n\n522\n00:25:32.990 --> 00:25:37.410\nWhere it gets challenging and I don't know\nwhy this is, but heart bleed is a great\n\n523\n00:25:37.410 --> 00:25:43.430\nexample where there is a vulnerability\nin OpenSSL and you had to patch it.\n\n524\n00:25:43.430 --> 00:25:47.080\nThe problem was when they released\nthe patch they didn't increment\n\n525\n00:25:47.080 --> 00:25:48.920\nthe version name and number.\n\n526\n00:25:48.920 --> 00:25:52.760\nAnd so, you were patching\nthe current version of OpenSSL.\n\n527\n00:25:52.760 --> 00:25:55.260\nSo you couldn't just look at\nthe version number of OpenSSL and\n\n528\n00:25:55.260 --> 00:25:56.590\nknow if you were exploited or not.\n\n529\n00:25:56.590 --> 00:25:59.329\nThey're exploitable or\nnot cuz it was the same, right?\n\n530\n00:25:59.329 --> 00:26:02.225\nIt was like 1.8F or something like that.\n\n531\n00:26:02.225 --> 00:26:05.960\nAnd after you patched it, it was still\n1.8F or whatever the number was.\n\n532\n00:26:05.960 --> 00:26:07.580\nSo, there wasn't easy way to tell.\n\n533\n00:26:07.580 --> 00:26:10.605\nSo they released a script that you\ncan run that would actually test,\n\n534\n00:26:10.605 --> 00:26:13.593\nit would actually do the hard bleed\nexploit to see if it would work.\n\n535\n00:26:13.593 --> 00:26:16.560\nAnd if it worked it would say,\nyou're not patched.\n\n536\n00:26:16.560 --> 00:26:19.900\nAnd if didn't work then it would say,\nnope, your patched and you're okay.\n\n537\n00:26:19.900 --> 00:26:22.700\nSo, that's a valuable\nresource right there.\n\n538\n00:26:22.700 --> 00:26:24.700\nAnd again, that's free.\n\n539\n00:26:24.700 --> 00:26:27.350\nYou just sign up for\na Red Hat World account,\n\n540\n00:26:27.350 --> 00:26:31.710\na customer account, and you'll have\njust a wealth of information there.\n\n541\n00:26:31.710 --> 00:26:34.580\nReally, really, handy stuff to have\nif your managing Red Hat systems.\n\n542\n00:26:34.580 --> 00:26:36.920\n&gt;&gt; Wow, really sounds like\nRed Hat's trying to look out for\n\n543\n00:26:36.920 --> 00:26:39.560\ntheir customers out there and\nwith good reason, right?\n\n544\n00:26:39.560 --> 00:26:43.490\nWe wanna stay secure, they don't keep\ncustomers and they don't get new ones\n\n545\n00:26:43.490 --> 00:26:47.690\nby putting out a product that stays and\nsecure and is easily broken into.\n\n546\n00:26:47.690 --> 00:26:52.260\nSo, good on them for making sure that\nyou have the resources available to you\n\n547\n00:26:52.260 --> 00:26:56.430\nto verify that everything is up and\nup and secure as possible.\n\n548\n00:26:56.430 --> 00:26:57.691\nAnd we do thank Don, for\n\n549\n00:26:57.691 --> 00:26:59.994\nshowing us all the cool resources-\n&gt;&gt; [LAUGH]\n\n550\n00:26:59.994 --> 00:27:01.602\n&gt;&gt; That are available to us cuz we might\n\n551\n00:27:01.602 --> 00:27:03.150\nnot have been aware of that.\n\n552\n00:27:03.150 --> 00:27:06.020\nDon, anything we need to add to this\nsubset before we close it down?\n\n553\n00:27:06.020 --> 00:27:08.116\n&gt;&gt; That's about it.\n\n554\n00:27:08.116 --> 00:27:08.728\nWhat is it?\n\n555\n00:27:08.728 --> 00:27:09.912\nA constant vigilance?\n\n556\n00:27:09.912 --> 00:27:10.705\n&gt;&gt; Yes.\n\n557\n00:27:10.705 --> 00:27:13.260\n&gt;&gt; The Harry Potter thing,\nthat's really the secret to security.\n\n558\n00:27:13.260 --> 00:27:14.730\nYou've gotta stay on top of this stuff.\n\n559\n00:27:14.730 --> 00:27:17.900\nSo, if you know you're\ngonna be bad about it.\n\n560\n00:27:17.900 --> 00:27:20.770\nIf you just know, hey,\nI'm not gonna secure my server\n\n561\n00:27:20.770 --> 00:27:23.939\nthen set up a Cron job that-\n&gt;&gt; That does it for you?\n\n562\n00:27:23.939 --> 00:27:28.370\n&gt;&gt; Yeah, that just runs a yum update dash,\ndash security, right?\n\n563\n00:27:28.370 --> 00:27:30.850\nBecause it's not gonna\ndo the feature updates,\n\n564\n00:27:30.850 --> 00:27:32.150\nwhich can sometimes break software.\n\n565\n00:27:32.150 --> 00:27:33.139\nIt's just gonna do the security ones.\n\n566\n00:27:33.139 --> 00:27:35.759\nAnd at least that'll stabilize\nyou if you're not gonna bother\n\n567\n00:27:35.759 --> 00:27:37.440\nsecuring the systems, right?\n\n568\n00:27:37.440 --> 00:27:40.970\nBut in a perfect world,\nyou'll pay attention.\n\n569\n00:27:40.970 --> 00:27:42.650\nYou'll do the check update\ndash dash security.\n\n570\n00:27:42.650 --> 00:27:44.500\nYou'll see when updates come out,\nyou'll read about them,\n\n571\n00:27:44.500 --> 00:27:45.930\nyou'll follow the Red Hat blog.\n\n572\n00:27:45.930 --> 00:27:49.610\nYou'll stay up to date and know what's\ngoing on and know what you need patch and\n\n573\n00:27:49.610 --> 00:27:50.650\nget those pushed out.\n\n574\n00:27:50.650 --> 00:27:54.660\nThat's the real secret but you gotta stay\nconstantly on and you can't take a break.\n\n575\n00:27:54.660 --> 00:27:56.790\nYou can't take a vacation or\na holiday, you need to script and\n\n576\n00:27:56.790 --> 00:27:59.120\nautomate that stuff so\nit runs even when you're not there.\n\n577\n00:27:59.120 --> 00:28:00.733\n&gt;&gt; All right, well thank you, Don,\n\n578\n00:28:00.733 --> 00:28:04.419\nfor those wise words of wisdom cuz I like\nto be redundant when I make sentences.\n\n579\n00:28:04.419 --> 00:28:06.020\n&gt;&gt; [LAUGH]\n&gt;&gt; And we thank you guys for\n\n580\n00:28:06.020 --> 00:28:08.350\njoining us today but\nit looks like we've elapsed our time.\n\n581\n00:28:08.350 --> 00:28:09.630\nSo we're gonna head and sign off.\n\n582\n00:28:09.630 --> 00:28:12.190\nFor ITProTV,\nI've been your host Daniel Lowrie.\n\n583\n00:28:12.190 --> 00:28:12.984\n&gt;&gt; And I'm Don Pezet.\n\n584\n00:28:12.984 --> 00:28:14.341\n&gt;&gt; We'll see you next time.\n\n585\n00:28:14.341 --> 00:28:20.990\n[MUSIC]\n\n586\n00:28:20.990 --> 00:28:26.259\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "195020354"
        }
      ],
      "title": "Security"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Don explore the Automatic Bug Reporting Tool(ABRT) which is used to detect application crashes and report them to vendors. They demonstrate how to install, configure, and run ABRT using both the command-line interface as well as the graphical user interface.",
          "length": "1677",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-5-1-automatic_bug_reporting_tool-113016-PGM.00_27_44_06.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-5-1-automatic_bug_reporting_tool-113016-PGM.00_27_44_06.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-5-1-automatic_bug_reporting_tool-113016-PGM.00_27_44_06.Still001-sm.jpg",
          "title": "Automatic Bug Reporting Tool (ABRT)",
          "transcript": "WEBVTT\n\n1\n00:00:00.230 --> 00:00:01.067\nWelcome to ITPRO.TV.\n\n2\n00:00:01.067 --> 00:00:04.394\nI'm your host-\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.614 --> 00:00:08.923\n&gt;&gt; [MUSIC]\n\n4\n00:00:08.923 --> 00:00:10.560\n&gt;&gt; You're watching ITPROTV.\n\n5\n00:00:10.560 --> 00:00:12.677\n&gt;&gt; All right.\n\n6\n00:00:12.677 --> 00:00:15.660\nGreetings everyone and welcome to\nanother great episode of ITPRO.TV.\n\n7\n00:00:15.660 --> 00:00:18.650\nI'm your host, Daniel Lowrie,\nand today's episode,\n\n8\n00:00:18.650 --> 00:00:22.968\nwe are going back into the foray for some\nmore Red Hat Enterprise Linux Version 7.\n\n9\n00:00:22.968 --> 00:00:27.270\nAnd joining us back in the studio, yet\nagain, is our good friend, Mr. Don Pezet.\n\n10\n00:00:27.270 --> 00:00:28.020\nDon, welcome back, sir.\n\n11\n00:00:28.020 --> 00:00:28.710\nHow's it going today?\n\n12\n00:00:28.710 --> 00:00:30.910\n&gt;&gt; It is going just well, Daniel,\nready to dive right back.\n\n13\n00:00:30.910 --> 00:00:34.510\nAnd in this episode,\nwe're gonna be talking about the automatic\n\n14\n00:00:34.510 --> 00:00:37.780\nbug reporting tool that is built\ninto Red Hat Enterprise Linux.\n\n15\n00:00:37.780 --> 00:00:40.860\nAnd name doesn't leave\nmuch to guessing here.\n\n16\n00:00:40.860 --> 00:00:43.980\nIt automatically reports bugs,\nand it happens to be a tool.\n\n17\n00:00:43.980 --> 00:00:47.500\n[LAUGH] But it is a very useful one,\nand it's one of the neater things,\n\n18\n00:00:47.500 --> 00:00:48.760\nso I definitely wanna talk about it.\n\n19\n00:00:48.760 --> 00:00:51.950\nAnd it's also something that we\ndon't necessarily see in a lot of\n\n20\n00:00:51.950 --> 00:00:53.980\nother Linux distros that are out there,\nright?\n\n21\n00:00:53.980 --> 00:00:56.450\nBecause when most of the distros,\nif you go and\n\n22\n00:00:56.450 --> 00:01:00.250\nget Debian, the idea is that\nyou're gonna support yourself.\n\n23\n00:01:00.250 --> 00:01:04.540\nSo, if you find a bug, then you need to\nfigure the bug out, fix it, and hopefully\n\n24\n00:01:04.540 --> 00:01:11.920\nsubmit that as a request to update to be\nin, and get it fixed in the next release.\n\n25\n00:01:11.920 --> 00:01:16.200\nBut with Red Hat, the assumption is that\nwhen you buy Red Hat Enterprise Linux,\n\n26\n00:01:16.200 --> 00:01:17.710\nthat you're also buying support.\n\n27\n00:01:17.710 --> 00:01:22.350\nAnd that the team at Red Hat will be there\nto help you, and if something goes wrong,\n\n28\n00:01:22.350 --> 00:01:25.790\nthey wanna know about it, so that they can\nget it fixed, and make sure it's taken\n\n29\n00:01:25.790 --> 00:01:28.500\ncare of in the next release, or\nfor other customers, and so on.\n\n30\n00:01:28.500 --> 00:01:30.920\nSo, that's what the automatic\nbug reporting tool is designed\n\n31\n00:01:30.920 --> 00:01:32.090\nto help us with.\n\n32\n00:01:32.090 --> 00:01:36.890\nThat normally, when you're running a Linux\nserver, or a desktop for the matter, and\n\n33\n00:01:36.890 --> 00:01:39.650\na service or\napplication crashes, it happens.\n\n34\n00:01:39.650 --> 00:01:42.890\nThere's people out there that are,\nwhat am I running Windows?\n\n35\n00:01:42.890 --> 00:01:44.140\nWe don't have crashes on Linux.\n\n36\n00:01:44.140 --> 00:01:46.510\nWell, the reality is you do,\nand there's plenty of them.\n\n37\n00:01:46.510 --> 00:01:49.280\nSo, when you have a crash, what happens?\n\n38\n00:01:49.280 --> 00:01:51.410\nWell, obviously your software dies,\nand doesn't work.\n\n39\n00:01:51.410 --> 00:01:55.460\nBut, a little entry gets made in your\nSyslog that says, hey, you had this crash.\n\n40\n00:01:55.460 --> 00:01:59.360\nMaybe a memory dump gets generated, and\nit's stored somewhere on your hard drive,\n\n41\n00:01:59.360 --> 00:02:01.900\nmost people have no idea where, but\nsomewhere, there's a memory dump.\n\n42\n00:02:01.900 --> 00:02:04.080\nMaybe there's a kernel dump,\nmaybe it's both.\n\n43\n00:02:04.080 --> 00:02:06.690\nRight, what do you do\nwith that information?\n\n44\n00:02:06.690 --> 00:02:10.410\nWell, if you're a developer, you can dive\nright in, fire up your debugging tools,\n\n45\n00:02:10.410 --> 00:02:12.040\nlook at it, and figure it out.\n\n46\n00:02:12.040 --> 00:02:14.470\nBut if you're not a developer, but\nwhat if you're just a system admin?\n\n47\n00:02:14.470 --> 00:02:15.620\nYou're somebody like me.\n\n48\n00:02:15.620 --> 00:02:17.744\nI'm not a developer, I don't know\nhow to read a memory dump file.\n\n49\n00:02:17.744 --> 00:02:20.282\nWell, actually, I do know how to read it-\n&gt;&gt; [LAUGH]\n\n50\n00:02:20.282 --> 00:02:21.080\n&gt;&gt; I don't know how to do anything\n\n51\n00:02:21.080 --> 00:02:23.101\nabout it, once I've read it, so-\n&gt;&gt; That's a nice memory dump file you-\n\n52\n00:02:23.101 --> 00:02:23.747\n&gt;&gt; [LAUGH]\n\n53\n00:02:23.747 --> 00:02:24.404\n&gt;&gt; Got there [LAUGH] right?\n\n54\n00:02:24.404 --> 00:02:25.965\n[LAUGH]\n&gt;&gt; I can pop this open, and\n\n55\n00:02:25.965 --> 00:02:28.140\nI can see where the crash came from.\n\n56\n00:02:28.140 --> 00:02:30.560\nCan't do anything about it.\n\n57\n00:02:30.560 --> 00:02:33.830\nSo, what about us regular people\nwho just can't do anything\n\n58\n00:02:33.830 --> 00:02:35.360\nwith the data that we're given?\n\n59\n00:02:35.360 --> 00:02:40.210\nThe Automatic Bug Reporting Tool is\ndesigned to help us take that information\n\n60\n00:02:40.210 --> 00:02:43.760\nand send it to somebody who\ncan do something about it.\n\n61\n00:02:43.760 --> 00:02:46.950\nObviously, the idea is that it's going\nto be Red Hat Technical Support, RHTS,\n\n62\n00:02:46.950 --> 00:02:50.270\nthat we're going to send\nit to the RHTS guys, and\n\n63\n00:02:50.270 --> 00:02:53.360\nthey're going to solve our problem, right?\n\n64\n00:02:53.360 --> 00:03:00.270\nBut the automatic bug reporting tool\nis actually pretty, pretty, useful,\n\n65\n00:03:00.270 --> 00:03:03.920\nI happen to have something of a word here,\nit can be used for many different things.\n\n66\n00:03:03.920 --> 00:03:09.210\nSo, it can submit not just to Red Hat,\nbut also to things like Bugzilla, or\n\n67\n00:03:09.210 --> 00:03:13.850\nit can generate the set of data and\nsend it to an FTP server or SCP,\n\n68\n00:03:13.850 --> 00:03:15.600\nyou can send it to custom places.\n\n69\n00:03:15.600 --> 00:03:19.076\nYou might have some custom ticketing\nsoftware that takes email tickets.\n\n70\n00:03:19.076 --> 00:03:23.074\nAnd so, it can take all the bug crash\ninformation, and automatically send it\n\n71\n00:03:23.074 --> 00:03:26.412\ninto your ticketing system, or\ndo an API call to get it created.\n\n72\n00:03:26.412 --> 00:03:29.095\nAnd now your dev team, if you have one, or\n\n73\n00:03:29.095 --> 00:03:32.393\nyour dev team for the project or\nproduct managers,\n\n74\n00:03:32.393 --> 00:03:37.450\nor whatever that run that software\npackage can receive it and act upon it.\n\n75\n00:03:37.450 --> 00:03:40.020\nAnd most importantly,\nwe can do it automatically.\n\n76\n00:03:40.020 --> 00:03:43.520\nBecause if it's anything like\nmy experience, the crashes,\n\n77\n00:03:43.520 --> 00:03:47.360\nthey normally happen at like 2AM, 3AM,\nwhere I'm not there paying attention.\n\n78\n00:03:47.360 --> 00:03:51.320\nAnd I might not even notice,\nthat the software might crash and restart.\n\n79\n00:03:51.320 --> 00:03:53.900\nAnd so, when I leave work at 5PM,\neverything's fine.\n\n80\n00:03:53.900 --> 00:03:56.801\nAnd when I get back to work at 8AM,\neverything's still fine.\n\n81\n00:03:56.801 --> 00:04:01.235\nI have no idea that it actually crashed\n12 times in the middle of the night,\n\n82\n00:04:01.235 --> 00:04:02.148\nmaybe I would.\n\n83\n00:04:02.148 --> 00:04:03.523\n&gt;&gt; You'll be there for the next one.\n\n84\n00:04:03.523 --> 00:04:06.729\n&gt;&gt; [LAUGH] So,\ninstead of just not knowing it,\n\n85\n00:04:06.729 --> 00:04:11.716\nand having these crashes that go\nunnoticed, the ABRT can kick in,\n\n86\n00:04:11.716 --> 00:04:16.965\ndetect the crash, and\nautomatically submit the tickets for us.\n\n87\n00:04:16.965 --> 00:04:17.945\nWe can use it manually, too.\n\n88\n00:04:17.945 --> 00:04:19.980\nWe can have it where we\nmanually submit the tickets.\n\n89\n00:04:19.980 --> 00:04:21.860\nBut the automatic part\nis kind of a nice one,\n\n90\n00:04:21.860 --> 00:04:25.040\nso I want to show you guys how\nthe tool works and how to use it.\n\n91\n00:04:25.040 --> 00:04:27.670\nIt is actually installed by\ndefault on most installations,\n\n92\n00:04:27.670 --> 00:04:30.090\nunless somebody's removed it,\nyou can install it really easy.\n\n93\n00:04:30.090 --> 00:04:32.000\nIt's just a yum command away.\n\n94\n00:04:32.000 --> 00:04:35.325\nBut it is normally installed by default,\nand we can use it.\n\n95\n00:04:35.325 --> 00:04:39.115\nNow, it's gotta command line version and\na GUI version, so\n\n96\n00:04:39.115 --> 00:04:41.735\ndepending on your install,\nand you can use either one.\n\n97\n00:04:41.735 --> 00:04:43.345\nMost of us are gonna use\nthe command line version,\n\n98\n00:04:43.345 --> 00:04:45.585\njust because you can always use it.\n\n99\n00:04:45.585 --> 00:04:49.985\nThe GUI version is really more\nof like a desktop type scenario.\n\n100\n00:04:49.985 --> 00:04:53.269\nAlthough, you could argue that more\ncrashes happen on a desktop than a server,\n\n101\n00:04:53.269 --> 00:04:55.094\nbecause we load more\nsoftware on a desktop.\n\n102\n00:04:55.094 --> 00:04:56.381\nSo, maybe they're more useful then.\n\n103\n00:04:56.381 --> 00:05:02.602\nAll right,\nlet's start with the command line, right?\n\n104\n00:05:02.602 --> 00:05:04.915\nCuz that's the one we are gonna\ninteract with the most, and\n\n105\n00:05:04.915 --> 00:05:07.050\nwe'll just kind of run through and\nsee how to use this.\n\n106\n00:05:07.050 --> 00:05:08.728\nSo I'm gonna fire up\na terminal here real quick.\n\n107\n00:05:08.728 --> 00:05:13.937\nAnd in my terminal, we gonna start\nmessing around with the ABRT.\n\n108\n00:05:13.937 --> 00:05:16.843\nNow, how do we know it's installed?\n\n109\n00:05:16.843 --> 00:05:21.569\nThe easiest way is when you install\nthe ABRT it's got a little bit commandline\n\n110\n00:05:21.569 --> 00:05:24.271\nutility, which is the abrt-cli, right?\n\n111\n00:05:24.271 --> 00:05:25.025\nThe commandline interface.\n\n112\n00:05:25.025 --> 00:05:29.065\nAnd if you run it, and you get this,\nthen obviously you got it installed.\n\n113\n00:05:29.065 --> 00:05:31.383\nAnd if you don't, you can install it.\n\n114\n00:05:31.383 --> 00:05:36.090\nIf you do need to install it,\nthe package is called ABRT, right?\n\n115\n00:05:36.090 --> 00:05:39.970\nSo, if we do a, yum install abrt,\nit's gonna reach out there and find it.\n\n116\n00:05:39.970 --> 00:05:41.580\nAnd I got nothing to do,\n\n117\n00:05:41.580 --> 00:05:45.050\nbecause the package is already installed\nright there, and I'm good to go.\n\n118\n00:05:46.530 --> 00:05:50.610\nAll right, after that, if I did have to\ninstall it, I just need to start it up.\n\n119\n00:05:50.610 --> 00:05:57.890\nAnd just like anything, it's systemctl\nenable ABRTD is the daemon for it.\n\n120\n00:05:57.890 --> 00:06:01.400\nTo get that one going, and enable\nwill start and enable it if it's new.\n\n121\n00:06:01.400 --> 00:06:04.130\nIf it already exists, it'll just set it so\nthat it starts at the boot time.\n\n122\n00:06:04.130 --> 00:06:06.330\nSo, you might need to go ahead and\ndo a little start.\n\n123\n00:06:06.330 --> 00:06:10.120\nBefore it, in my case, I'm not getting\nan output, cuz mine is already installed.\n\n124\n00:06:10.120 --> 00:06:12.416\nIt's already up to date, and\nthat's how most of you guys will be,\n\n125\n00:06:12.416 --> 00:06:14.990\ntoo, it's already been there for\nyou, all right.\n\n126\n00:06:14.990 --> 00:06:18.050\nThe configuration for the ABRT,\nthat's where things get a little tricky.\n\n127\n00:06:18.050 --> 00:06:19.380\nAnd we need to configure it.\n\n128\n00:06:19.380 --> 00:06:22.730\nI mentioned that it can send to Bugzilla,\nor Red Hat, or\n\n129\n00:06:22.730 --> 00:06:25.310\nwhoever, we need to\ntell it who to send to.\n\n130\n00:06:25.310 --> 00:06:28.800\nAnd Dave already developed a number\nof plugins and other things that\n\n131\n00:06:28.800 --> 00:06:32.280\nare available for us to use, to actually\nhave this thing do its reporting.\n\n132\n00:06:32.280 --> 00:06:34.503\nThey're real easy to see via the GUI,\nvia the command line,\n\n133\n00:06:34.503 --> 00:06:35.601\nit's a little bit more work.\n\n134\n00:06:35.601 --> 00:06:37.001\n&gt;&gt; Well Don, this is Linux, and\n\n135\n00:06:37.001 --> 00:06:39.010\nif I know anything about Linux, it's-\n&gt;&gt; [LAUGH]\n\n136\n00:06:39.010 --> 00:06:40.770\n&gt;&gt; If you're gonna configure something,\n\n137\n00:06:40.770 --> 00:06:43.870\nthere's a dot com lying around somewhere.\n\n138\n00:06:43.870 --> 00:06:47.820\n&gt;&gt; Yeah, and a handful of XML files,\nand all of the typical stuff.\n\n139\n00:06:47.820 --> 00:06:52.120\nWhere this one gets confusing though is if\nI had to guess, I'd say, all right, well,\n\n140\n00:06:52.120 --> 00:06:56.960\nthere's probably a /etc/abrt.default,\nor something like that.\n\n141\n00:06:56.960 --> 00:06:58.560\nAnd in this case, there isn't.\n\n142\n00:06:58.560 --> 00:07:02.330\nAnd the reason is ABRT is actually\na collection of different things.\n\n143\n00:07:02.330 --> 00:07:05.700\nThere's the ABRT-CLI, there's the GUI, but\n\n144\n00:07:05.700 --> 00:07:09.510\nthere's also the reporting library,\ncalled libreport.\n\n145\n00:07:09.510 --> 00:07:13.450\nAnd that's what we're actually\nconfiguring, is that we need to report\n\n146\n00:07:13.450 --> 00:07:16.500\nthe crash to some external source,\nand it's libreport that does that.\n\n147\n00:07:16.500 --> 00:07:20.052\nSo, if you look into /etc/libreport/,\n\n148\n00:07:20.052 --> 00:07:25.048\nthat's where the ABRT's primary\nconfiguration is, okay?\n\n149\n00:07:25.048 --> 00:07:27.935\nSo, there is a conf file, right?\n\n150\n00:07:27.935 --> 00:07:32.600\nWe've got report_event.conf, that's\nthe configuration that we wanna mess with.\n\n151\n00:07:32.600 --> 00:07:33.996\nThe tricky part is just that directory,\n\n152\n00:07:33.996 --> 00:07:35.650\nthat it's libreport\nthat it's stuffed away.\n\n153\n00:07:35.650 --> 00:07:37.434\nIt'd be too easy to call it ABRT.\n\n154\n00:07:37.434 --> 00:07:38.770\n&gt;&gt; Why would we do that?\n\n155\n00:07:38.770 --> 00:07:40.821\n&gt;&gt; I know, it'd be crazy talk.\nSo, and when I get in here,\n\n156\n00:07:40.821 --> 00:07:44.008\nif we take a look at that\nreport_event file, right?\n\n157\n00:07:44.008 --> 00:07:47.100\nSo I'm just gonna pull that one up.\n\n158\n00:07:47.100 --> 00:07:49.330\nAnd you look in here,\nit's very well documented.\n\n159\n00:07:49.330 --> 00:07:52.698\nAnd they explain all the different\ninformation about what we're gonna do,\n\n160\n00:07:52.698 --> 00:07:54.496\nas far as how that reporting is handled.\n\n161\n00:07:54.496 --> 00:07:58.710\nAnd when you scroll down, you'll\nnotice that it includes two folders,\n\n162\n00:07:58.710 --> 00:08:01.211\nevents.d and workflows.d, all right?\n\n163\n00:08:01.211 --> 00:08:06.590\nEvents.d, that defines the type of things\nthat we're watching for, the events.\n\n164\n00:08:06.590 --> 00:08:08.940\nYou might wanna go wild and\njust say we're gonna monitor for\n\n165\n00:08:08.940 --> 00:08:10.491\nevery single event that's out there.\n\n166\n00:08:10.491 --> 00:08:14.187\nOr you might wanna be really specific\nlike hey, I don't wanna monitor the whole\n\n167\n00:08:14.187 --> 00:08:16.906\nserver, I just wanna monitor\nthis one software package.\n\n168\n00:08:16.906 --> 00:08:19.962\nI've got this custom software package and\nthat's what I wanna monitor and\n\n169\n00:08:19.962 --> 00:08:21.070\ntroubleshoot.\n\n170\n00:08:21.070 --> 00:08:26.430\nSo you can go into the events.d folder and\nyou can create configuration files for\n\n171\n00:08:26.430 --> 00:08:29.620\neach and every software package\nthat you want to monitor.\n\n172\n00:08:29.620 --> 00:08:32.630\nNormally services, and so\nyou go in to monitor those.\n\n173\n00:08:32.630 --> 00:08:37.450\nOn the workflow side of things, that's\nwhat we do when the event is detected.\n\n174\n00:08:37.450 --> 00:08:41.990\nSo maybe I'm monitoring HTTPD,\nI'm monitoring Apache and\n\n175\n00:08:41.990 --> 00:08:44.400\nit crashes but what would I do about it?\n\n176\n00:08:44.400 --> 00:08:46.167\nMaybe I do nothing.\nThat's actually the default,\n\n177\n00:08:46.167 --> 00:08:46.858\nto do nothing.\n\n178\n00:08:46.858 --> 00:08:50.734\nOr maybe I want to send an email to Daniel\nLowery every five minutes all throughout\n\n179\n00:08:50.734 --> 00:08:51.707\nthe night, right?\n\n180\n00:08:51.707 --> 00:08:52.604\nThat's the goal.\n\n181\n00:08:52.604 --> 00:08:56.863\nSo, I want to send the email out or\nI want to submit a ticket to red hat or\n\n182\n00:08:56.863 --> 00:08:59.900\nI want to create a new ticket in Bugzilla.\n\n183\n00:08:59.900 --> 00:09:02.066\nThat's my workflow.\nI go in and I define what we're gonna do.\n\n184\n00:09:02.066 --> 00:09:04.838\nIt's actually another\nfolder called Plugins and\n\n185\n00:09:04.838 --> 00:09:09.260\nthat's where its got all the different\nfunctionalities that you can perform.\n\n186\n00:09:09.260 --> 00:09:12.871\nSo, there's an email plugin,\nI think it's called Mailx or Imailx,\n\n187\n00:09:12.871 --> 00:09:14.044\nsomething like that.\n\n188\n00:09:14.044 --> 00:09:18.773\nThere is a Bugzilla plugin,\nthere's a Reddit tech support plugin.\n\n189\n00:09:18.773 --> 00:09:22.621\nAnd you can create custom plugins,\nthat allow you to send this ticket,\n\n190\n00:09:22.621 --> 00:09:25.940\nor this report,\nto wherever you want, right?\n\n191\n00:09:25.940 --> 00:09:28.050\nThere's FTP and\nFCP support, and all those,\n\n192\n00:09:28.050 --> 00:09:29.420\nthose are all gonna be in those plugins.\n\n193\n00:09:31.180 --> 00:09:34.760\nAnd then as we look at the end here,\nthat's really about it for this file.\n\n194\n00:09:34.760 --> 00:09:38.590\nI mean, you've got the actual\nreport gui and cli for\n\n195\n00:09:38.590 --> 00:09:41.399\ngenerating the report, but\nwe don't normally have to mess with those.\n\n196\n00:09:42.690 --> 00:09:47.090\nSo, if we take a look at\nthe events.d folder, and\n\n197\n00:09:47.090 --> 00:09:50.320\npoke around in there, you're going\nto see a lot of different stuff.\n\n198\n00:09:50.320 --> 00:09:56.160\nWe've got Bugzilla events, emergency\nanalysis events, gconf, Python events,\n\n199\n00:09:56.160 --> 00:10:00.590\nRed Hat tech support events, smart events,\nwhich would be like hard drive failures.\n\n200\n00:10:01.970 --> 00:10:04.340\nX windows, vmcore events,\n\n201\n00:10:04.340 --> 00:10:08.420\nall these different types of events that\nwe're watching for, that we would alert.\n\n202\n00:10:08.420 --> 00:10:10.400\nSo if we have something\nlike a python event,\n\n203\n00:10:10.400 --> 00:10:14.420\nthat would be when a python\napplication segment faults.\n\n204\n00:10:14.420 --> 00:10:17.568\nOr buffer overflow or buffer underrun or\nwhatever, and it crashes out.\n\n205\n00:10:17.568 --> 00:10:21.603\nAnd then what do we report on, right?\n\n206\n00:10:21.603 --> 00:10:24.664\nDo I just want segment faults or\ndo I want it all?\n\n207\n00:10:24.664 --> 00:10:26.075\nThat was kind of a defining here.\n\n208\n00:10:26.075 --> 00:10:32.770\nIf we take a look ta that python file,\nyou're seeing here where it's looking for\n\n209\n00:10:32.770 --> 00:10:38.396\nABRT INGORE_ALL=1 environment\nABORT_IGNORE_PYTHON=1.\n\n210\n00:10:38.396 --> 00:10:42.010\nThese are different things that\nwe can look for to report on.\n\n211\n00:10:42.010 --> 00:10:45.060\nAnd you can customize\na lot of this to specify\n\n212\n00:10:45.060 --> 00:10:48.230\nwhat it is that you're watching and\nwhat other information you want to gather.\n\n213\n00:10:48.230 --> 00:10:50.800\nSo you can get in here and\nreally be specific or\n\n214\n00:10:50.800 --> 00:10:52.130\nyou can just take it with the defaults.\n\n215\n00:10:52.130 --> 00:10:56.779\nAnd the defaults will work for\nmost applications.\n\n216\n00:10:56.779 --> 00:11:01.368\nIf we take a look at the workflows, well\nhere's where I'll see the report uploader.\n\n217\n00:11:01.368 --> 00:11:06.369\nWe've got rhel, micro report,\nwe've got mailx for email.\n\n218\n00:11:06.369 --> 00:11:11.065\nSo these are the workflows of I just got\nthe report and now what do I do with it?\n\n219\n00:11:11.065 --> 00:11:15.357\nWhat's that action I take, am I doing\nan email, am I doing an Anaconda event,\n\n220\n00:11:15.357 --> 00:11:17.775\nright, which would be during the install?\n\n221\n00:11:17.775 --> 00:11:21.070\nOr what is it tha I wanna do with this\ninformation that I just gathered?\n\n222\n00:11:22.986 --> 00:11:23.780\nAll right, so\n\n223\n00:11:23.780 --> 00:11:28.164\nnothing too crazy and interesting in\nthere as far as our basic functionality.\n\n224\n00:11:28.164 --> 00:11:31.037\nBut basically, that's where you\ncan get in and kinda tweak things.\n\n225\n00:11:31.037 --> 00:11:35.107\nYou don't really have to tweak it, it is\npretty suitable to use out of the box\n\n226\n00:11:35.107 --> 00:11:39.367\nif we just wanna report regular crashed\nand other situations like that.\n\n227\n00:11:40.390 --> 00:11:47.290\nOne thing to remember is that the ABRT\nis running and it is detecting crashes.\n\n228\n00:11:47.290 --> 00:11:50.570\nSo if there's some kind of application\nfault, it's gonna see it and\n\n229\n00:11:50.570 --> 00:11:52.950\ndetect it and it's going to\ngo into the regular logs, but\n\n230\n00:11:52.950 --> 00:11:54.800\nit's not gonna do anything else, right.\n\n231\n00:11:54.800 --> 00:11:58.460\nYou have to manually go in and\ntell it to generate a report, and\n\n232\n00:11:58.460 --> 00:12:00.610\nwe use the ABRT-CLI.\n\n233\n00:12:00.610 --> 00:12:04.430\nIf I pull up the documentation for\nthat, you'll see in here,\n\n234\n00:12:04.430 --> 00:12:09.180\nwhen we can fire it up and you can\nlist any events that have happened.\n\n235\n00:12:09.180 --> 00:12:10.220\nYou can remove events.\n\n236\n00:12:10.220 --> 00:12:13.250\nIf there's an event that you just don't\nwant to deal with, it crashed but\n\n237\n00:12:13.250 --> 00:12:15.600\nit was a one time thing,\nI'll just remove it.\n\n238\n00:12:15.600 --> 00:12:18.340\nBut you can also report the event.\n\n239\n00:12:18.340 --> 00:12:21.148\nSo we can manually generate the report.\n\n240\n00:12:21.148 --> 00:12:27.260\nSo I might go to a system that I've never\nconfigured abrt on, but abrt is installed.\n\n241\n00:12:27.260 --> 00:12:31.280\nI just had a crash,\nI can do abrt-cli lists and\n\n242\n00:12:31.280 --> 00:12:33.760\nI can see the report that came up.\n\n243\n00:12:33.760 --> 00:12:37.750\nand then when I look at those report and\nI can find the one that I can report and\n\n244\n00:12:37.750 --> 00:12:43.820\nI can use abrt-clireport to actually\nsubmit it and do it manually.\n\n245\n00:12:43.820 --> 00:12:47.470\nIf I wanted to be automatic though,\nI can turn that on.\n\n246\n00:12:47.470 --> 00:12:50.440\nAutomatic reporting is nice because then,\nwhen a fault happens,\n\n247\n00:12:50.440 --> 00:12:51.970\nthis would just\nautomatically send it along.\n\n248\n00:12:51.970 --> 00:12:57.640\nNow if you've enabled reporting to\nRed Hat Tech Support, then every time\n\n249\n00:12:57.640 --> 00:13:01.660\nthere's a fault, it's gonna automatically\nopen up a ticket with Red Hat.\n\n250\n00:13:01.660 --> 00:13:04.970\nIf you've got 10,000 workstations out\nthere, and there's some kind of fault\n\n251\n00:13:04.970 --> 00:13:09.580\nthat's widespread, you could be opening up\ntens of thousands of tickets with Red Hat.\n\n252\n00:13:09.580 --> 00:13:10.670\nProbably not a good idea.\n\n253\n00:13:10.670 --> 00:13:11.187\n&gt;&gt; They love that.\n\n254\n00:13:11.187 --> 00:13:14.471\n&gt;&gt; Yeah, if it's a mission critical\nserver, you probably want that.\n\n255\n00:13:14.471 --> 00:13:17.915\nIf it's a dev server,\nmaybe you want that but otherwise,\n\n256\n00:13:17.915 --> 00:13:20.740\nyou don't normally want\nthe automatic stuff.\n\n257\n00:13:20.740 --> 00:13:21.918\nAnd so\nthat's why it's turned off by default.\n\n258\n00:13:21.918 --> 00:13:26.604\nBut if you do, to turn on the automatic\n\n259\n00:13:26.604 --> 00:13:30.997\nreporting, what you do is you say,\n\n260\n00:13:30.997 --> 00:13:35.987\nit is abrt-auto-reporting enabled.\n\n261\n00:13:35.987 --> 00:13:41.440\nIt has its own command,\nit's not abrt-cli, abrt-auto-reporting.\n\n262\n00:13:41.440 --> 00:13:43.700\nAnd you do have to be\nan admin to enable that.\n\n263\n00:13:43.700 --> 00:13:48.290\nAnd so if I come in and I run this command\nnow whenever I have a system fault it's\n\n264\n00:13:48.290 --> 00:13:54.140\ngonna automatically report that and create\na ticket or move into that kind of system.\n\n265\n00:13:54.140 --> 00:13:56.540\nIf we're using our own ticketing system,\nmaybe we're fine with that.\n\n266\n00:13:56.540 --> 00:13:59.590\nBut if we're using Red Hat tick support\nthat can get expensive real fast because\n\n267\n00:13:59.590 --> 00:14:01.870\nyou'll exceed the amount of\ntickets you get in a given year.\n\n268\n00:14:01.870 --> 00:14:04.720\nSo definitely be careful with that.\n\n269\n00:14:04.720 --> 00:14:09.560\nAnd you've got abrt-cli that\nyou probably noticed up\n\n270\n00:14:09.560 --> 00:14:13.550\nhere where you've got,\nthe help's off my screen now.\n\n271\n00:14:13.550 --> 00:14:16.400\nBut where you've got a status command, and\n\n272\n00:14:16.400 --> 00:14:20.940\nso you can come through right here and\nsee what the current status of abrt is.\n\n273\n00:14:20.940 --> 00:14:26.260\nAnd so\nwhen I do abrt-cli status I can come in,\n\n274\n00:14:26.260 --> 00:14:29.360\nI can take a look, and I can see mine's\nalready detected two problems, right?\n\n275\n00:14:29.360 --> 00:14:31.240\nSo I've got some kind of issue.\n\n276\n00:14:31.240 --> 00:14:33.240\nAnd I can pull up a listing\nof those problems.\n\n277\n00:14:33.240 --> 00:14:37.780\nBut because auto reporting wasn't enabled,\nit didn't actually report them.\n\n278\n00:14:37.780 --> 00:14:41.820\nIt knows about the two problems, but\nit didn't actually do anything about it.\n\n279\n00:14:41.820 --> 00:14:47.120\nAnd if I do an abrt-cli list,\nI can see what the actual\n\n280\n00:14:47.120 --> 00:14:51.050\nproblems were, and I can see I did\nactually have a python application crash.\n\n281\n00:14:52.350 --> 00:14:56.540\nLet's see, I don't recognize what it is,\n\n282\n00:14:56.540 --> 00:14:59.710\nsee this is where my limitations\nas a non developer come in.\n\n283\n00:14:59.710 --> 00:15:04.350\nSo it was a crash in nm.py,\nwhich I don't know what that does.\n\n284\n00:15:04.350 --> 00:15:06.830\nI'm gonna make a guess,\non network manager?\n\n285\n00:15:06.830 --> 00:15:09.820\nSo it had some kind of network issue but\nI don't know,\n\n286\n00:15:09.820 --> 00:15:11.450\nI need to see additional information.\n\n287\n00:15:11.450 --> 00:15:13.730\nSo we can pull up additional\ninformation on this.\n\n288\n00:15:13.730 --> 00:15:16.670\nAnd up above here,\nmy other crash that I can see,\n\n289\n00:15:16.670 --> 00:15:21.770\nis that this one,\nvmtoolsd killed by SIGBART.\n\n290\n00:15:21.770 --> 00:15:25.670\nSo I had some kind of problem with my\nVM ware tools, in my Virtual Machine,\n\n291\n00:15:25.670 --> 00:15:28.110\nit must have locked up and\nso we got a SIGABRT.\n\n292\n00:15:28.110 --> 00:15:31.690\nIt actually killed the process cuz it\nwas probably stopping me from booting or\n\n293\n00:15:31.690 --> 00:15:33.060\nsomething like that.\n\n294\n00:15:33.060 --> 00:15:35.550\nNow because automatic\nreporting was turned off,\n\n295\n00:15:35.550 --> 00:15:40.130\nit's telling me right here if I need to\nreport it, this is what I can report.\n\n296\n00:15:40.130 --> 00:15:44.138\nAnd it's got abrt-cli\nreports on manual report and\n\n297\n00:15:44.138 --> 00:15:47.150\nthen it's pointing to a spool folder.\n\n298\n00:15:47.150 --> 00:15:50.716\nAll the reports that get\ngenerated are getting tucked away\n\n299\n00:15:50.716 --> 00:15:54.219\ninside of /var/pool/abrt,\nand they'll sit there.\n\n300\n00:15:54.219 --> 00:15:55.528\nThey'll sit there forever.\n\n301\n00:15:55.528 --> 00:15:58.193\nThat's why we've got that remove command\nto get rid of them if we are not gonna\n\n302\n00:15:58.193 --> 00:16:00.890\nreport them, otherwise they'll sit\nthere until they get reported.\n\n303\n00:16:00.890 --> 00:16:05.640\nAnd this command right here will report\nthem to the Red Hat Customer Portal, so\n\n304\n00:16:05.640 --> 00:16:08.700\nnow they' re aware of it are able\nto act upon it and so on.\n\n305\n00:16:08.700 --> 00:16:13.840\nWhich, actually reminds me,\nI turned on my automatic reporting.\n\n306\n00:16:13.840 --> 00:16:16.230\nLet me turn that off,\ncuz I'm gonna generate a failure here and\n\n307\n00:16:16.230 --> 00:16:18.300\nI don't wanna open up\na ticket with Red Hat.\n\n308\n00:16:18.300 --> 00:16:19.125\n&gt;&gt; [LAUGH].\n&gt;&gt; Speaking of which,\n\n309\n00:16:19.125 --> 00:16:20.086\nI didn't configure it.\n\n310\n00:16:20.086 --> 00:16:25.462\nIf I go back to events and jump in here,\n\n311\n00:16:25.462 --> 00:16:30.208\nwhoops not events, events.d.\n\n312\n00:16:30.208 --> 00:16:34.742\nThere we go, and you take a look at\nthat rht support event file, right?\n\n313\n00:16:34.742 --> 00:16:36.285\nIf I look inside of that,\n\n314\n00:16:36.285 --> 00:16:40.476\nwhat you'll see is the command\nthat it's actually using for that.\n\n315\n00:16:40.476 --> 00:16:46.348\nSo it's that reporter-rhtsupport-u and\nit stops right there, all right?\n\n316\n00:16:46.348 --> 00:16:49.520\nNow normally you would follow that up\nwith your username and your password.\n\n317\n00:16:49.520 --> 00:16:50.930\nSo right now, it's gonna prompt.\n\n318\n00:16:50.930 --> 00:16:54.520\nIf I'm doing this manually, it's gonna\nprompt and I'll put in my username and\n\n319\n00:16:54.520 --> 00:16:56.400\npassword so it can open up the ticket.\n\n320\n00:16:56.400 --> 00:16:59.230\nIf I want this to be automatic though,\nright?\n\n321\n00:16:59.230 --> 00:17:01.580\nIt is the automatic bug reporting tool.\n\n322\n00:17:01.580 --> 00:17:04.550\nIf I want it to be automatic, I'd have to\ncome in and populate this with my username\n\n323\n00:17:04.550 --> 00:17:06.580\nand password so\nthat it'd be able to open that up.\n\n324\n00:17:06.580 --> 00:17:08.330\nI might not wanna put\nmy password in there.\n\n325\n00:17:08.330 --> 00:17:10.460\nAnd that's where it's helpful\nto maintain something local,\n\n326\n00:17:10.460 --> 00:17:14.550\nlike a Bugzilla deployment, so\nyou can create tickets without a password.\n\n327\n00:17:14.550 --> 00:17:18.771\nAnd then if it's suitable to go to Red\nHat, somebody else can make that decision\n\n328\n00:17:18.771 --> 00:17:21.229\nand submit it and\nnot have to store a password.\n\n329\n00:17:21.229 --> 00:17:27.996\nAll right, so that crash that\nI had a moment ago that I saw.\n\n330\n00:17:27.996 --> 00:17:33.020\nWell, when I looked at it,\nwhen I did abrt-cli list,\n\n331\n00:17:33.020 --> 00:17:36.743\nit didn't give me a ton of information.\n\n332\n00:17:36.743 --> 00:17:41.770\nAnd, whoops, I do need to sudo this, you\nhave to be an admin to see a lot of this.\n\n333\n00:17:41.770 --> 00:17:43.890\nBut it didn't give me\na ton of information, but\n\n334\n00:17:43.890 --> 00:17:48.800\nI can take this ID number and I can get\nit to show me even more data on that.\n\n335\n00:17:48.800 --> 00:17:56.042\nSo now I can come in and\nI can run commands like abrt-cli\n\n336\n00:17:56.042 --> 00:18:02.125\ninfo-d, and\nI can paste in what that ID was.\n\n337\n00:18:02.125 --> 00:18:05.655\nAnd I can get additional\ninformation specifically on that.\n\n338\n00:18:05.655 --> 00:18:08.785\nSo the command that I ran\nended up being pretty long.\n\n339\n00:18:08.785 --> 00:18:11.801\nLet me get back to where my command was.\n\n340\n00:18:11.801 --> 00:18:15.652\nSo all of this is information\nthat was being output for me,\n\n341\n00:18:15.652 --> 00:18:19.590\nand it was right after that that\nI actually ran the command.\n\n342\n00:18:19.590 --> 00:18:20.090\nHere it is.\n\n343\n00:18:20.090 --> 00:18:23.450\nAll right, so\nhere's the command that I ran.\n\n344\n00:18:23.450 --> 00:18:26.820\nAnd everything after it is\nnow the detailed information\n\n345\n00:18:26.820 --> 00:18:28.970\non that mm.py that crashed.\n\n346\n00:18:28.970 --> 00:18:35.400\nAnd I'm seeing settings not found for\nvirbr0, that's actually a virtual bridge.\n\n347\n00:18:35.400 --> 00:18:39.040\nAnd the virtual bridge is\na second network adapter that\n\n348\n00:18:39.040 --> 00:18:40.310\nRed Hat Enterprise Linux creates.\n\n349\n00:18:40.310 --> 00:18:43.380\nYou'll always have your primary adapter,\nor any physical adapter, and\n\n350\n00:18:43.380 --> 00:18:45.010\nthen you have this virtual bridge.\n\n351\n00:18:45.010 --> 00:18:47.310\nSo I had a problem with\nthe virtual bridge setup.\n\n352\n00:18:47.310 --> 00:18:51.010\nAnd as I scroll down,\nI'll start to see additional information.\n\n353\n00:18:51.010 --> 00:18:54.790\nHere's the actual location of\nthe Python script that was called, and\n\n354\n00:18:54.790 --> 00:18:56.079\nit's not nm.py.\n\n355\n00:18:56.079 --> 00:18:59.799\nSo apparently nm.py was called\nby another program, and\n\n356\n00:18:59.799 --> 00:19:04.630\nhere's that program that was part of\nthe initial setup of Python, I guess.\n\n357\n00:19:04.630 --> 00:19:09.310\nAnd I can see where it came from, I can\nsee the version number of that package.\n\n358\n00:19:09.310 --> 00:19:13.620\nAnd as I continue to scroll down,\nI can see that it created an SOS report.\n\n359\n00:19:13.620 --> 00:19:15.970\nWhich we're gonna talk more\nabout those in another episode.\n\n360\n00:19:15.970 --> 00:19:18.910\nBut that's a collection of all\nthe system information that I need\n\n361\n00:19:18.910 --> 00:19:21.410\nto hand off to Red Hat for tech support.\n\n362\n00:19:21.410 --> 00:19:25.140\nWell, if I submit this, it'll have\nthe SOS report right along with it.\n\n363\n00:19:25.140 --> 00:19:28.830\nI can see the traceback that tells me\nthe exact line numbers that crashed,\n\n364\n00:19:28.830 --> 00:19:31.040\nwhere the actual fault came from.\n\n365\n00:19:31.040 --> 00:19:33.790\nAnd then as we go down a little further I\ncan see any variables that might've been\n\n366\n00:19:33.790 --> 00:19:36.790\nset, any dependencies and\nenvironment variables, and\n\n367\n00:19:36.790 --> 00:19:39.500\nall the other information that makes\nit helpful for troubleshooting.\n\n368\n00:19:39.500 --> 00:19:42.440\nReally everything I need to know\nabout that crash right here, and\n\n369\n00:19:42.440 --> 00:19:44.300\nI didn't have to deal with memory dumps.\n\n370\n00:19:44.300 --> 00:19:46.240\nBut the memory dumps do exist,\nthey're there,\n\n371\n00:19:46.240 --> 00:19:49.590\nI just didn't have to poke into them, cuz\nit was all right here in this information.\n\n372\n00:19:49.590 --> 00:19:54.710\nSo that was abrt-cli\ninfo to find that out.\n\n373\n00:19:54.710 --> 00:19:57.510\nAnd if you run it without the -d you'll\nsee the info on every single one,\n\n374\n00:19:57.510 --> 00:20:00.800\nand if it's been a long time since you've\ncleared it out it can be a lot of data.\n\n375\n00:20:00.800 --> 00:20:03.520\nSo, always do the -d and\nwhatever the ID is.\n\n376\n00:20:04.970 --> 00:20:08.620\nAnd if you don't know the ID,\nit's just abrt-cli list to be able\n\n377\n00:20:08.620 --> 00:20:12.340\nto get a list of the IDs\nthat are out there.\n\n378\n00:20:12.340 --> 00:20:13.923\nLet's see, what else do we have?\n\n379\n00:20:13.923 --> 00:20:16.510\nThe Graphical User Interface, the GUI.\n\n380\n00:20:16.510 --> 00:20:19.463\nThe GUI is actually a little bit\neasier to use, cuz it's graphical.\n\n381\n00:20:19.463 --> 00:20:20.230\n&gt;&gt; It's graphical, yeah.\n\n382\n00:20:20.230 --> 00:20:22.744\n&gt;&gt; And since you have more crashes\non a work station than a server,\n\n383\n00:20:22.744 --> 00:20:25.220\nthe odds are you'll have a GUI and\nyou can use it.\n\n384\n00:20:25.220 --> 00:20:27.760\nOn a server, though,\nyou don't have the luxury of that GUI.\n\n385\n00:20:27.760 --> 00:20:30.250\nSo everything I've kind of\nshown you here from the command\n\n386\n00:20:30.250 --> 00:20:32.100\nline is what we need, right?\n\n387\n00:20:32.100 --> 00:20:38.364\nOn the GUI side though, if you go up\nto Applications, and go down to Sundry,\n\n388\n00:20:38.364 --> 00:20:43.410\nyou'll usually have the Automatic\nBug Reporting Tool right there.\n\n389\n00:20:43.410 --> 00:20:47.560\nAnd you can fire it up and\nyou'll get the GUI for the ABRT.\n\n390\n00:20:47.560 --> 00:20:50.890\nAnd you'll see your crashes,\nas well system crashes.\n\n391\n00:20:50.890 --> 00:20:54.140\nNow, the my crashes, I can see that\nwithout being an administrator.\n\n392\n00:20:54.140 --> 00:20:57.090\nWhen I start messing around with\nthe system crashes I do need to\n\n393\n00:20:57.090 --> 00:20:59.820\nbe an administrator so\nI'm getting prompted for that.\n\n394\n00:20:59.820 --> 00:21:01.350\nI'll go ahead and clear that hurdle.\n\n395\n00:21:01.350 --> 00:21:04.640\nAnd now I see those same two\ncrashes that we saw a moment ago.\n\n396\n00:21:04.640 --> 00:21:07.530\nHere's the one that was open VM tools,\nand here's another one that's Python.\n\n397\n00:21:07.530 --> 00:21:10.420\nAnd when I click on it I see\na little bit more information.\n\n398\n00:21:11.870 --> 00:21:16.570\nAnd we can double-click on it and\nchoose what we wanna do about it.\n\n399\n00:21:16.570 --> 00:21:21.370\nI can ask Red Hat support for help, or\nI can submit an anonymous crash report.\n\n400\n00:21:21.370 --> 00:21:23.670\nMaybe I don't wanna open up a ticket, but\n\n401\n00:21:23.670 --> 00:21:26.220\nI do want Red Hat to know about this,\nright?\n\n402\n00:21:26.220 --> 00:21:29.370\nSo maybe I'll support an anonymous one,\nand that way they gather it and\n\n403\n00:21:29.370 --> 00:21:30.290\nthey can make use of it.\n\n404\n00:21:30.290 --> 00:21:31.650\nThere's a lot of programs that do that,\n\n405\n00:21:31.650 --> 00:21:33.980\nwhen you have a crash it\nsays report to developer.\n\n406\n00:21:33.980 --> 00:21:35.980\nYou're not opening a ticket, but\nyou're just letting them know.\n\n407\n00:21:35.980 --> 00:21:39.380\nHey, I had a crash,\nmaybe you might wanna look into it.\n\n408\n00:21:39.380 --> 00:21:42.930\nNow, it's not offering Bugzilla\non all those other guys, and\n\n409\n00:21:42.930 --> 00:21:44.040\nthe reason is they're not set up.\n\n410\n00:21:44.040 --> 00:21:48.220\nRemember those conf files that we need\nto modify, the events.d and all that?\n\n411\n00:21:48.220 --> 00:21:52.880\nWell, inside of the abrt it's kinda\nlight on the options, isn't it?\n\n412\n00:21:52.880 --> 00:21:56.420\nBut if you go all the way up\ntop to the main menu up here,\n\n413\n00:21:56.420 --> 00:21:58.240\nyou can go down to Preferences.\n\n414\n00:21:58.240 --> 00:22:01.820\nAnd that's where we can set\nup micro report, MailX,\n\n415\n00:22:01.820 --> 00:22:03.700\nRed Hat Customer Support and so on.\n\n416\n00:22:03.700 --> 00:22:07.570\nSo you can take any one of these,\nlike Red Hat, and hit Configure.\n\n417\n00:22:07.570 --> 00:22:11.280\nAnd then here's my chance to come in and\npunch in the username and password, right?\n\n418\n00:22:11.280 --> 00:22:13.780\nAny advance settings that\nI might wanna define.\n\n419\n00:22:13.780 --> 00:22:17.120\nI can go to Bugzilla and\ndo the same thing.\n\n420\n00:22:17.120 --> 00:22:20.370\nHit Configure and\nstart to specify all the credentials and\n\n421\n00:22:20.370 --> 00:22:22.980\nother information for my Bugzilla system.\n\n422\n00:22:22.980 --> 00:22:27.690\nIf I want to do a email,\nwe can get that set up through MailX.\n\n423\n00:22:27.690 --> 00:22:32.210\nOr if I just wanna do a straight report\nuploader, FTP or SCP, I can set that up.\n\n424\n00:22:32.210 --> 00:22:35.270\nI can tell it where I\nwant that data to go and\n\n425\n00:22:35.270 --> 00:22:38.380\nhow I want it to get there,\nwhether I store a password or not.\n\n426\n00:22:38.380 --> 00:22:39.115\nAnd so on, right?\n\n427\n00:22:39.115 --> 00:22:41.180\n&gt;&gt; That's a whole lot easier\nthan the whole command line.\n\n428\n00:22:41.180 --> 00:22:44.370\nI mean, we do love our command line\ninside of Linux, but every now and\n\n429\n00:22:44.370 --> 00:22:47.570\nthen it is nice to just be able to click\non some stuff and get things to work.\n\n430\n00:22:47.570 --> 00:22:51.620\n&gt;&gt; Yeah, what I normally do is, on my\nwork station, I define this how I want.\n\n431\n00:22:51.620 --> 00:22:55.112\nAnd then I just take /etc/libreport,\nand I just copy all those files over to\n\n432\n00:22:55.112 --> 00:22:58.279\nthe servers since now they're set up\nthe way that I want them to be, and\n\n433\n00:22:58.279 --> 00:23:00.020\nI didn't have to muck around with it.\n\n434\n00:23:00.020 --> 00:23:02.070\nSo this does make life a little easier.\n\n435\n00:23:02.070 --> 00:23:05.110\nBut you can view all the information\nright from here, so you can see it.\n\n436\n00:23:05.110 --> 00:23:07.090\nYou don't get the detailed view from here,\nright?\n\n437\n00:23:07.090 --> 00:23:11.940\nSo when I go into my crash here for\nexample, or whatever,\n\n438\n00:23:11.940 --> 00:23:13.640\nI can go and\nopen the problem's data directory.\n\n439\n00:23:14.890 --> 00:23:16.120\nOr I can copy the ID, but\n\n440\n00:23:16.120 --> 00:23:18.870\nI can't view that big set of data\nthat we saw from the command line.\n\n441\n00:23:18.870 --> 00:23:22.100\nSo we don't get full functionality, but\nwe get enough to be able to report it.\n\n442\n00:23:22.100 --> 00:23:23.700\nThis is kind of what\nan end user would need.\n\n443\n00:23:23.700 --> 00:23:26.820\nEnd user doesn't need to be drilling down\nto figure out what file crashed, but\n\n444\n00:23:26.820 --> 00:23:27.660\na developer would.\n\n445\n00:23:27.660 --> 00:23:29.470\nSo we can see that all right there.\n\n446\n00:23:30.680 --> 00:23:34.651\nAnd then, when you're setting this up,\nif you need to test it, testing it's kind\n\n447\n00:23:34.651 --> 00:23:37.851\nof the hardest part because all right,\nI need something to crash.\n\n448\n00:23:37.851 --> 00:23:41.420\nWell, it'll crash, believe me,\njust not when you want it to, right?\n\n449\n00:23:41.420 --> 00:23:43.630\nEverything will run flawless\nwhen you want it to crash.\n\n450\n00:23:43.630 --> 00:23:50.039\nSo a great way to simulate a crash is to\ngenerate your own segment fault, right?\n\n451\n00:23:50.039 --> 00:23:53.930\nAnd we can generate a segment fault by\nreally just creating a fake service.\n\n452\n00:23:53.930 --> 00:23:58.427\nI'm gonna do a sleep 100, which sleep 100\nthat's gonna run the sleep command and\n\n453\n00:23:58.427 --> 00:24:00.206\ntell it pause for 100 seconds.\n\n454\n00:24:00.206 --> 00:24:01.008\n&gt;&gt; Seconds.\n&gt;&gt; I believe, yeah.\n\n455\n00:24:01.008 --> 00:24:02.544\nIt's just gonna sit there.\n\n456\n00:24:02.544 --> 00:24:05.260\nAnd I'm gonna do an &amp; and\nchuck it in the background.\n\n457\n00:24:05.260 --> 00:24:09.206\nSo, that's now running in the background\nand I got process ID 5487.\n\n458\n00:24:09.206 --> 00:24:14.785\nI can use kill and I can tell it\nto generate a segment fault 45487,\n\n459\n00:24:14.785 --> 00:24:20.570\nand that's gonna kill that proces and\nsee what it says core dumped.\n\n460\n00:24:20.570 --> 00:24:25.540\nThat actually just generated a segment\nfault, so I just created an issue and\n\n461\n00:24:25.540 --> 00:24:29.060\nthe ABR assuming it's\nrunning will detect that and\n\n462\n00:24:29.060 --> 00:24:33.780\nI should be able to do abrt-cli list,\n\n463\n00:24:35.050 --> 00:24:37.990\nand when I look in here,\nit's kinda sorted backwards.\n\n464\n00:24:37.990 --> 00:24:41.430\nSo, I'm seeing that NetworkManager\nkinda crashed there.\n\n465\n00:24:41.430 --> 00:24:44.925\nAnd if I scroll back up, there's the\nvmtools, and if I keep scrolling back up,\n\n466\n00:24:44.925 --> 00:24:50.200\nhere is sleep killed by SIGSEGV.\n\n467\n00:24:50.200 --> 00:24:54.930\nSo, I can spot that crash right there and\nnow, I know ARBT is working.\n\n468\n00:24:54.930 --> 00:24:58.930\nAnd if I'm trying to submit to Bugzilla,\nand I'm trying to test all of that out I\n\n469\n00:24:58.930 --> 00:25:03.312\ncan submit this and any developer will\nlook at it and go sleep skills, who cares?\n\n470\n00:25:03.312 --> 00:25:04.133\n&gt;&gt; [LAUGH]\n&gt;&gt; Delete, right?\n\n471\n00:25:04.133 --> 00:25:07.320\nSo, just wanna don't worry about opening\ntickets with Red Hat and all that.\n\n472\n00:25:07.320 --> 00:25:08.694\nIt's a great way to test the system out.\n\n473\n00:25:08.694 --> 00:25:12.420\nSo again, just run something\nlike I did sleep or normally,\n\n474\n00:25:12.420 --> 00:25:15.010\nthis is the example, red hat gives.\n\n475\n00:25:15.010 --> 00:25:18.393\nI usually used top, if you take top and\nstick in the background or whatever and\n\n476\n00:25:18.393 --> 00:25:19.340\nthen you can kill it.\n\n477\n00:25:19.340 --> 00:25:23.390\nThe important part is this,\nthat you know the process ID and\n\n478\n00:25:23.390 --> 00:25:28.000\nyou kill it with a -s SEGV and\nthat's what a VRT will pick up on.\n\n479\n00:25:28.000 --> 00:25:30.280\nAnd now you got to test\nthat you can report on.\n\n480\n00:25:30.280 --> 00:25:34.320\nAnd back here, I can see I did\nhave to click for it to refresh,\n\n481\n00:25:34.320 --> 00:25:38.522\nbut it was there, and\nnow I can look and see that I've got.\n\n482\n00:25:38.522 --> 00:25:40.527\nActually it didn't refresh, did it?\n\n483\n00:25:40.527 --> 00:25:42.344\nThis crazy thing.\n\n484\n00:25:42.344 --> 00:25:45.760\nSo, why is it not refreshing for me?\n\n485\n00:25:45.760 --> 00:25:50.080\nNormally, if you just kind of click on the\nbuttons it'll make it refresh and update,\n\n486\n00:25:50.080 --> 00:25:52.800\nbut in my case it is not updating.\n\n487\n00:25:52.800 --> 00:25:55.934\nSo, let me close and reopen that.\n\n488\n00:25:55.934 --> 00:25:57.570\nThat was exciting.\n&gt;&gt; Because you wanted it to do that.\n\n489\n00:25:57.570 --> 00:25:59.519\n&gt;&gt; That is a big part of it, I'm sure.\n\n490\n00:25:59.519 --> 00:26:00.026\n&gt;&gt; Computers hate us.\n\n491\n00:26:00.026 --> 00:26:03.000\n[LAUGH]\n&gt;&gt; [LAUGH] They never crash when you\n\n492\n00:26:03.000 --> 00:26:03.880\nwant them to.\n\n493\n00:26:03.880 --> 00:26:04.651\n&gt;&gt; But yeah, here it is.\n\n494\n00:26:04.651 --> 00:26:08.670\n&gt;&gt; So, I've got this one and\nI can see sleep killed by SIGSEGV and\n\n495\n00:26:08.670 --> 00:26:10.070\nwe're in business.\n\n496\n00:26:10.070 --> 00:26:12.850\nSo, pretty,\npretty straightforward on that one.\n\n497\n00:26:12.850 --> 00:26:14.111\nYou can pull it up, it doesn't get logged.\n\n498\n00:26:14.111 --> 00:26:18.300\nIt does go into the spool folder inside a\nslash bar, so it goes a couple of places.\n\n499\n00:26:18.300 --> 00:26:21.140\nBut the neat part is that we can quickly\ngenerate that ticket, and submit it.\n\n500\n00:26:21.140 --> 00:26:23.520\nAnd remember,\nwhen you buy Red Hat Enterprise Linux,\n\n501\n00:26:23.520 --> 00:26:26.410\nyou're buying support,\nand this is a part of it.\n\n502\n00:26:26.410 --> 00:26:28.581\nYou need to be able to submit\nthe information about the crash so\n\n503\n00:26:28.581 --> 00:26:30.902\nthey can help you troubleshoot and\nfind out what that problem is.\n\n504\n00:26:30.902 --> 00:26:35.776\n&gt;&gt; Well, Don while this was not the most\nultra sexy cool episode we've ever done on\n\n505\n00:26:35.776 --> 00:26:38.780\nRed Hat Linux,\nit is a very important one right.\n\n506\n00:26:38.780 --> 00:26:41.348\nBecause things are gonna break,\nthings are gonna crash and\n\n507\n00:26:41.348 --> 00:26:44.028\nit's good to let Red Hat know\nthat these things are breaking.\n\n508\n00:26:44.028 --> 00:26:47.766\nEven if you don't open a support ticket,\nhey, something went wrong,\n\n509\n00:26:47.766 --> 00:26:51.380\nmaybe there's an incompatibility\nwith some software that we have,\n\n510\n00:26:51.380 --> 00:26:53.640\nmaybe you could go in there and fix that.\n\n511\n00:26:53.640 --> 00:26:57.690\nMake what have better, so we do want\nto be employing this, we do wanna\n\n512\n00:26:57.690 --> 00:27:01.230\nmake sure that we know how to work\nwith it maybe for developing in-house.\n\n513\n00:27:01.230 --> 00:27:04.970\nA fault occurs, we can generate those\nreports, send them over to our developers.\n\n514\n00:27:04.970 --> 00:27:08.770\nThen they can sift through all\nthat hieroglyphics that they\n\n515\n00:27:08.770 --> 00:27:10.010\ncalled [LAUGH] code.\n\n516\n00:27:10.010 --> 00:27:12.754\nFigure out what went wrong,\nand get things fixed, and\n\n517\n00:27:12.754 --> 00:27:15.438\njust keep people at the ready\non when things go wrong,\n\n518\n00:27:15.438 --> 00:27:19.576\nDon doesn't like waking up in the morning,\nfinding 12 errors [LAUGH] in his log.\n\n519\n00:27:19.576 --> 00:27:22.010\nHe will know that as soon as it happens.\n\n520\n00:27:22.010 --> 00:27:26.080\nThat being said, Don, is there anything\nelse we need to know about the ABRT tool?\n\n521\n00:27:26.080 --> 00:27:29.240\n&gt;&gt; I think that's about it, just remember\nyou can customize it to report to\n\n522\n00:27:29.240 --> 00:27:31.480\nthird party systems or whatever you want,\nso take advantage of that,\n\n523\n00:27:31.480 --> 00:27:35.470\nget it integrated into your development\ncycle, and It'll save you a lot of time.\n\n524\n00:27:35.470 --> 00:27:38.070\n&gt;&gt; All right, well, thanks so\nmuch Don for explaining it for us.\n\n525\n00:27:38.070 --> 00:27:40.898\nAnd thank you guys for watching, but\nwe are gonna go ahead and sign off.\n\n526\n00:27:40.898 --> 00:27:43.200\nFor ITPRO.TV, I've been your host,\nDaniel Lowrie.\n\n527\n00:27:43.200 --> 00:27:43.807\n&gt;&gt; And I'm Don Pezet.\n\n528\n00:27:43.807 --> 00:27:46.048\n&gt;&gt; And we'll see you next time.\n\n529\n00:27:46.048 --> 00:27:51.976\n[MUSIC]\n\n530\n00:27:51.976 --> 00:27:55.448\n&gt;&gt; Thank you for watching ITPRO.TV\n\n",
          "vimeoId": "198201816"
        },
        {
          "description": "In this episode, Daniel and Don walk you through using SOS Reports for those unfortunate times when you need to contact Red Hat Support and supply them with server information. They will show you how to create both standard and custom SOS reports and then upload them to Red Had Support.",
          "length": "1607",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-5-2-sos_reports-120116-PGM.00_26_33_17.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-5-2-sos_reports-120116-PGM.00_26_33_17.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-5-2-sos_reports-120116-PGM.00_26_33_17.Still001-sm.jpg",
          "title": "SOS Reports",
          "transcript": "WEBVTT\n\n1\n00:00:00.005 --> 00:00:01.289\nWelcome to ITProTV.\n\n2\n00:00:01.289 --> 00:00:07.248\n[CROSSTALK]\n\n3\n00:00:07.248 --> 00:00:08.330\n[MUSIC]\n\n4\n00:00:08.330 --> 00:00:12.304\nYou're watching ITProTV.\n\n5\n00:00:12.304 --> 00:00:14.136\n&gt;&gt; All right everyone, greetings and\n\n6\n00:00:14.136 --> 00:00:16.524\nwelcome to another great\nepisode of ITProTV.\n\n7\n00:00:16.524 --> 00:00:18.170\nI'm your host Daniel Lowrie, and\n\n8\n00:00:18.170 --> 00:00:22.090\nin today's episode it's more of our\nRed Hat Enterprise Linux series.\n\n9\n00:00:22.090 --> 00:00:25.230\nJoining us back for a little more of that\naction is our good friend, our mentor,\n\n10\n00:00:25.230 --> 00:00:27.870\nour guiding star, Mr Don Pezet.\n\n11\n00:00:27.870 --> 00:00:28.690\nDon, welcome to the show.\n\n12\n00:00:28.690 --> 00:00:29.315\nHow's it going today?\n\n13\n00:00:29.315 --> 00:00:30.051\n&gt;&gt; Thank you for having me back, Daniel.\n\n14\n00:00:30.051 --> 00:00:33.128\n[LAUGH] Very, very emotional\nopening there, I feel special.\n\n15\n00:00:33.128 --> 00:00:34.074\nAll right so-\n&gt;&gt; The feeling.\n\n16\n00:00:34.074 --> 00:00:37.198\n&gt;&gt; Speaking of special things\nlet's talk about SOS reports.\n\n17\n00:00:37.198 --> 00:00:40.066\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] I don't have a good transition\n\n18\n00:00:40.066 --> 00:00:44.110\non this one, so we filmed an episode\non the Automatic Bug Reporting Tool.\n\n19\n00:00:44.110 --> 00:00:45.570\nAnd the ABRT's pretty cool, right.\n\n20\n00:00:45.570 --> 00:00:48.190\nYou have an application that's crashing,\nand\n\n21\n00:00:48.190 --> 00:00:51.720\nABRT can send information right up to\nRed Hat or your ticketing system, or\n\n22\n00:00:51.720 --> 00:00:55.080\nwherever, and provide them information\nabout the crash that happened.\n\n23\n00:00:55.080 --> 00:00:58.143\nWell, here's the challenge with the ABRT.\n\n24\n00:00:58.143 --> 00:00:59.423\nFirst off, you might not be using it.\n\n25\n00:00:59.423 --> 00:01:01.209\nWell, there's a challenge.\n\n26\n00:01:01.209 --> 00:01:04.595\nChallenge number two,\nmore than one service might be involved.\n\n27\n00:01:04.595 --> 00:01:06.980\nRight, ABRT doesn't do\na good job with that.\n\n28\n00:01:06.980 --> 00:01:10.250\nOr three, you might not know\nwhat the heck is going on.\n\n29\n00:01:10.250 --> 00:01:14.347\nThat hey, my server spontaneously\nrebooted in the middle of the night, and\n\n30\n00:01:14.347 --> 00:01:17.942\nit's not like the ABRT can generate\na crash report on one service.\n\n31\n00:01:17.942 --> 00:01:19.484\nThe whole freaking thing rebooted.\n\n32\n00:01:19.484 --> 00:01:20.857\nI don't even know what to look at.\n\n33\n00:01:20.857 --> 00:01:24.713\nSo in those situations,\nthe ABRT is not perfect.\n\n34\n00:01:24.713 --> 00:01:26.350\nNo tool is perfect.\n\n35\n00:01:26.350 --> 00:01:29.540\nBut those are the areas where the ABRT\ndoesn't really solve our problems.\n\n36\n00:01:29.540 --> 00:01:35.880\nSo when that happens you pick up\nthe phone, you call Red Hat tech support,\n\n37\n00:01:35.880 --> 00:01:37.972\nand the techs on the phone\nare gonna help you with the issue.\n\n38\n00:01:37.972 --> 00:01:39.580\nThey're gonna help try and\nisolate it and find it.\n\n39\n00:01:39.580 --> 00:01:43.180\nNow, it used to be that one of the first\nthings that would happen is they say,\n\n40\n00:01:43.180 --> 00:01:45.520\nokay, well, can I remote into the server?\n\n41\n00:01:45.520 --> 00:01:48.690\nCan you open up a port or\nwhatever on the Internet so\n\n42\n00:01:48.690 --> 00:01:50.650\nI can SSH in and take a look at it?\n\n43\n00:01:50.650 --> 00:01:55.540\nAnd then as time evolved they said,\nhey, can you fire up WebEx or\n\n44\n00:01:55.540 --> 00:01:59.490\nGoToMyPC or whatever and let me see your\ncomputer, and you can remote into it.\n\n45\n00:01:59.490 --> 00:02:00.820\nAnd there's problems there.\n\n46\n00:02:00.820 --> 00:02:03.910\nAnd so now we've reached the point where,\nlook, if you've gotta\n\n47\n00:02:03.910 --> 00:02:07.010\nsecure a server that's offline there's no\nway to let somebody remotely look at it,\n\n48\n00:02:07.010 --> 00:02:10.738\nbut we still need support, and\nthat's where sosreports come in.\n\n49\n00:02:10.738 --> 00:02:12.750\nWhat an sosreport is,\n\n50\n00:02:12.750 --> 00:02:17.200\nis an archive, it's a tar gzip\njust like most things these days.\n\n51\n00:02:17.200 --> 00:02:21.070\nAnd inside of that archive\nis a collection of\n\n52\n00:02:21.070 --> 00:02:24.450\nevery piece of information a support\nperson could possibly want.\n\n53\n00:02:24.450 --> 00:02:30.280\nThe output for all sorts of commands for\nshowing statistics and data.\n\n54\n00:02:30.280 --> 00:02:32.346\nThere's collected config files.\n\n55\n00:02:32.346 --> 00:02:36.750\nThere is just a ton of information\ntucked away in an sosreport.\n\n56\n00:02:36.750 --> 00:02:37.650\n&gt;&gt; Your mother's maiden name.\n\n57\n00:02:37.650 --> 00:02:39.168\nYour PIN numbers, right?\n\n58\n00:02:39.168 --> 00:02:40.389\n[LAUGH]\n&gt;&gt; Maybe.\n\n59\n00:02:40.389 --> 00:02:41.220\n&gt;&gt; Could be.\n\n60\n00:02:41.220 --> 00:02:41.850\n&gt;&gt; We joke about it,\n\n61\n00:02:41.850 --> 00:02:45.500\nbut it is amazing the amount of data\nthat is jammed inside of these files.\n\n62\n00:02:45.500 --> 00:02:48.710\nIt's supposed to be everything\nthe support person could want.\n\n63\n00:02:48.710 --> 00:02:50.330\nSo instead of having to\nremote into your system,\n\n64\n00:02:50.330 --> 00:02:52.220\nthey can just pull up the sosreport and\n\n65\n00:02:52.220 --> 00:02:54.230\neverything they need is right there,\nall right.\n\n66\n00:02:54.230 --> 00:02:57.440\nSo we need to be aware of this\nbecause when you call Red Hat tech\n\n67\n00:02:57.440 --> 00:03:00.121\nsupport a lot of times this is one of the\nfirst things they'll ask you for is hey,\n\n68\n00:03:00.121 --> 00:03:02.830\ncan you generate an sosreport for\nme and send it to me?\n\n69\n00:03:02.830 --> 00:03:03.980\nSo we can do that.\n\n70\n00:03:03.980 --> 00:03:07.540\nNow when you generate a sosreport,\nwe've got a command line utility for it.\n\n71\n00:03:07.540 --> 00:03:08.610\nIt's super easy to do.\n\n72\n00:03:08.610 --> 00:03:11.960\nYou generate it and\nthen you've got to get it up to Red Hat.\n\n73\n00:03:11.960 --> 00:03:15.230\nAnd when you do that,\nthere's a few different ways.\n\n74\n00:03:15.230 --> 00:03:16.870\nBut normally you use\nthe web ticketing system.\n\n75\n00:03:16.870 --> 00:03:19.480\nSo if you've gone to the website and\nyou've opened up a ticket, or\n\n76\n00:03:19.480 --> 00:03:21.330\nif you call on the phone\nthey'll open it for you.\n\n77\n00:03:21.330 --> 00:03:25.730\nThen you log in to that ticket, and\nyou can attach the sosreport right to it.\n\n78\n00:03:25.730 --> 00:03:27.460\nNow, normally that works just fine.\n\n79\n00:03:27.460 --> 00:03:28.910\nYou get it attached and\nyou're in business.\n\n80\n00:03:28.910 --> 00:03:31.827\nBut there are times when\nthe sosreport is so\n\n81\n00:03:31.827 --> 00:03:35.320\nbig that you can't upload\nit via the web uploader.\n\n82\n00:03:35.320 --> 00:03:39.250\nAnd so if that happens they have a little\nFTP site that you can FTP it to.\n\n83\n00:03:39.250 --> 00:03:40.990\nAnd I'll show it a little\nbit later in the episode.\n\n84\n00:03:40.990 --> 00:03:43.240\nI'll kind of bring it up to where\nyou can throw in and upload it.\n\n85\n00:03:43.240 --> 00:03:45.450\n&gt;&gt; Don,\nis this like the old SIS report system?\n\n86\n00:03:45.450 --> 00:03:46.830\nIs that similar to that?\n\n87\n00:03:46.830 --> 00:03:49.167\n&gt;&gt; So it actually, [LAUGH] it actually is.\n\n88\n00:03:49.167 --> 00:03:54.123\nThe old SIS report system, which is gone\nnow, I can't remember when it went away.\n\n89\n00:03:54.123 --> 00:03:57.850\nI think it was Red Hat 5 where it finally\nwent away and got replaced by sosreports.\n\n90\n00:03:57.850 --> 00:04:02.060\nBut it goes a little bit further than\nwhat the traditional sosreports did and\n\n91\n00:04:02.060 --> 00:04:04.507\ngives us, or the traditional SIS reports.\n\n92\n00:04:04.507 --> 00:04:05.268\n&gt;&gt; Yeah.\n[LAUGH]\n\n93\n00:04:05.268 --> 00:04:05.953\n&gt;&gt; And gives us a little bit\n\n94\n00:04:05.953 --> 00:04:06.610\nmore information.\n\n95\n00:04:06.610 --> 00:04:09.270\nSo let me bring this up, and\nagain, enough talking about it,\n\n96\n00:04:09.270 --> 00:04:10.290\nlet's actually take a look at it.\n\n97\n00:04:10.290 --> 00:04:13.680\nSo let's say that I'm having some\nproblems here on my machine.\n\n98\n00:04:13.680 --> 00:04:16.129\nFor whatever reason it's just not\nbehaving right, I let Daniel use it for\n\n99\n00:04:16.129 --> 00:04:16.969\na few minutes, and now.\n\n100\n00:04:16.969 --> 00:04:18.580\n&gt;&gt; I was gonna say, it is Don's machine.\n\n101\n00:04:18.580 --> 00:04:19.510\n&gt;&gt; Yeah, I know, I got issues.\n\n102\n00:04:19.510 --> 00:04:22.023\n&gt;&gt; I like to put viruses on it,\nthat's where I store all mine.\n\n103\n00:04:22.023 --> 00:04:22.915\n[LAUGH]\n&gt;&gt; You gotta put them somewhere.\n\n104\n00:04:22.915 --> 00:04:24.020\n[LAUGH]\n&gt;&gt; That's right.\n\n105\n00:04:24.020 --> 00:04:27.610\n&gt;&gt; All right, so if I'm having\nproblems I just need to get in here.\n\n106\n00:04:27.610 --> 00:04:30.390\nProblems that I can't cope\nwith with a psychiatrist.\n\n107\n00:04:30.390 --> 00:04:33.250\nThen I need to get in here and\nrun an sosreport.\n\n108\n00:04:33.250 --> 00:04:38.210\nAnd so you do need to be an administrator\nuser to do it because it's got\n\n109\n00:04:38.210 --> 00:04:39.670\nsensitive system data in it, right?\n\n110\n00:04:39.670 --> 00:04:40.900\nInformation about your configuration.\n\n111\n00:04:40.900 --> 00:04:44.826\nSo I do need to sudo this and\nthen just run sosreport like that.\n\n112\n00:04:44.826 --> 00:04:48.520\nAll right, when you run it,\nthere it goes, it's gonna do some stuff.\n\n113\n00:04:48.520 --> 00:04:50.760\nHere it's giving me information\nabout what it's gonna do.\n\n114\n00:04:50.760 --> 00:04:54.030\nSo it's telling me, hey we're about\nto run and collect diagnostic and\n\n115\n00:04:54.030 --> 00:04:56.650\nconfigure information about this system.\n\n116\n00:04:56.650 --> 00:05:00.550\nAnd it's telling me that an archive\ncontaining the collected information will\n\n117\n00:05:00.550 --> 00:05:04.220\nbe generated in, and I need to pay\nattention to this, in this folder.\n\n118\n00:05:04.220 --> 00:05:08.370\nBecause it's gonna generate a different\nfolder for each sosreport and\n\n119\n00:05:08.370 --> 00:05:10.870\nI might have generated\nother ones in the past.\n\n120\n00:05:10.870 --> 00:05:11.970\nThey might still be sitting there.\n\n121\n00:05:11.970 --> 00:05:14.090\nIt's not a good idea to keep\nthem laying around by the way,\n\n122\n00:05:14.090 --> 00:05:16.790\nbut anyhow, that's where it's gonna be.\n\n123\n00:05:16.790 --> 00:05:18.160\nSo that's where it's gonna generate it.\n\n124\n00:05:18.160 --> 00:05:19.630\nIt's gonna store it right there.\n\n125\n00:05:19.630 --> 00:05:21.260\nI can go in and find it.\n\n126\n00:05:21.260 --> 00:05:23.770\nAnd send it up to the support person,\nright?\n\n127\n00:05:23.770 --> 00:05:26.900\nAnd they're telling me here that it'll be\ntreated in accordance with the privacy\n\n128\n00:05:26.900 --> 00:05:28.490\npolicies published at blah, blah, blah.\n\n129\n00:05:28.490 --> 00:05:31.050\nBecause there's data in there\nyou don't wanna get out.\n\n130\n00:05:31.050 --> 00:05:33.509\nAll right, so I'm gonna copy that just so\nI've got it and I don't forget,\n\n131\n00:05:33.509 --> 00:05:34.890\nand then I'll press Enter.\n\n132\n00:05:34.890 --> 00:05:36.680\nAnd now it's gonna ask me a few questions.\n\n133\n00:05:36.680 --> 00:05:39.200\nNow when we generate an sosreport, and\n\n134\n00:05:39.200 --> 00:05:42.260\nwe upload it to Red Hat,\nthey get a lot of sosreports.\n\n135\n00:05:42.260 --> 00:05:44.370\nOr you,\nyourself might be generating a lot.\n\n136\n00:05:44.370 --> 00:05:49.170\nSo it's a good idea to attach a host\nname as well as the username for\n\n137\n00:05:49.170 --> 00:05:50.380\nyour account with Red Hat.\n\n138\n00:05:50.380 --> 00:05:52.230\nSo it kind of maps it to yours.\n\n139\n00:05:52.230 --> 00:05:54.610\nThe reality is, if you're attaching\nit to the ticket yourself,\n\n140\n00:05:54.610 --> 00:05:56.880\nyou can put whatever you want in here and\nit doesn't really matter.\n\n141\n00:05:56.880 --> 00:05:58.430\nBut we try and keep it accurate.\n\n142\n00:05:58.430 --> 00:06:00.970\nIt's asking for\nmy first initial and last name.\n\n143\n00:06:00.970 --> 00:06:02.723\nAnd if you look, if I just press Enter,\n\n144\n00:06:02.723 --> 00:06:04.648\nthe default is the host\nname of the system.\n\n145\n00:06:04.648 --> 00:06:07.971\nIt wants first initial and last name cuz\nthat's normally your Red Hat identity when\n\n146\n00:06:07.971 --> 00:06:09.359\nyou log in into the Red Hat portal.\n\n147\n00:06:09.359 --> 00:06:12.139\nSo I'm gonna update that and\nput the correct information in there,\n\n148\n00:06:12.139 --> 00:06:13.376\nthe default is not accurate.\n\n149\n00:06:13.376 --> 00:06:16.582\nAnd then enter the case ID we're\ngenerating for this report.\n\n150\n00:06:16.582 --> 00:06:19.270\nIf I'm on the phone with Red Hat I've\nalready got a case ID and\n\n151\n00:06:19.270 --> 00:06:20.580\nI can punch it in here.\n\n152\n00:06:20.580 --> 00:06:23.664\nBut if I'm just getting ready for\ncontacting Red Hat,\n\n153\n00:06:23.664 --> 00:06:25.215\nI don't have a case ID yet.\n\n154\n00:06:25.215 --> 00:06:29.050\nAnd so you can leave it blank, or\nput in a fake number, or whatever.\n\n155\n00:06:29.050 --> 00:06:32.720\nOr you can always open the ticket with\nthem, get the case ID and then come back\n\n156\n00:06:32.720 --> 00:06:36.420\nand generate it, after the fact or\nwhatever, so it has the right case ID.\n\n157\n00:06:36.420 --> 00:06:39.329\nI don't have one, so\nI'm just gonna put, I'll do 1234.\n\n158\n00:06:40.870 --> 00:06:42.820\nAll right, and off it goes.\n\n159\n00:06:42.820 --> 00:06:45.897\nNotice it's running 98 different things.\n\n160\n00:06:45.897 --> 00:06:47.279\n98 different commands.\n\n161\n00:06:47.279 --> 00:06:50.382\nSome of them are as simple as\ncatting a file onto the screen so\n\n162\n00:06:50.382 --> 00:06:52.940\nthat it can then store it in the document.\n\n163\n00:06:52.940 --> 00:06:56.260\nOther ones it's copying actual config\nfiles and it's just reaching out and\n\n164\n00:06:56.260 --> 00:06:59.020\ndoing all that stuff,\ngathering all that information.\n\n165\n00:06:59.020 --> 00:07:01.090\nAnd some of it's data from files.\n\n166\n00:07:01.090 --> 00:07:06.029\nSome of it's output from other commands,\nlike it'll run ps aux.\n\n167\n00:07:06.029 --> 00:07:08.774\nSo it'll pull up a list of all the current\nprocesses that are running and\n\n168\n00:07:08.774 --> 00:07:10.070\nthe users that are calling them.\n\n169\n00:07:10.070 --> 00:07:14.491\nIt'll run top and pull up the process\nutilization, the memory utilization.\n\n170\n00:07:14.491 --> 00:07:20.054\nIt'll do free to pull up memory,\ndf to pull up disk usage.\n\n171\n00:07:20.054 --> 00:07:24.185\nIt'll even do dh a little bit\nto pull up some folder sizes.\n\n172\n00:07:24.185 --> 00:07:25.421\nWhat else do we have?\n\n173\n00:07:25.421 --> 00:07:27.235\n&gt;&gt; I think the last one it ran was yum.\n\n174\n00:07:27.235 --> 00:07:29.464\n&gt;&gt; Did it actually say it on the screen?\n\n175\n00:07:29.464 --> 00:07:32.080\n&gt;&gt; Yeah, it was scrolling through it.\n\n176\n00:07:32.080 --> 00:07:33.190\n&gt;&gt; Are we missing updates?\n\n177\n00:07:33.190 --> 00:07:34.025\nThat would be a good thing.\n\n178\n00:07:34.025 --> 00:07:35.680\nCuz the support person\nmight look at it and\n\n179\n00:07:35.680 --> 00:07:38.300\nsay you've got this problem\nwith Apache crashing.\n\n180\n00:07:38.300 --> 00:07:41.840\nAnd we have five more updates for the\nstinking thing that you haven't done and,\n\n181\n00:07:41.840 --> 00:07:43.180\nlook at this one,\nit's in the release notes,\n\n182\n00:07:43.180 --> 00:07:44.988\nfixes crashes, so-\n&gt;&gt; [LAUGH]\n\n183\n00:07:44.988 --> 00:07:46.221\n&gt;&gt; That kind of stuff.\n\n184\n00:07:46.221 --> 00:07:50.234\nIt sounds dumb but\nif you've ever worked the support desk.\n\n185\n00:07:50.234 --> 00:07:51.845\nDaniel, you've got horror stories.\n\n186\n00:07:51.845 --> 00:07:52.533\n&gt;&gt; Golly.\n\n187\n00:07:52.533 --> 00:07:53.346\nBeen in the trenches.\n\n188\n00:07:53.346 --> 00:07:55.506\nAnybody that's been there\nbefore you're like, yeah,\n\n189\n00:07:55.506 --> 00:07:57.443\nwell why are all these\nupdates over here blinking?\n\n190\n00:07:57.443 --> 00:07:59.104\nWell, you know updates break things.\n\n191\n00:07:59.104 --> 00:07:59.905\nThey also fix them.\n\n192\n00:07:59.905 --> 00:08:02.700\n[LAUGH]\n&gt;&gt; It always slows me down when I try and\n\n193\n00:08:02.700 --> 00:08:03.882\nshut the computer down.\n\n194\n00:08:03.882 --> 00:08:05.862\n&gt;&gt; [LAUGH]\n&gt;&gt; Great, all right, well fine.\n\n195\n00:08:05.862 --> 00:08:06.522\n&gt;&gt; That's fun.\n\n196\n00:08:06.522 --> 00:08:10.010\n&gt;&gt; Okay, so it generates the file and\nnow that it's generated,\n\n197\n00:08:10.010 --> 00:08:12.870\nit actually moves it from that\ntemporary folder that was made,\n\n198\n00:08:12.870 --> 00:08:14.660\nremember the temporary\nfolder that it gave me?\n\n199\n00:08:14.660 --> 00:08:20.370\nAnd so now its telling me, the SOS report\nas has been saved in /var/tmp/ and\n\n200\n00:08:20.370 --> 00:08:23.020\nthen here's the archive\nthat was generated.\n\n201\n00:08:23.020 --> 00:08:24.970\nThat has that data stored inside of it.\n\n202\n00:08:24.970 --> 00:08:26.010\nOkay, so it's got it.\n\n203\n00:08:26.010 --> 00:08:28.460\nIt's right there, and wonderful.\n\n204\n00:08:28.460 --> 00:08:29.720\nRight, so we've got that stuff.\n\n205\n00:08:29.720 --> 00:08:33.870\nNow, once it's there.\n\n206\n00:08:33.870 --> 00:08:39.360\nIf we, I'm gonna bump up my\nprivileges real quick for a minute.\n\n207\n00:08:39.360 --> 00:08:43.420\nIf we go into /var/temp.\n\n208\n00:08:43.420 --> 00:08:45.360\nRemember that folder\nthat it gave me earlier?\n\n209\n00:08:45.360 --> 00:08:49.000\nThat temp folder, if I browse through it,\nsee how it's gone?\n\n210\n00:08:49.000 --> 00:08:53.210\nIf the report was interrupted at\nany point It would still be there.\n\n211\n00:08:53.210 --> 00:08:55.320\nIt would still be there with\nthe partial information in it and\n\n212\n00:08:55.320 --> 00:08:57.510\nthat's what we need to\nclear out after the fact.\n\n213\n00:08:57.510 --> 00:09:00.490\nSo that's why I was just double checking\nto make sure that's gone cuz I don't want\n\n214\n00:09:00.490 --> 00:09:02.060\nto leave that stuff laying around.\n\n215\n00:09:02.060 --> 00:09:07.460\nBut if I look around here inside\nof temp there's the SOS report.\n\n216\n00:09:07.460 --> 00:09:10.390\nAnd there's a second file along\nwith it with is an MD5 check sum.\n\n217\n00:09:10.390 --> 00:09:13.550\nJust so that if we transmit\nthe report to somebody else.\n\n218\n00:09:13.550 --> 00:09:15.720\nThey can take a look at it and\nfigure out whether or\n\n219\n00:09:15.720 --> 00:09:18.350\nnot the file got corrupted in transit.\n\n220\n00:09:18.350 --> 00:09:18.930\nRight?\nSo those\n\n221\n00:09:18.930 --> 00:09:20.860\nare basically the things that we've got.\n\n222\n00:09:20.860 --> 00:09:26.010\nBut this is the report itself tucked away\nright here, and it's got our information.\n\n223\n00:09:26.010 --> 00:09:28.170\nNow, if we want we can\ntake a look inside of it.\n\n224\n00:09:28.170 --> 00:09:30.730\nNormally you just take it and send it\nup to red hat and that's the end of it.\n\n225\n00:09:30.730 --> 00:09:33.700\nBut it's kinda fun to take a look inside\nof it cuz you can actually use these\n\n226\n00:09:33.700 --> 00:09:34.520\nreports yourself.\n\n227\n00:09:34.520 --> 00:09:37.090\nIf you're supporting a ton of\nservers that are out there,\n\n228\n00:09:37.090 --> 00:09:39.760\nyou can generate an SOS report and\ndownload it yourself.\n\n229\n00:09:39.760 --> 00:09:41.360\nSend it over to an FTP server, whatever.\n\n230\n00:09:41.360 --> 00:09:44.180\nAnd then pull that information to help you\nwith troubleshooting without having to\n\n231\n00:09:44.180 --> 00:09:48.480\nremote into a machine or get somebody\nto provide you assistance or whatever.\n\n232\n00:09:48.480 --> 00:09:52.660\nSo what I'm gonna do is\nI'm going to copy it.\n\n233\n00:09:54.530 --> 00:09:57.790\nAnd let me just get that tmp.\n\n234\n00:09:57.790 --> 00:10:04.020\nSo I'm just going to copy that\nto my own downloads folder.\n\n235\n00:10:05.250 --> 00:10:05.800\nThere we go.\n\n236\n00:10:07.880 --> 00:10:11.120\nAlright, so there it is, there's that SOS\nreport right there in my downloads and\n\n237\n00:10:11.120 --> 00:10:12.540\nthe reason I'm doing it this way is so\n\n238\n00:10:12.540 --> 00:10:16.610\nthat I can cheat a little bit and\nuse my GUI here.\n\n239\n00:10:17.710 --> 00:10:18.690\nAnd pull up that sosreport.\n\n240\n00:10:18.690 --> 00:10:19.710\nSo there's the sosreport.\n\n241\n00:10:19.710 --> 00:10:21.960\nAnd I'm just gonna open it\nup here in the archiver.\n\n242\n00:10:21.960 --> 00:10:25.710\nAnd whoops,\nlooks like my file permissions are wrong.\n\n243\n00:10:25.710 --> 00:10:30.410\nSo, I used Sudu when I copied it,\nso it likely is still just set for\n\n244\n00:10:30.410 --> 00:10:33.233\nthe root user, so let me do a-\n&gt;&gt; [INAUDIBLE]\n\n245\n00:10:33.233 --> 00:10:33.956\n[LAUGH]\n&gt;&gt; Root check.\n\n246\n00:10:33.956 --> 00:10:34.679\nI know [INAUDIBLE].\n\n247\n00:10:34.679 --> 00:10:36.780\nSo, let me change the owner.\n\n248\n00:10:36.780 --> 00:10:38.140\nSo that I have access to it.\n\n249\n00:10:38.140 --> 00:10:41.450\nNow why does only root have access to it?\n\n250\n00:10:41.450 --> 00:10:43.520\nCuz there's sensitive data in there,\nright?\n\n251\n00:10:43.520 --> 00:10:46.190\nIt's got tons of information\nabout my system.\n\n252\n00:10:46.190 --> 00:10:49.220\nWe don't want just any old person\nbeing able to access that.\n\n253\n00:10:49.220 --> 00:10:52.810\nSo that's why it's got\nthose elevated permissions.\n\n254\n00:10:52.810 --> 00:10:54.800\nSo I'm gonna fire that up now,\nthere we go.\n\n255\n00:10:54.800 --> 00:10:57.530\nOkay, now when you take\na look inside of it,\n\n256\n00:10:57.530 --> 00:10:59.910\nyou're gonna see this SOS report folder.\n\n257\n00:10:59.910 --> 00:11:02.160\nAnd I'm just gonna bring that out.\n\n258\n00:11:02.160 --> 00:11:04.060\nWhich I guess I coulda just\ndone from the command line, and\n\n259\n00:11:04.060 --> 00:11:06.200\nsaved us a little bit of time.\n\n260\n00:11:06.200 --> 00:11:11.770\nBut now that I've got it out, we can\npull up what's inside of it, all right.\n\n261\n00:11:11.770 --> 00:11:15.830\nNow, looking inside of the SOS report is\nkinda interesting cuz what you're gonna\n\n262\n00:11:15.830 --> 00:11:20.690\nsee Is a combination of folders and\naliases, right.\n\n263\n00:11:20.690 --> 00:11:23.160\nAnd the aliases probably\nlook familiar to you.\n\n264\n00:11:23.160 --> 00:11:28.510\nCheck config, date, df, free,\nhost name, these are commands.\n\n265\n00:11:28.510 --> 00:11:31.940\nIf the support guy were to\nremote into your computer and\n\n266\n00:11:31.940 --> 00:11:34.100\nwanna see how much free memory\nyou'd have what would he run?\n\n267\n00:11:34.100 --> 00:11:35.733\nHe'd run free, right?\n\n268\n00:11:35.733 --> 00:11:37.773\nOr if the support engineer remotes in and\n\n269\n00:11:37.773 --> 00:11:40.060\nshe wants to find out\nwhat your IP address is.\n\n270\n00:11:40.060 --> 00:11:42.530\nShe'd run ip_addr.\n\n271\n00:11:42.530 --> 00:11:45.730\nSo they've got aliases for\neach of those commands.\n\n272\n00:11:45.730 --> 00:11:49.820\nSo instead of running the command on your\nremote system they look at this file.\n\n273\n00:11:49.820 --> 00:11:53.120\nAnd it's an alias that's\nthen pointing to the part\n\n274\n00:11:53.120 --> 00:11:55.880\ninside of all of this\nmess where that's stored.\n\n275\n00:11:55.880 --> 00:11:59.547\nAnd you can see right here where\nshe would've run ip-o_addr, or\n\n276\n00:11:59.547 --> 00:12:04.068\nhe would've run free, I guess it's just\nfree, [LAUGH] I guess it's just free, or\n\n277\n00:12:04.068 --> 00:12:05.730\nfree-m, or whatever.\n\n278\n00:12:05.730 --> 00:12:09.980\nSo, these are all kinda stuck in\nhere under this sos_commands folder.\n\n279\n00:12:09.980 --> 00:12:13.410\nSo, these are the ones they usually go for\nfirst.\n\n280\n00:12:13.410 --> 00:12:16.410\nSo, for example, I wanna find out what\nversion of the kernel you're running.\n\n281\n00:12:16.410 --> 00:12:20.790\nSo I'd normally run uname -a,\nright, and that shows the kernel.\n\n282\n00:12:20.790 --> 00:12:25.390\nWell, looking here inside of this\nSOS report, if I do a more for\n\n283\n00:12:25.390 --> 00:12:28.680\nuname, there it is, same exact output.\n\n284\n00:12:28.680 --> 00:12:30.610\nI didn't have to run the command\non the remote server.\n\n285\n00:12:30.610 --> 00:12:31.930\nThe command has already been run and\n\n286\n00:12:31.930 --> 00:12:34.530\nit's been stored right\nhere inside of the system.\n\n287\n00:12:34.530 --> 00:12:39.680\nAnd if I go inside of the SOS\ncommands folder I can pull up a list\n\n288\n00:12:39.680 --> 00:12:43.910\nof all the different commands that\nare tucked away inside of here.\n\n289\n00:12:43.910 --> 00:12:47.720\nAnd I mean there's just a ton of them any\ncommand you could think of that you'd run\n\n290\n00:12:47.720 --> 00:12:50.750\nnormally to be able to see what\nwas going on it's right here.\n\n291\n00:12:50.750 --> 00:12:52.520\nSo for example firewall d.\n\n292\n00:12:52.520 --> 00:12:55.030\nIf they wanna find out how\nmy firewall is configured.\n\n293\n00:12:55.030 --> 00:12:58.337\nSo I call complaining like this\nsucker doesn't work blah, blah, blah.\n\n294\n00:12:58.337 --> 00:13:02.860\nWell here's\nfirewall-cmd_--permanent_--list-all-zones.\n\n295\n00:13:02.860 --> 00:13:05.745\nSo they're gonna display\nwhat zones are there or\n\n296\n00:13:05.745 --> 00:13:09.940\nfirewall-cmd_--list-all-zones without\nthe permanent.\n\n297\n00:13:09.940 --> 00:13:13.910\nWhich ones are there at boot time,\nwhich ones are not there but\n\n298\n00:13:13.910 --> 00:13:16.580\nnot at boot time but are running\nright now if its been modified.\n\n299\n00:13:16.580 --> 00:13:18.390\nThey can see that information.\n\n300\n00:13:18.390 --> 00:13:20.450\nThe command part is pretty cool.\n\n301\n00:13:20.450 --> 00:13:23.270\nYou can browse around in there and\nfind all the different commands.\n\n302\n00:13:23.270 --> 00:13:25.650\nThe report part is pretty cool too though.\n\n303\n00:13:25.650 --> 00:13:28.580\nThere's more in here\nthan just these commands.\n\n304\n00:13:28.580 --> 00:13:33.245\nIf we take a look at that folder\nagain you'll see things like\n\n305\n00:13:33.245 --> 00:13:39.400\nverstion.txt which is actually talking\nabout SOS Got a bunch of other commands.\n\n306\n00:13:39.400 --> 00:13:44.430\nYou'll see the boot folder,\nthe etc folder, sos logs and\n\n307\n00:13:44.430 --> 00:13:48.960\nreports, the sys folder,\nvar, what's in these things?\n\n308\n00:13:48.960 --> 00:13:52.940\nWell, its not a 100% file for file copy.\n\n309\n00:13:52.940 --> 00:13:56.320\nIf we were to copy the var folder,\nthis sys report would be massive.\n\n310\n00:13:56.320 --> 00:13:58.369\nWhich you know I did not even pay\nattention now this thing must.\n\n311\n00:13:59.390 --> 00:14:07.050\nIt is the one I generated was\nnine megs in size, archived.\n\n312\n00:14:07.050 --> 00:14:12.220\nSo archived was nine megs in size and\nthat's kind of where we end it up.\n\n313\n00:14:12.220 --> 00:14:17.010\nThat's not too bad but my var folder,\nI'm sure is probably several\n\n314\n00:14:17.010 --> 00:14:20.770\ngigs in size cuz you get your spur folder\ninside of that and those things add up.\n\n315\n00:14:20.770 --> 00:14:25.591\nBut I browse inside of this report and\nI go into that var folder and\n\n316\n00:14:25.591 --> 00:14:28.459\nI take a look, it's got /var/log.\n\n317\n00:14:28.459 --> 00:14:29.170\nThat's important.\n\n318\n00:14:29.170 --> 00:14:30.900\nThat's where my syslog is stored.\n\n319\n00:14:30.900 --> 00:14:35.300\nThat's where my system Djournal is stored.\n\n320\n00:14:35.300 --> 00:14:38.730\nIf I've go SE Linux,\nthe SE audit log is in there,\n\n321\n00:14:38.730 --> 00:14:40.540\nwhich is should be a part of this.\n\n322\n00:14:40.540 --> 00:14:44.640\nSo if I take a look, sure enough,\nthere's the audit folder and\n\n323\n00:14:44.640 --> 00:14:45.900\nthere's the audit log.\n\n324\n00:14:45.900 --> 00:14:48.850\nSo, in real life land when I run\na program and it gets blocked and\n\n325\n00:14:48.850 --> 00:14:53.180\nI think it's SE Linux I usually\ndo a tail slash var slash\n\n326\n00:14:53.180 --> 00:14:57.740\nlog slash slash audit slash audit dot log.\n\n327\n00:14:57.740 --> 00:14:59.650\nSo I can look at the last\ncouple of events.\n\n328\n00:14:59.650 --> 00:15:01.400\nWell, I normally do it with\nthe right permissions.\n\n329\n00:15:01.400 --> 00:15:04.570\nSo I can look at the last few SELinux\nevents and find out what got blocked.\n\n330\n00:15:04.570 --> 00:15:07.480\nWell, here I can pull it right from this.\n\n331\n00:15:07.480 --> 00:15:13.540\nSo I can tail just right here audit.log,\nand I'm gonna see the last\n\n332\n00:15:13.540 --> 00:15:18.240\nhandful of events, or I can through it to\nfind a particular string and look for it.\n\n333\n00:15:18.240 --> 00:15:21.040\nEverything the tech support\nengineer could need.\n\n334\n00:15:21.040 --> 00:15:24.850\nOr everything you need, if you're\ntrying to troubleshoot a system and\n\n335\n00:15:24.850 --> 00:15:25.870\nfigure things out.\n\n336\n00:15:25.870 --> 00:15:29.450\nReally incredibly useful\ncollection of information in here.\n\n337\n00:15:29.450 --> 00:15:33.290\nSome of the other things that\nget poked away, the etc folder.\n\n338\n00:15:33.290 --> 00:15:35.030\nI find that one is really handy.\n\n339\n00:15:35.030 --> 00:15:38.660\nIt doesn't have everything,\nit's not a 100% file for file for copy.\n\n340\n00:15:38.660 --> 00:15:39.860\nBut it's got the big ones.\n\n341\n00:15:39.860 --> 00:15:43.500\nSo as you look in here you'll see\nthe sys config folder which is one I\n\n342\n00:15:43.500 --> 00:15:46.280\nspent an unfortunate amount of time in.\n\n343\n00:15:46.280 --> 00:15:50.790\nSSH, yum, the yum repos, so\nyour repository configurations.\n\n344\n00:15:50.790 --> 00:15:52.551\nAll that other stuff, right here.\n\n345\n00:15:52.551 --> 00:15:56.116\nIt's got the bulk of it, the bulk of\nwhat we need to be able to verify\n\n346\n00:15:56.116 --> 00:16:00.273\nthat configuration and that everything\nis functioning the way that we want.\n\n347\n00:16:00.273 --> 00:16:05.300\nAll right, so that's kind of a run\ndown of what the SOS report is.\n\n348\n00:16:05.300 --> 00:16:06.321\nIf you're ever bored, browse through it.\n\n349\n00:16:06.321 --> 00:16:09.930\nIt's kind of fun in a warped,\nweird, kinda techy guy way.\n\n350\n00:16:09.930 --> 00:16:11.644\nBut it's kind of fun to see\nall the stuff that's in there.\n\n351\n00:16:11.644 --> 00:16:17.500\nI use SOS reports myself,\nas evidenced by how I can barely say it.\n\n352\n00:16:17.500 --> 00:16:20.370\nI use the reports myself just for\ngathering information quickly and\n\n353\n00:16:20.370 --> 00:16:21.210\nstoring it.\n\n354\n00:16:21.210 --> 00:16:23.670\nAnd you can even use it to\nmake baselines sometimes\n\n355\n00:16:23.670 --> 00:16:26.320\nbecause it gives you a really\ngood snapshot of the server.\n\n356\n00:16:26.320 --> 00:16:28.480\nLike hey, what's my typical free memory?\n\n357\n00:16:28.480 --> 00:16:30.020\nWell, I can find out.\n\n358\n00:16:30.020 --> 00:16:33.842\nIt's right here if I\npull up that free file.\n\n359\n00:16:33.842 --> 00:16:39.400\nHere's what's free at the time this SOS\nreport was run, or DF, for that matter.\n\n360\n00:16:39.400 --> 00:16:43.275\nWe can pull that up and\nsee our disk utilization and so on.\n\n361\n00:16:43.275 --> 00:16:44.370\nIt's all right here in the report.\n\n362\n00:16:44.370 --> 00:16:47.870\nSo you could run these SOS reports\nperiodically to gather that data.\n\n363\n00:16:47.870 --> 00:16:52.300\nThe only negative about the SOS report is,\nthis kind of goes both ways,\n\n364\n00:16:52.300 --> 00:16:57.460\nis one, it gets a ton of information,\nusually way more than you need.\n\n365\n00:16:57.460 --> 00:16:59.940\nBecause we don't want the support\npeople having to come back and\n\n366\n00:16:59.940 --> 00:17:01.990\nforth with us over and\nover again to get everything they need.\n\n367\n00:17:01.990 --> 00:17:03.980\nSo they really tried to throw\nas much in there as they can.\n\n368\n00:17:03.980 --> 00:17:05.920\nSo on one hand, it's got too much.\n\n369\n00:17:05.920 --> 00:17:08.750\nOn the other hand,\nit kind of has too little.\n\n370\n00:17:08.750 --> 00:17:12.210\nThere's some things that are excluded\nfrom the SOS report that we might want.\n\n371\n00:17:12.210 --> 00:17:16.610\nSo we can tweak the SOS report and\nchange the way that it functions to\n\n372\n00:17:16.610 --> 00:17:19.510\nadd more stuff in or\ntake stuff out if we really want to.\n\n373\n00:17:19.510 --> 00:17:22.530\n&gt;&gt; This is just the most common\nfeatures that the Red Hat\n\n374\n00:17:22.530 --> 00:17:23.820\ntech support's gonna need.\n\n375\n00:17:23.820 --> 00:17:26.137\nBut every now and then you gotta\nthrow a little extra on the heat.\n\n376\n00:17:26.137 --> 00:17:28.220\n&gt;&gt; Exactly, yep, exactly.\n\n377\n00:17:28.220 --> 00:17:30.410\nOr if you're using it not\nthe way it's intended,\n\n378\n00:17:30.410 --> 00:17:32.070\nlike I use sometimes for gathering.\n\n379\n00:17:32.070 --> 00:17:35.510\nI might filter it down to only get\nthe stuff that I actually care about.\n\n380\n00:17:35.510 --> 00:17:37.125\nThe disk utilization memory or whatever,\n\n381\n00:17:37.125 --> 00:17:40.900\ncuz I'm not troubleshooting config files,\nno sense in putting those in there.\n\n382\n00:17:40.900 --> 00:17:45.220\nIt's even a bit of a risk if I have\nconfig files in here and they get out and\n\n383\n00:17:45.220 --> 00:17:48.380\npeople see it, then they might be able\nto find an attack vector on my system.\n\n384\n00:17:48.380 --> 00:17:53.710\nSo with the SOS report utility,\nyou can run SOS report.\n\n385\n00:17:53.710 --> 00:17:56.163\nAnd then you can specify modules and\n\n386\n00:17:56.163 --> 00:18:00.370\nother things that you kinda\ntweak as far as performance.\n\n387\n00:18:00.370 --> 00:18:04.720\nSo for example,\nif I want to disable certain modules.\n\n388\n00:18:04.720 --> 00:18:06.770\nI don't want it to check certain things.\n\n389\n00:18:06.770 --> 00:18:11.177\nI can come in and I can say,\nSOS report -n, followed by one or\n\n390\n00:18:11.177 --> 00:18:13.780\nmore modules that I wanna disable.\n\n391\n00:18:13.780 --> 00:18:17.300\nSo this will take things\nout of the SOS report.\n\n392\n00:18:17.300 --> 00:18:23.380\nI can do SOS report -e to enable modules,\n\n393\n00:18:23.380 --> 00:18:25.160\nmodules that would normally be\ndisabled that I can add in.\n\n394\n00:18:25.160 --> 00:18:27.850\nSo this is adding more into the report.\n\n395\n00:18:27.850 --> 00:18:30.765\nAnd I can do SOS report.\n\n396\n00:18:30.765 --> 00:18:34.980\nI'll get it right sooner or later,\n-o, which is what I usually use.\n\n397\n00:18:34.980 --> 00:18:38.680\nAnd then I can tell the only\nmodules that I want.\n\n398\n00:18:38.680 --> 00:18:40.110\nAnd so I can be very specific.\n\n399\n00:18:40.110 --> 00:18:46.160\nI can say generate a report that only\ncontains the memory or whatever, right?\n\n400\n00:18:46.160 --> 00:18:49.680\nThe only hard part about this\nis remembering the module names.\n\n401\n00:18:49.680 --> 00:18:54.630\nBut you can run SOS report -l, and\nit will give you a list of the modules.\n\n402\n00:18:54.630 --> 00:18:56.000\nAnd so here it's gonna output it.\n\n403\n00:18:56.000 --> 00:18:58.800\nIt's a big list because\nthere's just a ton.\n\n404\n00:18:58.800 --> 00:19:03.660\nNotice down here at the bottom\nit says 24 profiles, 98 plugins.\n\n405\n00:19:03.660 --> 00:19:05.800\nThere's 98 different\nthings we can monitor.\n\n406\n00:19:05.800 --> 00:19:09.030\nRemember when I ran it, it said there\nwere 98 commands that were run, right?\n\n407\n00:19:09.030 --> 00:19:11.380\nAnd there's 24 different profiles.\n\n408\n00:19:11.380 --> 00:19:14.950\nThe boot profile, the debug profile,\nbased on what it is we're trying to do.\n\n409\n00:19:14.950 --> 00:19:18.180\nThere's a desktop profile that\nincludes a lot of X window stuff\n\n410\n00:19:18.180 --> 00:19:20.580\nthat we don't need when\nwe're in a CLI based server.\n\n411\n00:19:20.580 --> 00:19:24.340\nSo it's got these different entries based\non what it is we're trying to gather.\n\n412\n00:19:24.340 --> 00:19:27.407\nIf we have a web server,\nthere's an entry specifically for that.\n\n413\n00:19:27.407 --> 00:19:31.648\nIf we're doing virtualization,\nright, QMU or KBM or whatever,\n\n414\n00:19:31.648 --> 00:19:36.190\neach of these is kind of tailored\nto a different environment.\n\n415\n00:19:36.190 --> 00:19:37.680\nBut you can customize it all you want.\n\n416\n00:19:37.680 --> 00:19:43.070\nIf you just scroll up a little bit,\nyou'll get the big list of plugins, right.\n\n417\n00:19:43.070 --> 00:19:46.920\nAnd above the plugins, we'll see all the,\n\n418\n00:19:46.920 --> 00:19:50.910\nwell, the plugin modules that\nare enabled and disabled.\n\n419\n00:19:50.910 --> 00:19:53.800\nSo the first block here,\nthese are the ones that are enabled.\n\n420\n00:19:53.800 --> 00:19:58.450\nSo this is what's gonna be\nin my SOS report by default.\n\n421\n00:19:58.450 --> 00:20:02.380\nAnd then I scroll down and\nI get to the ones that are disabled.\n\n422\n00:20:02.380 --> 00:20:05.600\nThese are ones that will\nnot be in the SOS report.\n\n423\n00:20:05.600 --> 00:20:09.252\nAnd so I've got Samba Clustered TDB.\n\n424\n00:20:09.252 --> 00:20:10.370\nI'm probably not running that.\n\n425\n00:20:10.370 --> 00:20:12.990\nBut if I am, I'd probably wanna\nturn that on so I use it.\n\n426\n00:20:12.990 --> 00:20:16.090\nThe DHCP daemon,\nif I'm not a DHCP server, what do I care?\n\n427\n00:20:16.090 --> 00:20:18.290\nAnd honestly, DHCP's pretty simple.\n\n428\n00:20:18.290 --> 00:20:19.510\nI'm not normally troubleshooting it.\n\n429\n00:20:19.510 --> 00:20:22.210\nSo that's an example of why\nthat might be turned off.\n\n430\n00:20:22.210 --> 00:20:25.330\nOr dovecot,\nmaybe I'm not running dovecot, right?\n\n431\n00:20:25.330 --> 00:20:29.530\nIMAP and POP3,\nyou run that on some servers but\n\n432\n00:20:29.530 --> 00:20:31.570\nnot most of them, so it's turned off.\n\n433\n00:20:31.570 --> 00:20:35.750\nBut if this is my mail server,\nthen I need dovecot turned on so\n\n434\n00:20:35.750 --> 00:20:37.970\nthat I can be able to get that\ninformation and output it.\n\n435\n00:20:39.030 --> 00:20:41.668\nGrub is kind of a fun one, because\nif you're having problems with grub,\n\n436\n00:20:41.668 --> 00:20:43.067\nyou probably can't run SOS reports.\n\n437\n00:20:43.067 --> 00:20:47.070\n&gt;&gt; [LAUGH]\n&gt;&gt; So I guess I should throw that in.\n\n438\n00:20:47.070 --> 00:20:50.670\nSOS report can be run from\nsingle user mode, it's just not\n\n439\n00:20:50.670 --> 00:20:54.690\nthe most useful at that point, cuz you're\nnot actually booted from your full OS.\n\n440\n00:20:54.690 --> 00:20:58.180\nSo a lot of stuff is gonna be missing,\nbut it can still gather a bunch of data.\n\n441\n00:20:58.180 --> 00:21:00.750\nThe main problem with running\nit from single user mode\n\n442\n00:21:00.750 --> 00:21:04.380\nis that /var/temp is either not mounted,\nor mounted read-only.\n\n443\n00:21:04.380 --> 00:21:06.130\nSo when it goes to generate the report,\n\n444\n00:21:06.130 --> 00:21:08.190\nit's gonna have a problem\nwriting the report.\n\n445\n00:21:08.190 --> 00:21:12.240\nSo you'll have to remount /var/temp\nsomewhere that's read-write\n\n446\n00:21:12.240 --> 00:21:13.400\nbefore running SOS reports.\n\n447\n00:21:13.400 --> 00:21:16.534\nSo just hopefully you never run into that,\nbut if you ever do,\n\n448\n00:21:16.534 --> 00:21:18.299\nthat's how you work around that.\n\n449\n00:21:18.299 --> 00:21:23.741\nAll right, so if I wanna turn things on,\nturn things off, this is how I do it.\n\n450\n00:21:23.741 --> 00:21:28.220\nOr if I just want particular modules,\nI can go through and find those and\n\n451\n00:21:28.220 --> 00:21:29.201\npick them out.\n\n452\n00:21:29.201 --> 00:21:33.280\nYou'll see like here's\nthe firewalld module.\n\n453\n00:21:33.280 --> 00:21:36.340\nIf I just wanna do that one, and\nI can come through and I can specify it.\n\n454\n00:21:36.340 --> 00:21:41.808\nSo if I wanna run an SOS report,\nand I'm gonna do -o for only, and\n\n455\n00:21:41.808 --> 00:21:47.076\nI'll do firewalld and I can run that and\nit's gonna go ahead and\n\n456\n00:21:47.076 --> 00:21:53.250\ngenerate that report and let me just\nput in the proper information here.\n\n457\n00:21:53.250 --> 00:21:54.923\nI don't have a case.\n\n458\n00:21:54.923 --> 00:21:59.172\nSo I'll run that and\nsee it just did Running 1/1 firewalld and\n\n459\n00:21:59.172 --> 00:22:02.420\nit generated that report super fast.\n\n460\n00:22:02.420 --> 00:22:07.550\nAnd the reasoning there is that the file\nonly had to get data from one place.\n\n461\n00:22:07.550 --> 00:22:12.419\nAnd so if I look at that new\none that I just generated,\n\n462\n00:22:12.419 --> 00:22:17.417\nlet me do a ls /-la so\nwe can actually see file sizes.\n\n463\n00:22:17.417 --> 00:22:20.940\nAnd look how much smaller that is.\n\n464\n00:22:20.940 --> 00:22:22.310\nLet me make that human readable.\n\n465\n00:22:23.935 --> 00:22:28.940\nThere, so I went from 9.2 megs when\nI included everything down to 2.8k.\n\n466\n00:22:28.940 --> 00:22:32.940\nRight, really small cuz it's just\nthe firewall settings, and that's it.\n\n467\n00:22:32.940 --> 00:22:35.300\nI don't have to do anything\nelse too terribly crazy.\n\n468\n00:22:35.300 --> 00:22:39.000\nIt's just the information I need and\nit's tucked away and [INAUDIBLE].\n\n469\n00:22:39.000 --> 00:22:43.720\n&gt;&gt; So you can either grab everything under\nthe sun or just the exact specific thing\n\n470\n00:22:43.720 --> 00:22:48.020\nthat you need for your situations, you're\ncontacting Red Hat and you need support.\n\n471\n00:22:48.020 --> 00:22:50.050\nHey, I know there's\na problem with firewalld.\n\n472\n00:22:50.050 --> 00:22:51.330\nIt's not working correctly.\n\n473\n00:22:51.330 --> 00:22:55.020\nLet me just get you that cuz why have\neverything else if you don't need it?\n\n474\n00:22:55.020 --> 00:22:57.590\n&gt;&gt; Absolutely, and this is an easy\nway to get that information.\n\n475\n00:22:57.590 --> 00:22:59.480\nSo keep that in mind as you generate this.\n\n476\n00:22:59.480 --> 00:23:01.700\nAnd again, if they're normal sized files,\n\n477\n00:23:01.700 --> 00:23:04.350\nthen you'll just upload them right\nthrough the web interface for\n\n478\n00:23:04.350 --> 00:23:07.480\nthe ticketing system on Red Hat site and\nyou'll provide it right there.\n\n479\n00:23:07.480 --> 00:23:08.400\nIf it's too big, though,\n\n480\n00:23:08.400 --> 00:23:12.860\nthey'll say hey, we need you to\nupload this to our FTP site.\n\n481\n00:23:12.860 --> 00:23:17.920\nAnd their FTP site if you ever have to\ndo it, it is, let me just show you.\n\n482\n00:23:17.920 --> 00:23:19.721\nWhoops, let me just regenerate that.\n\n483\n00:23:19.721 --> 00:23:21.410\n&gt;&gt; Just do it again.\n\n484\n00:23:21.410 --> 00:23:23.205\n&gt;&gt; If you ever have to do it,\n\n485\n00:23:23.205 --> 00:23:28.682\nwhat you do is you copy the SOS report\nsomewhere that you can actually use it.\n\n486\n00:23:28.682 --> 00:23:35.382\nAnd then you're going to ftp\nto dropbox.redhat.com and\n\n487\n00:23:35.382 --> 00:23:40.410\nthe Dropbox website is a little bit weird.\n\n488\n00:23:40.410 --> 00:23:43.490\nBecause they way it works\nis when you get connected,\n\n489\n00:23:43.490 --> 00:23:47.940\nit's gonna give you this big message\ntelling you the ls command is disabled.\n\n490\n00:23:47.940 --> 00:23:50.333\nYou're not allowed to see\nanything on this server.\n\n491\n00:23:50.333 --> 00:23:53.991\nYou can upload and then it disappears,\nand that's it, right?\n\n492\n00:23:53.991 --> 00:23:57.504\nBecause there might be other customers\nuploading their sensitive data and\n\n493\n00:23:57.504 --> 00:23:59.018\nyou don't have access to that.\n\n494\n00:23:59.018 --> 00:24:03.258\nSo when you upload it, it's gone,\nyou can't touch it again, that's it.\n\n495\n00:24:03.258 --> 00:24:07.787\nSo when you upload it, you need to make\nsure that you've got the case number in\n\n496\n00:24:07.787 --> 00:24:11.968\nthat file name so it knows that\nthe Red Hat guys, people actually care,\n\n497\n00:24:11.968 --> 00:24:14.070\ncan [LAUGH] go in there and find it.\n\n498\n00:24:14.070 --> 00:24:17.410\n&gt;&gt; Microsoft guys are like, yeah,\nI told you not to do that [LAUGH].\n\n499\n00:24:17.410 --> 00:24:21.060\n&gt;&gt; Microsoft actually has a really\ntight licensing deal with Red Hat now\n\n500\n00:24:21.060 --> 00:24:22.930\nbecause they do it in Microsoft Azure.\n\n501\n00:24:22.930 --> 00:24:25.380\nSo they do get involved sometimes.\n\n502\n00:24:25.380 --> 00:24:28.340\nBut you'll see here where basically\nit's just telling me the commands.\n\n503\n00:24:28.340 --> 00:24:32.550\nAnd they want me to put it\nas [casenumber]- [file].\n\n504\n00:24:32.550 --> 00:24:36.540\nSo the case number is right there in\nthe file name so that they have it.\n\n505\n00:24:36.540 --> 00:24:41.673\nAnd as soon as I upload it, it's now gone\nand I can't take it back, it's just there.\n\n506\n00:24:41.673 --> 00:24:42.697\nAnd that's the end of it.\n\n507\n00:24:42.697 --> 00:24:45.621\nBut do be careful because-\n&gt;&gt; No take backs.\n\n508\n00:24:45.621 --> 00:24:50.103\n&gt;&gt; No take backs, and if you look at\nhow the file is named by default,\n\n509\n00:24:50.103 --> 00:24:53.950\nit's not named the way they want it to be,\nright?\n\n510\n00:24:53.950 --> 00:24:57.890\nIf you put a case number,\nthe case number and date are here, and\n\n511\n00:24:57.890 --> 00:24:59.970\nthe file name is kinda before it.\n\n512\n00:24:59.970 --> 00:25:03.670\nSo you probably need to rename the SOS\nreport before you upload it that way.\n\n513\n00:25:03.670 --> 00:25:04.730\nBut, that's how you do it.\n\n514\n00:25:04.730 --> 00:25:06.320\nYou throw it right into their Dropbox.\n\n515\n00:25:06.320 --> 00:25:09.090\nAnd that case number is\nhow they'll identify it.\n\n516\n00:25:09.090 --> 00:25:11.280\nIf it's too big to upload on the website,\n\n517\n00:25:11.280 --> 00:25:14.200\nyou've got to have a case number\nbefore you can FTP it up there.\n\n518\n00:25:14.200 --> 00:25:17.490\nIf you try to FTP it up there with\nno case number, they just delete it.\n\n519\n00:25:17.490 --> 00:25:18.960\nIt doesn't get read.\n\n520\n00:25:18.960 --> 00:25:21.900\n&gt;&gt; Gotcha, and then obviously you're\nalready on the phone with these people\n\n521\n00:25:21.900 --> 00:25:22.460\nat this point.\n\n522\n00:25:22.460 --> 00:25:24.470\nSo they're gonna see there it is.\n\n523\n00:25:24.470 --> 00:25:26.190\nI can now open it up and see it.\n\n524\n00:25:26.190 --> 00:25:29.600\nIs there ever a time where we would\nupload it before we contact them and\n\n525\n00:25:29.600 --> 00:25:33.170\nhave them contact us or\ndoes that ever work out or?\n\n526\n00:25:33.170 --> 00:25:35.210\n&gt;&gt; If you create a web ticket, right?\n\n527\n00:25:35.210 --> 00:25:37.520\nAnd so you do the ticket right\nthrough the customer portal and\n\n528\n00:25:37.520 --> 00:25:39.850\nyou create the ticket there and\nyou haven't talked to anybody yet.\n\n529\n00:25:39.850 --> 00:25:41.730\nYou'd get a case number and\nif you tried to upload and\n\n530\n00:25:41.730 --> 00:25:45.720\nit failed, then you might FTP it up ahead\nof time without having talked to anybody.\n\n531\n00:25:45.720 --> 00:25:47.392\nBut you'd have a case\nnumber at that point.\n\n532\n00:25:47.392 --> 00:25:49.783\nThere's never a scenario where you'd\nupload it without a case number.\n\n533\n00:25:49.783 --> 00:25:50.851\n&gt;&gt; Okay.\n&gt;&gt; Yeah.\n\n534\n00:25:50.851 --> 00:25:55.114\n&gt;&gt; Well, Don, now that we know how to use\nSOS reports so that we can take advantage\n\n535\n00:25:55.114 --> 00:25:58.086\nof the fact that we get\ntechnical support with Red Hat,\n\n536\n00:25:58.086 --> 00:26:00.640\nthat's a very advantageous thing for us.\n\n537\n00:26:00.640 --> 00:26:02.350\nThat's a good thing,\nso play around with it,\n\n538\n00:26:02.350 --> 00:26:04.960\nmake sure that you understand\nhow to generate that.\n\n539\n00:26:04.960 --> 00:26:07.310\nIf you need to, this is probably\nnot something, hopefully anyway,\n\n540\n00:26:07.310 --> 00:26:11.150\nthat's you're doing on a daily basis\nunless you're using it like Don does.\n\n541\n00:26:11.150 --> 00:26:13.820\nWhere I just wanna stay on\ntop of things that might.\n\n542\n00:26:13.820 --> 00:26:17.200\nOtherwise, for people like me, I'm\ngonna put a cheat sheet down somewhere.\n\n543\n00:26:17.200 --> 00:26:20.870\nI'm gonna keep a file that says,\nhow to do SOS reports in the correct way.\n\n544\n00:26:20.870 --> 00:26:21.880\nMaybe that will help you out as well.\n\n545\n00:26:21.880 --> 00:26:24.010\nDon, is there anything else we\nneed to add to this episode?\n\n546\n00:26:24.010 --> 00:26:25.130\n&gt;&gt; That's about all I've got on this one.\n\n547\n00:26:25.130 --> 00:26:28.470\n&gt;&gt; All right, that being said looks\nlike it's time for us to call it a day.\n\n548\n00:26:28.470 --> 00:26:30.610\nWell, thank you for watching,\nand we're signing off.\n\n549\n00:26:30.610 --> 00:26:33.120\nFor ITProTV,\nI've been your host Daniel Lowrie.\n\n550\n00:26:33.120 --> 00:26:33.990\n&gt;&gt; And I'm Don Pezet.\n\n551\n00:26:33.990 --> 00:26:35.960\n&gt;&gt; We'll see you next time.\n\n552\n00:26:35.960 --> 00:26:41.914\n[MUSIC]\n\n553\n00:26:41.914 --> 00:26:44.395\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "195021385"
        },
        {
          "description": "In this episode, Daniel and Don explore a variety of ways to monitor system performance on your Red Had Enterprise Linux servers and workstations. They start by monitoring the \"Big 4\" (CPU, Memory, Network, and Disk) with the venerable command-line tools like `top`, `df`, and `free`. Then they move into GUI tools like OProfile.",
          "length": "1725",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-5-3-monitoring_system_performance-120116-PGM.00_28_32_05.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-5-3-monitoring_system_performance-120116-PGM.00_28_32_05.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-redhat-5-3-monitoring_system_performance-120116-PGM.00_28_32_05.Still001-sm.jpg",
          "title": "Monitoring System Performance",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:06.613\nWelcome back to ITPROTV [CROSSTALK]\n\n2\n00:00:06.613 --> 00:00:08.777\n[MUSIC]\n\n3\n00:00:08.777 --> 00:00:10.668\nYou are watching ITPROTV.\n\n4\n00:00:10.668 --> 00:00:13.367\n&gt;&gt; All Right, greetings everyone And\nwelcome another episode of ITPROTV.\n\n5\n00:00:13.367 --> 00:00:17.480\nI'm your host Daniel Lowrie,\nand in today's episode,\n\n6\n00:00:17.480 --> 00:00:23.330\nwell if you're here for more Red Hat\nLinux, you've come to the right place.\n\n7\n00:00:23.330 --> 00:00:26.010\nCuz that's what we're doing, and\njoining us back in the studio, again,\n\n8\n00:00:26.010 --> 00:00:27.980\nis our good friend Mr. Don Pezet.\n\n9\n00:00:27.980 --> 00:00:30.160\nDon, welcome back again sir,\nand how's it going?\n\n10\n00:00:30.160 --> 00:00:32.630\n&gt;&gt; It is going great Daniel, and\njust ready to dive right back in.\n\n11\n00:00:32.630 --> 00:00:35.740\nIn this one we're gonna be taking a look\nat monitoring performance inside of\n\n12\n00:00:35.740 --> 00:00:37.300\nRed Hat Enterprise Linux.\n\n13\n00:00:37.300 --> 00:00:38.810\nIf you got a server that's up and\nrunning or\n\n14\n00:00:38.810 --> 00:00:40.770\neven a workstation that's up and running.\n\n15\n00:00:40.770 --> 00:00:42.920\nThe real challenge is keeping it up and\nrunning.\n\n16\n00:00:42.920 --> 00:00:45.760\nAnd making sure that it's running\nat the proper performance\n\n17\n00:00:45.760 --> 00:00:46.840\nlevels that we expect, right.\n\n18\n00:00:46.840 --> 00:00:48.110\nI know I'm guilty of this.\n\n19\n00:00:48.110 --> 00:00:51.500\nThat I get a brand new computer, I'm like,\nman this is the faster computer ever.\n\n20\n00:00:51.500 --> 00:00:55.180\nAnd then a year later,\nthis thing's slow as a dog.\n\n21\n00:00:55.180 --> 00:00:56.550\nI gotta get a new computer.\n\n22\n00:00:56.550 --> 00:00:58.760\nAnd it turns out it's either one or\ntwo things.\n\n23\n00:00:58.760 --> 00:01:00.210\nEither one, something's wrong.\n\n24\n00:01:00.210 --> 00:01:00.980\nOr two.\n\n25\n00:01:00.980 --> 00:01:02.982\n&gt;&gt; The imperfections is yours.\n\n26\n00:01:02.982 --> 00:01:03.551\n&gt;&gt; [LAUGH]\n\n27\n00:01:03.551 --> 00:01:04.439\n&gt;&gt; [LAUGH]\n&gt;&gt; Or two.\n\n28\n00:01:04.439 --> 00:01:06.970\nI've just adjusted and\nnow I'm used to that speed and\n\n29\n00:01:06.970 --> 00:01:08.690\nit's not fancy to me anymore.\n\n30\n00:01:08.690 --> 00:01:12.340\nSo monitoring performance,\nlet's just set up baselines.\n\n31\n00:01:12.340 --> 00:01:15.790\nAnd we can see like is the machine\nactually slower than it used to be, or\n\n32\n00:01:15.790 --> 00:01:17.310\nis it just me?\n\n33\n00:01:17.310 --> 00:01:18.425\nA lot of times it is.\n\n34\n00:01:18.425 --> 00:01:20.640\n&gt;&gt; [LAUGH]\n&gt;&gt; So We don't know that.\n\n35\n00:01:20.640 --> 00:01:23.890\nWe can't figure that out unless we've\nbeen monitoring performance in the past.\n\n36\n00:01:23.890 --> 00:01:26.950\nWe need to know how things were in the\ngood times, to recognize how bad the bad\n\n37\n00:01:26.950 --> 00:01:29.490\ntimes are, or if the bad times\nactually even bad in the first place.\n\n38\n00:01:29.490 --> 00:01:32.974\nSo that's what we're gonna take a look at,\nright here.\n\n39\n00:01:32.974 --> 00:01:35.110\nNow, I wanna start with the command line,\n\n40\n00:01:35.110 --> 00:01:38.130\nthere's a great GUI from monitoring\nperformance inside of redhat.\n\n41\n00:01:38.130 --> 00:01:41.660\nIf you're on a desktop or a server\nwith a GUI, it really is impressive,\n\n42\n00:01:41.660 --> 00:01:45.350\nWe'll use it later but\non a lot of systems we don't have a GUI.\n\n43\n00:01:45.350 --> 00:01:46.580\nSo let's start with the command line and\n\n44\n00:01:46.580 --> 00:01:49.900\nsee how things work there and then\nwe'll branch out to the GUI afterwards.\n\n45\n00:01:49.900 --> 00:01:53.090\nSo I'm gonna crack open\na quick terminal and\n\n46\n00:01:53.090 --> 00:01:55.160\nwe'll take a look at some of\nour typical performance stuff.\n\n47\n00:01:55.160 --> 00:01:58.080\nNow when it comes to monitoring\nperformance on a server\n\n48\n00:01:58.080 --> 00:02:00.990\nwe kind of have the big\nfour that we monitor.\n\n49\n00:02:00.990 --> 00:02:06.650\nThe Processor, Memory,\ndisc and network, right?\n\n50\n00:02:06.650 --> 00:02:08.750\nThose are kind of the four\nthings that we monitor.\n\n51\n00:02:08.750 --> 00:02:13.320\nNetwork bandwidth, disc I/O, processor\nutilization, and memory utilization.\n\n52\n00:02:13.320 --> 00:02:16.060\nAnd we've got commands that show us a lot\nof that information to be able to see\n\n53\n00:02:16.060 --> 00:02:17.220\nwhat's going on.\n\n54\n00:02:17.220 --> 00:02:18.370\nIf we start with processor,\n\n55\n00:02:18.370 --> 00:02:21.090\nthat's kind of the easiest one cuz\nthere's several cool utilities for it.\n\n56\n00:02:22.570 --> 00:02:26.760\nThe main thing I usually wanna know in a\nsystem is not necessarily how much CPU one\n\n57\n00:02:26.760 --> 00:02:30.540\nprocess is eating up over another one,\nbut how many processes are running?\n\n58\n00:02:30.540 --> 00:02:33.690\nEverybody who runs a processor,\na program, a service, whatever,\n\n59\n00:02:33.690 --> 00:02:34.810\nthey all run in the background and\n\n60\n00:02:34.810 --> 00:02:38.300\nthey all add up and they might only\nbe using a small amount of CPU each.\n\n61\n00:02:38.300 --> 00:02:41.260\nBut when you've got a thousand\nof them,They add up and\n\n62\n00:02:41.260 --> 00:02:43.260\nall of a sudden your CPU is pegged out.\n\n63\n00:02:43.260 --> 00:02:45.300\nSo for that, we've got the ps command.\n\n64\n00:02:45.300 --> 00:02:49.600\nps is the process command and\nit's gonna show me, by default,\n\n65\n00:02:49.600 --> 00:02:52.500\nmy processes,\nwhat I'm doing on the system.\n\n66\n00:02:52.500 --> 00:02:56.480\nBut if I wanna get a good view of\nthe whole system, I can sudo it and\n\n67\n00:02:56.480 --> 00:02:58.700\nI can do ps aux, all right?\n\n68\n00:03:00.510 --> 00:03:05.010\nAX is what will really just show me all\nthe processes that are running for me.\n\n69\n00:03:05.010 --> 00:03:07.330\nAUX will show me all the users, and\n\n70\n00:03:07.330 --> 00:03:09.090\nwill let me know the use\nname of those processes.\n\n71\n00:03:09.090 --> 00:03:14.200\nI am gonna to run ps aux, and\nI am gonna to get quite a bit of output.\n\n72\n00:03:14.200 --> 00:03:20.230\nNow, ps aux Displays the processes\nas they were at that very moment.\n\n73\n00:03:20.230 --> 00:03:23.730\nThe screen does not update, so\nthese processes might be closed by now.\n\n74\n00:03:23.730 --> 00:03:25.280\n&gt;&gt; It's like a snapshot in time.\n\n75\n00:03:25.280 --> 00:03:27.560\n&gt;&gt; Yeah!\n&gt;&gt; This is how it was at that very moment.\n\n76\n00:03:27.560 --> 00:03:32.980\nAnd what you should see is that a lot of\nthese are things like kernel threads and\n\n77\n00:03:32.980 --> 00:03:33.860\nCPU actions,\n\n78\n00:03:33.860 --> 00:03:37.750\nwatchdogs, These are things that are\nalways running, it's a part of the system.\n\n79\n00:03:37.750 --> 00:03:40.800\nThat's not us that did it,\nit's just there.\n\n80\n00:03:40.800 --> 00:03:44.080\nAnd so,\nI see a ton of things tied to root,\n\n81\n00:03:44.080 --> 00:03:46.080\neven though I'm not logged in as root,\nright.\n\n82\n00:03:46.080 --> 00:03:48.910\nI did Sudo, so\nI guess that sort of ran as root but\n\n83\n00:03:48.910 --> 00:03:51.630\nall this stuff I didn't run,\nit's part of the system.\n\n84\n00:03:51.630 --> 00:03:56.960\nSo the system things normally have\nthe square brackets around them, see how\n\n85\n00:03:56.960 --> 00:04:00.870\nall these have square brackets, And that's\nkind of letting us know those are system.\n\n86\n00:04:00.870 --> 00:04:03.730\nAFter that we start getting to things\nthat we have a little more control over.\n\n87\n00:04:03.730 --> 00:04:07.730\nSo I am seeing things\nlike stuff with a path.\n\n88\n00:04:07.730 --> 00:04:09.890\nSo right here we have got our LVM.\n\n89\n00:04:09.890 --> 00:04:13.870\nThe logical volume manager that's\nkicking in and doing some stuff.\n\n90\n00:04:13.870 --> 00:04:16.530\nAnd shoot, it got trimmed.\n\n91\n00:04:16.530 --> 00:04:19.600\nLet me rerun the command so\nwe can get that not trimmed as much.\n\n92\n00:04:21.070 --> 00:04:22.750\nThe output can be a little\non the wide side.\n\n93\n00:04:22.750 --> 00:04:26.690\nBut you'll start to see DNS mask\nthat's running in the background.\n\n94\n00:04:26.690 --> 00:04:29.190\nColord for doing colored output.\n\n95\n00:04:29.190 --> 00:04:32.420\nWe've got udev's disk naming service.\n\n96\n00:04:32.420 --> 00:04:35.120\nYou got several different things that\nare all kinda running in the background\n\n97\n00:04:35.120 --> 00:04:36.140\ndoing stuff.\n\n98\n00:04:36.140 --> 00:04:39.300\nAnd I can see what user called them.\n\n99\n00:04:39.300 --> 00:04:41.860\nSo if it was me or root or someone else.\n\n100\n00:04:41.860 --> 00:04:44.770\nI can see the process ID,\nwhich I need if I want to kill it right,\n\n101\n00:04:44.770 --> 00:04:47.600\nif I wanna kill that process I\nneed the process ID to do it, and\n\n102\n00:04:47.600 --> 00:04:49.980\nthen I start to see other\nperformance characteristics.\n\n103\n00:04:49.980 --> 00:04:52.310\nThat's what these next four columns are.\n\n104\n00:04:52.310 --> 00:04:57.630\nYou've got the CPU that that process\nis consuming at that very second,\n\n105\n00:04:57.630 --> 00:05:01.200\nwhich might not be terribly accurate,\nbecause a lot of applications spike So\n\n106\n00:05:01.200 --> 00:05:03.280\nI might of caught it at a valley or\na peak.\n\n107\n00:05:03.280 --> 00:05:05.050\nAnd then it's not terribly accurate.\n\n108\n00:05:05.050 --> 00:05:06.070\nI've got percent memory.\n\n109\n00:05:06.070 --> 00:05:08.700\nSame thing,\nit's how much memory its consuming.\n\n110\n00:05:08.700 --> 00:05:10.440\nI've got the virtual size.\n\n111\n00:05:10.440 --> 00:05:13.980\nWe've got other values here that\nare all indicating, whoops,\n\n112\n00:05:13.980 --> 00:05:15.790\nindicating that I don't\nknow how to use a mouse.\n\n113\n00:05:15.790 --> 00:05:18.020\nAnd indicating what that\napplication is doing and\n\n114\n00:05:18.020 --> 00:05:20.300\nhow much time it's been\nconsuming on the system.\n\n115\n00:05:20.300 --> 00:05:23.120\nSo, Quite a bit of information to be\n\n116\n00:05:23.120 --> 00:05:26.100\ntucked away here right\nin that ps aux command.\n\n117\n00:05:26.100 --> 00:05:29.860\nSo just a great way to see what's\ngoing on on the system right now.\n\n118\n00:05:29.860 --> 00:05:33.920\nI normally don't run it by itself\nI'll normally pipe it into grep and\n\n119\n00:05:33.920 --> 00:05:34.600\nlook for something.\n\n120\n00:05:34.600 --> 00:05:38.850\nSo if I'm running Apache or a web server\nor I've got something else running in\n\n121\n00:05:38.850 --> 00:05:41.210\nthe background I might wanna go in and\nfind it.\n\n122\n00:05:42.260 --> 00:05:46.790\nAnd see what it's doing, or\nhow much time it's consuming.\n\n123\n00:05:46.790 --> 00:05:49.987\nIf I wanna look for\nsome kind of particular application,\n\n124\n00:05:49.987 --> 00:05:52.530\nlike let me,\nI'm gonna open up another tab.\n\n125\n00:05:52.530 --> 00:05:55.440\nAnd in this other tab I'm\ngonna run the top command and\n\n126\n00:05:55.440 --> 00:05:57.860\njust kind of leave it running.\n\n127\n00:05:57.860 --> 00:06:02.560\nAnd so over here, when I run ps aux,\nI can pipe that into grep and\n\n128\n00:06:02.560 --> 00:06:05.550\nlook for top, And\nnow it's going to find it.\n\n129\n00:06:05.550 --> 00:06:06.546\n&gt;&gt; It's actually going to find.\n\n130\n00:06:06.546 --> 00:06:07.640\n&gt;&gt; Dove.\n&gt;&gt; A couple of things yeah.\n\n131\n00:06:07.640 --> 00:06:08.460\nDesktop.\n\n132\n00:06:08.460 --> 00:06:13.170\nBut here's the actual instance\non top that's running.\n\n133\n00:06:13.170 --> 00:06:18.555\nBut then it found my grep command also\nbecause grep Was well looking for\n\n134\n00:06:18.555 --> 00:06:19.445\ntop as a string.\n\n135\n00:06:19.445 --> 00:06:21.635\n&gt;&gt; It used to throw me\noff all the time like,\n\n136\n00:06:21.635 --> 00:06:25.985\nthere it is it's not the it's\nmy grep that's it, I'm an idiot.\n\n137\n00:06:25.985 --> 00:06:27.995\n&gt;&gt; Yeah you just got to\nremember to look for that but\n\n138\n00:06:27.995 --> 00:06:30.585\nhere's the actual process running and\nI could kill it.\n\n139\n00:06:30.585 --> 00:06:38.130\n12499 and oops There we go.\n\n140\n00:06:38.130 --> 00:06:39.570\nSo I can kill that process.\n\n141\n00:06:39.570 --> 00:06:41.480\nAnd if I jump over to that\nwindow where it was running,\n\n142\n00:06:41.480 --> 00:06:43.020\nI can see I exited to a prompt now.\n\n143\n00:06:43.020 --> 00:06:45.100\nSo it didn't kill it off,\nand we can work with this.\n\n144\n00:06:45.100 --> 00:06:48.920\nSo just a great way to monitor that\nprocess utilization right there, PS AUX.\n\n145\n00:06:48.920 --> 00:06:51.860\nBut the top command's another\none that's really handy.\n\n146\n00:06:52.920 --> 00:06:57.450\nPS AUX it's fault is that it's a snapshot,\nit's a point in time, top is not.\n\n147\n00:06:57.450 --> 00:07:01.560\nTop is very similar in that it's\ngonna show me all of those processes.\n\n148\n00:07:01.560 --> 00:07:04.130\nI'm gonna sudo it to make\nsure I get the full view.\n\n149\n00:07:04.130 --> 00:07:08.920\nIt's gonna show me all those processes and\nit's not real time but pretty close.\n\n150\n00:07:08.920 --> 00:07:10.080\nIt updates every couple of seconds.\n\n151\n00:07:10.080 --> 00:07:11.780\nSee how See how the screen\nis updating there?\n\n152\n00:07:11.780 --> 00:07:14.970\nSo as long as I stay in top,\nthis is gonna keep updating and\n\n153\n00:07:14.970 --> 00:07:16.980\nrefreshing and changing to reflect that.\n\n154\n00:07:16.980 --> 00:07:22.180\nAnd so I can see, again, who's running\nthese things, what they're doing and\n\n155\n00:07:22.180 --> 00:07:26.950\nget an idea of what's\ngoing on on my system.\n\n156\n00:07:26.950 --> 00:07:29.910\nNow there are some commands I can\nissue with top to change what's\n\n157\n00:07:29.910 --> 00:07:31.130\ndisplayed on the screen.\n\n158\n00:07:31.130 --> 00:07:34.840\nIf you hit H on your keyboard,\nyou'll get the help screen for it.\n\n159\n00:07:34.840 --> 00:07:38.070\nAnd it's showing a bunch of keyboard\nshortcuts you can use to change what\n\n160\n00:07:38.070 --> 00:07:39.080\nyou're looking at.\n\n161\n00:07:39.080 --> 00:07:41.650\nSo for example,\nyou can hit R to change the sort order.\n\n162\n00:07:41.650 --> 00:07:42.730\nSo you can sort ascending or\n\n163\n00:07:42.730 --> 00:07:46.960\ndescending, You can change from\nwhat you're actually viewing.\n\n164\n00:07:46.960 --> 00:07:50.820\nSo, for example, the ones for\nme that I usually use are things like k,\n\n165\n00:07:50.820 --> 00:07:54.428\nto kill a process, so I don't have\nto drop out to kill something.\n\n166\n00:07:54.428 --> 00:07:57.176\nYou can do memory or users.\n\n167\n00:07:57.176 --> 00:07:58.596\nYou sort by different things.\n\n168\n00:07:58.596 --> 00:08:03.454\nSo you've got, I believe, it's m They\nreally aren't listing it in the most\n\n169\n00:08:03.454 --> 00:08:08.270\nhelpful of way, but see how it says like\nm for memory info or t for task stats.\n\n170\n00:08:08.270 --> 00:08:10.070\nIt's actually really just\nchanging the sort order,\n\n171\n00:08:10.070 --> 00:08:12.470\ncuz that stuff's already on the screen.\n\n172\n00:08:12.470 --> 00:08:15.090\nRight now it's sorted by CPU,\nthat's the default.\n\n173\n00:08:15.090 --> 00:08:17.930\nSo my highest CPU\nconsumer's gonna be first.\n\n174\n00:08:17.930 --> 00:08:19.370\nBut I can sort by other things.\n\n175\n00:08:19.370 --> 00:08:24.760\nIf I do some kind of long standing grep,\nright?\n\n176\n00:08:24.760 --> 00:08:29.020\nSo I'm gonna search for\nmy name on the entire hard drive.\n\n177\n00:08:29.020 --> 00:08:30.360\nSo that'll take a minute.\n\n178\n00:08:30.360 --> 00:08:34.160\nSo while that's running, it's churning\nalong and I'm gonna see grep pop up\n\n179\n00:08:34.160 --> 00:08:38.056\nhere in this list and start consuming\nresources up a little bit higher.\n\n180\n00:08:38.056 --> 00:08:44.244\nAnd let's see, I say that, and\nthen it doesn't jump up, does it?\n\n181\n00:08:44.244 --> 00:08:45.499\nDid it already finish?\n\n182\n00:08:45.499 --> 00:08:46.577\nNo, it's churning along.\n\n183\n00:08:46.577 --> 00:08:50.970\nGrep may not be the most CPU intensive, so\nit may not be showing up because of that,\n\n184\n00:08:50.970 --> 00:08:55.540\nbut my VM tools are kicking in so\nit might be masking it differently.\n\n185\n00:08:55.540 --> 00:08:57.750\nBut you'll start to see\nthese things pop up,\n\n186\n00:08:57.750 --> 00:08:59.982\nand you can change the order\nto try to find them.\n\n187\n00:08:59.982 --> 00:09:01.850\nI'm sorting by CPU right now.\n\n188\n00:09:01.850 --> 00:09:04.950\nIf I hit m, I'm gonna start\nsorting by memory utilization, and\n\n189\n00:09:04.950 --> 00:09:08.300\nsee how this changed up here to show\nhow much memory I'm actually using.\n\n190\n00:09:08.300 --> 00:09:11.390\nI get kind of,\na sort of bar graph type output.\n\n191\n00:09:11.390 --> 00:09:14.080\nAnd then down here,\nthis is now sort of by the memory column.\n\n192\n00:09:14.080 --> 00:09:16.495\nBut when I look at it, it's whoops.\n\n193\n00:09:16.495 --> 00:09:19.950\n[LAUGH] I screwed that up,\nas I look at it,\n\n194\n00:09:19.950 --> 00:09:23.300\nthe output that I'm getting\nI can keep hitting m.\n\n195\n00:09:23.300 --> 00:09:25.770\nAnd it's just kind of changing\nthe way that it reflects that data.\n\n196\n00:09:25.770 --> 00:09:28.720\nI get the bar graph, right,\nrepresented two different ways.\n\n197\n00:09:28.720 --> 00:09:31.950\nI can remove the bar graph, and\nI can show the actual raw numbers.\n\n198\n00:09:31.950 --> 00:09:36.100\nI'm just hitting m over and over and\nover again to change that from memory.\n\n199\n00:09:36.100 --> 00:09:39.570\nI can switch to things like CPU,\nwhich is the letter P.\n\n200\n00:09:39.570 --> 00:09:44.010\nIt's now, oops, capital P, sorry,\nI got to get the capital right.\n\n201\n00:09:44.010 --> 00:09:49.270\nAnd so I can support, representing\nthat whichever way by hitting P.\n\n202\n00:09:49.270 --> 00:09:52.370\nWe've got U to sort it by user account and\n\n203\n00:09:52.370 --> 00:09:54.850\nI can say just show me\nthe deep of that stuff.\n\n204\n00:09:54.850 --> 00:09:58.090\nAnd so now it's just showing me the things\nthat I'm running which I should\n\n205\n00:09:58.090 --> 00:09:58.830\nspot that grep.\n\n206\n00:09:59.870 --> 00:10:01.380\nI sudo that grep, didn't I?\n\n207\n00:10:01.380 --> 00:10:04.290\n&gt;&gt; You did.\n&gt;&gt; That's why I'm not seeing it, darn it.\n\n208\n00:10:04.290 --> 00:10:07.900\nLet me not sudo it this time which should\ngive me a ton of permission errors.\n\n209\n00:10:07.900 --> 00:10:10.960\nThat'll be fun, but\nwe'll let that churn along.\n\n210\n00:10:10.960 --> 00:10:14.570\nAnd this'll update and that grep entry\nshould pop up in here eventually.\n\n211\n00:10:15.610 --> 00:10:17.060\nSome of the other things I can do.\n\n212\n00:10:17.060 --> 00:10:18.130\nLet's see, that was user.\n\n213\n00:10:18.130 --> 00:10:22.301\nI can kill a process, so if I see\nsomething in here that I don't like.\n\n214\n00:10:22.301 --> 00:10:23.310\nBoy, I don't know what.\n\n215\n00:10:24.760 --> 00:10:27.130\nIf I kill any of this stuff\nI'm gonna lose my GUI.\n\n216\n00:10:27.130 --> 00:10:31.040\nBut you can hit K and it's gonna\ntell you when to kill a process.\n\n217\n00:10:31.040 --> 00:10:33.671\nAnd it'll prompt you for\nthe process the ID.\n\n218\n00:10:33.671 --> 00:10:35.960\nYou can type in the number and\nit'll kill it right there.\n\n219\n00:10:35.960 --> 00:10:37.760\nSo you see my output?\n\n220\n00:10:37.760 --> 00:10:39.500\nI hit K too many times.\n\n221\n00:10:39.500 --> 00:10:41.940\nBut now it has got PID to signal /kill.\n\n222\n00:10:41.940 --> 00:10:43.170\nDefault PID equals 7.\n\n223\n00:10:43.170 --> 00:10:44.870\nIn other words, the very first one.\n\n224\n00:10:44.870 --> 00:10:48.940\nOr I can type in whatever I want\nthe number to be for it to kill.\n\n225\n00:10:48.940 --> 00:10:51.680\nWhat else can we do inside I think\nthat is probably the main things\n\n226\n00:10:51.680 --> 00:10:52.250\nthat are in there.\n\n227\n00:10:52.250 --> 00:10:53.391\nIf you hit H you get the help and\n\n228\n00:10:53.391 --> 00:10:56.710\nyou can see all sorts of other things\nthat you can specify in there.\n\n229\n00:10:56.710 --> 00:10:59.480\nLet me just get out of\nTop here real quick.\n\n230\n00:10:59.480 --> 00:11:03.120\nYou don't wanna leave Top running,\ncuz it is consuming resources itself.\n\n231\n00:11:03.120 --> 00:11:04.728\nAnd it just sits there and\nruns and does stuff.\n\n232\n00:11:04.728 --> 00:11:06.950\nSo you wanna make sure you exit\nout of it when you're done.\n\n233\n00:11:06.950 --> 00:11:09.650\nBut another great way to see\nwhat's going on in the system.\n\n234\n00:11:09.650 --> 00:11:11.500\n&gt;&gt; Don, what about disk utilization?\n\n235\n00:11:11.500 --> 00:11:13.285\nThat's always a fun one\nto try to figure out.\n\n236\n00:11:13.285 --> 00:11:16.560\n&gt;&gt; Yeah, disk utilization is hard\nto track in Linux, cuz you have so\n\n237\n00:11:16.560 --> 00:11:17.470\nmany mount points.\n\n238\n00:11:17.470 --> 00:11:18.962\nSo it's not like you just\nhave one physical hard drive,\n\n239\n00:11:18.962 --> 00:11:20.470\nyou've got all these\ndifferent mount points.\n\n240\n00:11:20.470 --> 00:11:21.990\nSo we've got the DF command.\n\n241\n00:11:21.990 --> 00:11:26.230\nNow DF by itself, if you just run it\nwill show all of your mounted disks and\n\n242\n00:11:26.230 --> 00:11:27.400\nyou'll get utilization, but\n\n243\n00:11:27.400 --> 00:11:32.720\nit's being listed in terms of blocks which\nis not the most useful thing in the world.\n\n244\n00:11:32.720 --> 00:11:35.800\nSo I usually add a -h which\nmakes it human readable.\n\n245\n00:11:35.800 --> 00:11:38.070\nAnd it changes it in numbers\nto make a little more sense.\n\n246\n00:11:38.070 --> 00:11:41.920\nSo I can see, for example,\nthat my rhel root,\n\n247\n00:11:41.920 --> 00:11:45.080\nwhich is my root folder,\nI can see it's mounted on slash.\n\n248\n00:11:45.080 --> 00:11:46.495\nIt's 6 gigs.\n\n249\n00:11:46.495 --> 00:11:49.925\nI used 41 gigs total,\nI've got 35 gigs available.\n\n250\n00:11:49.925 --> 00:11:51.145\nAnd that's 15% utilization.\n\n251\n00:11:51.145 --> 00:11:53.175\nSo you can see I've got plenty of room.\n\n252\n00:11:53.175 --> 00:11:56.975\nAs I scan down the list, my most full\ndrive is boot, and that's probably the one\n\n253\n00:11:56.975 --> 00:12:00.115\nI worry about the least cuz we\ndon't normally add things to boot.\n\n254\n00:12:00.115 --> 00:12:03.140\nSo 43% utilization, I got tons of space.\n\n255\n00:12:03.140 --> 00:12:06.580\nBut if I see something in the 90%\nutilization range, now I've got a problem.\n\n256\n00:12:06.580 --> 00:12:10.640\nI need to think about upgrading or\nexpanding, adding more storage,\n\n257\n00:12:10.640 --> 00:12:12.251\nwhatever it is I need to do.\n\n258\n00:12:12.251 --> 00:12:16.867\nDu is another one, I might not wanna know\nthe utilization of the entire hard drive.\n\n259\n00:12:16.867 --> 00:12:20.471\nI might wanna know the utilization\nof a single folder, right?\n\n260\n00:12:20.471 --> 00:12:23.051\nI know, in another episode we\nmentioned the /val folder and\n\n261\n00:12:23.051 --> 00:12:25.930\nhow it can kind of grow,\na logs folder can grow really large.\n\n262\n00:12:25.930 --> 00:12:29.800\nSo if you ever wonder how big your\nlogs are, you can run du to do it.\n\n263\n00:12:29.800 --> 00:12:35.890\nNow I'm gonna have to sudu this cuz a lot\nof the var folder is restricted access.\n\n264\n00:12:35.890 --> 00:12:39.050\nSo I'm gonna sudu the du command.\n\n265\n00:12:39.050 --> 00:12:43.780\nAnd much like DF,\nit displays things in bits, or bytes,\n\n266\n00:12:43.780 --> 00:12:46.180\nI believe, instead of kilobytes or\nmegabytes or whatever.\n\n267\n00:12:46.180 --> 00:12:46.855\n&gt;&gt; That's practical.\n\n268\n00:12:46.855 --> 00:12:47.920\n[LAUGH]\n&gt;&gt; Yeah, and\n\n269\n00:12:47.920 --> 00:12:51.660\nit shows up for every single folder,\nwhich just gives you a ton of output.\n\n270\n00:12:51.660 --> 00:12:57.260\nSo I normally add a -sh, which is\ngonna make it human readable and it's\n\n271\n00:12:57.260 --> 00:13:02.910\ngonna show me the size for folders as a\nsummary, so it will make a smaller output.\n\n272\n00:13:02.910 --> 00:13:06.640\nAnd from here I can specify\nsomething like /var/log and\n\n273\n00:13:06.640 --> 00:13:11.530\nit's gonna go in and it's gonna tell me\nmy /var/log is 25 meg in size, right?\n\n274\n00:13:11.530 --> 00:13:14.000\nI can bump that up to /var.\n\n275\n00:13:14.000 --> 00:13:17.070\nAnd now it's gonna look in there and\n/var is 1.8 gigs, or\n\n276\n00:13:17.070 --> 00:13:19.280\nI can even go all the way up to the root.\n\n277\n00:13:19.280 --> 00:13:22.850\nAnd well, now I'm gonna get some\nproblems cuz the prog folder,\n\n278\n00:13:22.850 --> 00:13:26.120\nthose files aren't real files,\nthey're pointers.\n\n279\n00:13:26.120 --> 00:13:29.080\nBut I can see that I've got 12 gigs,\nright?\n\n280\n00:13:29.080 --> 00:13:31.340\nSo I can start to look at\ndifferent things and get that.\n\n281\n00:13:31.340 --> 00:13:36.200\nIf I get rid of the summary part and\nI run it for like /var, for example,\n\n282\n00:13:36.200 --> 00:13:41.310\nwhat it's gonna do is it's gonna show\nme every single folder inside of /var.\n\n283\n00:13:41.310 --> 00:13:42.613\nAnd that can be handy too,\n\n284\n00:13:42.613 --> 00:13:45.820\ncuz now I can start to spot where\nI'm actually consuming space.\n\n285\n00:13:45.820 --> 00:13:52.710\nI've got 451 M being consumed right\nnow in /var/temp/yum -dpizet.\n\n286\n00:13:52.710 --> 00:13:54.700\nI ran yum to do an update.\n\n287\n00:13:54.700 --> 00:13:57.920\nIt cached the update and\nit's consuming 450 megs right there.\n\n288\n00:13:57.920 --> 00:13:59.580\nDo I need to keep that?\n\n289\n00:13:59.580 --> 00:14:02.410\nNo, I can get rid of it,\nright, if I knew it was there.\n\n290\n00:14:02.410 --> 00:14:03.410\nI might not have known it.\n\n291\n00:14:03.410 --> 00:14:05.650\nNow I turn it off and I go and\nfind out where I'm wasting space.\n\n292\n00:14:07.330 --> 00:14:10.930\nAll right, and there'll be plenty of\nthings like that as you scroll through and\n\n293\n00:14:10.930 --> 00:14:12.780\ndig through /var especially.\n\n294\n00:14:12.780 --> 00:14:15.290\nBut if you wanna find out how\nbig somebody's home folder is,\n\n295\n00:14:15.290 --> 00:14:18.770\nthat's another useful way\nthat we can put this to work.\n\n296\n00:14:18.770 --> 00:14:21.813\nSo if I look at my folder\nis 5.3 gigs in size.\n\n297\n00:14:21.813 --> 00:14:26.108\nAnd you can get an idea of how much\nspace an individual user's consuming.\n\n298\n00:14:26.108 --> 00:14:27.440\nMemory, RAM, right?\n\n299\n00:14:27.440 --> 00:14:30.180\nSo if we wanna look at RAM,\nwe've got the free command.\n\n300\n00:14:30.180 --> 00:14:33.660\nWhich free by itself is another one\nof those where you get it in bytes\n\n301\n00:14:33.660 --> 00:14:35.460\ninstead of megabytes or gigabytes.\n\n302\n00:14:35.460 --> 00:14:39.730\nSo I normally do free -m,\nwhich will put it in megabytes.\n\n303\n00:14:39.730 --> 00:14:42.830\nOr free -h,\nwhich just goes human readable.\n\n304\n00:14:42.830 --> 00:14:47.160\nAnd -h is nice because it'll show\nmegabytes when it makes sense.\n\n305\n00:14:47.160 --> 00:14:48.940\nIt'll show gigabytes when it makes sense.\n\n306\n00:14:48.940 --> 00:14:50.005\nSo it's kind of like doing both.\n\n307\n00:14:50.005 --> 00:14:54.390\nFree-m I used to always run because\nyou only had megabytes of memory.\n\n308\n00:14:54.390 --> 00:14:56.321\nYou didn't have gigabytes\nof memory back then.\n\n309\n00:14:56.321 --> 00:14:58.010\nSo I kind of got in the habit of that.\n\n310\n00:14:58.010 --> 00:15:00.514\nBut now on newer systems\nyou have tons of memory, so\n\n311\n00:15:00.514 --> 00:15:02.155\nFree -h is a little more useful.\n\n312\n00:15:02.155 --> 00:15:07.443\nAnd so I can see that I've got 3.7\ngigs of memory in this system.\n\n313\n00:15:07.443 --> 00:15:10.360\nI'm using 546 megs, so\nI've got 2.3 gigs free.\n\n314\n00:15:10.360 --> 00:15:13.420\nIf you're doing the math in your head\nthat doesn't quite add up, does it?\n\n315\n00:15:13.420 --> 00:15:15.090\nRight, so over a gig off.\n\n316\n00:15:15.090 --> 00:15:18.430\nBut if I look over here,\nI'll see I've got buffer cache.\n\n317\n00:15:18.430 --> 00:15:20.490\nIt's eating up 880 megs.\n\n318\n00:15:20.490 --> 00:15:22.900\nAnd so while it says here\nthat I've got 2.3 gigs free,\n\n319\n00:15:22.900 --> 00:15:25.790\nI actually have 2.8 gigs available.\n\n320\n00:15:25.790 --> 00:15:30.450\nAnd if we add that up, now we start\ngetting close to that 3.7 gigs.\n\n321\n00:15:30.450 --> 00:15:32.570\nAnd always keep in mind\nthat you've got swap.\n\n322\n00:15:32.570 --> 00:15:37.620\nAnd hopefully you don't see what I see,\nand that your swap shows a zero used.\n\n323\n00:15:37.620 --> 00:15:39.040\nThat you're not using your swap at all.\n\n324\n00:15:39.040 --> 00:15:40.160\nThat's what you want.\n\n325\n00:15:40.160 --> 00:15:43.070\nIf you are swapping the disk, it means you\ndon't have enough memory in your system.\n\n326\n00:15:43.070 --> 00:15:45.190\nNow maybe its a temporary thing and\nyou can ignore it.\n\n327\n00:15:45.190 --> 00:15:48.720\nBut if you are consistently seeing\nswap memory being put to use,\n\n328\n00:15:48.720 --> 00:15:50.540\nyou need to add more RAM.\n\n329\n00:15:50.540 --> 00:15:52.048\nI've only got 3.7 gigs.\n\n330\n00:15:52.048 --> 00:15:55.569\nI'm not even using it all, and I've still\nswapped, so I might not have a problem.\n\n331\n00:15:55.569 --> 00:15:58.489\nIt's more than likely a temporary thing,\nbut I'll wanna keep an eye on that.\n\n332\n00:15:58.489 --> 00:16:01.896\nI like to see when my swap Is at zero,\nthat's what makes me happy.\n\n333\n00:16:01.896 --> 00:16:03.679\n&gt;&gt; Yeah, that's a good day had by all.\n\n334\n00:16:03.679 --> 00:16:07.490\nBecause it means you've got\nenough RAM inside of your system.\n\n335\n00:16:07.490 --> 00:16:10.572\nDon, I remember you mentioned at\nthe beginning of this episode,\n\n336\n00:16:10.572 --> 00:16:14.560\nthat there was a awesome graphical side to\nlooking at performance inside of Red Hat.\n\n337\n00:16:14.560 --> 00:16:17.012\n&gt;&gt; Yeah, we have a couple of\ndifferent tools that are available,\n\n338\n00:16:17.012 --> 00:16:17.810\nif you have the GUI.\n\n339\n00:16:17.810 --> 00:16:20.860\nAnd honestly, performance on\na server is pretty consistent.\n\n340\n00:16:20.860 --> 00:16:22.982\nPerformance on a workstation is\nusually where our challenge is.\n\n341\n00:16:22.982 --> 00:16:26.149\nSo you do have the GUI,\nyou can go up to Applications.\n\n342\n00:16:26.149 --> 00:16:28.634\nAnd under Applications ,if\nwe go down to System Tools.\n\n343\n00:16:28.634 --> 00:16:33.412\nInside of System Tools,\nyou'll find the System Monitor.\n\n344\n00:16:33.412 --> 00:16:38.856\nAnd when I fire up the system monitor,\nit looks really similar to top, right?\n\n345\n00:16:38.856 --> 00:16:41.095\nOr even PSAUX, or one of those guys.\n\n346\n00:16:41.095 --> 00:16:45.840\nI see my processes, and\nI see the user, and the IDs.\n\n347\n00:16:45.840 --> 00:16:49.661\nNotice how I'm only seeing me, and\nthat's because I didn't run it as root.\n\n348\n00:16:49.661 --> 00:16:52.870\nI ran it, or with elevated privilege,\nI just ran it as me.\n\n349\n00:16:52.870 --> 00:16:57.275\nAnd so I'm only seeing my stuff, but I can\nsee the CPU percentage, the ID, memory.\n\n350\n00:16:57.275 --> 00:17:01.800\nI can choose a process and end it, so\nI can kill processes right from here.\n\n351\n00:17:01.800 --> 00:17:05.080\nI can also switch to the resource view and\n\n352\n00:17:05.080 --> 00:17:09.230\nis where I see CPU,\nmemory, network, right?\n\n353\n00:17:09.230 --> 00:17:11.901\nI didn't show you a command line entry for\nviewing network bandwidth and\n\n354\n00:17:11.901 --> 00:17:13.186\nmostly because I don't know one.\n\n355\n00:17:13.186 --> 00:17:15.150\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm sure there are ones, but\n\n356\n00:17:15.150 --> 00:17:19.130\nright here in the GUI can easily\nspot it and it's a running graph.\n\n357\n00:17:19.130 --> 00:17:21.130\nI can see my network utilization and\n\n358\n00:17:21.130 --> 00:17:24.930\nget an idea of how my system is\ndoing as far as consumption.\n\n359\n00:17:24.930 --> 00:17:28.890\nAnd if you stretch that window out you can\nsee the peaks and valleys a little better.\n\n360\n00:17:28.890 --> 00:17:31.814\nAnd get an idea of how your system\nis doing performance wise, and\n\n361\n00:17:31.814 --> 00:17:33.884\neven trend that over\na longer period of time.\n\n362\n00:17:33.884 --> 00:17:39.941\nSo here I can see that, if I go to File\nSystems, it's a lot like the df command.\n\n363\n00:17:39.941 --> 00:17:43.430\nI'm actually seeing how much\nutilization I'm consuming.\n\n364\n00:17:43.430 --> 00:17:46.135\nAnd it's showing me /, /boot, /home.\n\n365\n00:17:46.135 --> 00:17:49.646\nIt's not showing me all the crazy\nother mount points that the df command\n\n366\n00:17:49.646 --> 00:17:50.820\nsometimes shows.\n\n367\n00:17:50.820 --> 00:17:53.830\nIt's showing me the ones that\nI'm normally concerned with.\n\n368\n00:17:53.830 --> 00:17:55.804\nSo nice easy way to be able to see this.\n\n369\n00:17:55.804 --> 00:17:59.040\nYou do have a little menu up\nhere where you can tweak things.\n\n370\n00:17:59.040 --> 00:18:03.297\nAnd notice how I can filter it down,\nActive Processes or show Dependencies or\n\n371\n00:18:03.297 --> 00:18:04.355\nno Dependencies?\n\n372\n00:18:04.355 --> 00:18:08.380\nSo you can tweak the output a bit, or\neven just search for a particular thing.\n\n373\n00:18:08.380 --> 00:18:11.320\nSo I couldn't find my grep earlier,\nI could come through here and say,\n\n374\n00:18:11.320 --> 00:18:11.965\nyou know what?\n\n375\n00:18:11.965 --> 00:18:16.860\nJust find the grep command, and it must\nhave finished, cuz it's not running now.\n\n376\n00:18:16.860 --> 00:18:21.930\nBut if I go and restart it,\nand jump back there.\n\n377\n00:18:21.930 --> 00:18:26.322\nSo now I can find that grep command,\nand I can see it consuming 38% CPU.\n\n378\n00:18:26.322 --> 00:18:28.460\nI don't know why it wasn't\nturning up on top earlier.\n\n379\n00:18:28.460 --> 00:18:32.104\nBut there it is, likely VMware tools or\nsomething was taking it over and\n\n380\n00:18:32.104 --> 00:18:33.023\nI was missing it.\n\n381\n00:18:33.023 --> 00:18:35.135\nSo I can monitor it and I can see it, and\n\n382\n00:18:35.135 --> 00:18:37.585\nI can even end that\nprocess right from here.\n\n383\n00:18:37.585 --> 00:18:40.310\nSo I'm going to end it, and kill it off.\n\n384\n00:18:40.310 --> 00:18:42.781\nAnd apparently it's gonna think for\na second, and then it will kill it off and\n\n385\n00:18:42.781 --> 00:18:43.435\nget it out of there.\n\n386\n00:18:43.435 --> 00:18:45.789\n&gt;&gt; Grep is using 38% of the CPUs so\nit's gonna.\n\n387\n00:18:45.789 --> 00:18:48.953\n[LAUGH]\n&gt;&gt; So all this stuff though,\n\n388\n00:18:48.953 --> 00:18:51.006\nthe key thing, super easy to spot.\n\n389\n00:18:51.006 --> 00:18:53.910\nAnd now I can see that CPU spike\nfrom where I was running grep.\n\n390\n00:18:53.910 --> 00:18:56.122\nI can see the memory consumption\nthat grep was taking,\n\n391\n00:18:56.122 --> 00:18:57.959\ncuz it was having to\ncatalog all those files.\n\n392\n00:18:57.959 --> 00:19:00.320\nNetwork didn't even register, right?\n\n393\n00:19:00.320 --> 00:19:02.440\nBecause I really wasn't doing\nanything on the network.\n\n394\n00:19:02.440 --> 00:19:07.123\nBut if I were to go and\ndownload some software or whatever,\n\n395\n00:19:07.123 --> 00:19:10.004\nFirefox, what could we download?\n\n396\n00:19:10.004 --> 00:19:11.183\nMaybe we hate Firefox.\n\n397\n00:19:11.183 --> 00:19:12.562\n&gt;&gt; Download the Red Hat ISO.\n\n398\n00:19:12.562 --> 00:19:14.260\n[LAUGH]\n&gt;&gt; Well a quick 5 gig file,\n\n399\n00:19:14.260 --> 00:19:16.822\nthat's going to consume some bandwidth.\n\n400\n00:19:16.822 --> 00:19:21.270\nBut if I go and start downloading files,\nwhatever those files happen to be.\n\n401\n00:19:22.570 --> 00:19:25.820\nWe can come in, and\nI'm just gonna save that file.\n\n402\n00:19:25.820 --> 00:19:27.676\nAnd that way it generates a little\nbit of network bandwidth.\n\n403\n00:19:27.676 --> 00:19:31.948\nAnd there I can see the bump that I got\nwhile it was downloading that file.\n\n404\n00:19:31.948 --> 00:19:34.446\nEasy way to monitor that and\nsee what's going on right now.\n\n405\n00:19:34.446 --> 00:19:39.790\n&gt;&gt; Cool, is it the only graphical\nway that we can monitor performance?\n\n406\n00:19:39.790 --> 00:19:42.748\n&gt;&gt; For some things, there are other\nthings like on the disk usage side,\n\n407\n00:19:42.748 --> 00:19:44.184\nwhen I go up here to File Systems.\n\n408\n00:19:44.184 --> 00:19:48.499\nBut remember the DU command where I was\nable to see where my space was eaten up?\n\n409\n00:19:48.499 --> 00:19:51.173\nThis doesn't show me that, but\nI do have another utility.\n\n410\n00:19:51.173 --> 00:19:56.100\nIf we go up here to Applications and\ngo down to Utilities.\n\n411\n00:19:56.100 --> 00:19:59.660\nYou've got the Disk Usage Analyzer.\n\n412\n00:19:59.660 --> 00:20:02.911\nAnd this one gives you a deeper view,\nso I can see my hard drive.\n\n413\n00:20:02.911 --> 00:20:07.114\nAnd if I click on it,\nit's gonna catalogue all those folders, so\n\n414\n00:20:07.114 --> 00:20:10.870\nI can start to spot where I'm\nactually eating up the data.\n\n415\n00:20:10.870 --> 00:20:12.898\nAnd it gives me a nice\ngraphical representation,\n\n416\n00:20:12.898 --> 00:20:15.519\nyou can come theory even click on\nthis to get that specific data.\n\n417\n00:20:15.519 --> 00:20:19.900\nBut I see that /usr appears to\nbe consuming the most space.\n\n418\n00:20:19.900 --> 00:20:21.890\nAnd then we start getting to /var, and\n\n419\n00:20:21.890 --> 00:20:24.880\nsome of the other ones that\nare laid out here, okay?\n\n420\n00:20:24.880 --> 00:20:29.235\nNow I've got could not scan some of\nthe folders contained, permission denied.\n\n421\n00:20:29.235 --> 00:20:33.120\nAnd that's cuz I didn't run it as root,\nand it actually kind of broke down.\n\n422\n00:20:33.120 --> 00:20:35.390\nSee, how I wasn't able to scan /home?\n\n423\n00:20:35.390 --> 00:20:38.790\nSo it didn't even scan my own home folder\nwhich I know is over 5 gigs in size\n\n424\n00:20:38.790 --> 00:20:40.660\nit would be number one on this list.\n\n425\n00:20:40.660 --> 00:20:42.880\nSo that's a little problem\nyou can bump into.\n\n426\n00:20:42.880 --> 00:20:45.090\nBut if we come in and run this as root,\n\n427\n00:20:45.090 --> 00:20:50.670\nyou can get a better idea of where this\nstuff is being consumed and so on.\n\n428\n00:20:50.670 --> 00:20:53.946\nSo always bare that in mind that\nwhen you run these utilities,\n\n429\n00:20:53.946 --> 00:20:58.230\nif you run them as yourself then they're\nnot necessarily gonna have the access to\n\n430\n00:20:58.230 --> 00:20:59.249\nbe able to do that.\n\n431\n00:20:59.249 --> 00:21:03.240\nSo I might need to log in as root to\nbe able to get that full benefit.\n\n432\n00:21:03.240 --> 00:21:03.896\nA lot of these,\n\n433\n00:21:03.896 --> 00:21:07.088\nthey can be launched from the command\nline which means you can pseudo them.\n\n434\n00:21:07.088 --> 00:21:09.460\nAnd then they'll pop up and\nyou can get access that way.\n\n435\n00:21:09.460 --> 00:21:11.889\nSo just another great way to see that.\n\n436\n00:21:11.889 --> 00:21:17.170\nAll right, now as far as the tools that\nI normally use, that's them, right?\n\n437\n00:21:17.170 --> 00:21:19.337\nAnd there's a lot of third party\nsoftware out there, we can use for\n\n438\n00:21:19.337 --> 00:21:20.237\nmonitoring performance.\n\n439\n00:21:20.237 --> 00:21:21.450\nI love that stuff too.\n\n440\n00:21:21.450 --> 00:21:23.730\nThere is one more tool that\nI do wanna talk about and\n\n441\n00:21:23.730 --> 00:21:25.755\nthis is a tool that I\nadmittedly don't use.\n\n442\n00:21:25.755 --> 00:21:27.890\nBut I wanna highlight it so\nyou're aware of it.\n\n443\n00:21:27.890 --> 00:21:31.287\nIf you're a developer and\nyou're creating custom software.\n\n444\n00:21:31.287 --> 00:21:34.600\nYou may need to have a really\nindepth understanding of how your\n\n445\n00:21:34.600 --> 00:21:36.075\nsoftware's performing.\n\n446\n00:21:36.075 --> 00:21:39.500\nYou may need to know from\none version to another.\n\n447\n00:21:39.500 --> 00:21:43.939\nMaybe here's software version 1.2,\nand I'm about to release 1.3, and\n\n448\n00:21:43.939 --> 00:21:48.442\nI wanna do a performance comparison to\nmake sure that 1.3 is at least equal to,\n\n449\n00:21:48.442 --> 00:21:49.987\nif not better than 1.2.\n\n450\n00:21:49.987 --> 00:21:53.599\nI don't want things to get slower or\nwhatever, with each version I release.\n\n451\n00:21:53.599 --> 00:21:58.064\nAnd so there's a collection of\nsoftware called OProfile, and\n\n452\n00:21:58.064 --> 00:22:03.230\nOProfile let's you catalog\nperformance on individual programs.\n\n453\n00:22:03.230 --> 00:22:05.792\nAnd OProfile is borderline magic, because-\n&gt;&gt; [LAUGH]\n\n454\n00:22:05.792 --> 00:22:06.644\n&gt;&gt; What it does,\n\n455\n00:22:06.644 --> 00:22:09.283\nis it doesn't trust the operating system.\n\n456\n00:22:09.283 --> 00:22:13.869\nIt looks at actual sensors that\nare made available inside your CPU and\n\n457\n00:22:13.869 --> 00:22:15.670\nmemory to gather data.\n\n458\n00:22:15.670 --> 00:22:19.913\nAnd so it is gathering very accurate\ninformation to reflect the performance.\n\n459\n00:22:19.913 --> 00:22:24.260\nNow on a positive side,\nthat means you get great reliable data.\n\n460\n00:22:24.260 --> 00:22:28.867\nOn a negative side, it means the tool\nis really, really stinking hard to use.\n\n461\n00:22:28.867 --> 00:22:32.380\nThe command line for\nit is an insane nightmare.\n\n462\n00:22:32.380 --> 00:22:35.025\nSo if you wanna learn more about\nthe command line side of things-\n\n463\n00:22:35.025 --> 00:22:36.214\n&gt;&gt; It's in Sanskrit, right?\n\n464\n00:22:36.214 --> 00:22:39.007\n[LAUGH]\n&gt;&gt; It might as well be a foreign language,\n\n465\n00:22:39.007 --> 00:22:39.975\nyeah, it's tough.\n\n466\n00:22:39.975 --> 00:22:42.112\nBecause you have to understand\nwhat all those sensors are.\n\n467\n00:22:42.112 --> 00:22:44.110\n&gt;&gt; Yeah.\n&gt;&gt; And unless you are an electrical\n\n468\n00:22:44.110 --> 00:22:49.190\nengineer that designs CPUs, a lot of the\nsensors, they just don't make sense to us.\n\n469\n00:22:49.190 --> 00:22:51.990\nBut if you're a developer, and you\nunderstand exactly what your software is\n\n470\n00:22:51.990 --> 00:22:53.854\ndoing, it can give you\ninsight that is amazing.\n\n471\n00:22:53.854 --> 00:22:57.060\nSo from thea system admin\nstand point like us,\n\n472\n00:22:57.060 --> 00:22:59.290\nwe just need to be aware\nthat all profile exist.\n\n473\n00:22:59.290 --> 00:23:02.247\nAnd that we can make it available to\nthe developers if they wanna use it,\n\n474\n00:23:02.247 --> 00:23:05.373\nit's up to developers actually put it\nto use and figure out the data means.\n\n475\n00:23:05.373 --> 00:23:08.981\nBut let me just show you real quick,\nI don't if it's even installed, so\n\n476\n00:23:08.981 --> 00:23:11.290\nI'm have it installed in my system.\n\n477\n00:23:11.290 --> 00:23:14.524\nSo let get down to a terminal,\nand we'll find out.\n\n478\n00:23:14.524 --> 00:23:19.584\nSo I guess the easiest way to\ncheck would be to run oprof_start,\n\n479\n00:23:19.584 --> 00:23:22.500\nand see if you get any kind of output.\n\n480\n00:23:24.000 --> 00:23:27.520\nI don't have it, so I'm missing mine,\nbut I can install it real quick.\n\n481\n00:23:27.520 --> 00:23:30.756\nAnd what I normally do is if a dev\ncomes to me and says, hey Don,\n\n482\n00:23:30.756 --> 00:23:33.720\nI need oprofile to be\nable to catalogue stuff.\n\n483\n00:23:33.720 --> 00:23:38.580\nI'll come in, and\nI will do a yum install oprofile.\n\n484\n00:23:38.580 --> 00:23:43.110\nAnd that's gonna get it installed, and get\nit available for us from the command line.\n\n485\n00:23:43.110 --> 00:23:45.670\nIf you've got a GUI though,\nif it's desktop software,\n\n486\n00:23:45.670 --> 00:23:49.579\nyou can also add the oprofile-gui.\n\n487\n00:23:50.990 --> 00:23:53.790\nAnd that'll install the graphical\nuser interface for it also.\n\n488\n00:23:53.790 --> 00:23:57.019\nAnd that we can at least take\na look at and sort of understand.\n\n489\n00:23:57.019 --> 00:23:58.339\nSo I'm gonna get that installed.\n\n490\n00:23:58.339 --> 00:24:00.155\nSo it's gonna chunk through it.\n\n491\n00:24:00.155 --> 00:24:02.411\nIt's not too terribly\nlarge to get it in there.\n\n492\n00:24:02.411 --> 00:24:07.400\nBut once it's in place, then we can really\njump in and start to do things with it.\n\n493\n00:24:07.400 --> 00:24:14.765\nSo, for example, if I wanna launch it,\nlet me get oprofile-gui up and running.\n\n494\n00:24:14.765 --> 00:24:20.710\nAnd, whoops, I'm at oprof_start.\n\n495\n00:24:20.710 --> 00:24:21.390\nThere we go.\n\n496\n00:24:21.390 --> 00:24:24.070\nAnd oops, I'm gonna need to sudo that one.\n\n497\n00:24:24.070 --> 00:24:28.400\nYeah, so I'm gonna run oprof_start, there\nwe go, that's what I wanted to see, and\n\n498\n00:24:28.400 --> 00:24:29.730\nhere's the profiler.\n\n499\n00:24:29.730 --> 00:24:32.920\nAnd so\nwhat I'm seeing here on the Events screen,\n\n500\n00:24:32.920 --> 00:24:35.800\nwhat I'm seeing might be different\nthan what you're seeing, okay?\n\n501\n00:24:35.800 --> 00:24:37.580\nI'm running on a virtual machine, and\n\n502\n00:24:37.580 --> 00:24:42.080\na virtual CPU only provides\ncertain process sensors.\n\n503\n00:24:42.080 --> 00:24:44.100\nOn a physical CPU,\nyou will likely see more.\n\n504\n00:24:44.100 --> 00:24:47.200\nAnd if you are on an AMD and\nDaniel is on an Intel,\n\n505\n00:24:47.200 --> 00:24:48.682\nagain you might see different ones.\n\n506\n00:24:48.682 --> 00:24:50.950\nSo there's different things\nthat might be reflected here.\n\n507\n00:24:50.950 --> 00:24:55.350\nBut what we're seeing are all the\ndifferent counters that can be monitored.\n\n508\n00:24:55.350 --> 00:24:57.970\nAnd so what you would do or what\nthe developer would do is they would come\n\n509\n00:24:57.970 --> 00:25:01.440\nthrough and\nthey would pick the monitors they want.\n\n510\n00:25:01.440 --> 00:25:03.250\nAnd so\nthey would highlight the ones they want.\n\n511\n00:25:03.250 --> 00:25:05.340\nAnd notice as I click them some turn red.\n\n512\n00:25:05.340 --> 00:25:06.975\nAnd you might be monitoring it one way,\nand\n\n513\n00:25:06.975 --> 00:25:08.980\nthat makes it impossible\nto monitor it a second way.\n\n514\n00:25:08.980 --> 00:25:11.820\nSo the list starts getting smaller and\nsmaller as I click.\n\n515\n00:25:12.920 --> 00:25:15.675\nAnd when you click each one,\nthere's customizations you can make.\n\n516\n00:25:15.675 --> 00:25:18.950\nAnd I'm not gonna lie to you guys, most\nof this stuff is way out of my pay grade.\n\n517\n00:25:18.950 --> 00:25:20.530\nI'm not entirely sure.\n\n518\n00:25:20.530 --> 00:25:22.500\nI know what L1 and L2 cache are.\n\n519\n00:25:22.500 --> 00:25:26.990\nBut once you start getting into\nErrata HMS30, I don't know what that is.\n\n520\n00:25:26.990 --> 00:25:31.810\nSo as we monitor it though, you choose\nwhat it is you're trying to monitor.\n\n521\n00:25:31.810 --> 00:25:33.930\nAnd it will collect that data.\n\n522\n00:25:33.930 --> 00:25:36.780\nIt'll collect the information\nwhile your application is running.\n\n523\n00:25:36.780 --> 00:25:41.980\nAnd so it will tie that together\nwith the kernel that you're running,\n\n524\n00:25:41.980 --> 00:25:43.880\nand put it into log files.\n\n525\n00:25:43.880 --> 00:25:45.930\nAnd those log files can then be compared.\n\n526\n00:25:45.930 --> 00:25:47.320\nSo if I have an old version\nof the software and\n\n527\n00:25:47.320 --> 00:25:48.990\na new version of the software\nI can compare it.\n\n528\n00:25:48.990 --> 00:25:52.170\nIf ones running on the old kernel,\nones running on a new kernel I compare it.\n\n529\n00:25:52.170 --> 00:25:55.560\ni can see the performance improvements or\nperformance decreases.\n\n530\n00:25:55.560 --> 00:25:57.360\nAnd I can see how my software is doing.\n\n531\n00:25:57.360 --> 00:26:01.495\nThis is really about as advanced as\nit gets for tracking performance on\n\n532\n00:26:01.495 --> 00:26:04.870\nan individual program, and\nit's used by developers a lot.\n\n533\n00:26:04.870 --> 00:26:06.050\nFor a system admin,\n\n534\n00:26:06.050 --> 00:26:09.152\nour knowledge needs to typically be\nlimited to how to install it, right?\n\n535\n00:26:09.152 --> 00:26:11.109\n&gt;&gt; [LAUGH]\n&gt;&gt; And that's it.\n\n536\n00:26:11.109 --> 00:26:16.060\nBut, once it's in there, it does actually\ndo some really impressive stuff.\n\n537\n00:26:16.060 --> 00:26:19.290\nAnd you get it configured and\nin place, and then you start it up.\n\n538\n00:26:19.290 --> 00:26:21.426\nI'm actually gonna get an error, aren't I?\n\n539\n00:26:21.426 --> 00:26:26.800\nShoot, so apparently I have\nan invalid range specified.\n\n540\n00:26:26.800 --> 00:26:31.190\nSo I need something,\napparently bigger, which seems odd.\n\n541\n00:26:31.190 --> 00:26:34.515\nUsually, it complains if\nthe number's too big.\n\n542\n00:26:34.515 --> 00:26:36.530\nSo, it's gonna tweak it.\n\n543\n00:26:36.530 --> 00:26:37.221\nI don't know my settings.\n\n544\n00:26:37.221 --> 00:26:38.770\n&gt;&gt; [LAUGH]\n&gt;&gt; It's telling me here that some of\n\n545\n00:26:38.770 --> 00:26:41.530\nthe stuff that I'm putting\nin is not good enough.\n\n546\n00:26:41.530 --> 00:26:43.000\nI just can't do it.\n\n547\n00:26:43.000 --> 00:26:44.850\n&gt;&gt; I just wanna show this thing.\n\n548\n00:26:44.850 --> 00:26:45.350\n&gt;&gt; So.\n\n549\n00:26:46.350 --> 00:26:46.880\n&gt;&gt; Well see, Don,\n\n550\n00:26:46.880 --> 00:26:50.083\nyou don't know that the glyph of\nthe jackal with the two headed snake.\n\n551\n00:26:50.083 --> 00:26:52.300\n&gt;&gt; [LAUGH]\n&gt;&gt; Means CPU register EIP.\n\n552\n00:26:52.300 --> 00:26:54.388\n[LAUGH]\n&gt;&gt; Yeah, yeah, so anyhow.\n\n553\n00:26:54.388 --> 00:26:55.790\nWe're supposed to find this stuff in here.\n\n554\n00:26:55.790 --> 00:26:57.630\nWhen you run it from the command line\nyou can actually limit it to your\n\n555\n00:26:57.630 --> 00:26:58.330\nindividual application.\n\n556\n00:26:58.330 --> 00:27:00.570\nBut the idea is that you start\nit running and then you go and\n\n557\n00:27:00.570 --> 00:27:02.960\nyou run your application, you run\nthe program and you perform the action.\n\n558\n00:27:02.960 --> 00:27:04.780\nAnd when it's done you stop it.\n\n559\n00:27:04.780 --> 00:27:08.540\nAnd when you hit the flush button it\nactually writes it all to a log file on\n\n560\n00:27:08.540 --> 00:27:09.970\nthe hard drive that you can then compare.\n\n561\n00:27:09.970 --> 00:27:12.880\nThat's how it operates,\nthat's the basic operation of the program.\n\n562\n00:27:12.880 --> 00:27:14.218\nIt's an impressive one.\n\n563\n00:27:14.218 --> 00:27:18.032\nIf you're ever interested in learning\nsomething that is borderline\n\n564\n00:27:18.032 --> 00:27:22.460\na foreign language, pull up the\ndocumentation for OProfile, it's massive.\n\n565\n00:27:22.460 --> 00:27:26.200\nBut if you really need detailed\nperformance data of an application,\n\n566\n00:27:26.200 --> 00:27:28.520\nthat's the way to do it,\nit's impressive stuff.\n\n567\n00:27:28.520 --> 00:27:32.250\n&gt;&gt; That's right you download, you install\nand you chuck it off to the developer and\n\n568\n00:27:32.250 --> 00:27:34.640\nlet them interpret that stuff for us.\n\n569\n00:27:34.640 --> 00:27:37.969\nBut that being said, we had a lot of\ngreat tools that we've seen today for\n\n570\n00:27:37.969 --> 00:27:40.818\nmonitoring our performance and\nour Red Hat systems, right?\n\n571\n00:27:40.818 --> 00:27:43.062\nWe've used TOP and the PS utility.\n\n572\n00:27:43.062 --> 00:27:45.530\nYou use those all the time.\n\n573\n00:27:45.530 --> 00:27:47.970\nI probably use those on a daily\nbasis on my daily driver.\n\n574\n00:27:47.970 --> 00:27:51.260\nJust because you're always trying to\nfind rogue processes that are running or\n\n575\n00:27:51.260 --> 00:27:52.530\nwhat's eating up all my memory.\n\n576\n00:27:52.530 --> 00:27:54.610\nWe got free, we can see things like that.\n\n577\n00:27:54.610 --> 00:27:55.710\nVery cool stuff.\n\n578\n00:27:55.710 --> 00:27:59.630\nAnd not to mention that if you are running\na desktop, you do have the graphical\n\n579\n00:27:59.630 --> 00:28:03.480\ninterface, usually at your beck and\ncall, so you can jump on that as well.\n\n580\n00:28:03.480 --> 00:28:07.690\nDon, thank you so much for\nshowing us how we can monitor our systems.\n\n581\n00:28:07.690 --> 00:28:10.160\nAnything else you wanna throw\nin the fire before we let it go?\n\n582\n00:28:10.160 --> 00:28:12.340\n&gt;&gt; Never underestimate the power\nof third-party systems, right?\n\n583\n00:28:12.340 --> 00:28:15.190\nThere's plenty of third-party software\nout there that can monitor Linux and\n\n584\n00:28:15.190 --> 00:28:16.880\nRed Hat systems really, really well.\n\n585\n00:28:16.880 --> 00:28:19.590\nSo take advantage of those, but\nthe buil- in tools are great for\n\n586\n00:28:19.590 --> 00:28:22.490\nmonitoring single systems and\nthey're free, they're right there.\n\n587\n00:28:22.490 --> 00:28:23.310\n&gt;&gt; That's right.\n\n588\n00:28:23.310 --> 00:28:26.030\nAll right that being said looks like we've\ncome to the end of our time for today.\n\n589\n00:28:26.030 --> 00:28:27.690\nWe thank you guys for watching.\n\n590\n00:28:27.690 --> 00:28:31.270\nIt's time to sign off for ITProTV,\nI've been your host Daniel Lowrie.\n\n591\n00:28:31.270 --> 00:28:32.150\n&gt;&gt; And I'm Don Pezet.\n\n592\n00:28:32.150 --> 00:28:33.792\n&gt;&gt; We'll see you next time.\n\n593\n00:28:33.792 --> 00:28:40.410\n[MUSIC]\n\n594\n00:28:40.410 --> 00:28:42.655\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "195020902"
        },
        {
          "description": "In this episode, Wes and Don explore the world of troubleshooting through the monitoring of system logs. They cover topics like DMESG, syslog, system log rotation, remote system log monitoring, the systemd journal and log filtering.",
          "length": "2355",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-rhel7-5-4-monitoring_system_logs-120216-PGM.00_39_01_10.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-rhel7-5-4-monitoring_system_logs-120216-PGM.00_39_01_10.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-rhel7-5-4-monitoring_system_logs-120216-PGM.00_39_01_10.Still001-sm.jpg",
          "title": "Monitoring System Logs",
          "transcript": "WEBVTT\n\n1\n00:00:00.140 --> 00:00:03.571\nWelcome to ITPro.TV,\nI'm your host [CROSSTALK].\n\n2\n00:00:03.571 --> 00:00:06.802\n&gt;&gt; Live from San Francisco,\nCalifornia [CROSSTALK].\n\n3\n00:00:06.802 --> 00:00:08.336\n[MUSIC]\n\n4\n00:00:08.336 --> 00:00:09.960\n&gt;&gt; You're watching ITPro.TV.\n\n5\n00:00:09.960 --> 00:00:15.385\n&gt;&gt; Welcome back to another\nexciting episode here at ITPro.Tv.\n\n6\n00:00:15.385 --> 00:00:16.555\nI'm you host Wes Bryan.\n\n7\n00:00:16.555 --> 00:00:21.295\nAnd it today's episode, we are moving\nthrough our Red Hat Enterprise Linux, and\n\n8\n00:00:21.295 --> 00:00:24.415\njoining us back in the studios today\nis none other than Mr. Don Pezet.\n\n9\n00:00:24.415 --> 00:00:25.475\nDon, how are you doing, sir?\n\n10\n00:00:25.475 --> 00:00:26.315\n&gt;&gt; I'm doing great, Wes.\n\n11\n00:00:26.315 --> 00:00:28.125\nReady to dive right back\nin the world of Red Hat.\n\n12\n00:00:28.125 --> 00:00:30.905\nAnd today, we're gonna be looking\nat monitoring our system logs.\n\n13\n00:00:30.905 --> 00:00:33.910\nAnd we're not talking about,\nyou know Lincoln Logs or\n\n14\n00:00:33.910 --> 00:00:38.090\nYule logs but we're just going into our\nregular system logs which are incredibly\n\n15\n00:00:38.090 --> 00:00:40.840\nuseful resource for trouble shooting.\n\n16\n00:00:40.840 --> 00:00:43.580\nThat when you start having\nissues on a system,\n\n17\n00:00:43.580 --> 00:00:46.130\nthe logs are where we go to\nfind out that information.\n\n18\n00:00:46.130 --> 00:00:48.900\nAnd if you watched like\nour SE Linux episode,\n\n19\n00:00:48.900 --> 00:00:52.645\nthose logs are really important for\ntracking if software is getting blocked,\n\n20\n00:00:52.645 --> 00:00:54.450\nand fixing it and getting that working.\n\n21\n00:00:54.450 --> 00:00:57.750\nOr even in the episodes where we created\nthings like USB installation media, we\n\n22\n00:00:57.750 --> 00:01:01.330\nused the logs to be able to figure out the\nname of a device that we just plugged in.\n\n23\n00:01:01.330 --> 00:01:03.830\nLogs are incredibly useful.\n\n24\n00:01:03.830 --> 00:01:05.460\nThey're also slightly misunderstood.\n\n25\n00:01:05.460 --> 00:01:08.740\nA lot of people just assume the system is\nlogging exactly the way they want it to\n\n26\n00:01:08.740 --> 00:01:10.270\nand never configure it.\n\n27\n00:01:10.270 --> 00:01:13.070\nAnd only once something bad\nhappens do they go and look and\n\n28\n00:01:13.070 --> 00:01:16.150\nfind out that the logs weren't\nworking exactly the way they wanted.\n\n29\n00:01:16.150 --> 00:01:18.809\nSo there is a little bit of\nTLC that we need to show.\n\n",
          "vimeoId": "195019428"
        }
      ],
      "title": "Troubleshooting"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Wes and Don discuss virtualization technologies in RHEL. They will talk about concepts like QEMU, KVM as well as QEMU plus KVM and libvirt. They will explain the requirements to support these technologies, performing the process through the GUI and the CLI.",
          "length": "2081",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-rhel7-6-1-using_qemu_and_kvm-120216-PGM.00_34_27_08.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-rhel7-6-1-using_qemu_and_kvm-120216-PGM.00_34_27_08.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-redhat/techskills-rhel7-6-1-using_qemu_and_kvm-120216-PGM.00_34_27_08.Still001-sm.jpg",
          "title": "Using QEMU and KVM",
          "transcript": "WEBVTT\n\n1\n00:00:00.290 --> 00:00:03.414\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:03.414 --> 00:00:06.796\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.796 --> 00:00:08.295\n[MUSIC]\n\n4\n00:00:08.295 --> 00:00:11.364\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.364 --> 00:00:14.890\n&gt;&gt; Welcome back to another\nexciting episode here at ITProTV.\n\n6\n00:00:14.890 --> 00:00:16.810\nI'm your host Wes Bryan, and\n\n7\n00:00:16.810 --> 00:00:22.160\nin today's episode we are continuing\nthrough our Red Hat Enterprise Linux 7.\n\n8\n00:00:22.160 --> 00:00:26.207\nAnd joining me back in the studios today\nfor this endeavor is none other than Mr.\n\n9\n00:00:26.207 --> 00:00:26.905\nDon Pezet.\n\n10\n00:00:26.905 --> 00:00:28.005\nDon how ya doin' sir?\n\n11\n00:00:28.005 --> 00:00:28.645\n&gt;&gt; I'm doing swell.\n\n12\n00:00:28.645 --> 00:00:32.045\nLet's get ready to dive back in, in this\nepisode, we're going to be taking a look\n\n13\n00:00:32.045 --> 00:00:35.385\nat virtualization on top of\nRed Hat Enterprise Linux seven and\n\n14\n00:00:35.385 --> 00:00:39.195\nthat's a big topic because Red Hat has\na number of big pushes going on right now\n\n15\n00:00:39.195 --> 00:00:44.315\nwith the whole open stack movement and\nopen shift and different things.\n\n16\n00:00:44.315 --> 00:00:47.875\nSo, virtualization is becoming\na standard component in pretty much\n\n17\n00:00:47.875 --> 00:00:50.020\nany data center that's out there.\n\n18\n00:00:50.020 --> 00:00:53.280\nWhat I want to look at is Red Hat's\nrecommended virtualization solution and\n\n19\n00:00:53.280 --> 00:00:54.550\nhow we can get it installed an up and\n\n20\n00:00:54.550 --> 00:00:58.430\nrunning and the way that we can use it\nto then participate in Open Stack or\n\n21\n00:00:58.430 --> 00:01:01.820\nOpen Shift or whatever else it is that\nwe choose to deploy on the network.\n\n22\n00:01:01.820 --> 00:01:05.290\nThe first thing I need to understand\nis what is that recommended solution.\n\n23\n00:01:05.290 --> 00:01:08.710\nAnd Red Hat actually has three different\n\n24\n00:01:08.710 --> 00:01:10.700\ncomponents that go together\nin the recommended solution.\n\n25\n00:01:10.700 --> 00:01:14.190\nBecause what they found was there was\nreally no one piece that did everything.\n\n26\n00:01:14.190 --> 00:01:15.550\nThey kinda needed to couple it together.\n\n27\n00:01:15.550 --> 00:01:21.220\nSo the names you're gonna hear\nbatted about the most are QEMU,\n\n28\n00:01:21.220 --> 00:01:24.110\nKVM, and LibVert, all right?\n\n29\n00:01:24.110 --> 00:01:25.570\nSo what are all of those?\n\n30\n00:01:25.570 --> 00:01:27.160\nI'll start with QEMU.\n\n31\n00:01:27.160 --> 00:01:29.990\nQEMU, like its name implies,\nis an emulator.\n\n32\n00:01:29.990 --> 00:01:33.220\nIt emulates processor, memory, network,\n\n33\n00:01:33.220 --> 00:01:36.930\nhard drive, and\nit creates virtual machines.\n\n34\n00:01:36.930 --> 00:01:40.750\nSo if I wanna whip up a virtual\nLinux server that's a web server, or\n\n35\n00:01:40.750 --> 00:01:45.710\nvirtualize a Windows machine, or whatever\nI can fire up QEMU and I can do it.\n\n36\n00:01:45.710 --> 00:01:48.220\nNow QEMU does a great job but\n\n37\n00:01:48.220 --> 00:01:52.300\nit is an emulator, and emulation is\nnot the fastest thing on the planet.\n\n38\n00:01:52.300 --> 00:01:58.040\nIt creates a fake processor, fake memory,\nfake hard drive, fake network adapters.\n\n39\n00:01:58.040 --> 00:02:01.670\nSo when your virtualized operating\nsystem goes to talk to the processor or\n\n40\n00:02:01.670 --> 00:02:05.160\nit goes to talk to the memory,\nit's talking to something fake, and\n\n41\n00:02:05.160 --> 00:02:08.590\nQEMU has to translate that from\nsomething fake to something real.\n\n42\n00:02:08.590 --> 00:02:11.600\nAnd that translation, that takes time.\n\n43\n00:02:11.600 --> 00:02:13.740\nAnd the time is very small,\nright, nanoseconds.\n\n44\n00:02:13.740 --> 00:02:14.990\nThis is really short.\n\n45\n00:02:14.990 --> 00:02:18.530\nBut it's an eternity for computers.\n\n46\n00:02:18.530 --> 00:02:22.400\nSo what that means is that if I\nvirtualize something under QEMU\n\n47\n00:02:22.400 --> 00:02:25.900\nit's not going to run at what we\ncall wire speed or bare metal speed.\n\n48\n00:02:25.900 --> 00:02:28.030\nIt's gonna run a little bit slower.\n\n49\n00:02:28.030 --> 00:02:30.210\nYou don't get the same performance.\n\n50\n00:02:30.210 --> 00:02:32.010\nSo QMEU, great at what it does, but\n\n51\n00:02:32.010 --> 00:02:35.460\nnot perfect as far as\nperformance is concerned.\n\n52\n00:02:35.460 --> 00:02:41.150\nAnd that's where KVM comes in, KVM, the\nKernal Virtual Machine environment, what\n\n53\n00:02:41.150 --> 00:02:46.690\nit let's you do, is it lets you create\nvirtual machines that use a hypervisor.\n\n54\n00:02:46.690 --> 00:02:48.550\nAnd a hypervisor is not an emulator.\n\n55\n00:02:48.550 --> 00:02:53.080\nAn emulator creates a fake processor,\nfake memory, and so on.\n\n56\n00:02:53.080 --> 00:02:55.710\nA hypervisor is more like a traffic cop.\n\n57\n00:02:55.710 --> 00:02:59.750\nIt says no one system has\nexclusive access to this CPU,\n\n58\n00:02:59.750 --> 00:03:02.590\nyou all share it and\nI'm just gonna be the traffic cop.\n\n59\n00:03:02.590 --> 00:03:05.385\nI'm gonna say, okay,\nWes it's your time to use the CPU.\n\n60\n00:03:05.385 --> 00:03:06.149\n[SOUND] Your time is up.\n\n61\n00:03:06.149 --> 00:03:07.205\nNow it's this guy's time.\n\n62\n00:03:07.205 --> 00:03:09.113\n[SOUND] His time is up,\nnow it's this person's time.\n\n63\n00:03:09.113 --> 00:03:13.892\nAnd everybody gets access to the resources\nand KVM as a hyper visor does\n\n64\n00:03:13.892 --> 00:03:18.266\ngreat at being the traffic cop for\nprocessor and memory, the two\n\n65\n00:03:18.266 --> 00:03:23.660\ncomponents that were really sensitive\nto speed on, that's what it does.\n\n66\n00:03:23.660 --> 00:03:28.998\nAll right but\nit doesn't do network adapters or disk.\n\n67\n00:03:28.998 --> 00:03:32.710\nAnd so what Red Hat does is they say\nall right let's combine the two.\n\n68\n00:03:32.710 --> 00:03:38.550\nLet's get QEMU working with KVM and\nthen KVM can handle the CPU and\n\n69\n00:03:38.550 --> 00:03:42.920\nthe memory, and\nQEMU can handle the disk and the network.\n\n70\n00:03:42.920 --> 00:03:45.350\nThe network, if we virtualize that,\nthat's trivial.\n\n71\n00:03:45.350 --> 00:03:48.320\nThe disk, the disk needs to be virtualized\nno matter what because we're putting\n\n72\n00:03:48.320 --> 00:03:51.510\nall of our writes into a separate\nfile anyway, not a raw file system.\n\n73\n00:03:51.510 --> 00:03:54.430\nIf it was a raw file system, it would\nbe a different story, but even then,\n\n74\n00:03:54.430 --> 00:03:58.290\non a raw file system, you wouldn't have\ntwo virtual machines accessing the same\n\n75\n00:03:58.290 --> 00:04:01.840\nraw file system so that's always\ngonna be virtualized no matter what.\n\n76\n00:04:01.840 --> 00:04:04.725\nNo matter what software you run,\neven if you're running VM ware or\n\n77\n00:04:04.725 --> 00:04:07.468\nsomething like that,\nyou're gonna have the same situation.\n\n78\n00:04:07.468 --> 00:04:11.353\nSo QEMU virtualizes what has to be done,\nanything that KVM can handle,\n\n79\n00:04:11.353 --> 00:04:13.619\nit handles, and the two work together and\n\n80\n00:04:13.619 --> 00:04:17.150\nyou end up with the best\nvirtualization environment possible.\n\n81\n00:04:17.150 --> 00:04:19.810\nIt's very stable, it's very fast,\nand very reliable.\n\n82\n00:04:19.810 --> 00:04:22.370\nAnd used by a ton of people.\n\n83\n00:04:22.370 --> 00:04:25.000\nLike little companies\nlike Amazon web services.\n\n84\n00:04:25.000 --> 00:04:29.140\nWell, they only spin a few million virtual\nmachines every single stinking day\n\n85\n00:04:29.140 --> 00:04:31.530\nthey use QEMU plus KVM.\n\n86\n00:04:31.530 --> 00:04:33.440\nThat's the model that Red Hat follows.\n\n87\n00:04:33.440 --> 00:04:37.820\nSo very stable, very tested,\nvery widely used environment.\n\n88\n00:04:37.820 --> 00:04:41.440\nThe only problem is it's\ntwo different programs, and\n\n89\n00:04:41.440 --> 00:04:45.350\nit's kind of a pain to manage if you have\nto talk to two different programs, so\n\n90\n00:04:45.350 --> 00:04:49.430\nwhat Red Hat did is they said let's\nsolve this, let's create a standard API.\n\n91\n00:04:49.430 --> 00:04:55.590\nA single place we talk to that can\nthen turn around and talk to QEMU and\n\n92\n00:04:55.590 --> 00:05:00.460\nKVM for us, so we just have one thing to\ntalk to and that's where Libvirt comes in.\n\n93\n00:05:00.460 --> 00:05:03.560\nLibvirt is short for\nlibrary virtualization.\n\n94\n00:05:03.560 --> 00:05:05.120\nIt's a virtualization library or\n\n95\n00:05:05.120 --> 00:05:10.558\nan API that we can talk to that front\nends these different systems on the back.\n\n96\n00:05:10.558 --> 00:05:13.730\nAnd Red Hat didn't stop with QEMU and KVM,\nthey actually went a little further and\n\n97\n00:05:13.730 --> 00:05:15.370\nadded support for Xen.\n\n98\n00:05:15.370 --> 00:05:18.480\nXen which is a very common Open Source\nvirtualization platform and\n\n99\n00:05:18.480 --> 00:05:21.062\na few others are kind\nof stuck in there too.\n\n100\n00:05:21.062 --> 00:05:26.140\nSo Libvirt can front end all sorts of\ndifferent systems on the back end.\n\n101\n00:05:26.140 --> 00:05:29.920\nBut the official solution that we want to\ngo with, the Red Hat recommended solution,\n\n102\n00:05:29.920 --> 00:05:34.590\nis QEMU plus KVM on the back end,\nand Libvirt on the front end.\n\n103\n00:05:34.590 --> 00:05:37.970\nAnd they got a suite of utilities\nthat all interact with Libvirt.\n\n104\n00:05:37.970 --> 00:05:41.536\n&gt;&gt; Now Don, I've been a part of some\nof the virtualization shows before that\n\n105\n00:05:41.536 --> 00:05:42.237\nwe have here.\n\n106\n00:05:42.237 --> 00:05:45.582\nAnd one of the things that's always\na necessity is a certain set\n\n107\n00:05:45.582 --> 00:05:48.045\nof requirements to run\nany piece of software or\n\n108\n00:05:48.045 --> 00:05:51.160\nhardware if you will,\nif you need adequate performance.\n\n109\n00:05:51.160 --> 00:05:54.210\nWhat are we looking at when it\ncomes to requirements for this?\n\n110\n00:05:54.210 --> 00:05:55.040\n&gt;&gt; We have a couple of things,\n\n111\n00:05:55.040 --> 00:05:57.830\nthe traditional requirements, things like\nhow much disk space and memory they need,\n\n112\n00:05:57.830 --> 00:05:59.240\nare kinda laughable right there.\n\n113\n00:05:59.240 --> 00:06:03.240\nThe minimum requirements are 2GBs of\nRAM and 6GBs of hard drive space but\n\n114\n00:06:03.240 --> 00:06:06.360\nthat's a drop of the bucket,\nthat's nothing.\n\n115\n00:06:06.360 --> 00:06:07.780\nYou're gonna need more.\n\n116\n00:06:07.780 --> 00:06:10.220\nYour virtual machines,\nthey need memory, they need disk space.\n\n117\n00:06:10.220 --> 00:06:12.810\nAnd so you need way more than minimum\nrequirements are, so let's just\n\n118\n00:06:12.810 --> 00:06:15.630\npretend those don't exist and you need\nto think about your virtual machines.\n\n119\n00:06:15.630 --> 00:06:18.770\nSo how much RAM are you going to assign,\nhow much disk space do you need to assign.\n\n120\n00:06:18.770 --> 00:06:20.780\nThat's how much space\nyou're going to need.\n\n121\n00:06:20.780 --> 00:06:22.970\nWhere we need to be more\nconcerned though is the CPU.\n\n122\n00:06:22.970 --> 00:06:24.820\nNot just any old CPU will work.\n\n123\n00:06:24.820 --> 00:06:27.730\nIt's got to be a 64 bit CPU,\nit can be Intel for AMD.\n\n124\n00:06:27.730 --> 00:06:32.659\nWhich means AMD64 is what we normally\nsee even on Intel processors so\n\n125\n00:06:32.659 --> 00:06:38.601\nif you got a nice Intel i5 or i7 and\nit's 64 bit it's actually AMD64 not Intel.\n\n126\n00:06:38.601 --> 00:06:41.781\nIntel 64-bit was a titanium processors and\n\n127\n00:06:41.781 --> 00:06:45.760\nI don't know Wes,\ncan you even buy Itanium anymore?\n\n128\n00:06:45.760 --> 00:06:46.270\n&gt;&gt; I don't know.\n\n129\n00:06:46.270 --> 00:06:49.490\nI'm thinking ever since Xeon came out,\nI believe they're a thing of the past.\n\n130\n00:06:49.490 --> 00:06:51.980\n&gt;&gt; Yeah, it's one of things where\nIntels just didn't catch on, but\n\n131\n00:06:51.980 --> 00:06:53.860\nAMDs did, that's the one we all run now.\n\n132\n00:06:53.860 --> 00:06:56.680\nSo, but it does need to be 64-bit.\n\n133\n00:06:56.680 --> 00:06:58.270\nBeyond that,\nthere's not really a requirement.\n\n134\n00:06:58.270 --> 00:07:01.640\nAnd normally, if this were a VMware show,\nthis is where I would say, you gotta make\n\n135\n00:07:01.640 --> 00:07:05.450\nsure you have the virtualization\nextensions as part of that CPU, right?\n\n136\n00:07:05.450 --> 00:07:10.508\nIn Intel, you have what is called Intel\nVT-x, the virtual technology extensions.\n\n137\n00:07:10.508 --> 00:07:15.182\nAnd in AMD, you have what's called AMDV or\nAMD Virtualization, not very exciting.\n\n138\n00:07:15.182 --> 00:07:20.168\nBut those are extensions in the process\nthat make them allow a hyper-visor to work\n\n139\n00:07:20.168 --> 00:07:23.730\nand if they're missing,\nthe hyper-visor won't work.\n\n140\n00:07:23.730 --> 00:07:28.324\nWell there's products like VMWare and\nMicrosoft Hyper-V where if the hyper-visor\n\n141\n00:07:28.324 --> 00:07:31.716\nwon't work the software just doesn't work,\nand that's it.\n\n142\n00:07:31.716 --> 00:07:35.350\nWith QEMU and KVM,\nif you're hyper visor is missing,\n\n143\n00:07:35.350 --> 00:07:38.310\nit will just let QEMU do everything.\n\n144\n00:07:38.310 --> 00:07:43.090\nIt'll emulate CPU and memory,\nwhich means it'll run slower.\n\n145\n00:07:43.090 --> 00:07:45.840\nSo if you don't have\nvirtualization extensions,\n\n146\n00:07:45.840 --> 00:07:48.810\nyou'll get a warning telling you hey,\nyour VMs are going to run kind of slow.\n\n147\n00:07:48.810 --> 00:07:51.860\nI'll show it to you here in a minute,\nbecause I'm going to get it.\n\n148\n00:07:51.860 --> 00:07:52.405\nAnd so you'll get that message.\n\n149\n00:07:52.405 --> 00:07:55.699\nBut otherwise it will let you\ncontinue things just run slower and\n\n150\n00:07:55.699 --> 00:07:59.969\nthat's important to watch out for because\na lot of servers have the virtualization\n\n151\n00:07:59.969 --> 00:08:02.472\nextensions and\nthey might just not be turned on.\n\n152\n00:08:02.472 --> 00:08:06.084\nAnd if you go into the BIOS of the system,\nthere's an option you tick off or\n\n153\n00:08:06.084 --> 00:08:08.019\nchange to enable that now they're on.\n\n154\n00:08:08.019 --> 00:08:10.690\nSo, you wanna double check and\nmake sure that's there, all right.\n\n155\n00:08:10.690 --> 00:08:14.460\nThe reason mine are gonna be missing is\nthat I'm on a Mac, and Apple locks their\n\n156\n00:08:14.460 --> 00:08:17.940\nhardware so the extensions only\nwork if you're running Mac OS.\n\n157\n00:08:17.940 --> 00:08:20.980\nWell, I'm running Red Hat and\nso it's not gonna detect them.\n\n158\n00:08:20.980 --> 00:08:22.660\nSo, even though I do have extensions,\n\n159\n00:08:22.660 --> 00:08:25.380\nI've got an Intel i7,\nthen they're not gonna show up for me.\n\n160\n00:08:25.380 --> 00:08:28.855\nBut it's not a big deal cuz it's all gonna\nwork, we'll just run a little slower,\n\n161\n00:08:28.855 --> 00:08:29.870\nright.\n\n162\n00:08:29.870 --> 00:08:31.660\nSo, always be on the lookout for that.\n\n163\n00:08:31.660 --> 00:08:33.930\nOther things that are worth looking into,\n\n164\n00:08:33.930 --> 00:08:38.010\nVTX is really important to get processor\nand memory, some processors have what's\n\n165\n00:08:38.010 --> 00:08:43.260\ncalled VTD which is actually a storage\nextension which improves discIL,\n\n166\n00:08:43.260 --> 00:08:46.560\ndisc ends up being the big bottleneck\nin a lot of organization environments.\n\n167\n00:08:46.560 --> 00:08:47.840\nUsually disk and RAM.\n\n168\n00:08:47.840 --> 00:08:49.330\nAs long as you have plenty of RAM,\nyou're fine.\n\n169\n00:08:49.330 --> 00:08:51.560\nBut disk, how do you get around that?\n\n170\n00:08:51.560 --> 00:08:52.220\nVTD can help.\n\n171\n00:08:52.220 --> 00:08:55.500\nSo, if you're shopping for processors,\ntry and get one with VTD support.\n\n172\n00:08:55.500 --> 00:08:56.350\nThat will help you out.\n\n173\n00:08:56.350 --> 00:09:00.130\nIf you've already got one and you don't\nhave it, though, you can still get by.\n\n174\n00:09:00.130 --> 00:09:02.030\nAll right, so\nthose are some of our requirements.\n\n175\n00:09:02.030 --> 00:09:03.730\nThe only other requirement is\nthat we install the stuff,\n\n176\n00:09:03.730 --> 00:09:05.390\nand when we go to install it,\n\n177\n00:09:05.390 --> 00:09:08.540\nwe just need to install a handful of\ncomponents to get ourselves ready.\n\n178\n00:09:08.540 --> 00:09:11.830\nNow, the easiest way to set up\na virtualization server is when you pop in\n\n179\n00:09:11.830 --> 00:09:15.980\nthat red hat disk and you do your install,\nand you pick your software libraries,\n\n180\n00:09:15.980 --> 00:09:19.450\nyou pick virtualization server,\n[LAUGH], and then it installs it.\n\n181\n00:09:19.450 --> 00:09:20.980\nBut I didn't do that.\n\n182\n00:09:20.980 --> 00:09:23.780\nWhen I installed, I chose server with GUI.\n\n183\n00:09:23.780 --> 00:09:27.010\nAnd that's it, so if we need to\nget it installed it's easy enough,\n\n184\n00:09:27.010 --> 00:09:28.360\nwe just do a simply yum command.\n\n185\n00:09:28.360 --> 00:09:29.860\nNow, I'm gonna go ahead and\n\n186\n00:09:29.860 --> 00:09:32.505\nelevate my privileges right here\nat the beginning of the show.\n\n187\n00:09:32.505 --> 00:09:35.345\nBecause to work with VMs,\nyou gotta be an administrator.\n\n188\n00:09:35.345 --> 00:09:37.845\nAnd in the GUI, it'll prompt you,\nbut from the command line it won't.\n\n189\n00:09:37.845 --> 00:09:40.595\nSo, I'm just gonna elevate right\nhere from the very beginning.\n\n190\n00:09:40.595 --> 00:09:43.225\nSo, be aware that everything\nthat I'm about to run,\n\n191\n00:09:43.225 --> 00:09:46.235\nyou really need to be root to do,\nto get working.\n\n192\n00:09:46.235 --> 00:09:47.785\nAnd I could sudu these commands, but\n\n193\n00:09:47.785 --> 00:09:51.870\nI would go sudu crazy from having to\nrun it so many times in the episode.\n\n194\n00:09:51.870 --> 00:09:53.700\nAll right, so\nI'm gonna start with a quick yum install.\n\n195\n00:09:53.700 --> 00:09:56.380\nAnd to save a little time I've actually\nalready installed the packages but\n\n196\n00:09:56.380 --> 00:09:58.340\nlet me show you what we would do normally.\n\n197\n00:09:58.340 --> 00:10:02.590\nIs we need to install qemu-kvm right\n\n198\n00:10:02.590 --> 00:10:06.125\nthat's the primary those\ntwo working together.\n\n199\n00:10:06.125 --> 00:10:09.725\nWe need to do qemu-img,\n\n200\n00:10:09.725 --> 00:10:13.755\nwhich is the driver that's gonna let\nqemu write to virtual disks, right?\n\n201\n00:10:13.755 --> 00:10:17.805\nSo, there's several different formats,\nthe image format is the one that we want.\n\n202\n00:10:17.805 --> 00:10:19.655\nThen we've got libvirt, right?\n\n203\n00:10:19.655 --> 00:10:22.515\nWe kinda need that, the API that's\ngonna sit in front of it all.\n\n204\n00:10:22.515 --> 00:10:26.840\nAnd we need virt-manager\nthat's the utilities\n\n205\n00:10:26.840 --> 00:10:28.670\nthat we're going to use\nto interact with this.\n\n206\n00:10:28.670 --> 00:10:33.140\nAnd there's a graphical utility as well as\ncommand line utilities that we can use to\n\n207\n00:10:33.140 --> 00:10:36.310\nwork with this and\nI'll show you both, all right.\n\n208\n00:10:36.310 --> 00:10:39.220\nWhen you run that you might\nalready have them installed.\n\n209\n00:10:39.220 --> 00:10:42.340\nIf you do, then it's going to do exactly\nwhat mine does and says nothing to do.\n\n210\n00:10:42.340 --> 00:10:46.350\nIf they're not installed then they're\ngoing to pop-up and offer to install\n\n211\n00:10:46.350 --> 00:10:49.970\nwith any dependencies that might be\nmissing and it's going to get installed.\n\n212\n00:10:49.970 --> 00:10:53.750\nNow once it's done,\nwe're not actually done with it.\n\n213\n00:10:53.750 --> 00:10:57.780\nQEMU doesn't really run until\nyou start a virtual machine.\n\n214\n00:10:57.780 --> 00:11:01.905\nAnd KVM doesn't run until you start\na virtual machine, except KVM and\n\n215\n00:11:01.905 --> 00:11:03.195\nwas a hypervisor.\n\n216\n00:11:03.195 --> 00:11:06.985\nIt's got to integrate with\nthe kernel of your system.\n\n217\n00:11:06.985 --> 00:11:09.535\nAnd the kernel on the system is\nonly updated when you reboot.\n\n218\n00:11:09.535 --> 00:11:11.615\nSo, there's kernel modules\nthat need to be added and\n\n219\n00:11:11.615 --> 00:11:13.335\nthat means I'm gonna have to do a reboot.\n\n220\n00:11:13.335 --> 00:11:17.115\nBut before I do the reboot I need\nto add a little something extra.\n\n221\n00:11:17.115 --> 00:11:21.480\nI need to make sure that livvert is\nset to start when the system starts.\n\n222\n00:11:21.480 --> 00:11:23.660\nRight, cuz I need it running all the time.\n\n223\n00:11:23.660 --> 00:11:29.170\nSo, what I'm gonna do is run\nsystemctl enable libvertd.\n\n224\n00:11:30.430 --> 00:11:33.710\nIt's actually got a service,\nthe libvertd service.\n\n225\n00:11:33.710 --> 00:11:38.800\nAnd when I do libvert enable,\nor enable libvertd that's\n\n226\n00:11:38.800 --> 00:11:43.270\ngonna tell it to set it to start up boot\ntime, and go ahead and start it right now.\n\n227\n00:11:43.270 --> 00:11:48.380\nSo, I see all these links that it just\ncreated inside of the system D's folder\n\n228\n00:11:48.380 --> 00:11:51.160\nto tell it, hey when you boot up,\nhere's libvertd .service,\n\n229\n00:11:51.160 --> 00:11:52.510\nthat's the real important one.\n\n230\n00:11:52.510 --> 00:11:57.670\nBut we've also got virtlockd.socket,\nand virtlogd.socket.\n\n231\n00:11:57.670 --> 00:12:01.360\nThose sockets is so we can track\nwhich VMs are running right now,\n\n232\n00:12:01.360 --> 00:12:03.670\nin other words locked,\nand then where we log to.\n\n233\n00:12:03.670 --> 00:12:06.280\nSo, all that gets set up,\nand it should be started.\n\n234\n00:12:06.280 --> 00:12:10.080\nIf you had enabled it in the past,\nthen it won't start it here, so\n\n235\n00:12:10.080 --> 00:12:14.690\nyou might need to just throw in one\nmore systemctl start libvirte, but\n\n236\n00:12:14.690 --> 00:12:15.640\nit's probably already starting.\n\n237\n00:12:15.640 --> 00:12:17.970\nIf you're about to reboot it\ndoesn't matter, you just reboot and\n\n238\n00:12:17.970 --> 00:12:18.990\nit'll star then, okay?\n\n239\n00:12:18.990 --> 00:12:22.620\nTo save time I'm not gonna restart.\n\n240\n00:12:22.620 --> 00:12:26.390\nNow, if you don't restart the KVM\nkernel modules can't load.\n\n241\n00:12:26.390 --> 00:12:30.158\nAnd you're not gonna be able to use\nthe KVM piece, the hypervisor piece.\n\n242\n00:12:30.158 --> 00:12:32.540\nThat means qemu gonna do all the work and\n\n243\n00:12:32.540 --> 00:12:35.830\nyou're gonna get that warning about\nyour VMs being slow, all right?\n\n244\n00:12:35.830 --> 00:12:36.569\nLet's talk about that warning.\n\n245\n00:12:38.240 --> 00:12:40.310\nWe have the GY in the command line.\n\n246\n00:12:40.310 --> 00:12:41.660\nLet's start with the GY.\n\n247\n00:12:41.660 --> 00:12:46.970\nI may go and start the application and\nI'm gonna go down to system tools and\n\n248\n00:12:46.970 --> 00:12:52.300\nway down the bottom of system tools\nI'll see the virtual machine manager.\n\n249\n00:12:52.300 --> 00:12:54.250\nRight there the vert manager.\n\n250\n00:12:54.250 --> 00:12:57.050\nAnd that guy right there is\na graphical user interface.\n\n251\n00:12:57.050 --> 00:12:58.060\nAnd see how it's gonna prompt me?\n\n252\n00:12:58.060 --> 00:13:01.460\nI've gotta be an admin\nto work with this stuff.\n\n253\n00:13:01.460 --> 00:13:07.970\nAnd so, now I'm seeing the GUI for\nqemu-kvm.\n\n254\n00:13:07.970 --> 00:13:09.350\nAnd it's actually more than that, right?\n\n255\n00:13:09.350 --> 00:13:12.940\nIt's the lib vert kinda front end so\nI could have other systems, but\n\n256\n00:13:12.940 --> 00:13:14.210\nit's detected that I've got QEMUKVM.\n\n257\n00:13:14.210 --> 00:13:17.360\nSo, it found that and it shows it right\nthere and it's got a link together.\n\n258\n00:13:17.360 --> 00:13:20.010\nI don't have any virtual machines,\n\n259\n00:13:20.010 --> 00:13:22.510\nI need to create some before\nwe actually get anywhere.\n\n260\n00:13:22.510 --> 00:13:24.260\nBut it does show up and\n\n261\n00:13:24.260 --> 00:13:26.860\nnow I can use this button here to\nstart creating virtual machines.\n\n262\n00:13:26.860 --> 00:13:29.820\nThere's not a whole lot that we can\ntweak in the way of preferences.\n\n263\n00:13:31.590 --> 00:13:36.120\nWhen we fire this up, if we're\nrunning the virtualization platform\n\n264\n00:13:36.120 --> 00:13:38.410\nright here on this server it's\ngonna automatically connect.\n\n265\n00:13:39.430 --> 00:13:42.490\nIf it's running on a different server,\nmaybe this is my desktop and\n\n266\n00:13:42.490 --> 00:13:45.260\nI've got a headless server somewhere\nthat's actually running the VMs.\n\n267\n00:13:46.390 --> 00:13:48.630\nI can go to File and Add Connection.\n\n268\n00:13:48.630 --> 00:13:52.460\nAnd I can specify the other hypervisor\nthat I want to connect to, and\n\n269\n00:13:52.460 --> 00:13:53.510\nhow I want to connect to it.\n\n270\n00:13:53.510 --> 00:13:54.960\nAm I doing an SSH tunnel?\n\n271\n00:13:54.960 --> 00:13:55.870\nIs it some other method?\n\n272\n00:13:55.870 --> 00:13:57.260\nHow is it I'm connecting?\n\n273\n00:13:57.260 --> 00:14:02.200\nAnd if you look, I've got QEMUKVM and Zen.\n\n274\n00:14:02.200 --> 00:14:03.880\nAnd QEMKVM has two modes.\n\n275\n00:14:03.880 --> 00:14:06.370\nThere's user mode and kernel mode.\n\n276\n00:14:06.370 --> 00:14:07.730\nIt runs in kernel mode by default.\n\n277\n00:14:07.730 --> 00:14:11.780\nUser mode is actually a super pain to\nset up, and it's the idea where we have\n\n278\n00:14:11.780 --> 00:14:14.980\nthe virtual machine running in that user's\nspace, so that they can control it.\n\n279\n00:14:14.980 --> 00:14:17.620\nYou might do that in a dev environment\nwhere you want a developer to be able to\n\n280\n00:14:17.620 --> 00:14:18.530\ncreate their own machines.\n\n281\n00:14:18.530 --> 00:14:20.230\nBut normally it's applied this way.\n\n282\n00:14:20.230 --> 00:14:23.670\nSo, I can connect to those systems and\nI can manage them all from one place.\n\n283\n00:14:23.670 --> 00:14:27.550\nSo, I might not have a GUI on\nmy actual virtualization server.\n\n284\n00:14:27.550 --> 00:14:32.510\nBut on my desktop I can run the GUI and\nconnect to it and manage it all from here.\n\n285\n00:14:32.510 --> 00:14:35.640\nAnd so from here in the GUI it's\nreal easy to do everything else.\n\n286\n00:14:35.640 --> 00:14:39.180\nIf you go to edit and preferences you'll\nsee a few things that we can tweak like\n\n287\n00:14:39.180 --> 00:14:41.630\nturning on a system icon that's exciting.\n\n288\n00:14:41.630 --> 00:14:45.430\nThe things we really care about\nare defaults for new virtual machines so\n\n289\n00:14:45.430 --> 00:14:46.550\nhere's the default options.\n\n290\n00:14:46.550 --> 00:14:47.520\nLet me create one.\n\n291\n00:14:47.520 --> 00:14:49.890\nWe'll see these in a minute\nwhen I actually create one.\n\n292\n00:14:49.890 --> 00:14:53.380\nThe console settings for when I access the\nconsole, the main things I care about here\n\n293\n00:14:53.380 --> 00:14:59.060\nis whether we go full screen or whether we\nstay in a window, and then the grab keys.\n\n294\n00:14:59.060 --> 00:15:00.280\nWhen you launch a virtual machine and\n\n295\n00:15:00.280 --> 00:15:03.000\nyou click inside of the window\nit's gonna capture your mouse, and\n\n296\n00:15:03.000 --> 00:15:06.630\nif you wanna release the mouse you need\nto use these grab keys to release it.\n\n297\n00:15:06.630 --> 00:15:09.590\nAnd it lets you define those right here,\nyou can set it to whatever you want.\n\n298\n00:15:09.590 --> 00:15:13.970\nNotice that it's the left control and\nleft alternate keys by default, so\n\n299\n00:15:13.970 --> 00:15:16.430\nI can hit control alt to release.\n\n300\n00:15:18.120 --> 00:15:21.760\nFeedback is just whether or not we're\nactually doing confirmation on certain\n\n301\n00:15:21.760 --> 00:15:23.040\nactions, you can turn those on and off.\n\n302\n00:15:23.040 --> 00:15:24.410\nThey get kind of annoying after a while.\n\n303\n00:15:25.940 --> 00:15:28.560\nAll right, so if I whip up a virtual\nmachine here, I'm just gonna hit that.\n\n304\n00:15:28.560 --> 00:15:30.260\nAnd I've got my different options for\n\n305\n00:15:30.260 --> 00:15:32.440\nwhere I'm gonna get\nthe operating system from.\n\n306\n00:15:32.440 --> 00:15:36.150\nNow, let me throw a, I'll mention this\nagain when we get to the command line,\n\n307\n00:15:36.150 --> 00:15:37.820\ncuz it's really important there.\n\n308\n00:15:37.820 --> 00:15:45.910\nWhen you create a virtual machine, if it\ndoesn't have a graphics adapter on it.\n\n309\n00:15:45.910 --> 00:15:49.680\nIf we're just doing a text-based install,\na lot of times it'll create them\n\n310\n00:15:49.680 --> 00:15:52.040\nwith no console, and\nyou can't see what's going on.\n\n311\n00:15:52.040 --> 00:15:54.480\nAnd so, it's important that\nyou use kick start for those.\n\n312\n00:15:54.480 --> 00:15:56.809\nBut if we're doing a graphical install,\nit really doesn't matter,\n\n313\n00:15:56.809 --> 00:15:57.882\nyou can pick whatever you want.\n\n314\n00:15:57.882 --> 00:16:00.604\nSo, I'm gonna get an option a few screens\nfrom now where it asks about the graphics\n\n315\n00:16:00.604 --> 00:16:01.880\nand I'll need to make that decision.\n\n316\n00:16:01.880 --> 00:16:03.479\nBut here I just need to pick\nwhere I'm installing from.\n\n317\n00:16:03.479 --> 00:16:06.809\nIf I'm doing a kick start, I'll probably\nwant to point to a network install.\n\n318\n00:16:06.809 --> 00:16:10.754\nBut I've got an ISO image or\na CDROM, so I'll choose that.\n\n319\n00:16:10.754 --> 00:16:14.394\nAnd notice my warning here,\nKVM is not available.\n\n320\n00:16:14.394 --> 00:16:16.474\nThis may mean the KVM\npackage is not installed or\n\n321\n00:16:16.474 --> 00:16:18.560\nthe KVM kernel modules are not loaded.\n\n322\n00:16:18.560 --> 00:16:20.590\nYour virtual machines may perform poorly.\n\n323\n00:16:20.590 --> 00:16:21.580\nI didn't reboot.\n\n324\n00:16:21.580 --> 00:16:22.970\nWell even if I did reboot,\n\n325\n00:16:22.970 --> 00:16:26.140\nI'm on this Mac hardware that Apple has\npurposefully crippled for whatever reason.\n\n326\n00:16:26.140 --> 00:16:29.960\nSo KVM's not gonna load for me because\nmy hypervisor isn't mapping, right?\n\n327\n00:16:29.960 --> 00:16:32.500\nIf you see this, it either means\n\n328\n00:16:32.500 --> 00:16:36.880\nvirtualization extensions are turned\noff in BIOS, or you haven't rebooted.\n\n329\n00:16:36.880 --> 00:16:40.200\nOr your system just doesn't have\nvirtualization extensions, and\n\n330\n00:16:40.200 --> 00:16:43.100\nyou should probably consider upgrading\nin order to get that support.\n\n331\n00:16:43.100 --> 00:16:48.100\nSo on mine, even though it's QEMU/KVM,\nit's just gonna run in QEMU mode.\n\n332\n00:16:48.100 --> 00:16:51.680\nAnd I don't even know that necessarily,\nunless I see this warning.\n\n333\n00:16:51.680 --> 00:16:53.890\nIf I ignore it,\neverything else operates the same way.\n\n334\n00:16:53.890 --> 00:16:54.900\nIt just operates a little slower.\n\n335\n00:16:56.270 --> 00:16:56.960\nAll right, on the next screen,\n\n336\n00:16:56.960 --> 00:16:59.750\nI need to tell it where to\nget my installation media.\n\n337\n00:16:59.750 --> 00:17:01.410\nAnd so I can come in here,\nand I can specify it.\n\n338\n00:17:01.410 --> 00:17:04.410\nNow if you're doing an ISO file,\nyou can put it wherever you want.\n\n339\n00:17:04.410 --> 00:17:06.530\nBut when we create these virtual machines,\n\n340\n00:17:06.530 --> 00:17:12.180\ntheir hard drives are gonna default\nto /var/lib/libvirt/images.\n\n341\n00:17:12.180 --> 00:17:14.780\nI usually encourage people to\nput the ISO files there, too.\n\n342\n00:17:14.780 --> 00:17:18.830\nThe main reason is SE Linux is restricting\naccess to what this software can get to,\n\n343\n00:17:18.830 --> 00:17:20.320\nand that folder is in the approved list.\n\n344\n00:17:20.320 --> 00:17:21.810\nIf you put it somewhere else,\nyou gotta go and approve it.\n\n345\n00:17:21.810 --> 00:17:24.090\nIt's usually just easier\nto throw it right there.\n\n346\n00:17:24.090 --> 00:17:27.390\nBut you might have an NFS location\nthat has it, and you can specify that.\n\n347\n00:17:27.390 --> 00:17:29.260\nAnd you can browse and find it,\nand whatever you want.\n\n348\n00:17:29.260 --> 00:17:33.420\nNow, there's this option to automatically\ndetect the operating system.\n\n349\n00:17:33.420 --> 00:17:35.830\nI've literally never seen that work.\n\n350\n00:17:35.830 --> 00:17:38.480\nI don't really understand why it's even\nthere cuz it doesn't seem to work.\n\n351\n00:17:38.480 --> 00:17:40.340\nIt must work for somebody, but not me.\n\n352\n00:17:40.340 --> 00:17:44.250\nSo I'm gonna uncheck that, and\ntell it that I'm running Red Hat.\n\n353\n00:17:45.260 --> 00:17:48.200\nAnd I'll tell it Red Hat Enterprise Linux,\nso I'm just gonna set that.\n\n354\n00:17:48.200 --> 00:17:52.110\nIf you don't get it right, what this does\nis it tries to load virtualization drivers\n\n355\n00:17:52.110 --> 00:17:54.990\non it that lets your mouse not get\nlocked when you click on it, and\n\n356\n00:17:54.990 --> 00:17:56.750\nlets a few other features work.\n\n357\n00:17:56.750 --> 00:17:59.400\nIf it doesn't work, it's still fine.\n\n358\n00:17:59.400 --> 00:18:02.390\nThe virtual machine is going to run, it's\njust a little more inconvenient to you.\n\n359\n00:18:02.390 --> 00:18:05.410\nSo what you're doing here is\nactually telling it which\n\n360\n00:18:06.410 --> 00:18:09.640\ndrivers to load into that virtual machine,\nif you want that.\n\n361\n00:18:09.640 --> 00:18:12.930\n&gt;&gt; And it's not like some of the other\nvirtualization software, where it's got\n\n362\n00:18:12.930 --> 00:18:17.660\na template and it gives you a base amount\nof memory or a base amount of cores.\n\n363\n00:18:17.660 --> 00:18:19.650\nIt's just kind of like you said,\nit just sets the framework for\n\n364\n00:18:19.650 --> 00:18:21.350\nthe drivers that are gonna be included.\n\n365\n00:18:21.350 --> 00:18:24.570\n&gt;&gt; Yeah, it actually does have some little\nrecommendations that come up in a minute.\n\n366\n00:18:24.570 --> 00:18:27.080\nBut to be honest with you,\nI don't know if it comes from that or not.\n\n367\n00:18:27.080 --> 00:18:27.630\nI don't think it does.\n\n368\n00:18:27.630 --> 00:18:31.310\nI think it's just kind of a standard junky\nthing that's never enough anyway, so\n\n369\n00:18:31.310 --> 00:18:32.170\nyou always end up changing it.\n\n370\n00:18:32.170 --> 00:18:35.260\nWhich we'll see right here in the next\nscreen, the amount of memory and\n\n371\n00:18:35.260 --> 00:18:37.170\nthe amount of CPUs I have.\n\n372\n00:18:37.170 --> 00:18:40.230\nIt's picked a blazing 1 meg of memory,\nand 1 CPU.\n\n373\n00:18:40.230 --> 00:18:41.987\nYou know what I could do,\nI could just go back in here.\n\n374\n00:18:41.987 --> 00:18:45.802\nAnd let's just tell it we're doing\nWindows, we'll do Windows 10.\n\n375\n00:18:45.802 --> 00:18:47.097\nIt did, it did actually adjust it.\n\n376\n00:18:47.097 --> 00:18:48.658\nSo it must be coming from that template.\n\n377\n00:18:48.658 --> 00:18:50.379\nSo there is a reason to pick it.\n\n378\n00:18:50.379 --> 00:18:53.429\nBut anyhow,\nwe're not gonna do Windows today.\n\n379\n00:18:53.429 --> 00:18:56.100\nWe'll save that punishment for\nanother day, and we'll go back here.\n\n380\n00:18:56.100 --> 00:18:58.210\nNow I want more than 1\nmeg of memory anyway.\n\n381\n00:18:58.210 --> 00:19:01.750\nSo I'm gonna bump this up,\nI'll do 2 gigs of memory.\n\n382\n00:19:01.750 --> 00:19:03.730\nI think I said 1 meg a minute ago.\n\n383\n00:19:03.730 --> 00:19:05.640\nI'm gonna go to 2 CPUs.\n\n384\n00:19:05.640 --> 00:19:09.260\nSo 2 gigs of memory, 2 CPUs, and\nI'll go ahead and move forward.\n\n385\n00:19:09.260 --> 00:19:09.910\nBe careful with this.\n\n386\n00:19:09.910 --> 00:19:11.720\nSee how it says, Up to 2 available?\n\n387\n00:19:11.720 --> 00:19:16.350\nI've got two sockets, or not two sockets,\nbut two cores in my processor.\n\n388\n00:19:16.350 --> 00:19:19.214\nYou might have a quad core or\na six core, an octa core, whatever.\n\n389\n00:19:19.214 --> 00:19:20.930\nAnd you can go up to that maximum limit.\n\n390\n00:19:20.930 --> 00:19:22.310\nYou can't go beyond it.\n\n391\n00:19:22.310 --> 00:19:24.595\nIf you go beyond it,\nyou're over subscribing your processors.\n\n392\n00:19:24.595 --> 00:19:26.120\nAnd that's a recipe for disaster.\n\n393\n00:19:27.860 --> 00:19:31.520\nAll right, then my disk space,\nI'll do 20 gigs.\n\n394\n00:19:31.520 --> 00:19:32.940\nSo I'll specify that.\n\n395\n00:19:32.940 --> 00:19:35.220\nI can pick a custom storage solution.\n\n396\n00:19:35.220 --> 00:19:38.010\nIf I've got a SAN-mounted or whatever and\nI want to push over to that, I can.\n\n397\n00:19:38.010 --> 00:19:41.800\nOtherwise, it's gonna go in the default\nlocation, which is fine for me.\n\n398\n00:19:41.800 --> 00:19:43.570\nAnd I'll go ahead and move forward,\nand I can give it a name.\n\n399\n00:19:43.570 --> 00:19:46.592\nI'm gonna call this one webserver01,\nright?\n\n400\n00:19:46.592 --> 00:19:51.650\nAnd looking down here, see how it's\ngoing to /var/lib/libvirt/images?\n\n401\n00:19:51.650 --> 00:19:53.600\nThat's that default location,\nI'm fine with that.\n\n402\n00:19:53.600 --> 00:19:57.698\nAnd it's calling it webserver01.qcow.2.\n\n403\n00:19:57.698 --> 00:20:01.960\nqcow.2 is the image format that\nQEMU stores in by default.\n\n404\n00:20:01.960 --> 00:20:06.890\nRemember that QEMU is virtualizing the\ndisk, not KVM, and so it's in that format.\n\n405\n00:20:06.890 --> 00:20:10.100\nYou can actually tweak it, and\nhave it store in other formats.\n\n406\n00:20:10.100 --> 00:20:12.120\nBut you get the best\nperformance with qcow, so\n\n407\n00:20:12.120 --> 00:20:14.020\nthat's one you normally wanna stick with.\n\n408\n00:20:14.020 --> 00:20:17.000\nAll right, and then down here hidden\nat the bottom is the network.\n\n409\n00:20:17.000 --> 00:20:19.214\nBy default,\nthis is gonna create a virtual network.\n\n410\n00:20:19.214 --> 00:20:22.240\nAnd it's gonna NAT, or\nNetwork Address Translate,\n\n411\n00:20:22.240 --> 00:20:24.640\nthe IP to whatever the IP is of my server.\n\n412\n00:20:24.640 --> 00:20:25.310\nYou might not want that.\n\n413\n00:20:25.310 --> 00:20:27.140\nYou might wanna bridge it to a device.\n\n414\n00:20:27.140 --> 00:20:30.119\nSo I can bridge it my en0,\nmy first ethernet adaptor, or\n\n415\n00:20:30.119 --> 00:20:32.114\nsome other device that's out there.\n\n416\n00:20:32.114 --> 00:20:32.970\nI'm gonna leave mine at NAT.\n\n417\n00:20:34.430 --> 00:20:37.500\nAnd then I'll finish that up, and\nit's gonna create that virtual machine.\n\n418\n00:20:37.500 --> 00:20:40.220\nIt's gonna create it, and\nit's going to boot it up.\n\n419\n00:20:40.220 --> 00:20:45.570\nAnd so what I'm seeing here is the console\nof that machine as it starts to boot.\n\n420\n00:20:45.570 --> 00:20:49.778\nAnd on that console, we're going to see\nthe video output of the installer as it\n\n421\n00:20:49.778 --> 00:20:52.585\nboots off the ISO image,\nunless my ISO image is corrupt.\n\n422\n00:20:52.585 --> 00:20:55.675\nThen it's gonna start running through that\ninstallation process just like it would\n\n423\n00:20:55.675 --> 00:20:56.885\nany other machine.\n\n424\n00:20:56.885 --> 00:20:58.585\nSo I've now got a VM that's up and\n\n425\n00:20:58.585 --> 00:21:03.795\nrunning that I can start to work with,\nand use, and do whatever, right.\n\n426\n00:21:03.795 --> 00:21:07.285\nNow remember one of the things I\nmentioned is that when it boots,\n\n427\n00:21:07.285 --> 00:21:10.350\nif it's not set to output\nthe console correctly,\n\n428\n00:21:10.350 --> 00:21:13.010\nyou might end up with a black\nscreen like I'm seeing here.\n\n429\n00:21:13.010 --> 00:21:14.640\nAnd that's where Kickstart\ncan really help.\n\n430\n00:21:14.640 --> 00:21:19.590\nBecause in your Kickstart files, you can\ntell it hey, display on the local console,\n\n431\n00:21:19.590 --> 00:21:21.560\nso I see what I'm supposed to see.\n\n432\n00:21:21.560 --> 00:21:27.210\nAnd reach out to the server and\nget this installation file, and so on.\n\n433\n00:21:27.210 --> 00:21:29.320\nYou can tell it to do the things\nthat you need it to do.\n\n434\n00:21:30.380 --> 00:21:33.290\nIf you don't, you could end up with\na black screen like I'm seeing here cuz\n\n435\n00:21:33.290 --> 00:21:37.380\nI don't have that Kickstart side,\nall right.\n\n436\n00:21:37.380 --> 00:21:42.030\nMy mouse was trapped in there and then\nI hit Ctrl+Alt, the left Ctrl and Alt,\n\n437\n00:21:42.030 --> 00:21:44.280\nto release my mouse so\nI can get it back out.\n\n438\n00:21:44.280 --> 00:21:46.390\nAnd we've got our various menus\nup here for the virtual machine.\n\n439\n00:21:46.390 --> 00:21:49.310\nThis is all stuff you've seen with\nany other virtualization software.\n\n440\n00:21:49.310 --> 00:21:50.750\nI can clone, migrate, delete.\n\n441\n00:21:50.750 --> 00:21:53.320\nI can pause it, shut it down,\nand restart it.\n\n442\n00:21:53.320 --> 00:21:54.609\nYou can do all that stuff.\n\n443\n00:21:54.609 --> 00:21:58.400\nYou can also jump in and tweak other\nsettings about the virtual machine.\n\n444\n00:21:58.400 --> 00:22:00.480\nThere's a lot of different\nstuff that we can do here.\n\n445\n00:22:00.480 --> 00:22:02.900\nThere's some things you\ncan't do while it's running.\n\n446\n00:22:02.900 --> 00:22:06.050\nAnd so you might need to shut it\ndown to make a particular change.\n\n447\n00:22:06.050 --> 00:22:08.180\nBut for the most part,\nyou see what you need.\n\n448\n00:22:08.180 --> 00:22:09.860\nIf I get into my virtual hardware details,\n\n449\n00:22:09.860 --> 00:22:13.930\nhere's where I can see the CPUs\nthat were defined and the memory.\n\n450\n00:22:13.930 --> 00:22:15.370\nAnd we can change these.\n\n451\n00:22:15.370 --> 00:22:19.070\nSome of them won't take effect until\nyou reboot, so be aware of that.\n\n452\n00:22:19.070 --> 00:22:22.010\nI can see this virtual CD drive\n\n453\n00:22:22.010 --> 00:22:24.970\nthat's mapped to that ISO file\nthat I specified earlier.\n\n454\n00:22:24.970 --> 00:22:28.230\nSo it's got access to it, and\nit's all kind of showing up right there.\n\n455\n00:22:29.480 --> 00:22:32.400\nSo that's creating a virtual\nmachine through the GUI.\n\n456\n00:22:32.400 --> 00:22:35.660\nAnd I know it's running cuz I can\nsee that CPU up right there, and\n\n457\n00:22:35.660 --> 00:22:38.110\nit's moving through\nthe installer right now.\n\n458\n00:22:38.110 --> 00:22:39.570\nI just can't see it.\n\n459\n00:22:39.570 --> 00:22:43.560\nWhen it's done and then it reboots,\nthen I'll actually see that GUI.\n\n460\n00:22:43.560 --> 00:22:44.180\nAll right,\n\n461\n00:22:44.180 --> 00:22:48.810\nnow the cool thing about this is that\nit's all using libvirt behind the scenes.\n\n462\n00:22:48.810 --> 00:22:52.360\nAnd libvirt has a command\nline utility available too.\n\n463\n00:22:52.360 --> 00:22:53.850\nThere's two big ones that\nwe need to know about.\n\n464\n00:22:53.850 --> 00:22:57.310\nThere's virt-install, which we use for\ncreating virtual machines.\n\n465\n00:22:57.310 --> 00:23:02.280\nAnd there's virsh, V-I-R-S-H,\nwhich is the virtualization shell.\n\n466\n00:23:02.280 --> 00:23:06.120\nAnd between those two commands,\nwe can do everything the GUI does, but\n\n467\n00:23:06.120 --> 00:23:07.950\nright from our CLI.\n\n468\n00:23:07.950 --> 00:23:09.790\nSo let's take a look at that real quick.\n\n469\n00:23:09.790 --> 00:23:14.720\nIf I wanted to create webserver number\ntwo, I could drop into my shell, and\n\n470\n00:23:14.720 --> 00:23:16.390\nI could start to get that set up.\n\n471\n00:23:16.390 --> 00:23:19.870\nSo from the shell, let me see,\nwhat folder did I stay?\n\n472\n00:23:19.870 --> 00:23:23.650\nLet me get into /lib/,\n\n473\n00:23:23.650 --> 00:23:29.785\nsorry /var/lib/libvirt/images.\n\n474\n00:23:29.785 --> 00:23:33.770\nAll right, so if I look in here,\nI see I've got two files now.\n\n475\n00:23:35.320 --> 00:23:39.798\nI've got my ISO image that used for the\ninstall, but I also have webserver01.qcow.\n\n476\n00:23:39.798 --> 00:23:43.665\nIt created that 21 gig file,\nit's owned by qemu.\n\n477\n00:23:43.665 --> 00:23:45.660\nIt's up, it's running,\nit's kinda doing its thing.\n\n478\n00:23:45.660 --> 00:23:47.610\nSo it's moving along, and\nI'm not gonna mess with that one.\n\n479\n00:23:47.610 --> 00:23:49.980\nI want to create webserver02.\n\n480\n00:23:49.980 --> 00:23:54.110\nBut I wanna do it right here\nfrom the command line, okay.\n\n481\n00:23:54.110 --> 00:23:57.820\nSo if I wanna do that, well I've\ngotta know a few different commands.\n\n482\n00:23:57.820 --> 00:24:01.364\nAnd the commands are sometimes long ones.\n\n483\n00:24:01.364 --> 00:24:05.988\nFor example if I wanna do, just show me\nthe virtual machines that are running on\n\n484\n00:24:05.988 --> 00:24:08.173\nthe system right now I can use virsh.\n\n485\n00:24:08.173 --> 00:24:10.960\nI need to tell it who I'm\nconnecting to though, right?\n\n486\n00:24:10.960 --> 00:24:16.340\nIf I just run virsh and\nthen a command like if I do list--all.\n\n487\n00:24:16.340 --> 00:24:18.790\nShow me all the virtual\nmachines you're running, okay?\n\n488\n00:24:18.790 --> 00:24:20.410\nWell, it's going to connect to me.\n\n489\n00:24:21.450 --> 00:24:25.852\nBut if I'm running this on my desktop and\nit's a headless server out there\n\n490\n00:24:25.852 --> 00:24:28.390\nsomewhere that I need to connect to,\nI need to add a little more to that.\n\n491\n00:24:28.390 --> 00:24:36.100\nI would need to say virsh--connect and\nthen tell it who I'm connecting to.\n\n492\n00:24:36.100 --> 00:24:41.677\nAnd so I would come in here and say like,\nserver01.lab.itpro.tv list--all,\n\n493\n00:24:41.677 --> 00:24:46.870\nand it would run it against that other\nsystem and it would reach out and do it.\n\n494\n00:24:46.870 --> 00:24:49.700\nThat --connect is kind of important\nunless you're managing the machine\n\n495\n00:24:49.700 --> 00:24:50.740\nthat you're on.\n\n496\n00:24:50.740 --> 00:24:54.810\nI'm on the machine, so I can leave that\noff and just run it simpler, right?\n\n497\n00:24:54.810 --> 00:24:56.350\nAnother thing you can do, oops.\n\n498\n00:24:56.350 --> 00:24:57.920\nGonna need to correct that.\n\n499\n00:24:57.920 --> 00:25:00.490\nIf you just get tired of doing\nthat connect over and over and\n\n500\n00:25:00.490 --> 00:25:03.180\nover again, you can set a variable for it.\n\n501\n00:25:03.180 --> 00:25:08.710\nIf you do export and you would put\nthis in like your bashrc file so\n\n502\n00:25:08.710 --> 00:25:10.310\nit runs every time you open up a shell.\n\n503\n00:25:10.310 --> 00:25:17.172\nBut if we do export LIBVERT_DEFAULT_URI.\n\n504\n00:25:17.172 --> 00:25:21.500\nActually it's LIBVIRT spelled correctly,\nthere we go.\n\n505\n00:25:21.500 --> 00:25:25.396\nLIBVIRT DEFAULT URI equals qemu:/// and\n\n506\n00:25:25.396 --> 00:25:31.480\nthen the name of that system it's\ngonna store in that variable.\n\n507\n00:25:31.480 --> 00:25:34.410\nAnd now every time you run virsh it's\n\n508\n00:25:34.410 --> 00:25:35.820\ngonna automatically put\nthat connection in.\n\n509\n00:25:35.820 --> 00:25:38.430\nSo that'll save you from having to\ndo it over and over and over again.\n\n510\n00:25:38.430 --> 00:25:40.018\nI don't need it cuz I'm on my own machine.\n\n511\n00:25:40.018 --> 00:25:42.960\nAll right, so\n\n512\n00:25:42.960 --> 00:25:46.910\nI got the virsh and it'll let me start and\nstop machine is and all that good stuff.\n\n513\n00:25:46.910 --> 00:25:52.060\nI can do the virsh shut down web server\n01 and it's going to go and shut it down.\n\n514\n00:25:52.060 --> 00:25:53.980\nSee how it says it's shutting down.\n\n515\n00:25:53.980 --> 00:25:56.740\nAnd if I look in the background\nhere web server 1 running, but\n\n516\n00:25:56.740 --> 00:25:59.300\nit started the shutdown process,\nalthough its gonna\n\n517\n00:25:59.300 --> 00:26:02.620\nbe kind of angry cuz it was installing and\nit'll shut down in just a moment.\n\n518\n00:26:02.620 --> 00:26:04.020\nSo we can kind of control those.\n\n519\n00:26:04.020 --> 00:26:06.910\nYou can do start just as well, so\n\n520\n00:26:06.910 --> 00:26:10.730\nyou can start up a virtual machine and\nget that going.\n\n521\n00:26:10.730 --> 00:26:15.674\nBut if I want to create a new VM,\nthat's where I need to use virt-install.\n\n522\n00:26:15.674 --> 00:26:18.821\nVirt-install is what's gonna\nlet me create a new machine and\n\n523\n00:26:18.821 --> 00:26:22.670\nspecify all the options that we saw\nin the GUI wizard a minute ago.\n\n524\n00:26:22.670 --> 00:26:26.500\nGUI's always easier to use,\nbut from the command line here\n\n525\n00:26:26.500 --> 00:26:29.650\nif I want to create one I just need\nto give it all those various values.\n\n526\n00:26:29.650 --> 00:26:38.484\nI'm going to say --\nname=webserver02 --ram=2048.\n\n527\n00:26:38.484 --> 00:26:41.768\nI'll do --vcpus=2.\n\n528\n00:26:41.768 --> 00:26:45.319\nI'm trying to pick all the same stuff\nI did in the wizard a minute ago.\n\n529\n00:26:45.319 --> 00:26:47.105\nHere's a tricky one,\n\n530\n00:26:47.105 --> 00:26:53.240\nI can specify where the source of\nthe installation files are coming in.\n\n531\n00:26:53.240 --> 00:26:58.370\nI can do --cdrom and I can point to\na physical cd rom on my system, but\n\n532\n00:26:58.370 --> 00:27:00.840\nthere's some quirks with that,\nsome things that don't quite work.\n\n533\n00:27:00.840 --> 00:27:03.130\nThere's a few bugs that\nRed Hat's still addressing.\n\n534\n00:27:03.130 --> 00:27:06.300\nAnd so it's usually better to specify\na network location even if that location\n\n535\n00:27:06.300 --> 00:27:07.720\njust happens to be local.\n\n536\n00:27:07.720 --> 00:27:13.080\nAnd so the way that you do\nthat is by doing --location.\n\n537\n00:27:13.080 --> 00:27:18.017\nSo instead of --cdrom,\nsaying --location and\n\n538\n00:27:18.017 --> 00:27:20.770\nthen pointing to a path, and\n\n539\n00:27:20.770 --> 00:27:25.706\nin my case I'm going to\nsay /var/lib/libvirt,\n\n540\n00:27:25.706 --> 00:27:30.439\nwhich I keep spelling wrong, /images/rhel.\n\n541\n00:27:30.439 --> 00:27:34.187\nAnd now I'm pointing to my ISO file, so\n\n542\n00:27:34.187 --> 00:27:40.106\nlet me just get that punched in here,\n7.2 -x86_64.\n\n543\n00:27:40.106 --> 00:27:43.589\nThis is the funnest part of\nthe whole episode -dvd.iso.\n\n544\n00:27:43.589 --> 00:27:47.098\nAll right, so that's the ISO that\nI'm gonna be using as my source for\n\n545\n00:27:47.098 --> 00:27:50.019\nmy installation so\nthat it'll boot up and install from.\n\n546\n00:27:50.019 --> 00:27:56.792\nThen I can say --os-type=linux\n\n547\n00:27:56.792 --> 00:28:02.443\n--os-variant =rhel7.\n\n548\n00:28:02.443 --> 00:28:04.836\nIn the wizard earlier, it showed 7.3,\n\n549\n00:28:04.836 --> 00:28:08.700\nit actually doesn't differentiate\nto the sub, the decimal point.\n\n550\n00:28:08.700 --> 00:28:12.052\nSo 7.1 is equal to 7.3 for it,\nso I'm just gonna say rhel7.\n\n551\n00:28:12.052 --> 00:28:15.186\nAnd then if I wanna override the network,\nI can say network and\n\n552\n00:28:15.186 --> 00:28:19.222\nwhatever I want to specify, but the\ndefault is nat, and I'm okay with that, so\n\n553\n00:28:19.222 --> 00:28:21.630\nI'm gonna leave that part off.\n\n554\n00:28:21.630 --> 00:28:24.030\nAnd then here's the important part.\n\n555\n00:28:24.030 --> 00:28:26.440\nI can say --nographics.\n\n556\n00:28:26.440 --> 00:28:27.469\nA lot of times, we don't want a GUI.\n\n557\n00:28:27.469 --> 00:28:31.470\nWe're just gonna do a command line\ninstall, so I would do --nographics.\n\n558\n00:28:31.470 --> 00:28:34.060\nAnd when you do that, everything that's\n\n559\n00:28:34.060 --> 00:28:38.130\noutput from the virtual machine is\ngonna output to the serial console.\n\n560\n00:28:38.130 --> 00:28:43.101\nWell in the virtual machine manager I\ndon't see that serial console by default,\n\n561\n00:28:43.101 --> 00:28:46.401\nI see the video card which\nI'm disabling right here.\n\n562\n00:28:46.401 --> 00:28:49.787\nSo if I do this I need to make sure\nI have a kickstart file that tells it\n\n563\n00:28:49.787 --> 00:28:53.850\nthe terminal to use so it will actually\noutput and I'll see stuff on the screen.\n\n564\n00:28:53.850 --> 00:29:01.120\nOtherwise I can say --graphics and\nI could set it to spice.\n\n565\n00:29:01.120 --> 00:29:01.967\nSpice is an acronym.\n\n566\n00:29:01.967 --> 00:29:06.119\nI actually don't remember what it stands\nfor but it's a graphics layer that'll\n\n567\n00:29:06.119 --> 00:29:08.682\nactually give it what appears\nto be a video card and\n\n568\n00:29:08.682 --> 00:29:10.738\nlets it display on the screen.\n\n569\n00:29:10.738 --> 00:29:15.650\nWe don't normally do a GUI on a server,\nbut the Anaconda installer has a GUI, so\n\n570\n00:29:15.650 --> 00:29:17.180\nthat'll let us see it.\n\n571\n00:29:17.180 --> 00:29:18.600\nBut to be a little more realistic,\n\n572\n00:29:18.600 --> 00:29:22.190\nwe'd normally say --no graphics\nwhen we're building up a server VM.\n\n573\n00:29:23.780 --> 00:29:25.500\nAnd then I've got my disk.\n\n574\n00:29:25.500 --> 00:29:27.510\nSo I need to specify my disk.\n\n575\n00:29:27.510 --> 00:29:30.870\nAnd we do that by specifying\nthe path to the disk.\n\n576\n00:29:30.870 --> 00:29:39.394\nAnd in my case,\nit's gonna be /var/lib/libvirt/images.\n\n577\n00:29:39.394 --> 00:29:44.695\nAnd I'll call this one webserver02 and\nthen I need to tell\n\n578\n00:29:44.695 --> 00:29:49.902\nit that the disk so\nI'll say dsk-- sorry it's .dsk.\n\n579\n00:29:49.902 --> 00:29:52.580\nI am gonna do that format instead\nof the Q cal two, .dsk and\n\n580\n00:29:52.580 --> 00:29:54.123\nthen I'm gonna tell it the size.\n\n581\n00:29:54.123 --> 00:29:58.993\nRight, so my size on this one,\nwhat size did I do before I did 20?\n\n582\n00:29:58.993 --> 00:30:01.733\nSo size=20 is gonna be\nthe size of the disk.\n\n583\n00:30:01.733 --> 00:30:04.470\nSo I'm almost done.\n\n584\n00:30:04.470 --> 00:30:07.940\nOnce I've done that,\nI could stop here, but\n\n585\n00:30:07.940 --> 00:30:10.310\nI don't have a kickstart file,\nso it's not gonna load.\n\n586\n00:30:10.310 --> 00:30:11.540\nI'm not gonna be able to see anything.\n\n587\n00:30:11.540 --> 00:30:13.100\nSo I'm gonna add a little bit more to it.\n\n588\n00:30:13.100 --> 00:30:16.078\nI'm gonna come in and\nsay --extra -args, so\n\n589\n00:30:16.078 --> 00:30:19.436\nthese would be kernel arguments\nthat it passes to it.\n\n590\n00:30:19.436 --> 00:30:25.006\nAnd I'm gonna tell it console=tty0\n\n591\n00:30:25.006 --> 00:30:30.403\nconsole=ttys0, the serial one,\n\n592\n00:30:30.403 --> 00:30:35.112\nat 115200 for the speed.\n\n593\n00:30:35.112 --> 00:30:41.986\nAnd then 115200n8, so\nI'm setting the no parity and 8 stop bits.\n\n594\n00:30:41.986 --> 00:30:45.170\nAnd then I'll say serial.\n\n595\n00:30:45.170 --> 00:30:49.230\nSo what I'm doing is I'm telling it hey, I\nam not gonna give you a graphics card, so\n\n596\n00:30:49.230 --> 00:30:51.400\nyou just gotta go off the serial port.\n\n597\n00:30:51.400 --> 00:30:54.250\nAnd that's what I need to see\nwhen I view this machine, so\n\n598\n00:30:54.250 --> 00:30:55.860\nit's gonna set it up like that.\n\n599\n00:30:55.860 --> 00:30:57.998\nAnd assuming I didn't get\nany typos in all of that,\n\n600\n00:30:57.998 --> 00:30:59.610\nthat's the information it created.\n\n601\n00:30:59.610 --> 00:31:02.500\nYou see how much easier\nthe GUI is to use than this.\n\n602\n00:31:02.500 --> 00:31:05.120\nRunning it from the command line,\nthere's a lot that can go wrong here.\n\n603\n00:31:05.120 --> 00:31:06.040\nSo I'm gonna run that,\n\n604\n00:31:06.040 --> 00:31:10.280\nand there's an interesting\nproblem virt-install not found.\n\n605\n00:31:10.280 --> 00:31:12.260\nSo I'm missing the virt-install command.\n\n606\n00:31:12.260 --> 00:31:14.130\nWell, apparently I didn't install that.\n\n607\n00:31:14.130 --> 00:31:16.713\nSo let's do a yum list for virt-install,\n\n608\n00:31:16.713 --> 00:31:21.544\nand make sure that that's the package\nname and then we'll get that installed.\n\n609\n00:31:21.544 --> 00:31:22.752\nYeah, so I just need to install that.\n\n610\n00:31:22.752 --> 00:31:26.440\nSo let me get it installed.\n\n611\n00:31:26.440 --> 00:31:29.687\nNot a big deal, there we go.\n\n612\n00:31:29.687 --> 00:31:32.800\nAnd then I have to retype the whole thing.\n\n613\n00:31:32.800 --> 00:31:34.789\nWell no, here's where we really\nappreciate history, right?\n\n614\n00:31:34.789 --> 00:31:36.890\nSo we can run it, there we go.\n\n615\n00:31:36.890 --> 00:31:40.075\nAll right, so it's going through and it's\ncreating the disk, setting up the machine,\n\n616\n00:31:40.075 --> 00:31:41.250\ngetting it started.\n\n617\n00:31:41.250 --> 00:31:45.150\nAnd it's trying to open up\na console session to the machine so\n\n618\n00:31:45.150 --> 00:31:47.790\nthat it can display to me\nthe serial output, right?\n\n619\n00:31:47.790 --> 00:31:49.950\nSo in a moment as it accesses\nthat it'll pop up and\n\n620\n00:31:49.950 --> 00:31:52.560\nwe'll actually start to\nsee the installer start.\n\n621\n00:31:52.560 --> 00:31:54.450\nBut basically we've created\nthat virtual machine and\n\n622\n00:31:54.450 --> 00:31:56.320\nI'm going to break out of that.\n\n623\n00:31:56.320 --> 00:31:59.225\nI'm gonna try and break out of that.\n\n624\n00:31:59.225 --> 00:32:00.434\nThere we go.\n\n625\n00:32:00.434 --> 00:32:02.610\nAnd just kind of let it\nrun in the background.\n\n626\n00:32:02.610 --> 00:32:07.262\nAnd what I want to see is this guy right\nhere, is that it did create that disk,\n\n627\n00:32:07.262 --> 00:32:08.364\nwebserver02.\n\n628\n00:32:08.364 --> 00:32:09.820\nI did the dsk format.\n\n629\n00:32:09.820 --> 00:32:12.130\nAnd so I see it,\nI did 20 megs just like the other one so\n\n630\n00:32:12.130 --> 00:32:15.060\nthey're identical in size and\nthat virtual machine is up and running.\n\n631\n00:32:15.060 --> 00:32:20.830\nIf I go back to my GUI I can actually see\nin right there, webserver02, webserver01.\n\n632\n00:32:20.830 --> 00:32:23.466\nWebserver01 never did\nactually shut down did it?\n\n633\n00:32:23.466 --> 00:32:25.234\nHm, it's just kind of sitting there.\n\n634\n00:32:25.234 --> 00:32:28.473\nAnd then webserver02 is starting its\nboot process and going through it, but\n\n635\n00:32:28.473 --> 00:32:30.780\nI can manage it all\nright here from the GUI.\n\n636\n00:32:30.780 --> 00:32:34.150\nYou really start to appreciate the GUI\nwhen you run a command that's really long\n\n637\n00:32:34.150 --> 00:32:34.850\nlike that last one.\n\n638\n00:32:34.850 --> 00:32:37.750\nBut if you want to script and automate\nbeing able to do it from the command line\n\n639\n00:32:37.750 --> 00:32:39.280\nis a pretty handy thing to have.\n\n640\n00:32:39.280 --> 00:32:41.815\nSo just keep in mind\nthat you do have options,\n\n641\n00:32:41.815 --> 00:32:44.390\nthere's a lot of different stuff\nthat you could do with these things.\n\n642\n00:32:44.390 --> 00:32:49.100\nAnd they really are kind of just\nan easy way to work with the stuff and\n\n643\n00:32:49.100 --> 00:32:53.070\nget the virtual machines created,\nset up and working.\n\n644\n00:32:53.070 --> 00:32:54.400\nThis is the recommended method and\n\n645\n00:32:54.400 --> 00:32:58.830\nit's the cornerstone of OpenStack and\nOpenShift.\n\n646\n00:32:58.830 --> 00:33:01.880\nSo if you're moving into Red Hat's\nOpenStack initiative, which is really\n\n647\n00:33:01.880 --> 00:33:05.090\nan open initiative, this is what we\nstart to get a server ready and then we\n\n648\n00:33:05.090 --> 00:33:09.930\ncan bring it into our private cloud or our\npublic cloud and start to make use of it.\n\n649\n00:33:09.930 --> 00:33:11.879\nQEMU and KVM,\nit's kind of the cornerstone of all that.\n\n650\n00:33:11.879 --> 00:33:14.266\n&gt;&gt; Well,\nthat's a lot of great information, and\n\n651\n00:33:14.266 --> 00:33:17.920\nnothing like typing in a doctoral\nthesis to the command line, for sure.\n\n652\n00:33:17.920 --> 00:33:21.050\nAnd that was the simple protocol for\nindependent computing environments.\n\n653\n00:33:21.050 --> 00:33:24.580\nJust a crazy acronym that probably\nwon't do you much good after that.\n\n654\n00:33:24.580 --> 00:33:27.010\nBut it does look like we're coming\nto the end of another episode.\n\n655\n00:33:27.010 --> 00:33:30.090\nAnd before we do Don, do you have any\nparting words you'd like to let them know\n\n656\n00:33:30.090 --> 00:33:32.210\nabout all the components here?\n\n657\n00:33:32.210 --> 00:33:36.110\n&gt;&gt; Yeah, what we just talked about is\nlike the tip of the iceberg, the very,\n\n658\n00:33:36.110 --> 00:33:38.090\nvery shavings off the top.\n\n659\n00:33:38.090 --> 00:33:39.740\nVirtualization is a huge thing.\n\n660\n00:33:39.740 --> 00:33:42.270\nSo I just wanted to show you guys\nthe foundational steps to get the system\n\n661\n00:33:42.270 --> 00:33:43.240\nup and running.\n\n662\n00:33:43.240 --> 00:33:47.000\nFrom there you got a lot more work to\ngo to get everything kinda set up.\n\n663\n00:33:47.000 --> 00:33:50.000\nYou'll probably wanna set up\nredundant storage and clusters and\n\n664\n00:33:50.000 --> 00:33:53.100\nall sorts of other things to make your\nenvironment as flexible as possible,\n\n665\n00:33:53.100 --> 00:33:55.440\nnot to mention setting up\ncentralized management.\n\n666\n00:33:55.440 --> 00:33:58.470\nBut just to get the basic components\ngoing it's all right there built into\n\n667\n00:33:58.470 --> 00:34:01.730\nthe platform and\nall officially supported by Red Hat.\n\n668\n00:34:01.730 --> 00:34:04.260\nSo if I have a problem here,\nI can call Red Hat up and\n\n669\n00:34:04.260 --> 00:34:05.740\nsay what the heck's going on?\n\n670\n00:34:05.740 --> 00:34:07.810\nI can't see my console or whatever.\n\n671\n00:34:07.810 --> 00:34:10.130\nAnd they'll walk you through the process\nof making sure you can see the console\n\n672\n00:34:10.130 --> 00:34:11.040\nand get into it.\n\n673\n00:34:11.040 --> 00:34:15.181\nSo remember when you buy RHEL,\nyou're buying support, not the software.\n\n674\n00:34:15.181 --> 00:34:17.320\nThey give the software away for free.\n\n675\n00:34:17.320 --> 00:34:19.810\nYou buy support and so\nmake sure you take advantage of that.\n\n676\n00:34:19.810 --> 00:34:22.649\n&gt;&gt; Well, Don, basic or not,\nit all helps and thank you for\n\n677\n00:34:22.649 --> 00:34:24.110\njoining us here at ITProTV.\n\n678\n00:34:24.110 --> 00:34:26.486\nSigning out,\nI've been your host Wes Bryan.\n\n679\n00:34:26.486 --> 00:34:27.575\n&gt;&gt; And I'm Don Pezet.\n\n680\n00:34:27.575 --> 00:34:28.457\n&gt;&gt; And we'll see you next time.\n\n681\n00:34:28.457 --> 00:34:36.494\n[MUSIC]\n\n682\n00:34:36.494 --> 00:34:39.258\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "197960588"
        }
      ],
      "title": "Virtualization"
    }
  ],
  "url": "red-hat-linux",
  "vLab": false
}
