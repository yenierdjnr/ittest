{
  "description": "In this series, Mike explores several tools that are commonly used for Penetration Testing. He shows how the tools work, and explore their functionality. He also demonstrates how to create your own tools, like loading Kali Nethunter on a Nexus 7 and creating your own PwnPad.",
  "descriptionMD": "In this series, Mike explores several tools that are commonly used for Penetration Testing. He shows how the tools work, and explore their functionality. He also demonstrates how to create your own tools, like loading Kali Nethunter on a Nexus 7 and creating your own PwnPad.",
  "length": "17914",
  "name": "Security Tech Skills (2017)",
  "practiceExam": false,
  "subtitle": "Commonly used penetration tools",
  "tagUrl": "security-admin",
  "topics": [
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Mike explore common tools, techniques, and practices used in the pursuit of securing your environment. Here they specifically look at host discovery using the venerable Nmap scanner in both Linux and Windows.",
          "length": "1715",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-1-1-host_discovery-062017-PGM.00_00_12_06.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-1-1-host_discovery-062017-PGM.00_00_12_06.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-1-1-host_discovery-062017-PGM.00_00_12_06.Still001-sm.jpg",
          "title": "Host Discovery",
          "transcript": "WEBVTT\n\n1\n00:00:00.025 --> 00:00:00.942\nWelcome to ITPRO TV.\n\n2\n00:00:00.942 --> 00:00:02.300\nI'm your host Don Pezet.\n\n3\n00:00:02.300 --> 00:00:04.636\n[CROSSTALK]\n\n4\n00:00:04.636 --> 00:00:07.998\n[MUSIC]\n\n5\n00:00:07.998 --> 00:00:10.912\n&gt;&gt; You're watching ITPRO TV.\n\n6\n00:00:10.912 --> 00:00:13.286\n&gt;&gt; All right, greetings everyone and\n\n7\n00:00:13.286 --> 00:00:16.386\nwelcome to another great\nepisode of ITPRO TV.\n\n8\n00:00:16.386 --> 00:00:21.870\nI'm your host Daniel Lowrie and for\nthis episode we're having our inaugural\n\n9\n00:00:21.870 --> 00:00:24.880\nepisode of our Security Tech Skill course.\n\n10\n00:00:24.880 --> 00:00:27.720\nAnd we've been working hard to bring this\nto you because we know this is something\n\n11\n00:00:27.720 --> 00:00:32.120\nyou guys are really interested in,\nas am I and the person joining me.\n\n12\n00:00:32.120 --> 00:00:33.830\nOur good friend Mr. Mike Rodrick.\n\n13\n00:00:33.830 --> 00:00:35.010\nMike, how's it going man?\n\n14\n00:00:35.010 --> 00:00:36.330\n&gt;&gt; It's going great Daniel,\nglad to be here.\n\n15\n00:00:36.330 --> 00:00:39.480\nExcited as well, because it is fun stuff.\n\n16\n00:00:39.480 --> 00:00:42.110\n&gt;&gt; It is.\n&gt;&gt; You know it is exciting kind of stuff.\n\n17\n00:00:42.110 --> 00:00:43.980\nBut it's also important stuff.\n\n18\n00:00:43.980 --> 00:00:46.170\nIt's stuff that hopefully\nyou'll be able to use.\n\n19\n00:00:46.170 --> 00:00:49.770\nIf you're getting into security,\nif your job has come to you and\n\n20\n00:00:49.770 --> 00:00:54.320\nsay we need you to be kind of that guy and\ngal and\n\n21\n00:00:54.320 --> 00:00:59.010\nhelp protect our network then there's some\nbasic skills that you're going to need.\n\n22\n00:00:59.010 --> 00:01:01.620\nAnd that's really what we\nwant to cover in this series.\n\n23\n00:01:01.620 --> 00:01:04.770\nSome of the skills you should just have,\nthe basics.\n\n24\n00:01:04.770 --> 00:01:07.700\nWe're not talking about going out and\nwriting scripts and\n\n25\n00:01:07.700 --> 00:01:09.180\nthings like that just yet.\n\n26\n00:01:09.180 --> 00:01:11.630\nWe have courses for that,\nand that is fun as well.\n\n27\n00:01:11.630 --> 00:01:15.030\nBut here we want to get your feet\nwet in the world of security and\n\n28\n00:01:15.030 --> 00:01:17.410\nteach you some of\nthe skills that you need.\n\n29\n00:01:17.410 --> 00:01:18.460\nIn this inaugural episode,\n\n30\n00:01:18.460 --> 00:01:22.410\nwe're going to learn how to do\nsomething known as host discovery.\n\n31\n00:01:22.410 --> 00:01:26.550\nAnd what we really mean by that is\nwe need to go out to our network and\n\n32\n00:01:26.550 --> 00:01:27.735\nwe need to find out what's there.\n\n33\n00:01:27.735 --> 00:01:33.350\nAnd there's several reasons that we would\nwant to know what's on our network.\n\n34\n00:01:33.350 --> 00:01:38.219\nWe need to know what host we have,\nwhat clients we have on the network,\n\n35\n00:01:38.219 --> 00:01:41.536\nwhat servers,\nwhat access points were there.\n\n36\n00:01:41.536 --> 00:01:45.628\nAnd we need to make sure not only you're\ngonna know what should be there but\n\n37\n00:01:45.628 --> 00:01:49.380\nwe are also looking for\nthings that maybe shouldn't be there.\n\n38\n00:01:49.380 --> 00:01:52.955\nAll right, that strange machine\non the network, that's got and\n\n39\n00:01:52.955 --> 00:01:55.620\nIP address that's outside\nof your DHCP scope.\n\n40\n00:01:55.620 --> 00:02:00.080\nMay be it's in the right subnet but it's\nnot in your scope of dynamic addresses.\n\n41\n00:02:00.080 --> 00:02:01.720\nAnd so, what is it?\n\n42\n00:02:01.720 --> 00:02:02.710\nWhere did it come from?\n\n43\n00:02:02.710 --> 00:02:06.030\n&gt;&gt; So, Mike you are not talking about\nus walking around room to room,\n\n44\n00:02:06.030 --> 00:02:09.540\ntable to table with a pen and\na pad of paper going, yes, that is ours.\n\n45\n00:02:09.540 --> 00:02:11.170\nYes that printer is ours.\n\n46\n00:02:11.170 --> 00:02:12.810\nOkay who brought in the access plane.\n\n47\n00:02:12.810 --> 00:02:15.380\nNot that that's not a viable solution.\n\n48\n00:02:15.380 --> 00:02:15.910\n&gt;&gt; Yeah it is.\n\n49\n00:02:15.910 --> 00:02:21.570\n&gt;&gt; It can be right but we're talking\nabout using a tool to find these things.\n\n50\n00:02:21.570 --> 00:02:23.430\n&gt;&gt; Exactly and I like that.\n\n51\n00:02:23.430 --> 00:02:26.790\nI mean there is something to be said for\ndoing a physical look,\n\n52\n00:02:26.790 --> 00:02:29.660\nit's something that you're\ngonna have to do periodically.\n\n53\n00:02:29.660 --> 00:02:33.860\nWhen you're doing your wireless networks\nand you're looking for dead spots or\n\n54\n00:02:33.860 --> 00:02:37.120\nrogue access points, you'll probably\nwill do a little walking around then.\n\n55\n00:02:37.120 --> 00:02:39.150\nMaybe with your little cart,\nyour laptop and go rolling around,\n\n56\n00:02:39.150 --> 00:02:40.760\nwhatever you gotta do.\n\n57\n00:02:40.760 --> 00:02:44.830\nBut yes, here we're gonna be talking about\nkind of using the network to go out and\n\n58\n00:02:44.830 --> 00:02:45.940\nsee what's out there.\n\n59\n00:02:45.940 --> 00:02:48.822\nAnd we're gonna be using\na tool known as Nmap.\n\n60\n00:02:48.822 --> 00:02:55.400\nNow Nmap is a fantastic program, been\naround for a long time, and it does a lot.\n\n61\n00:02:55.400 --> 00:03:00.340\nIt's a port scanner, but\nit can also do host discovery.\n\n62\n00:03:00.340 --> 00:03:03.990\nIt can look at services and\nit can do OS Detection-\n\n63\n00:03:03.990 --> 00:03:04.938\n&gt;&gt; Makes julienne fries.\n\n64\n00:03:04.938 --> 00:03:05.456\n&gt;&gt; It does.\n\n65\n00:03:05.456 --> 00:03:08.060\n&gt;&gt; [LAUGH]\n&gt;&gt; If you get it set up right, and\n\n66\n00:03:08.060 --> 00:03:12.275\nyou gotta really tweak that config file\nto get those julienne fries just right.\n\n67\n00:03:12.275 --> 00:03:15.520\n&gt;&gt; [LAUGH]\n&gt;&gt; Doing host discovery is very simple,\n\n68\n00:03:15.520 --> 00:03:20.690\nand Nmap itself is a very powerful tool,\nbut it's relatively easy to work with.\n\n69\n00:03:20.690 --> 00:03:23.830\nIt's got its own scripting language,\nit is extremely powerful.\n\n70\n00:03:23.830 --> 00:03:26.530\nBut like I said here we just want\nto kind of start off easy and\n\n71\n00:03:26.530 --> 00:03:29.520\nwe're going to take a look at\njust doing some host discovery.\n\n72\n00:03:29.520 --> 00:03:31.840\nThe other thing I like\nabout host discovery, one,\n\n73\n00:03:31.840 --> 00:03:34.940\nI need to know what\ndevices are on my network.\n\n74\n00:03:34.940 --> 00:03:37.530\nI need to see if there's any\ndevices that don't belong.\n\n75\n00:03:37.530 --> 00:03:41.610\nAnd the other thing I'll need to do at\nsome point is start doing port scans.\n\n76\n00:03:41.610 --> 00:03:43.890\nWhen we talk about hardening servers,\n\n77\n00:03:43.890 --> 00:03:48.540\nhardening nodes of any kind,\none of the big things we talk about is\n\n78\n00:03:48.540 --> 00:03:50.680\neliminating services\nthat aren't necessary.\n\n79\n00:03:50.680 --> 00:03:52.620\nWhich means I'm gonna be doing port scans.\n\n80\n00:03:52.620 --> 00:03:54.000\nWe're gonna scan those machines and\n\n81\n00:03:54.000 --> 00:03:57.610\nsee what ports are opening, what\nservices are in their listening state.\n\n82\n00:03:57.610 --> 00:03:58.700\nWhich Nmap will do as well.\n\n83\n00:03:58.700 --> 00:04:01.550\nBut before we can do that,\nwe need find the hosts so\n\n84\n00:04:01.550 --> 00:04:04.490\nthat's where we're gonna start is\nfinding those hosts out there.\n\n85\n00:04:04.490 --> 00:04:06.760\nAnd then we can worry about\nthe other stuff later.\n\n86\n00:04:06.760 --> 00:04:09.290\n&gt;&gt; So I just yell at my computer now and\nI say, okay computer.\n\n87\n00:04:09.290 --> 00:04:12.697\n&gt;&gt; [LAUGH]\n&gt;&gt; Nmap my network finds these things for\n\n88\n00:04:12.697 --> 00:04:13.496\nme right?\n\n89\n00:04:13.496 --> 00:04:17.120\n&gt;&gt; That's coming to a theater soon but\n[LAUGH] not yet right.\n\n90\n00:04:17.120 --> 00:04:19.560\nMaybe if we take that echo and\nwe hook it up to the thing.\n\n91\n00:04:19.560 --> 00:04:20.750\n&gt;&gt; Yeah see we can make it happen.\n\n92\n00:04:20.750 --> 00:04:21.740\nWe have the technology.\n\n93\n00:04:21.740 --> 00:04:24.560\n&gt;&gt; We could do it all right so\nthere's a new project for you guys and\n\n94\n00:04:24.560 --> 00:04:25.650\ngirls out there.\n\n95\n00:04:25.650 --> 00:04:28.950\n&gt;&gt; Is a good echo to work with\nNmap to work with the scanning.\n\n96\n00:04:28.950 --> 00:04:32.240\nAll right but anyways now what we're gonna\ndo rather than holler we're gonna type.\n\n97\n00:04:32.240 --> 00:04:36.340\nSo let's take a look at my screen here\nI've got a install of Kali Linux.\n\n98\n00:04:36.340 --> 00:04:39.560\nOne of my favorite distros just because\nit has a lot of the tools loaded up in\n\n99\n00:04:39.560 --> 00:04:40.980\nthere already.\n\n100\n00:04:40.980 --> 00:04:44.590\nBut it's definitely you can run\nnmap on any flavor of Linux\n\n101\n00:04:44.590 --> 00:04:46.160\n&gt;&gt; Just have to go out to nmap.org.\n\n102\n00:04:46.160 --> 00:04:50.150\nGet your source files, compile it,\nor do your app get, or\n\n103\n00:04:50.150 --> 00:04:52.640\nI don't know, whatever you need to do for\nyour Linux distro.\n\n104\n00:04:52.640 --> 00:04:53.770\nIt also runs on Windows.\n\n105\n00:04:53.770 --> 00:04:55.080\nWe'll take a look at the Windows port,\n\n106\n00:04:55.080 --> 00:04:58.875\nwhich is one of those\nnot as common things.\n\n107\n00:04:58.875 --> 00:05:01.360\nWere it'll run on Linux and\nit'll run on Windows, and\n\n108\n00:05:01.360 --> 00:05:03.050\nit does a pretty good job on Windows.\n\n109\n00:05:03.050 --> 00:05:07.660\nA lot of times the Windows port\nof a Linux tool is Subpar.\n\n110\n00:05:07.660 --> 00:05:09.270\nBut not so with Nmap.\n\n111\n00:05:09.270 --> 00:05:12.550\nWe even get a gooey with Windows.\n\n112\n00:05:12.550 --> 00:05:14.502\nAnd some of you out\nthere might be like yes,\n\n113\n00:05:14.502 --> 00:05:16.520\nI'll just fast forward\nuntil I get to that.\n\n114\n00:05:16.520 --> 00:05:18.790\n&gt;&gt; Where's the graphical\nversion of that thing man?\n\n115\n00:05:18.790 --> 00:05:20.360\n&gt;&gt; All right, so I'm sorry.\n\n116\n00:05:20.360 --> 00:05:22.490\nTaylor's got my screen pulled up and\nI just keep talking.\n\n117\n00:05:22.490 --> 00:05:24.190\nLet's do some stuff here.\n\n118\n00:05:24.190 --> 00:05:28.140\nSo anyway Nmap,\nI'm just gonna type Nmap and hit enter.\n\n119\n00:05:28.140 --> 00:05:32.780\nYou can do an dash h or an dash dash\nhelp and you can get this same file.\n\n120\n00:05:32.780 --> 00:05:33.970\nLet's take a look at it here.\n\n121\n00:05:33.970 --> 00:05:35.430\nScroll back up to the top and\n\n122\n00:05:35.430 --> 00:05:41.340\nyou can see some relatively extensive help\navailable right here from the command.\n\n123\n00:05:41.340 --> 00:05:42.760\nYou can always go out to nmap.org.\n\n124\n00:05:42.760 --> 00:05:45.270\nWe'll take a peek at their\nwebsite in a minute, and\n\n125\n00:05:45.270 --> 00:05:50.360\nthey've got their documentation out there,\nand it's very extensive.\n\n126\n00:05:50.360 --> 00:05:54.700\nBut we're going to be focusing\nin on host discovery here.\n\n127\n00:05:56.800 --> 00:06:02.660\nAnd we'll be doing a ping scan,\nwhich is gonna disable my port scan.\n\n128\n00:06:02.660 --> 00:06:06.240\nBecause at this point I don't wanna\nspend time scanning ports yet,\n\n129\n00:06:06.240 --> 00:06:08.190\nbecause I don't know\nwhat hosts are out there.\n\n130\n00:06:08.190 --> 00:06:11.820\nA port scan, depending on how\nwe set it up, scans ports and\n\n131\n00:06:11.820 --> 00:06:16.080\nit could scan all 65,535 of those guys.\n\n132\n00:06:16.080 --> 00:06:18.330\nLooking for services that are opening, and\n\n133\n00:06:18.330 --> 00:06:22.290\nwhat I don't wanna do let's say\nwhat's your average number class\n\n134\n00:06:22.290 --> 00:06:25.940\nC maybe even a class B if we're\ntrying to use the classful system?\n\n135\n00:06:25.940 --> 00:06:27.020\n254 hosts.\n\n136\n00:06:27.020 --> 00:06:29.520\nWe get to a class B.\n\n137\n00:06:29.520 --> 00:06:30.249\nWhat is that, Daniel?\n\n138\n00:06:30.249 --> 00:06:32.780\n16,777,000, something like that?\n\n139\n00:06:32.780 --> 00:06:33.640\n&gt;&gt; That's a lot.\n\n140\n00:06:33.640 --> 00:06:34.700\nYeah, that's a lot.\n\n141\n00:06:34.700 --> 00:06:40.188\n&gt;&gt; And doing a port scan on\n65,000 ports on 16 million hosts,\n\n142\n00:06:40.188 --> 00:06:43.230\nthat's not going to be a good thing.\n\n143\n00:06:43.230 --> 00:06:47.080\nSo we definitely want to\nfirst get live IP addresses.\n\n144\n00:06:47.080 --> 00:06:48.080\nBecause even in a class C,\n\n145\n00:06:48.080 --> 00:06:51.870\nwhat are the odds that you are using\nall of those IP addresses.\n\n146\n00:06:51.870 --> 00:06:55.723\nIt is doubtful that all 254 IP\naddresses are up and listening,\n\n147\n00:06:55.723 --> 00:06:56.992\nbeing used by a host.\n\n148\n00:06:56.992 --> 00:07:00.854\nBecause then you have no room left and\nyou are going to need a bigger subnet.\n\n149\n00:07:00.854 --> 00:07:04.139\nSo the first thing I would love to do\nis just get a list of live hosts that I\n\n150\n00:07:04.139 --> 00:07:05.785\ncan then take on to do my port scan.\n\n151\n00:07:05.785 --> 00:07:13.480\nSo the SN, that's switch SN\nis going to do my ping scan.\n\n152\n00:07:13.480 --> 00:07:14.990\nNow Daniel do you remember\nthe old command for that?\n\n153\n00:07:14.990 --> 00:07:17.021\n&gt;&gt; Yes, I think it was S capital P.\n\n154\n00:07:17.021 --> 00:07:19.865\n[CROSSTALK]\n&gt;&gt; The dash S,\n\n155\n00:07:19.865 --> 00:07:24.180\ncapital P is no longer\ndoing the ping scan.\n\n156\n00:07:24.180 --> 00:07:25.080\n&gt;&gt; It still works I think.\n\n157\n00:07:25.080 --> 00:07:26.710\nI think you can still actually use it.\n\n158\n00:07:26.710 --> 00:07:30.100\nSo if you'd played around with Nmap\nbefore and you're used to that,\n\n159\n00:07:30.100 --> 00:07:31.410\nit'll probably still work.\n\n160\n00:07:31.410 --> 00:07:35.100\nJust start getting used to the SN\nbecause that will eventually go away.\n\n161\n00:07:35.100 --> 00:07:35.970\n&gt;&gt; Yeah, exactly.\n\n162\n00:07:35.970 --> 00:07:38.930\nMy guess is I don't know for\nsure that Capital P,\n\n163\n00:07:38.930 --> 00:07:41.370\nit'll start doing\nsomething else within Nmap.\n\n164\n00:07:41.370 --> 00:07:41.980\n&gt;&gt; Yeah, could be.\n\n165\n00:07:41.980 --> 00:07:43.620\n&gt;&gt; Start running low on letters, and so.\n\n166\n00:07:43.620 --> 00:07:47.503\n&gt;&gt; Boy, that'd be confusing if you were\nsuper locked into SP as your ping scan,\n\n167\n00:07:47.503 --> 00:07:49.070\nand then they change it on you.\n\n168\n00:07:49.070 --> 00:07:49.725\nWhat are you doing?\n\n169\n00:07:49.725 --> 00:07:54.173\n&gt;&gt; [LAUGH] Yeah, so update your\nscripts to reflect that new command.\n\n170\n00:07:54.173 --> 00:07:56.246\nSo that's the one we're gonna be doing.\n\n171\n00:07:56.246 --> 00:07:58.955\nSo let me clear out my screen here.\n\n172\n00:07:58.955 --> 00:08:03.133\nSo it's gonna be an end map and actually\nyou know what I'm gonna do for us Daniel,\n\n173\n00:08:03.133 --> 00:08:07.437\nI'm gonna connect to a different network\nreal quick that has a little more activity\n\n174\n00:08:07.437 --> 00:08:08.220\ngoing on.\n\n175\n00:08:08.220 --> 00:08:09.390\nI already got it switched over.\n\n176\n00:08:09.390 --> 00:08:10.430\nWe are good to go there.\n\n177\n00:08:10.430 --> 00:08:11.960\n&gt;&gt; You're being all prepared for show.\n\n178\n00:08:11.960 --> 00:08:17.143\n&gt;&gt; I know.\nLet's double check our Sometimes\n\n179\n00:08:17.143 --> 00:08:18.460\nonce in a while.\n\n180\n00:08:18.460 --> 00:08:23.380\nNow you'll notice that I'm actually\non a class b if you will right?\n\n181\n00:08:23.380 --> 00:08:24.310\nIt's a 25525500.\n\n182\n00:08:24.310 --> 00:08:27.730\nI'm not going to scan all of those hosts.\n\n183\n00:08:27.730 --> 00:08:34.810\nIt would just take even just doing\na discovery would take a long time so\n\n184\n00:08:34.810 --> 00:08:38.400\nwe're gonna trim it up a little bit,\nbut my command is going to be nmap.\n\n185\n00:08:38.400 --> 00:08:41.120\nSo that's the name of the tool\nthat we're gonna use and\n\n186\n00:08:41.120 --> 00:08:45.960\nI want to do a -sn,\nwhich is gonna be my ping sweep.\n\n187\n00:08:45.960 --> 00:08:46.710\nAll right.\n\n188\n00:08:46.710 --> 00:08:50.105\nAnd you can see in my notes I\ndid the old school there -s.\n\n189\n00:08:50.105 --> 00:08:51.000\nWe'll change that up.\n\n190\n00:08:51.000 --> 00:08:55.145\nWe'll make the modern command here and\nthen the network address I want to scan\n\n191\n00:08:55.145 --> 00:09:01.778\n10.0.14.0/24.\n\n192\n00:09:01.778 --> 00:09:04.950\nWe'll just do\n&gt;&gt; 16.\n\n193\n00:09:04.950 --> 00:09:05.730\n&gt;&gt; What's that?\n\n194\n00:09:05.730 --> 00:09:07.077\n&gt;&gt; Your netmask is 16.\n\n195\n00:09:07.077 --> 00:09:08.041\n&gt;&gt; [CROSSTALK]\n&gt;&gt; But\n\n196\n00:09:08.041 --> 00:09:09.760\nthat does bring up a very good point.\n\n197\n00:09:09.760 --> 00:09:13.310\nYou don't have to use the net mask\nthat you happen to be on, right.\n\n198\n00:09:13.310 --> 00:09:16.115\nAs Daniel pointed out,\nI'm on a 255.255.0.0 network but\n\n199\n00:09:16.115 --> 00:09:17.455\nI don't want to scan all of that.\n\n200\n00:09:17.455 --> 00:09:20.440\n&gt;&gt; Right, change it up a little bit.\n\n201\n00:09:20.440 --> 00:09:22.052\n&gt;&gt; Maybe I've got [CROSSTALK], yeah,\n\n202\n00:09:22.052 --> 00:09:24.530\nmaybe I've got to break it up\nto make it take less time.\n\n203\n00:09:24.530 --> 00:09:29.151\nI've only got time to do a certain amount\nright now or maybe I just wanna scan my\n\n204\n00:09:29.151 --> 00:09:34.060\nserver backbone, maybe that's what I\npicked here as a small portion of it.\n\n205\n00:09:34.060 --> 00:09:37.820\nI know all the servers have an IP\naddress 10.0.14 something and so\n\n206\n00:09:37.820 --> 00:09:42.760\nI can cheat, if you will, by just\nsaying hey keep 10.0.14 the same right,\n\n207\n00:09:42.760 --> 00:09:44.810\nthat's what you're doing\nwith that next mask.\n\n208\n00:09:44.810 --> 00:09:47.230\nJust scan this particular network.\n\n209\n00:09:47.230 --> 00:09:49.340\nSo now I’m only down to\n254 possible hosts there,\n\n210\n00:09:49.340 --> 00:09:52.450\nso it should be a lot quicker, all right?\n\n211\n00:09:52.450 --> 00:09:56.660\nAnd I’ll go ahead and hit Enter and\nwe’ll let this guy run for\n\n212\n00:09:56.660 --> 00:10:00.300\na minute and there you can see,\n256 IP addresses.\n\n213\n00:10:00.300 --> 00:10:04.360\nRemember, there’s 254 possible hosts,\nbut there are 256\n\n214\n00:10:04.360 --> 00:10:09.190\ntotal IP addresses if you\ninclude the 0 and the 255.\n\n215\n00:10:09.190 --> 00:10:12.640\nScan 55 hosts took 2.3 seconds.\n\n216\n00:10:12.640 --> 00:10:14.290\nAs we go through these results,\n\n217\n00:10:14.290 --> 00:10:18.270\nI know they're not real easy to\nread because it's very packed.\n\n218\n00:10:18.270 --> 00:10:21.790\nI'm going to show you a way we\ncan break this up in a minute but\n\n219\n00:10:21.790 --> 00:10:23.870\nwe'll go back up to the top here.\n\n220\n00:10:26.150 --> 00:10:27.650\nThere was my initial command.\n\n221\n00:10:27.650 --> 00:10:31.252\nIt says starting nmap and\nthen I can see the first one.\n\n222\n00:10:31.252 --> 00:10:34.800\nNmap scan for report 0.14.11.\n\n223\n00:10:34.800 --> 00:10:42.340\nHost is up and it gives me the MAC address\nand it tells me it thinks it's an Apple.\n\n224\n00:10:42.340 --> 00:10:44.410\n&gt;&gt; It's probably a good guess,\nsince we run a lot of Macs here.\n\n225\n00:10:44.410 --> 00:10:47.631\n&gt;&gt; We do run a lot of Macs here but\nit's kinda cool that it's giving me\n\n226\n00:10:47.631 --> 00:10:50.574\na little bit of a guess there,\neven just doing a ping sweep.\n\n227\n00:10:50.574 --> 00:10:53.648\nNow in this case,\nit's not doing a lot of interrogation.\n\n228\n00:10:53.648 --> 00:10:54.544\nAll right.\n\n229\n00:10:54.544 --> 00:11:00.200\nI'll talk about doing an OS fingerprinting\nhere when we get into our port scanning.\n\n230\n00:11:00.200 --> 00:11:03.800\nWhat it's doing right here\nis it's looking at that,\n\n231\n00:11:03.800 --> 00:11:07.680\nand gosh this would be a West question\nbecause that actually has a name.\n\n232\n00:11:07.680 --> 00:11:11.920\nThe MAC address, the first six\ndigits are the organizational ID.\n\n233\n00:11:11.920 --> 00:11:16.820\n&gt;&gt; Yeah, the organizational OUI or\nunit identifier or something like that?\n\n234\n00:11:16.820 --> 00:11:19.040\n&gt;&gt; Yes, something like that.\n\n235\n00:11:19.040 --> 00:11:19.960\nWe should watch his show.\n\n236\n00:11:19.960 --> 00:11:20.600\n&gt;&gt; Westnotes.\n\n237\n00:11:20.600 --> 00:11:23.660\nHe actually said it today, after.\n\n238\n00:11:23.660 --> 00:11:24.613\n&gt;&gt; [LAUGH] But that first part,\n\n239\n00:11:24.613 --> 00:11:26.980\nthat's a block that gets assigned\nto a particular vendor, right?\n\n240\n00:11:26.980 --> 00:11:31.580\nAnd they can use the last six digits for\ntheir different devices or what have you.\n\n241\n00:11:31.580 --> 00:11:33.330\n&gt;&gt; Organizational unique identifier.\n\n242\n00:11:33.330 --> 00:11:36.820\n&gt;&gt; OUI.\n&gt;&gt; That's it, how my brain works.\n\n243\n00:11:36.820 --> 00:11:39.920\n&gt;&gt; You rock.\nAnd that's really what it's doing here.\n\n244\n00:11:39.920 --> 00:11:44.130\nIt knows that hey,\nthis has been assigned to Apple and\n\n245\n00:11:44.130 --> 00:11:46.390\nI think I've frozen up my machine.\n\n246\n00:11:46.390 --> 00:11:47.880\nThere it goes.\n\n247\n00:11:47.880 --> 00:11:51.010\nThis one evidently belongs\nto Hewlett Packard.\n\n248\n00:11:51.010 --> 00:11:52.910\nSo that's really all it's looking at.\n\n249\n00:11:52.910 --> 00:11:55.700\nIt's just a guess and\nif something was being spoofed or forged,\n\n250\n00:11:55.700 --> 00:11:56.830\nit would fake this out.\n\n251\n00:11:56.830 --> 00:12:00.020\nSo don't take that-\n&gt;&gt; As the gospel of Paul [LAUGH].\n\n252\n00:12:00.020 --> 00:12:02.080\n&gt;&gt; Yes, you know, look okay,\nthat's interesting,\n\n253\n00:12:02.080 --> 00:12:06.060\nit probably is an apple if all I have\nare legitimate devices on my network but\n\n254\n00:12:06.060 --> 00:12:09.450\nagain, don't take it for being truthful.\n\n255\n00:12:09.450 --> 00:12:13.830\nAnd you can see it's gone down through but\nI guess the point here that I would like\n\n256\n00:12:13.830 --> 00:12:20.170\nto make is the fact that I\nonly have 55 hosts up, right?\n\n257\n00:12:20.170 --> 00:12:23.040\nOut of 256, so I do my math real quick.\n\n258\n00:12:23.040 --> 00:12:24.680\nThat's 201.\n\n259\n00:12:24.680 --> 00:12:26.070\nRight, that aren't being used.\n\n260\n00:12:26.070 --> 00:12:26.570\n&gt;&gt; Yeah.\n\n261\n00:12:26.570 --> 00:12:31.960\n&gt;&gt; So now, if I was doing a port scan, and\nI was scanning all 65,000 some odd ports,\n\n262\n00:12:31.960 --> 00:12:37.900\nI'd be scanning 201 IP addresses\nthat weren't even there, right.\n\n263\n00:12:37.900 --> 00:12:39.600\nSo a complete waste of time.\n\n264\n00:12:39.600 --> 00:12:42.140\n&gt;&gt; Yeah, the good news is that\npeople at Nmap, they know this.\n\n265\n00:12:42.140 --> 00:12:46.570\nThis kind of thing happens and\nthe default setting of nmap is to,\n\n266\n00:12:46.570 --> 00:12:52.290\nif it replies to a ping's response, then\nyes it's alive and go ahead and scan it.\n\n267\n00:12:52.290 --> 00:12:56.550\nIf it doesn't, then move on to the next\nguy but it still has to check and\n\n268\n00:12:56.550 --> 00:12:57.190\nsee if it's still alive.\n\n269\n00:12:57.190 --> 00:12:58.940\nIf you've already done this work,\n\n270\n00:12:58.940 --> 00:13:03.290\nyou save the scanning portion of your\nproceedings a lot of time and effort.\n\n271\n00:13:03.290 --> 00:13:04.340\n&gt;&gt; Exactly right, Daniel.\n\n272\n00:13:04.340 --> 00:13:06.960\nIt does do a basically a phase process.\n\n273\n00:13:06.960 --> 00:13:09.940\nEnd map does a discovery phase and\nthen a scanning phase and\n\n274\n00:13:09.940 --> 00:13:12.500\nwe will definitely get into\nthat when we get into scanning\n\n275\n00:13:12.500 --> 00:13:14.740\ncuz there are times when I\ndon't want it to do that.\n\n276\n00:13:14.740 --> 00:13:19.000\nI wanna scan because we do have to worry\nabout what if something was blocking.\n\n277\n00:13:19.000 --> 00:13:23.390\nLike if it's not responding to pings,\nis it going to reply to this?\n\n278\n00:13:23.390 --> 00:13:26.290\nRight.\nWhat if there's a firewall between me and\n\n279\n00:13:26.290 --> 00:13:29.770\nthe destination that's blocking\nthat particular type of traffic?\n\n280\n00:13:29.770 --> 00:13:33.330\nOr there's a firewall in the host\nthat's blocking the ping package,\n\n281\n00:13:33.330 --> 00:13:35.400\nwhich a lot of hosts do, right?\n\n282\n00:13:35.400 --> 00:13:39.050\nA lot of Windows by default will\nstart blocking those pings.\n\n283\n00:13:39.050 --> 00:13:41.920\nSo when it does this ping sweep,\nwhat it's really doing.\n\n284\n00:13:41.920 --> 00:13:44.180\nIs it's doing an ICMP ping and\n\n285\n00:13:44.180 --> 00:13:49.870\nit's also sending a TCPIP packet to\nport 80 by default which you can change.\n\n286\n00:13:49.870 --> 00:13:53.690\nSo it's doing two discovery methods there,\nsending an ICMP and\n\n287\n00:13:53.690 --> 00:13:57.890\nit's doing a TCP send request and\nif it's a send,\n\n288\n00:13:57.890 --> 00:14:02.940\nno it's an acknowledgment, it's either\na send or an ak packet that it sends.\n\n289\n00:14:02.940 --> 00:14:06.910\nAnd it sends it to port 80 by default,\nwhich you can change as well and\n\n290\n00:14:06.910 --> 00:14:11.680\nwhat it's saying is hey if it\nsends me back a reset or close,\n\n291\n00:14:11.680 --> 00:14:15.940\nwell it's not running a web server but hey\nI know it's up because it responded to me.\n\n292\n00:14:15.940 --> 00:14:17.510\nIf it sends back an open,\n\n293\n00:14:17.510 --> 00:14:20.310\nI've got a web server running then\nhey I know it's up and running.\n\n294\n00:14:20.310 --> 00:14:23.700\nIf it doesn't send anything back,\nthen it's probably not a live host.\n\n295\n00:14:23.700 --> 00:14:30.350\nSo it does do a double check there for\nthese live hosts, all right?\n\n296\n00:14:30.350 --> 00:14:32.100\nNow, the next thing I wanna show you here,\nand\n\n297\n00:14:32.100 --> 00:14:35.990\nthis will kinda help prepare us for\nour scanning phases, and\n\n298\n00:14:35.990 --> 00:14:38.880\nthis is good information but it's just\nsitting here on my screen, right?\n\n299\n00:14:38.880 --> 00:14:43.540\nIt output it to my screen and\nit's not all that useful to me here.\n\n300\n00:14:43.540 --> 00:14:46.910\nSo we need to know the output command for\nn map and\n\n301\n00:14:46.910 --> 00:14:52.760\nthat is going to be a -O and then there's\nseveral different formats we can use.\n\n302\n00:14:52.760 --> 00:14:56.550\nLet's pop that open real quick and\nI'll show you,\n\n303\n00:14:57.610 --> 00:15:01.130\ncuz we can do a few different formats and\nI'll bump that up one.\n\n304\n00:15:03.450 --> 00:15:05.010\nGet back right here is my output.\n\n305\n00:15:05.010 --> 00:15:09.150\nAll right, so\nwe can do the on which is normal output,\n\n306\n00:15:09.150 --> 00:15:12.110\nlooks just like this nmap output\nyou're seeing on my screen.\n\n307\n00:15:12.110 --> 00:15:14.980\nWe can do an ox which is gonna be XML.\n\n308\n00:15:14.980 --> 00:15:20.280\nWe can do a script kiddie, although I'm\nhaving trouble getting that one actually\n\n309\n00:15:20.280 --> 00:15:23.730\nshow any results but\nits not like it would be used.\n\n310\n00:15:23.730 --> 00:15:26.410\nNot that I would find it useful I guess,\nsomebody might out there.\n\n311\n00:15:26.410 --> 00:15:29.020\nI thought it would be cool,\nand it didn't work or\n\n312\n00:15:29.020 --> 00:15:33.150\ndash G, which is gripable, all right?\n\n313\n00:15:33.150 --> 00:15:36.560\nOr you can do an o dash a which is all.\n\n314\n00:15:36.560 --> 00:15:39.150\nIt does the three major formats at once.\n\n315\n00:15:39.150 --> 00:15:40.932\nIt would skip the script kiddie.\n\n316\n00:15:40.932 --> 00:15:42.769\nIt would do normal XML.\n\n317\n00:15:42.769 --> 00:15:47.693\nYou just give it a filename and\nit would do it in all three formats.\n\n318\n00:15:47.693 --> 00:15:52.718\nAll right, so let's close that\nwindow because that's confusing.\n\n319\n00:15:52.718 --> 00:15:57.432\nSo I'm going to to an O and I'm going to\ndo a G Right, because I like the gripable\n\n320\n00:15:57.432 --> 00:16:01.750\nbe format cuz now I can manipulate\nthat data a little bit easier.\n\n321\n00:16:01.750 --> 00:16:03.317\nSo I'm gonna do an -oG, and\n\n322\n00:16:03.317 --> 00:16:08.440\nI'm just gonna dump it in my current\nhome directory for simplicity's sake.\n\n323\n00:16:08.440 --> 00:16:13.234\nAnd I'm gonna say this is a nmapPingSweep,\n\n324\n00:16:13.234 --> 00:16:16.999\nand we'll go ahead and hit enter.\n\n325\n00:16:16.999 --> 00:16:21.440\nWe'll let it run one more time should take\nit about three seconds and there we go.\n\n326\n00:16:21.440 --> 00:16:25.780\nSo now we take a look at my directory\nthere I've got my nmapPingSweep.\n\n327\n00:16:25.780 --> 00:16:31.460\nAnd if I cat nmapPingSweep,\nI spell that right?\n\n328\n00:16:31.460 --> 00:16:34.250\nOne more character for my tab auto there.\n\n329\n00:16:34.250 --> 00:16:36.460\nAnd there is the output.\n\n330\n00:16:36.460 --> 00:16:41.400\nSo you can see same information all 55\nhosts that it found are gonna be there.\n\n331\n00:16:41.400 --> 00:16:46.430\nBut now it's on one line and I've got\nsome delimiters in here which are gonna\n\n332\n00:16:46.430 --> 00:16:51.590\nhelp me break this up into what I want,\nall right?\n\n333\n00:16:51.590 --> 00:16:58.640\nAnd the idea here is that when I do a port\nscan, I want to just scan the live hosts.\n\n334\n00:16:58.640 --> 00:17:01.140\nSo as Daniel said,\nby default that's what it does.\n\n335\n00:17:01.140 --> 00:17:02.860\nBut there might be times when you've got,\n\n336\n00:17:02.860 --> 00:17:06.770\njust a certain subset of your machines\nthat you want to do a port scan on.\n\n337\n00:17:06.770 --> 00:17:11.350\nLike all ten of my web servers or my three\nSQL servers, or something like that.\n\n338\n00:17:11.350 --> 00:17:15.340\nAnd a cool thing about nmap is you\ncan use lists as the source for\n\n339\n00:17:15.340 --> 00:17:17.900\nyour IPs rather than\nspecifying in the command.\n\n340\n00:17:17.900 --> 00:17:20.956\nLike, I want to scan that particular\nnetwork like we just did.\n\n341\n00:17:20.956 --> 00:17:22.906\nI can actually do a list, and\n\n342\n00:17:22.906 --> 00:17:28.100\nI can have it read the list and\npull the IP addresses from the list.\n\n343\n00:17:28.100 --> 00:17:30.382\nSo if we add new web servers,\nI can just add them to my list.\n\n344\n00:17:30.382 --> 00:17:34.200\nAnd then next time I run a scan, it\nwill scan those new two servers as well.\n\n345\n00:17:34.200 --> 00:17:36.640\nSo let me show you a quick\nway to do that here.\n\n346\n00:17:36.640 --> 00:17:39.850\nI'm gonna pull back that same command,\nwe're gonna run nmap.\n\n347\n00:17:39.850 --> 00:17:43.430\nActually, you know what,\nI'll just cat that.\n\n348\n00:17:43.430 --> 00:17:46.010\nLet me get back out of there.\n\n349\n00:17:46.010 --> 00:17:48.250\nHere's what we'll do,\nlet me clear my screen.\n\n350\n00:17:48.250 --> 00:17:50.850\nGet rid of caps lock, cuz that helps.\n\n351\n00:17:50.850 --> 00:17:54.670\nAnd I'm going to do,\nI'm gonna pull that file up.\n\n352\n00:17:54.670 --> 00:18:02.435\nI'm gonna cat that file and I'm gonna pipe\nthat out into a grep command, all right?\n\n353\n00:18:02.435 --> 00:18:06.780\nNow we saw that the, I wanna see if\nI can show you this at the same time.\n\n354\n00:18:06.780 --> 00:18:08.753\nI'm gonna do this.\n\n355\n00:18:10.848 --> 00:18:12.390\nAll right, so there's my file.\n\n356\n00:18:14.010 --> 00:18:20.144\nAnd over here in this other window\nwe're gonna write our command.\n\n357\n00:18:20.144 --> 00:18:24.660\nAll right, we'll do it this way.\n\n358\n00:18:24.660 --> 00:18:30.556\nSo we're gonna CAT my nmapPingSweep.\n\n359\n00:18:30.556 --> 00:18:33.981\nAnd I'm gonna pipe that\nout into my grep command,\n\n360\n00:18:33.981 --> 00:18:39.500\nand grep lets me break up that text or\ngrab certain portions of that file.\n\n361\n00:18:39.500 --> 00:18:46.461\nAnd we're gonna use the cut parameter and\nwe're gonna grep for up.\n\n362\n00:18:46.461 --> 00:18:49.220\nSo in this case I probably don't need it.\n\n363\n00:18:49.220 --> 00:18:51.340\nLet's see what it did,\nI believe maybe up at the top.\n\n364\n00:18:51.340 --> 00:18:55.420\nThere are two lines up at the top here\nthat is basically showing the command\n\n365\n00:18:55.420 --> 00:18:56.490\nthat I issued.\n\n366\n00:18:56.490 --> 00:19:00.780\nAnd those two don't have IP addresses on\nthem, and I don't want those two lines.\n\n367\n00:19:00.780 --> 00:19:04.093\nSo by grepping for the word up,\nI guarantee that I'm only gonna get\n\n368\n00:19:04.093 --> 00:19:07.160\nthese lines down here that\nhave live hosts on them.\n\n369\n00:19:07.160 --> 00:19:11.220\nSo we grep for the word up, and\nthen I'm gonna use the cut command.\n\n370\n00:19:11.220 --> 00:19:15.438\nAnd my delimiter, so\na switch D is actually gonna be a space.\n\n371\n00:19:15.438 --> 00:19:18.290\nSo I got a quote space quote there.\n\n372\n00:19:19.560 --> 00:19:24.560\nAnd then we're going to pick\n\n373\n00:19:24.560 --> 00:19:29.860\nfield number two because\nwhen we look at my results,\n\n374\n00:19:29.860 --> 00:19:33.520\nthere's the first field,\nthere's my first delimiter.\n\n375\n00:19:33.520 --> 00:19:36.530\nThere's my second field,\nthat's the one I want.\n\n376\n00:19:36.530 --> 00:19:41.550\nAnd you can do multiple fields, you can\ndo f2 comma 3 comma 4, or f2 comma 7.\n\n377\n00:19:41.550 --> 00:19:44.910\nWhatever columns you needed there,\nI'm just gonna do field two.\n\n378\n00:19:44.910 --> 00:19:50.706\nAnd then I'm gonna send that output to,\n\n379\n00:19:50.706 --> 00:19:54.630\nlet's call it liveHosts.\n\n380\n00:19:54.630 --> 00:19:57.393\nAll right, and I'll go ahead and run that.\n\n381\n00:19:57.393 --> 00:20:03.457\nAnd now if we cat liveHosts, we'll see\nthat I have a file that is nothing but\n\n382\n00:20:03.457 --> 00:20:06.160\nlive IP addresses on my network.\n\n383\n00:20:06.160 --> 00:20:08.880\n&gt;&gt; It's a beautiful list of nothing but\nIPs, Mike.\n\n384\n00:20:08.880 --> 00:20:12.953\nThe important part here that you should\ntake away is it's neat to be able to\n\n385\n00:20:12.953 --> 00:20:13.544\nuse cut and\n\n386\n00:20:13.544 --> 00:20:17.894\nthings like that to make the output a\nlittle more easily digested by your eyes.\n\n387\n00:20:17.894 --> 00:20:20.080\nYou're a person, right,\nthat does work for us.\n\n388\n00:20:20.080 --> 00:20:23.049\nBut now we really have something\nthat we could probably go on and\n\n389\n00:20:23.049 --> 00:20:24.625\nuse in sorta scripting fashion.\n\n390\n00:20:24.625 --> 00:20:28.209\nThis is a great set up point for\nus to have this file at the ready, and\n\n391\n00:20:28.209 --> 00:20:30.070\nuse it later on down the line.\n\n392\n00:20:30.070 --> 00:20:31.240\nSo very cool technique.\n\n393\n00:20:31.240 --> 00:20:34.490\n&gt;&gt; Yeah, exactly,\nthat'll come in handy really soon.\n\n394\n00:20:34.490 --> 00:20:38.360\nAll right, next thing I wanna do, I wanna\ntake a look at the Windows side of things.\n\n395\n00:20:38.360 --> 00:20:42.379\nBecause as a network admin,\nyou might be sitting a windows box and\n\n396\n00:20:42.379 --> 00:20:44.728\nyou don't have access, well you do.\n\n397\n00:20:44.728 --> 00:20:47.250\n[LAUGH] But maybe you can't for\nsome reason, right.\n\n398\n00:20:47.250 --> 00:20:51.581\nWhat l will recommend is that\nyou go get Virtual Box or\n\n399\n00:20:51.581 --> 00:20:55.526\nsome other freebie\nvirtualization software.\n\n400\n00:20:55.526 --> 00:20:58.394\nAnd then download and\nset up a VM that running analytics,\n\n401\n00:20:58.394 --> 00:21:00.186\nif you wanna get into the security,\n\n402\n00:21:00.186 --> 00:21:03.740\nreally where most of the tools are gonna\nbe on the Linux side of things.\n\n403\n00:21:03.740 --> 00:21:09.540\nOr run it off of a live disk or\na USB or something like that.\n\n404\n00:21:09.540 --> 00:21:14.100\nBut let's take a look at Windows so we\ncan see that we can do it there as well.\n\n405\n00:21:14.100 --> 00:21:16.620\nSo again, went out to nmap.org.\n\n406\n00:21:16.620 --> 00:21:18.160\nI never showed you their website.\n\n407\n00:21:18.160 --> 00:21:26.520\nLet's pull that up real quick as well,\nnmap.org is the name of that site.\n\n408\n00:21:26.520 --> 00:21:30.110\nAnd I'm not gonna spend any time here,\nbut they've got great documentation.\n\n409\n00:21:30.110 --> 00:21:32.800\nThe links are right over\nhere down the side.\n\n410\n00:21:32.800 --> 00:21:34.690\nThey also have their download link.\n\n411\n00:21:34.690 --> 00:21:36.058\nAnd if we take a look there,\n\n412\n00:21:36.058 --> 00:21:39.785\nwe can see that they have source code\ndistribution if you want it that way.\n\n413\n00:21:39.785 --> 00:21:43.662\nYou've got your Windows binaries,\nyou've got an actual executable, right?\n\n414\n00:21:43.662 --> 00:21:46.450\nSo you don't have to know to compile and\nput things together.\n\n415\n00:21:46.450 --> 00:21:48.141\nYou can just run that if you want.\n\n416\n00:21:48.141 --> 00:21:52.890\nThey've got that all zipped up for\nyou there are well as their Linux, Mac.\n\n417\n00:21:52.890 --> 00:21:56.640\nAnd even runs on a few other\noperating systems as well.\n\n418\n00:21:56.640 --> 00:22:00.070\nSo go check out in map.org if\nnothing else to get nmap and\n\n419\n00:22:00.070 --> 00:22:01.940\nthen look at the documentation.\n\n420\n00:22:01.940 --> 00:22:05.460\nAll right, so\nback over to Windows, I set nmap.\n\n421\n00:22:05.460 --> 00:22:09.518\nI've installed nmap on here, but there\nis a, and if I go to a command prompt,\n\n422\n00:22:09.518 --> 00:22:10.652\nlet me do that first.\n\n423\n00:22:10.652 --> 00:22:13.360\nPull up command prompt and I type in nmap.\n\n424\n00:22:13.360 --> 00:22:16.190\nWe'll see that same set\nof help right there.\n\n425\n00:22:16.190 --> 00:22:17.705\n&gt;&gt; Feeling good,\nthis is very familiar to me.\n\n426\n00:22:17.705 --> 00:22:20.600\n[LAUGH]\n&gt;&gt; Yes, right, it's like it works,\n\n427\n00:22:20.600 --> 00:22:21.740\nand it's exactly the same.\n\n428\n00:22:21.740 --> 00:22:27.399\nThere is no hey, on Windows, it's a dash\ns blah blah blah instead of a dash sn.\n\n429\n00:22:27.399 --> 00:22:32.655\nIt's exactly the same, there are no\ndifferences as far as functionality goes,\n\n430\n00:22:32.655 --> 00:22:35.770\nswitches, or\nanything like that, all right?\n\n431\n00:22:35.770 --> 00:22:39.711\nBut I want to show you Zenmap, all right?\n\n432\n00:22:39.711 --> 00:22:45.140\nZenmap Is the GUI front-end for nmap.\n\n433\n00:22:45.140 --> 00:22:46.026\n&gt;&gt; Get it away.\n\n434\n00:22:46.026 --> 00:22:47.286\n[LAUGH]\n&gt;&gt; [LAUGH] I know, and\n\n435\n00:22:47.286 --> 00:22:51.563\na lot of you security guys\nare guys out there going, my gosh,\n\n436\n00:22:51.563 --> 00:22:54.330\nis he actually using a GUI, and yes I am.\n\n437\n00:22:54.330 --> 00:22:58.154\nAnd I'll be honest with you,\nit's a lot faster from the command line,\n\n438\n00:22:58.154 --> 00:23:00.590\nespecially once you get\nyour commands down.\n\n439\n00:23:00.590 --> 00:23:02.290\nIt's a lot easier to do.\n\n440\n00:23:02.290 --> 00:23:07.680\nBut if you're new to doing this kind of\nthing, this is a great place to start.\n\n441\n00:23:07.680 --> 00:23:08.690\nOne because it's a GUI.\n\n442\n00:23:08.690 --> 00:23:12.430\nSo we're familiar with that,\nwe're comfortable with a graphical user\n\n443\n00:23:12.430 --> 00:23:15.180\ninterface where I can click on things and\ntype in fields.\n\n444\n00:23:15.180 --> 00:23:17.920\nSo we can get rid of the learning\ncurve about the command line.\n\n445\n00:23:17.920 --> 00:23:21.040\nAt least at first,\nyou're gonna have to get there eventually.\n\n446\n00:23:21.040 --> 00:23:23.890\nBut two, the other reason I love this\n\n447\n00:23:23.890 --> 00:23:27.450\nis because you can see the command\nthat it's going to execute.\n\n448\n00:23:27.450 --> 00:23:29.350\nSo as you fill in your information and\n\n449\n00:23:29.350 --> 00:23:33.320\nmake your choices, you can actually start\nto learn some of your nmap commands.\n\n450\n00:23:33.320 --> 00:23:36.300\n&gt;&gt; Yeah, Mike, it's a little tiny though,\n\n451\n00:23:36.300 --> 00:23:39.460\ndo you think you can make that a little\nbigger for our viewing audience out there?\n\n452\n00:23:39.460 --> 00:23:42.846\n&gt;&gt; Let's see if I can work my magic cuz\nI can't see it either to be honest.\n\n453\n00:23:42.846 --> 00:23:43.470\n&gt;&gt; [LAUGH] It's really small.\n&gt;&gt; So\n\n454\n00:23:43.470 --> 00:23:46.001\nwe'll zoom in up here and\nhow's that, a little better?\n\n455\n00:23:46.001 --> 00:23:49.527\nAll right, so good old Zenmap\nwants to know what my target is.\n\n456\n00:23:49.527 --> 00:23:52.402\nAll right, so let's pick a target.\n\n457\n00:23:52.402 --> 00:23:55.940\nI've got another host\nwe're gonna hit here.\n\n458\n00:23:55.940 --> 00:24:00.486\nActually we get to do that same network,\nit didn't take that long.\n\n459\n00:24:00.486 --> 00:24:02.948\nLet's do 10.0.14.\n\n460\n00:24:02.948 --> 00:24:04.811\nIn fact, there she is in my list.\n\n461\n00:24:04.811 --> 00:24:10.879\nAnd my tab autofill didn't like that.\n\n462\n00:24:10.879 --> 00:24:14.073\nLet's add a 0/24, good old GUIs.\n\n463\n00:24:14.073 --> 00:24:15.277\nGotta click, gotta use that mouse.\n\n464\n00:24:15.277 --> 00:24:16.144\n&gt;&gt; Right.\n&gt;&gt; It's almost like\n\n465\n00:24:16.144 --> 00:24:16.728\nthey're forcing you to.\n\n466\n00:24:16.728 --> 00:24:17.788\n&gt;&gt; Like get off of that keyboard, boy!\n\n467\n00:24:17.788 --> 00:24:22.600\n&gt;&gt; But do you see what's\nhappening underneath, right here?\n\n468\n00:24:22.600 --> 00:24:24.730\nThat's the command that\nit's going to execute.\n\n469\n00:24:24.730 --> 00:24:30.545\nSo if I change this, 15.,\nnotice how it's changing here, as well?\n\n470\n00:24:30.545 --> 00:24:32.926\nSo this will help you learn.\n\n471\n00:24:32.926 --> 00:24:39.770\nYou can come in here and do, okay, I know\nwhat I want, /24, and it adds this 4.\n\n472\n00:24:39.770 --> 00:24:41.946\nIt builds that command for you.\n\n473\n00:24:41.946 --> 00:24:43.727\nNow it's got a couple of other\nthings in there by default.\n\n474\n00:24:43.727 --> 00:24:47.010\nIt's got a -T4, that's for timing.\n\n475\n00:24:47.010 --> 00:24:48.242\nThat'll make it go faster.\n\n476\n00:24:48.242 --> 00:24:49.935\nIt's not as stealthy, but\n\n477\n00:24:49.935 --> 00:24:54.420\nit won't pause as long between\npackets that it's sending out.\n\n478\n00:24:54.420 --> 00:24:55.285\nThe -A, and\n\n479\n00:24:55.285 --> 00:25:00.019\nwe'll talk all about this again when\nwe get into actual port scanning.\n\n480\n00:25:00.019 --> 00:25:01.226\n-A includes versioning and OS detection.\n\n481\n00:25:01.226 --> 00:25:03.177\n-v for verbose.\n\n482\n00:25:03.177 --> 00:25:08.404\nI'm gonna take those out,\nbecause I don't want them at this point.\n\n483\n00:25:08.404 --> 00:25:12.193\nI just wanna show you\nsimple host discovery.\n\n484\n00:25:12.193 --> 00:25:12.816\nLet me back out.\n\n485\n00:25:12.816 --> 00:25:17.497\nThere are some profiles over here that\nI can choose from, all right, and\n\n486\n00:25:17.497 --> 00:25:20.270\nthese are just pre-built commands.\n\n487\n00:25:20.270 --> 00:25:21.865\nSo maybe I'm again, learning.\n\n488\n00:25:21.865 --> 00:25:24.840\nI know I wanna do a ping scan, so\nI am just gonna grab that one.\n\n489\n00:25:24.840 --> 00:25:27.163\nAnd let's see what it did.\n\n490\n00:25:27.163 --> 00:25:33.019\nNotice it added the -sn just\nlike we did in Linux, right?\n\n491\n00:25:33.019 --> 00:25:40.110\nSo if I zoom back out, and I go ahead and\nclick Scan, it should start that scan.\n\n492\n00:25:43.435 --> 00:25:44.270\nWhere is my window?\n\n493\n00:25:44.270 --> 00:25:44.820\nThere we go.\n\n494\n00:25:44.820 --> 00:25:45.586\nDid I say scan?\n\n495\n00:25:45.586 --> 00:25:46.321\nThere we go.\n\n496\n00:25:46.321 --> 00:25:50.776\nIt needed to be clicked twice,\nyou know how these GUIs are.\n\n497\n00:25:50.776 --> 00:25:54.708\n[LAUGH] All right, so it's starting Nmap\nand I'll zoom in as it's rolling here.\n\n498\n00:25:54.708 --> 00:25:58.900\nAnd same type of results,\nnmap scan, Host is up.\n\n499\n00:25:58.900 --> 00:26:01.400\nSo that's all it's doing is\nit's showing me my live host.\n\n500\n00:26:01.400 --> 00:26:02.960\nThat is pretty.\n\n501\n00:26:02.960 --> 00:26:04.676\nI've got this nice area over here.\n\n502\n00:26:04.676 --> 00:26:06.990\nLet me see if I can make\nthat a little bit wider.\n\n503\n00:26:06.990 --> 00:26:10.062\n&gt;&gt; I just like how the output area\nis very similar to what we see in\n\n504\n00:26:10.062 --> 00:26:11.398\na terminal environment.\n\n505\n00:26:11.398 --> 00:26:12.626\n&gt;&gt; Yep.\n&gt;&gt; Keeps that level\n\n506\n00:26:12.626 --> 00:26:13.952\nof comfortability for us.\n\n507\n00:26:13.952 --> 00:26:17.680\n&gt;&gt; It does, and\nit has some neat things in here.\n\n508\n00:26:17.680 --> 00:26:22.875\nOnce we start doing actual port scans,\nwe'll see a nice list of ports.\n\n509\n00:26:22.875 --> 00:26:27.110\nLook, as I click on these individual\nhosts, it could show me the information.\n\n510\n00:26:27.110 --> 00:26:34.199\nIt'll actually print out or\ncreate a topology, which is crazy, crazy.\n\n511\n00:26:34.199 --> 00:26:35.279\nIt's tricky to get.\n\n512\n00:26:35.279 --> 00:26:38.023\nMy zoom level is way up here.\n\n513\n00:26:38.023 --> 00:26:39.552\nWhere is my zoom?\n\n514\n00:26:39.552 --> 00:26:45.852\nYeah, we're not gonna\nmess with that right now.\n\n515\n00:26:45.852 --> 00:26:47.674\n&gt;&gt; [LAUGH] [CROSSTALK]\n&gt;&gt; Before I do, there's my controls and\n\n516\n00:26:47.674 --> 00:26:48.332\nthere's my zoom.\n\n517\n00:26:48.332 --> 00:26:52.712\nYeah, you can start zooming in and\ncan start creating topologies.\n\n518\n00:26:52.712 --> 00:26:55.240\nIt's gonna be a pretty boring\ntopology here because they're all\n\n519\n00:26:55.240 --> 00:26:58.120\non the same subnet, so\nit just looks silly.\n\n520\n00:26:58.120 --> 00:27:02.296\nBut in a network that you are unfamiliar\nwith or you've got a heavily routed\n\n521\n00:27:02.296 --> 00:27:05.892\nnetwork, that topology generator\nis pretty cool, all right?\n\n522\n00:27:05.892 --> 00:27:09.303\nSo there's a lot of other information,\nbut since we only did a ping sweep,\n\n523\n00:27:09.303 --> 00:27:11.480\nwe're not getting any\nof the information yet.\n\n524\n00:27:11.480 --> 00:27:13.830\nIt's just saying, hey,\nthey're up or they're not up.\n\n525\n00:27:13.830 --> 00:27:16.160\nAnd it's only showing me\nthe ones that are up.\n\n526\n00:27:16.160 --> 00:27:17.380\nSo there you have Nmap.\n\n527\n00:27:17.380 --> 00:27:19.410\nWe've got it in all of\nour different platforms.\n\n528\n00:27:19.410 --> 00:27:23.510\nWe saw it on Linux, running it in\nCali from the command line there.\n\n529\n00:27:23.510 --> 00:27:28.710\nWe saw it on Windows,\nusing both ZenMap, the GUI.\n\n530\n00:27:28.710 --> 00:27:32.740\nWe saw that the command line was going to\nbe no different on Windows either, but\n\n531\n00:27:32.740 --> 00:27:34.910\nusing Nmap to do host discovery.\n\n532\n00:27:34.910 --> 00:27:37.120\nFind out what the heck is\nout there on your network.\n\n533\n00:27:37.120 --> 00:27:38.887\n&gt;&gt; That's right.\nOld venerable Nmap comes to\n\n534\n00:27:38.887 --> 00:27:39.980\nthe rescue yet again.\n\n535\n00:27:39.980 --> 00:27:41.880\nIt is something that's tried and true.\n\n536\n00:27:41.880 --> 00:27:46.320\nAnd you will encounter and\nuse it as a security professional up here\n\n537\n00:27:46.320 --> 00:27:49.110\ntrying to implement more\nsecurity in your environment.\n\n538\n00:27:49.110 --> 00:27:51.130\nSo just dig in your heels.\n\n539\n00:27:51.130 --> 00:27:54.548\nThe man page is your friend\nwhen it comes to Nmap.\n\n540\n00:27:54.548 --> 00:27:57.700\nA lot of great documentation out there for\nit as well.\n\n541\n00:27:57.700 --> 00:28:00.889\nThat being said, Mike, it looks like\nwe are out of time for this episode.\n\n542\n00:28:00.889 --> 00:28:02.279\nBut perfectly timed, though,\n\n543\n00:28:02.279 --> 00:28:04.860\nbecause you were done showing\nus how to do host discovery.\n\n544\n00:28:04.860 --> 00:28:06.176\n&gt;&gt; [LAUGH] We try, we try.\n&gt;&gt; That's right, so\n\n545\n00:28:06.176 --> 00:28:10.221\neverybody run out there, grab your copy of\nNmap, start scanning your networks, and\n\n546\n00:28:10.221 --> 00:28:13.120\nfind hosts on them so\nthat you can start mapping it out.\n\n547\n00:28:13.120 --> 00:28:15.304\nVery cool stuff, thanks for\njoining us today.\n\n548\n00:28:15.304 --> 00:28:16.186\nBut we're gonna go ahead and sign off.\n\n549\n00:28:16.186 --> 00:28:18.470\nFor ITProTV,\nI've been your host Daniel Lowrie.\n\n550\n00:28:18.470 --> 00:28:19.414\n&gt;&gt; And I'm Mike Rodrick.\n\n551\n00:28:19.414 --> 00:28:20.649\n&gt;&gt; And we'll see you next time.\n\n552\n00:28:20.649 --> 00:28:27.657\n[MUSIC]\n\n553\n00:28:27.657 --> 00:28:29.675\nThank you for watching ITProTV.\n\n",
          "vimeoId": "223286246"
        },
        {
          "description": "In this episode, Daniel and Mike explore common tools, techniques, and practices used in the pursuit of securing your environment. Here they specifically look at port scanning using the venerable Nmap scanner in both Linux and Windows.",
          "length": "1963",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-2-1-port_scanning-062017-PGM.00_32_27_10.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-2-1-port_scanning-062017-PGM.00_32_27_10.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-2-1-port_scanning-062017-PGM.00_32_27_10.Still001-sm.jpg",
          "title": "Port Scanning",
          "transcript": "WEBVTT\n\n1\n00:00:00.280 --> 00:00:02.487\nWelcome to ITProTV,\nI'm your host, [CROSSTALK]\n\n2\n00:00:02.487 --> 00:00:03.510\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:03.510 --> 00:00:08.072\n[MUSIC]\n\n4\n00:00:08.072 --> 00:00:10.870\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:10.870 --> 00:00:13.222\n&gt;&gt; All right, greetings, everyone.\n\n6\n00:00:13.222 --> 00:00:16.910\nAnd welcome back to another\ngreat episode of ITProTV.\n\n7\n00:00:16.910 --> 00:00:17.502\nI'm your host, Daniel Lowrie.\n\n8\n00:00:17.502 --> 00:00:18.949\nAnd in today's episode,\n\n9\n00:00:18.949 --> 00:00:22.590\nwe are continuing on with more in\nour security tech skill series.\n\n10\n00:00:22.590 --> 00:00:23.960\nJoining us back in the studio, again,\n\n11\n00:00:23.960 --> 00:00:27.870\ntoday to lend his expertise in that very\ntopic, our good friend, Mr. Mike Rodrick.\n\n12\n00:00:27.870 --> 00:00:29.650\nMike, glad to have you again,\nman, how's it going?\n\n13\n00:00:29.650 --> 00:00:31.735\n&gt;&gt; Well, it's going great, Daniel,\nthanks for having me back.\n\n14\n00:00:31.735 --> 00:00:34.320\nYeah, more fun stuff coming your way.\n\n15\n00:00:34.320 --> 00:00:36.770\nAll right, so we were talking about,\nin a previous episode,\n\n16\n00:00:36.770 --> 00:00:38.140\nwe had taken a look at nmap.\n\n17\n00:00:38.140 --> 00:00:41.026\nAnd we had used it to do\nsome host discovery, right?\n\n18\n00:00:41.026 --> 00:00:43.219\nBasically sending out a ping sweep,\n\n19\n00:00:43.219 --> 00:00:48.020\ntry to find out what IP addresses were\nactually had live hosts attached to them.\n\n20\n00:00:48.020 --> 00:00:50.377\nSo that when we got into\nthe scanning phase,\n\n21\n00:00:50.377 --> 00:00:54.454\ntry to figure out what's going on in\nthose machines, we wouldn't waste our\n\n22\n00:00:54.454 --> 00:00:58.675\ntime scanning IP addresses that didn't\nhave hosts attached to them, right?\n\n23\n00:00:58.675 --> 00:00:59.985\nOr the hosts were down.\n\n24\n00:00:59.985 --> 00:01:02.445\nSo we've got a nice list of IP addresses.\n\n25\n00:01:02.445 --> 00:01:04.655\nIf you missed that,\nmake sure you go back and check it out.\n\n26\n00:01:04.655 --> 00:01:07.955\nNow we're gonna take a look at\ndoing some simple scans, right?\n\n27\n00:01:07.955 --> 00:01:11.065\nAnd remember, we're just trying to get\nour feet wet here, learn about nmap,\n\n28\n00:01:11.065 --> 00:01:12.035\nlearn how it does scans.\n\n29\n00:01:12.035 --> 00:01:13.685\nIf you're beyond this already,\n\n30\n00:01:13.685 --> 00:01:17.770\nwe got some great classes in\nour library that go over nmap.\n\n31\n00:01:17.770 --> 00:01:19.173\nIn fact, the guy next to me here,\n&gt;&gt; [LAUGH]\n\n32\n00:01:19.173 --> 00:01:21.921\n&gt;&gt; Has done several days working with nmap\n\n33\n00:01:21.921 --> 00:01:23.590\nfor you guys out there.\n\n34\n00:01:23.590 --> 00:01:25.690\nSo go check those episodes out, as well.\n\n35\n00:01:26.910 --> 00:01:30.405\nAll right, so as we said, one of\nthe skills we're gonna need to do is\n\n36\n00:01:30.405 --> 00:01:32.335\nwe needed to be able to\ndo some port scanning.\n\n37\n00:01:32.335 --> 00:01:36.365\nWhen it comes to being a security guy or\ngal on our network, one of our jobs\n\n38\n00:01:36.365 --> 00:01:40.284\nis to harden our servers and\nour clients or whatever nodes we've got.\n\n39\n00:01:40.284 --> 00:01:46.205\nOne of the big components of hardening any\ndevice is removing unnecessary services.\n\n40\n00:01:46.205 --> 00:01:49.533\nAnd making sure that we're not\nrunning things that we're not using.\n\n41\n00:01:49.533 --> 00:01:53.910\nIf there is no FTP site on this machine,\nthen FTP shouldn't be running.\n\n42\n00:01:53.910 --> 00:01:56.160\nPorts 20 and 21 shouldn't be open.\n\n43\n00:01:56.160 --> 00:01:58.537\nUnless I'm doing something else with\nthose ports, they should be closed.\n\n44\n00:01:58.537 --> 00:02:00.515\nAnd so that's the kinda thing we can use,\nright?\n\n45\n00:02:00.515 --> 00:02:02.458\nA lot of times in our Windows classes,\n\n46\n00:02:02.458 --> 00:02:06.930\nI know we talk about hardening the servers\nand disabling unnecessary services.\n\n47\n00:02:06.930 --> 00:02:09.070\nWell, how do you know what's running,\nright?\n\n48\n00:02:09.070 --> 00:02:13.460\nWell, one of the sure-fire way to do is do\na port scan and see what ports are open.\n\n49\n00:02:13.460 --> 00:02:15.756\nYou can go into Services, and\nyou can try to look through there.\n\n50\n00:02:15.756 --> 00:02:19.172\nAnd that's definitely a technique,\nbut a port scan's a quick and\n\n51\n00:02:19.172 --> 00:02:20.209\neasy way to do this.\n\n52\n00:02:20.209 --> 00:02:24.620\nAnd it also gives you an idea of\nwhat the bad guy might see, right?\n\n53\n00:02:24.620 --> 00:02:26.910\nIf they start scanning\nsome of your machines-\n\n54\n00:02:26.910 --> 00:02:28.070\n&gt;&gt; Yeah, Mike, I can't tell you how many\n\n55\n00:02:28.070 --> 00:02:30.640\ntimes I have seen the jaw\nhit the floor when I'm like,\n\n56\n00:02:30.640 --> 00:02:34.718\ndid you guys know you're running\na web server on ports 7213?\n\n57\n00:02:34.718 --> 00:02:36.920\n&gt;&gt; [LAUGH]\n&gt;&gt; No, why?\n\n58\n00:02:36.920 --> 00:02:40.880\nWell, because there's a web server\nrunning on 7214 or whatever.\n\n59\n00:02:40.880 --> 00:02:44.788\n&gt;&gt; And it could be that some program\nhas a component in it that provides,\n\n60\n00:02:44.788 --> 00:02:47.600\nI don't know, help or\nwho knows what that set this up.\n\n61\n00:02:47.600 --> 00:02:49.790\nAnd the person that installed it\ndidn't read the documentation or\n\n62\n00:02:49.790 --> 00:02:52.238\ndidn't understand it and\njust installed it.\n\n63\n00:02:52.238 --> 00:02:53.840\nAnd yeah, now all of a sudden,\nit's running a web server.\n\n64\n00:02:53.840 --> 00:02:56.820\nIt's probably going on unpatched,\nit's definitely unmonitored.\n\n65\n00:02:56.820 --> 00:02:58.690\nNot gonna be a good day.\n\n66\n00:02:58.690 --> 00:03:02.170\nSo let's see how we can\nuse nmap to do some scans.\n\n67\n00:03:02.170 --> 00:03:07.578\nWe'll start out by adjusting my\nfont size a wee bit in my terminal.\n\n68\n00:03:07.578 --> 00:03:11.674\nAnd remember,\nnmap is not spelled P-A, but A-P.\n\n69\n00:03:11.674 --> 00:03:12.922\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] And\n\n70\n00:03:12.922 --> 00:03:15.290\ngreat help associated with this.\n\n71\n00:03:15.290 --> 00:03:16.119\nSo you can go in here,\n\n72\n00:03:16.119 --> 00:03:20.610\nand you can figure out what the different\nswitches that you want to try to use are.\n\n73\n00:03:20.610 --> 00:03:25.140\nFor our scan techniques, we're gonna\nbe focusing in on probably an sT.\n\n74\n00:03:25.140 --> 00:03:29.480\nBut we can do an sS, and\nyou can see the different ones are sS.\n\n75\n00:03:29.480 --> 00:03:35.777\nThe s is for my scan type,\nand the S represents a SYN.\n\n76\n00:03:35.777 --> 00:03:37.970\nThe T would be an ACK.\n\n77\n00:03:37.970 --> 00:03:42.680\nI've also got a Windows scan and\na name on scan, you can do UDP.\n\n78\n00:03:42.680 --> 00:03:47.000\nSomething that a lot of people\nforget about is good old UDP.\n\n79\n00:03:47.000 --> 00:03:49.268\n&gt;&gt; Yeah, it is a bear,\nI'm not gonna kid you around, here.\n\n80\n00:03:49.268 --> 00:03:51.457\nAnd if you're gonna do a UDP scan,\nyou better go ahead and\n\n81\n00:03:51.457 --> 00:03:53.560\ngrab yourself a sandwich and\na cup of coffee.\n\n82\n00:03:53.560 --> 00:03:55.370\nBecause it's gonna take a minute, right?\n\n83\n00:03:55.370 --> 00:03:58.838\nBut like Mike said,\npeople forget about it.\n\n84\n00:03:58.838 --> 00:04:02.568\nAnd there might actually be some\nUDP services that are open and\n\n85\n00:04:02.568 --> 00:04:04.490\nserving something out.\n\n86\n00:04:04.490 --> 00:04:05.062\nYou'd wanna know about that.\n\n87\n00:04:05.062 --> 00:04:07.560\n&gt;&gt; Yeah, absolutely,\ncuz guess who didn't forget?\n\n88\n00:04:07.560 --> 00:04:08.180\n&gt;&gt; The hacker.\n\n89\n00:04:08.180 --> 00:04:09.639\n&gt;&gt; Yeah, the one that's trying\nto get into your machine.\n\n90\n00:04:09.639 --> 00:04:12.393\nThey didn't forget about UDP,\nthey're hoping you did.\n\n91\n00:04:12.393 --> 00:04:15.319\nBut as Daniel said,\nit's a slow process of going through.\n\n92\n00:04:15.319 --> 00:04:17.525\nAnd sometimes it's not the best results.\n\n93\n00:04:17.525 --> 00:04:20.713\nUDP is a little different because\nit's connectionless, right?\n\n94\n00:04:20.713 --> 00:04:23.974\nThere is no SYN-ACK and SYN-ACK packet.\n\n95\n00:04:23.974 --> 00:04:26.619\nNo three-way handshake or\nanything like that, but\n\n96\n00:04:26.619 --> 00:04:28.552\nit is possible to do U [COUGH] excuse me.\n\n97\n00:04:28.552 --> 00:04:34.249\nA lot of times, what we'll do with the UDP\nscan is maybe not scan all 65,000.\n\n98\n00:04:34.249 --> 00:04:39.420\nWe might do some of the well known,\nused UDP ports or something like that.\n\n99\n00:04:39.420 --> 00:04:42.895\nOr if you got, as Daniel said,\na Coke and a sandwich-\n\n100\n00:04:42.895 --> 00:04:43.430\n&gt;&gt; Yeah.\n\n101\n00:04:43.430 --> 00:04:44.850\n&gt;&gt; Sit back, relax, and enjoy the ride.\n\n102\n00:04:44.850 --> 00:04:47.890\n&gt;&gt; What I like to do is just put\nthat to the background process,\n\n103\n00:04:47.890 --> 00:04:49.250\nlet it do its thing.\n\n104\n00:04:49.250 --> 00:04:52.218\nAnd then later, like, yeah,\nI was running that UDP scan.\n\n105\n00:04:52.218 --> 00:04:54.810\nLet me check that and see if it's done.\n\n106\n00:04:54.810 --> 00:04:55.820\n&gt;&gt; Exactly, multitask.\n\n107\n00:04:55.820 --> 00:04:57.406\n&gt;&gt; Don't watch that pot, man.\n\n108\n00:04:57.406 --> 00:04:59.560\n[LAUGH]\n&gt;&gt; [LAUGH] All right, but\n\n109\n00:04:59.560 --> 00:05:01.680\nthere are many different\ntechniques you can use to scan.\n\n110\n00:05:01.680 --> 00:05:04.850\nAnd again, in this particular series,\nwe're not going in depth.\n\n111\n00:05:04.850 --> 00:05:07.890\nWe've got videos in our\nlibrary that'll cover that.\n\n112\n00:05:07.890 --> 00:05:10.080\nFor now I just wanna show you\nthe basics of doing a port scan.\n\n113\n00:05:10.080 --> 00:05:12.900\nWhat kind of information we can\nget back from the port scan.\n\n114\n00:05:12.900 --> 00:05:16.830\nAnd a couple switches I think you will\nfind important in even just doing\n\n115\n00:05:16.830 --> 00:05:18.150\na basic scan.\n\n116\n00:05:18.150 --> 00:05:21.170\nSo let me just clear that\nscreen up a little bit.\n\n117\n00:05:21.170 --> 00:05:23.290\nAnd we're gonna start out by doing nmap.\n\n118\n00:05:23.290 --> 00:05:24.580\nNow I've switched networks.\n\n119\n00:05:24.580 --> 00:05:30.880\nIf you were watching the previous episode,\nI've got a metasploitable machine.\n\n120\n00:05:30.880 --> 00:05:32.110\nThat has lots of ports open,\n\n121\n00:05:32.110 --> 00:05:35.390\nlots of services running on it\njust to give us some results.\n\n122\n00:05:35.390 --> 00:05:36.870\nSo we really only have one machine.\n\n123\n00:05:36.870 --> 00:05:38.909\nI will show you how to use that list,\nthough,\n\n124\n00:05:38.909 --> 00:05:40.798\nthat we created in the previous episode.\n\n125\n00:05:40.798 --> 00:05:44.370\nEven though I'm not attached\nto that network, anyway.\n\n126\n00:05:44.370 --> 00:05:47.480\nSo if we're gonna do a scan,\nI don't know, Daniel, what do you think?\n\n127\n00:05:47.480 --> 00:05:49.740\nA little x scan, a little tcpx scan?\n\n128\n00:05:49.740 --> 00:05:52.060\n&gt;&gt; What the hell, let's get noisy,\nlet's go for broke.\n\n129\n00:05:52.060 --> 00:05:53.652\nAnd let's really hit them\nwith the kitchen sink.\n\n130\n00:05:53.652 --> 00:05:56.870\n&gt;&gt; Yeah, and that's a great point to make.\n\n131\n00:05:56.870 --> 00:05:59.610\nIf you do an sS we're doing a SYN scan.\n\n132\n00:05:59.610 --> 00:06:03.430\nIf we do an sT, we're doing an ACK scan.\n\n133\n00:06:03.430 --> 00:06:08.320\n&gt;&gt; What they call a TCP connect scan\nbecause it's doing that full connection\n\n134\n00:06:08.320 --> 00:06:10.006\nthrough TCP three-way handshake thing.\n\n135\n00:06:10.006 --> 00:06:13.603\n&gt;&gt; Exactly, whereas an S, didn't they\nused to call this the stealth mode?\n\n136\n00:06:13.603 --> 00:06:17.910\n&gt;&gt; Stealth scan, yeah, it's not as\nstealthy as it once was considered.\n\n137\n00:06:17.910 --> 00:06:21.340\nBut it's still better than nothing,\nI mean, that's why it's the default.\n\n138\n00:06:21.340 --> 00:06:24.378\nThis is what most people are going to run.\n\n139\n00:06:24.378 --> 00:06:27.130\n&gt;&gt; Yep, exactly, but\nthis won't wait for that.\n\n140\n00:06:27.130 --> 00:06:30.280\nIt won't send back that final\nacknowledgment to complete that TCP\n\n141\n00:06:30.280 --> 00:06:31.090\nhandshake.\n\n142\n00:06:31.090 --> 00:06:32.830\nSo it makes a little less\nnoise on the network.\n\n143\n00:06:32.830 --> 00:06:35.970\nMaybe be a little less detectable\nif you were trying to hide.\n\n144\n00:06:35.970 --> 00:06:39.360\nBut in our case, we're network admins,\nwe wanna secure our system.\n\n145\n00:06:39.360 --> 00:06:43.550\nSo we can be as noisy as we want, and\nwe'll just go ahead and do an sT.\n\n146\n00:06:44.960 --> 00:06:46.305\nAnd then let's just hit it,\nlet's just go with 10.\n\n147\n00:06:46.305 --> 00:06:50.560\nI'm just gonna put the IP address\nin there, and I'll let it run.\n\n148\n00:06:50.560 --> 00:06:52.100\n&gt;&gt; That simple.\n&gt;&gt; Yeah, that's easy.\n\n149\n00:06:52.100 --> 00:06:52.980\n&gt;&gt; Yeah.\n&gt;&gt; Right?\n\n150\n00:06:52.980 --> 00:06:56.237\n&gt;&gt; This is not anything that is\nout of your expertise realm.\n\n151\n00:06:56.237 --> 00:07:00.158\nIf you can type in nmap, what type of scan\nyou'd like, and the IP address of the host\n\n152\n00:07:00.158 --> 00:07:03.649\nthat you would like to scan, well,\nthere you go, ladies and gentlemen.\n\n153\n00:07:03.649 --> 00:07:05.090\nIt can be that easy.\n\n154\n00:07:05.090 --> 00:07:09.200\n&gt;&gt; You are done, look at that,\nand that took 14 seconds.\n\n155\n00:07:09.200 --> 00:07:13.470\nNow it does not scan all ports\nwith this particular default scan.\n\n156\n00:07:13.470 --> 00:07:15.040\nIt's doing, what is it, the top 1,000?\n\n157\n00:07:15.040 --> 00:07:18.565\n&gt;&gt; Top 1,000, and that does not\nmean that it is 1 through 1000.\n\n158\n00:07:18.565 --> 00:07:23.517\nIt means these are the top\n1,000 most-used ports as of\n\n159\n00:07:23.517 --> 00:07:26.499\nthe creation of this version of it.\n\n160\n00:07:26.499 --> 00:07:29.359\n&gt;&gt; Yeah, what is it fi-order, fio-door?\n\n161\n00:07:29.359 --> 00:07:29.880\n&gt;&gt; Fiodor.\n\n162\n00:07:29.880 --> 00:07:31.250\n&gt;&gt; Fiodor, I never say it right.\n\n163\n00:07:31.250 --> 00:07:32.990\n&gt;&gt; Yeah, I know, he's got a funny handle.\n\n164\n00:07:32.990 --> 00:07:34.536\n&gt;&gt; But they did a lot of research and\n\n165\n00:07:34.536 --> 00:07:38.610\nthey found that you can get over 90% of\nthe ports by just doing the top 1,000.\n\n166\n00:07:38.610 --> 00:07:40.760\nAnd it saves you a lot of time.\n\n167\n00:07:40.760 --> 00:07:43.910\n&gt;&gt; That was really quick.\n\n168\n00:07:43.910 --> 00:07:45.680\n&gt;&gt; It was really quick, 14 seconds.\n\n169\n00:07:45.680 --> 00:07:49.589\n&gt;&gt; And you scanned 1,000 ports,\nI mean, that was super-fast.\n\n170\n00:07:49.589 --> 00:07:53.181\n&gt;&gt; Yep, now if you're on a machine that\nyou know is running common services and\n\n171\n00:07:53.181 --> 00:07:55.552\nthings like that,\nthis is probably all you need.\n\n172\n00:07:55.552 --> 00:07:58.791\nIf you're really trying to do an in\ndepth discovery on that machine, and\n\n173\n00:07:58.791 --> 00:08:00.820\nmaybe there's some odd\nball stuff on there.\n\n174\n00:08:00.820 --> 00:08:03.190\nYou just need to scan all the ports.\n\n175\n00:08:03.190 --> 00:08:04.680\nYou can do it a little bit differently.\n\n176\n00:08:04.680 --> 00:08:08.790\nInstead of letting Nmap do it's own\ndefault, we can come in here and\n\n177\n00:08:08.790 --> 00:08:11.630\nwe can throw in a -p for port.\n\n178\n00:08:11.630 --> 00:08:12.780\nAnd then we've got options, right.\n\n179\n00:08:12.780 --> 00:08:17.745\nIf I just wanted to scan for\nport 21 or 20 and 21, right?\n\n180\n00:08:17.745 --> 00:08:20.750\nI'd just separate those out with a comma,\nwe'll run it real quick here.\n\n181\n00:08:22.030 --> 00:08:23.580\nShouldn't take it very long at all.\n\n182\n00:08:25.340 --> 00:08:27.590\n&gt;&gt; Now it is, remember, what is it doing?\n\n183\n00:08:27.590 --> 00:08:30.740\nIt is actually pinging the machine,\nseeing if it's alive,\n\n184\n00:08:30.740 --> 00:08:32.983\nmaybe even doing some ARP requests there.\n\n185\n00:08:32.983 --> 00:08:36.460\nAnd then once it replies, okay you're\nalive now I'll start my scanning process.\n\n186\n00:08:36.460 --> 00:08:37.790\nSo that can slow things down.\n\n187\n00:08:37.790 --> 00:08:42.380\nWe could actually tell it to not\ndo the ping host discovery stuff\n\n188\n00:08:42.380 --> 00:08:44.090\nto speed things up a little\nbit if you want to.\n\n189\n00:08:44.090 --> 00:08:47.030\nSo you start figuring\nout how to cut corners.\n\n190\n00:08:47.030 --> 00:08:49.230\n&gt;&gt; Yep.\n&gt;&gt; And use Nmap a little more efficiently.\n\n191\n00:08:49.230 --> 00:08:50.510\n&gt;&gt; Let's see what time\nwe would save there,\n\n192\n00:08:50.510 --> 00:08:52.290\nbecause then again we were\nonly scanning two ports.\n\n193\n00:08:52.290 --> 00:08:56.460\nAnd that actually took almost as\nlong as it took to scan 1,000 ports.\n\n194\n00:08:56.460 --> 00:08:58.150\n&gt;&gt; Yeah.\n&gt;&gt; Which really shows you the bulk\n\n195\n00:08:58.150 --> 00:09:00.660\nof that time was in that discovery phase,\nright?\n\n196\n00:09:00.660 --> 00:09:02.100\nBecause it does two discoveries.\n\n197\n00:09:02.100 --> 00:09:06.440\nIt's doing that ICMP as well as the TCP.\n\n198\n00:09:06.440 --> 00:09:08.050\nAnd Daniel,\nlet me see if I remember right.\n\n199\n00:09:08.050 --> 00:09:09.622\nI'm gonna do a -P0.\n\n200\n00:09:12.860 --> 00:09:15.700\n&gt;&gt; Yeah, it allowed that.\n\n201\n00:09:15.700 --> 00:09:16.441\n&gt;&gt; It did allow it.\n\n202\n00:09:16.441 --> 00:09:17.960\n[CROSSTALK]\n&gt;&gt; The new one is Pn, I think.\n\n203\n00:09:17.960 --> 00:09:19.254\nIt's capital P, lowercase n.\n\n204\n00:09:19.254 --> 00:09:23.370\n&gt;&gt; Okay, let's change that up\ncuz it's taking just as long.\n\n205\n00:09:26.580 --> 00:09:28.830\nLet's see if it does anything after.\n\n206\n00:09:28.830 --> 00:09:29.410\n&gt;&gt; Let's see if that helps.\n\n207\n00:09:29.410 --> 00:09:32.000\n&gt;&gt; Otherwise we'll go back to our\ndocumentation and we will double check and\n\n208\n00:09:32.000 --> 00:09:33.450\nverify that command.\n\n209\n00:09:33.450 --> 00:09:37.031\n&gt;&gt; As I said before the man page for\nNmap is your friend.\n\n210\n00:09:37.031 --> 00:09:39.810\n[LAUGH]\n&gt;&gt; All right let's double check on that\n\n211\n00:09:39.810 --> 00:09:41.990\nbecause they have changed\nthese up just a wee bit.\n\n212\n00:09:43.130 --> 00:09:49.001\nAnd so with my scan options,\nthat p protocol scan,\n\n213\n00:09:49.001 --> 00:09:54.340\nyou know I don't see it there,\nthere we go.\n\n214\n00:09:54.340 --> 00:10:00.690\n[CROSSTALK] So we really didn't save,\nlet's see what we saved.\n\n215\n00:10:00.690 --> 00:10:02.100\nThere's the switch Daniel\nwas talking about.\n\n216\n00:10:02.100 --> 00:10:05.860\nCapital P,\nlittle n treat all hosts as online.\n\n217\n00:10:05.860 --> 00:10:06.909\nLike here, in this case,\n\n218\n00:10:06.909 --> 00:10:09.314\nwe're trying to save a little\ntime cuz I know the host is up.\n\n219\n00:10:09.314 --> 00:10:11.091\nOr if you're doing a network discovery or\n\n220\n00:10:11.091 --> 00:10:13.377\nscanning a network that\nyou're not familiar with and\n\n221\n00:10:13.377 --> 00:10:16.190\nyou are thinking that some of them\ncould be blocked by firewalls.\n\n222\n00:10:16.190 --> 00:10:18.040\nSo they might be there, but\n\n223\n00:10:18.040 --> 00:10:22.555\nthey're not responding to either\nthe ICMP echo or that TCP check.\n\n224\n00:10:22.555 --> 00:10:25.380\nYou can still scan the port.\n\n225\n00:10:25.380 --> 00:10:28.400\nYou can say, hey look, I know it's not\nresponding, scan all 65,000 as well.\n\n226\n00:10:28.400 --> 00:10:29.880\n&gt;&gt; You know what else it's doing?\n\n227\n00:10:29.880 --> 00:10:31.614\nIt's doing DNS resolution.\n\n228\n00:10:31.614 --> 00:10:32.180\n&gt;&gt; I need little n.\n\n229\n00:10:32.180 --> 00:10:34.430\n&gt;&gt; Do a dash, yeah, little n.\n\n230\n00:10:34.430 --> 00:10:36.440\nAnd I bet that makes it scream.\n\n231\n00:10:36.440 --> 00:10:41.080\n&gt;&gt; Let's do that, because I know my DNS is\nnot set up for this little test network.\n\n232\n00:10:41.080 --> 00:10:42.260\nSo as Daniel pointed out there,\n\n233\n00:10:42.260 --> 00:10:46.870\nthe dash little n sort of forces\nit not to resolve DNS names.\n\n234\n00:10:47.910 --> 00:10:50.092\nThe default is sometimes.\n\n235\n00:10:50.092 --> 00:10:51.430\n&gt;&gt; Right.\n&gt;&gt; Which is kind of weird.\n\n236\n00:10:51.430 --> 00:10:54.300\nAnd then you can also force\nit to always do it as well.\n\n237\n00:10:54.300 --> 00:10:58.260\n&gt;&gt; Yeah, now if you look at our times,\nit was going down.\n\n238\n00:10:58.260 --> 00:11:02.550\nAs we carved away at what Nmap was\ndoing the times went down from 14,\n\n239\n00:11:02.550 --> 00:11:04.590\nto 13, to almost 12.\n\n240\n00:11:04.590 --> 00:11:09.310\nAnd now we took DNS resolution\noff there and it's blazing fast.\n\n241\n00:11:09.310 --> 00:11:10.640\nSo there was our culprit.\n\n242\n00:11:10.640 --> 00:11:11.890\n&gt;&gt; Definitely, that was the one.\n\n243\n00:11:11.890 --> 00:11:17.100\nAll right, so that's just as we see\none scan just for particular ports.\n\n244\n00:11:17.100 --> 00:11:19.590\nYou might do this on\na range of IP addresses.\n\n245\n00:11:19.590 --> 00:11:20.570\nYou can put in ranges.\n\n246\n00:11:20.570 --> 00:11:22.090\nYou can put entire subnets.\n\n247\n00:11:22.090 --> 00:11:25.350\nLike we saw in a previous episode,\nmaybe for a particular port.\n\n248\n00:11:25.350 --> 00:11:29.820\nI wanna say hey, which one of my silly\nclients is running a web server, right?\n\n249\n00:11:29.820 --> 00:11:33.630\nLet me just do a port 80 scan across\nall the range of that client's subnet.\n\n250\n00:11:34.850 --> 00:11:39.860\nYou can also do, as I said, port ranges,\nand we can use that top port.\n\n251\n00:11:39.860 --> 00:11:41.504\nLet me show you how to do that one.\n\n252\n00:11:41.504 --> 00:11:46.740\nLet's pull that last command back and\nwe'll change\n\n253\n00:11:46.740 --> 00:11:52.120\nthis ports up, and\nit's gonna be a --top-ports.\n\n254\n00:11:52.120 --> 00:11:56.910\nAnd then let's do,\nthe default is 1,000, we'll just do 50.\n\n255\n00:11:56.910 --> 00:11:57.990\nAnd we'll hit Enter.\n\n256\n00:11:59.090 --> 00:12:01.760\nAnd there we can see that out\nof those top 50 ports, and\n\n257\n00:12:01.760 --> 00:12:05.000\nas Daniel pointed out,\nit's not consecutive port one through 50.\n\n258\n00:12:05.000 --> 00:12:11.160\nIt's saying I'm gonna look at the list\nof ports sorted by usage statistics.\n\n259\n00:12:11.160 --> 00:12:14.320\nAt the top of the list is\nthe most commonly used port,\n\n260\n00:12:14.320 --> 00:12:18.950\nthe port we find open on more than\nany other port on most machines.\n\n261\n00:12:18.950 --> 00:12:19.750\nI don't know what that is.\n\n262\n00:12:19.750 --> 00:12:22.010\nIt's probably port 80 or port 53 for DNS.\n\n263\n00:12:22.010 --> 00:12:26.510\n&gt;&gt; I'm guessing port 80 is probably\nright there near the very first one.\n\n264\n00:12:26.510 --> 00:12:28.030\n&gt;&gt; Yeah.\n&gt;&gt; As in use case.\n\n265\n00:12:28.030 --> 00:12:29.050\n&gt;&gt; Yeah, exactly.\n\n266\n00:12:29.050 --> 00:12:29.740\nSo that's what it's doing.\n\n267\n00:12:29.740 --> 00:12:32.410\nIt's looking at the most\ncommonly found open ports, and\n\n268\n00:12:32.410 --> 00:12:36.440\nit's saying here's the top 50 commonly\nfound open ports, just scan for those.\n\n269\n00:12:36.440 --> 00:12:40.440\nAnd the statistics on what you get back,\nI mean, it finds at 50,\n\n270\n00:12:40.440 --> 00:12:42.000\nI forget what the statistic.\n\n271\n00:12:42.000 --> 00:12:44.380\nIf you go out and look at his site,\nhe's got some breakdowns for you.\n\n272\n00:12:44.380 --> 00:12:46.932\nBut, when you get up to 1,000,\nyou're at like 98,\n\n273\n00:12:46.932 --> 00:12:48.680\nit's something ridiculous like that.\n\n274\n00:12:48.680 --> 00:12:49.933\n&gt;&gt; Yeah, it's very high.\n\n275\n00:12:49.933 --> 00:12:56.330\n&gt;&gt; So it's like, wait, I can scan\nthe other 64,000 ports to get 3% more.\n\n276\n00:12:56.330 --> 00:12:59.440\nYeah, it's almost not worth it.\n\n277\n00:12:59.440 --> 00:13:01.292\n&gt;&gt; Unless you're doing\ncapture the flag games.\n\n278\n00:13:01.292 --> 00:13:01.792\n[LAUGH]\n&gt;&gt; Yes.\n\n279\n00:13:01.792 --> 00:13:03.120\n&gt;&gt; [LAUGH] Unless you suspect that\n\n280\n00:13:03.120 --> 00:13:06.359\nsomething funny is going on the machine\nand then you gotta scan them all,\n\n281\n00:13:06.359 --> 00:13:09.900\nall right?\nSo there we added that top-ports 50.\n\n282\n00:13:09.900 --> 00:13:13.780\nAll right, and you can see that it's\npulling back information about the ports.\n\n283\n00:13:13.780 --> 00:13:16.890\n&gt;&gt; And if we are looking for\nrogue services that might be,\n\n284\n00:13:16.890 --> 00:13:20.370\nor services that we enabled and\nforgot about, or whatever.\n\n285\n00:13:20.370 --> 00:13:25.385\nThen we probably want to do all the ports\nand as we cut away at it to make it run\n\n286\n00:13:25.385 --> 00:13:29.135\nfaster that's gonna reduce that amount\nof time, so it's not a big deal.\n\n287\n00:13:29.135 --> 00:13:30.014\n&gt;&gt; Yep, exactly right.\n\n288\n00:13:30.014 --> 00:13:35.010\nAnd that's what I know you and I, we'll\npick random, high-level ports sometimes or\n\n289\n00:13:35.010 --> 00:13:36.935\nrun a web service on the bad guys.\n\n290\n00:13:36.935 --> 00:13:41.520\nThey know as well so they're gonna be\nusing a port that's not commonly used.\n\n291\n00:13:41.520 --> 00:13:44.554\nThey're not gonna be using 80,\n8080, 8100, 8181.\n\n292\n00:13:44.554 --> 00:13:49.910\nThey're just not gonna be using those most\nlikely if they know what they're doing.\n\n293\n00:13:49.910 --> 00:13:51.540\nAll right, so back to what we were doing.\n\n294\n00:13:51.540 --> 00:13:53.230\nSo there's that command for Nmap.\n\n295\n00:13:53.230 --> 00:13:56.970\nAgain we're getting that Information,\nit's showing me what ports are open.\n\n296\n00:13:56.970 --> 00:14:00.909\nSo the idea is, I'm looking at this list\nand I'm saying, okay, port 21 is open,\n\n297\n00:14:00.909 --> 00:14:03.299\nport 22, 23, 25, 53, and I go on and on.\n\n298\n00:14:03.299 --> 00:14:08.109\nAnd I need to know at this point,\nall right,\n\n299\n00:14:08.109 --> 00:14:11.760\nshould that port be open?\n\n300\n00:14:11.760 --> 00:14:16.632\nAnd it's telling me a little bit\nabout what it thinks is on there, but\n\n301\n00:14:16.632 --> 00:14:21.513\nin this case it's really just looking\nat commonly used on that port.\n\n302\n00:14:21.513 --> 00:14:25.390\nIt's saying hey this is port 80,\nthat's almost always HTTP.\n\n303\n00:14:25.390 --> 00:14:26.758\nOr this is port, where's another one?\n\n304\n00:14:26.758 --> 00:14:31.130\n53, DNS, or demain name system,\nand things like that.\n\n305\n00:14:31.130 --> 00:14:36.560\nIt's really not interrogating those\nports much at this point, all right?\n\n306\n00:14:36.560 --> 00:14:38.380\nThat we're going to do here next.\n\n307\n00:14:38.380 --> 00:14:40.175\nIn fact, let's do it now.\n\n308\n00:14:40.175 --> 00:14:41.289\n&gt;&gt; [LAUGH] [INAUDIBLE] Mike.\n\n309\n00:14:41.289 --> 00:14:42.020\n&gt;&gt; Yeah.\n\n310\n00:14:42.020 --> 00:14:43.120\nYou like that?\n\n311\n00:14:43.120 --> 00:14:44.010\nJust make my own.\n\n312\n00:14:44.010 --> 00:14:46.230\nI'll just plow right through it.\n\n313\n00:14:46.230 --> 00:14:49.780\nWhen we're trying to harden servers or\nsecure our networks we're looking for\n\n314\n00:14:49.780 --> 00:14:51.630\nwhat services are on those machines.\n\n315\n00:14:51.630 --> 00:14:53.300\nWe're doing port scans like this.\n\n316\n00:14:54.320 --> 00:14:55.280\nAgain, but\n\n317\n00:14:55.280 --> 00:15:00.600\nI really need to know not only what port\nis open but what service is on that port?\n\n318\n00:15:00.600 --> 00:15:05.660\nAnd the cool thing about Nmap, it's not\nonly gonna do banner grabbing basically.\n\n319\n00:15:05.660 --> 00:15:09.030\nLooking at those ports and pulling\nback information about the service.\n\n320\n00:15:09.030 --> 00:15:11.520\nWe can get some version information\n\n321\n00:15:11.520 --> 00:15:15.225\nabout those which again is very important\nwhen I'm trying to secure servers.\n\n322\n00:15:15.225 --> 00:15:18.940\nIt's what the bad guys are doing because\nthey're looking to see what version\n\n323\n00:15:18.940 --> 00:15:22.420\nof Apache you're running or\nMySQL you're running.\n\n324\n00:15:22.420 --> 00:15:26.550\nCuz if you haven't updated it they're\ngonna go out and look for a vulnerability\n\n325\n00:15:26.550 --> 00:15:32.220\nor an exploit they can use against that\nparticular version of MySQL, right?\n\n326\n00:15:32.220 --> 00:15:34.480\nThis is why we have to\nkeep things up to date,\n\n327\n00:15:34.480 --> 00:15:37.740\nanother big part of hardening our servers.\n\n328\n00:15:37.740 --> 00:15:40.290\nSo let's add some to our command here.\n\n329\n00:15:40.290 --> 00:15:42.450\nI'm just gonna bring\nthat same command back.\n\n330\n00:15:42.450 --> 00:15:43.460\nI like those results.\n\n331\n00:15:43.460 --> 00:15:44.648\nIt's nice and quick.\n\n332\n00:15:44.648 --> 00:15:47.770\nWe'll change this to top 1,000 or\nwe'll just let it do its default.\n\n333\n00:15:47.770 --> 00:15:52.275\nWe'll go ahead and leave it as the top\n1,000 which is what it does by default.\n\n334\n00:15:52.275 --> 00:15:57.509\nI'm gonna add a -sv to my command,\nand that's gonna tell it to, hey,\n\n335\n00:15:57.509 --> 00:16:03.960\ngo and get version information about\nthose services that are on those ports.\n\n336\n00:16:03.960 --> 00:16:06.086\nSo we'll run that.\nIt's going to take a little bit longer\n\n337\n00:16:06.086 --> 00:16:08.470\nnow because it's doing a little more,\nright?\n\n338\n00:16:08.470 --> 00:16:10.516\nIt's talking to each one of those ports,\nit's saying hey,\n\n339\n00:16:10.516 --> 00:16:11.607\nlet me see what your service is.\n\n340\n00:16:11.607 --> 00:16:15.077\nGive me your information that you're\nsupposed to provide when anybody's trying\n\n341\n00:16:15.077 --> 00:16:17.048\nto make a connection to\nthat particular port.\n\n342\n00:16:17.048 --> 00:16:18.657\nSo we'll let it run.\n\n343\n00:16:18.657 --> 00:16:20.319\nI probably should have left it at 50.\n\n344\n00:16:20.319 --> 00:16:21.851\n&gt;&gt; [LAUGH]\n&gt;&gt; Just to keep it shorter.\n\n345\n00:16:21.851 --> 00:16:23.051\nBut yeah.\n\n346\n00:16:23.051 --> 00:16:23.795\n&gt;&gt; And now you're killing it.\n\n347\n00:16:23.795 --> 00:16:24.746\n&gt;&gt; I know.\n\n348\n00:16:24.746 --> 00:16:26.930\n&gt;&gt; [LAUGH] We got it all the way\ndown to three seconds and\n\n349\n00:16:26.930 --> 00:16:28.706\nnow we're back up to a minute and a half.\n\n350\n00:16:28.706 --> 00:16:30.972\n&gt;&gt; Yeah.\n&gt;&gt; So we'll let that, you know what?\n\n351\n00:16:30.972 --> 00:16:31.637\nLet's change it.\n\n352\n00:16:31.637 --> 00:16:32.675\nI'll go ahead and [INAUDIBLE] now.\n\n353\n00:16:32.675 --> 00:16:35.137\n&gt;&gt; Yeah, [INAUDIBLE]\n&gt;&gt; Give it short port ramps.\n\n354\n00:16:35.137 --> 00:16:36.373\nJust give it some ports we know are open.\n\n355\n00:16:36.373 --> 00:16:38.344\n&gt;&gt; -p.\n\n356\n00:16:38.344 --> 00:16:40.335\n&gt;&gt; Do like 21, 23, and 25.\n\n357\n00:16:40.335 --> 00:16:41.122\n&gt;&gt; What do we got up there?\n\n358\n00:16:41.122 --> 00:16:43.355\nYeah, we'll do 20.\n\n359\n00:16:43.355 --> 00:16:44.871\nYou know what, I like the top 50 actually.\n\n360\n00:16:44.871 --> 00:16:46.110\n&gt;&gt; Okay.\n\n361\n00:16:46.110 --> 00:16:52.101\n&gt;&gt; We'll do top dash ports, and 50.\n\n362\n00:16:52.101 --> 00:16:55.360\n&gt;&gt; All right.\nAnd let's try that one.\n\n363\n00:16:55.360 --> 00:16:56.400\nShould be a wee bit.\n\n364\n00:16:56.400 --> 00:16:59.696\nAgain, still gonna be slower than\njust doing a normal scan, but\n\n365\n00:16:59.696 --> 00:17:03.436\nit won't be doing 1,000 of them,\nwe'll cut that by 950 ports.\n\n366\n00:17:03.436 --> 00:17:05.255\nIt should speed things up.\n\n367\n00:17:05.255 --> 00:17:06.582\n&gt;&gt; There we go.\n&gt;&gt; There we go.\n\n368\n00:17:06.582 --> 00:17:09.405\nThat's not bad, 11 seconds or\nso to do that one.\n\n369\n00:17:09.405 --> 00:17:13.838\nAnd so I can see I'm getting the same\ninformation about what ports are open over\n\n370\n00:17:13.838 --> 00:17:17.545\nhere, 21 all these different ports,\nshowing me the service.\n\n371\n00:17:17.545 --> 00:17:18.836\nBut now look over here.\n\n372\n00:17:18.836 --> 00:17:21.264\nI'm getting version information, right?\n\n373\n00:17:21.264 --> 00:17:24.966\nIt's saying, Hey they're running,\nthis is an SMTP port,\n\n374\n00:17:24.966 --> 00:17:27.738\nand it's running post-fix SMTPT, right?\n\n375\n00:17:27.738 --> 00:17:29.921\nSo I get a SMTP name running on there.\n\n376\n00:17:29.921 --> 00:17:36.755\nI can see down here I've\ngot MySQL 5.0.51a, right?\n\n377\n00:17:36.755 --> 00:17:40.030\nVery specific about what that version is.\n\n378\n00:17:40.030 --> 00:17:42.991\n&gt;&gt; Also learning about the operating\nsystem as well because everything keeps\n\n379\n00:17:42.991 --> 00:17:44.828\nsaying Ubuntu this,\nUbuntu that and Debian.\n\n380\n00:17:44.828 --> 00:17:45.936\n&gt;&gt; Yeah.\n&gt;&gt; All right, so\n\n381\n00:17:45.936 --> 00:17:48.028\nI'm guessing this might\nbe a Debian Ubuntu.\n\n382\n00:17:48.028 --> 00:17:50.320\n[LAUGH]\n&gt;&gt; You know, you're probably right.\n\n383\n00:17:50.320 --> 00:17:51.948\nAnd we're gonna come back to that,\n\n384\n00:17:51.948 --> 00:17:55.219\nbecause there's a way we can try to\nverify that within map, all right?\n\n385\n00:17:55.219 --> 00:17:59.014\nBut again, this is important stuff, cuz\nnow I can go to whoever is running their\n\n386\n00:17:59.014 --> 00:18:02.189\nmachine and say, look,\nyou're responsible for that machine and\n\n387\n00:18:02.189 --> 00:18:04.418\nyou're running an outdated\nversion of bind.\n\n388\n00:18:04.418 --> 00:18:09.343\nOr we're not supposed to be running\nMy SQL on any of our client machines or\n\n389\n00:18:09.343 --> 00:18:11.140\nwhatever the case may be.\n\n390\n00:18:11.140 --> 00:18:12.371\n&gt;&gt; And that kit RSHD?\n\n391\n00:18:12.371 --> 00:18:13.370\nYeah, you should be running that.\n\n392\n00:18:13.370 --> 00:18:13.950\n&gt;&gt; What's that?\n\n393\n00:18:13.950 --> 00:18:14.450\nThat kit?\n&gt;&gt; Yeah.\n\n394\n00:18:14.450 --> 00:18:15.858\n&gt;&gt; Come on, that's a great one\n\n395\n00:18:15.858 --> 00:18:17.538\n&gt;&gt; It's basically just an open port for\n\n396\n00:18:17.538 --> 00:18:19.073\nyou to connect.\n&gt;&gt; I have to buy shells for\n\n397\n00:18:19.073 --> 00:18:21.500\nall my friends.\n[LAUGH] How are we supposed to log in,\n\n398\n00:18:21.500 --> 00:18:23.048\nman?\nCome on, right?\n\n399\n00:18:23.048 --> 00:18:24.287\n&gt;&gt; [LAUGH]\n\n400\n00:18:24.287 --> 00:18:25.221\n&gt;&gt; I mean, yeah, well,\n\n401\n00:18:25.221 --> 00:18:29.127\nyou're not very nice if you shut that off.\nAll right, so, and there again,\n\n402\n00:18:29.127 --> 00:18:34.249\nlet's take a look at that command.\nThat was a -sv that added this additional\n\n403\n00:18:34.249 --> 00:18:39.688\ninformation about what services we're\ngonna be able to find on those ports.\n\n404\n00:18:39.688 --> 00:18:40.944\nNow another one we can do,\n\n405\n00:18:40.944 --> 00:18:44.845\nas Daniel hinted to there is we can try to\nfigure out what the operating system is.\n\n406\n00:18:44.845 --> 00:18:46.969\nIf these are your servers, your clients,\n\n407\n00:18:46.969 --> 00:18:51.789\nyour devices, you probably know, right?\nSo maybe you don't feel this is necessary,\n\n408\n00:18:51.789 --> 00:18:55.410\nbut it might be a good idea to\nsee what the bad guys are seeing,\n\n409\n00:18:55.410 --> 00:18:57.956\nsee how close it is.\nThere are ways to obfuscate that\n\n410\n00:18:57.956 --> 00:19:00.523\ninformation.\nMaybe you want your Windows server to show\n\n411\n00:19:00.523 --> 00:19:03.108\nup as a Linux box so\nthat people try the wrong exploits and\n\n412\n00:19:03.108 --> 00:19:05.691\nthey're never successful, right?\nThere are ways\n\n413\n00:19:05.691 --> 00:19:08.683\nyou can try to hide some of\nthat information above and\n\n414\n00:19:08.683 --> 00:19:12.840\nbeyond what we're gonna doing here,\nbut it is possible, all right?\n\n415\n00:19:12.840 --> 00:19:18.945\nSo let's do this, Daniel, let's throw\nin what we call OS fingerprinting.\n\n416\n00:19:18.945 --> 00:19:23.089\nAll right, so I'm going to add a -O.\n\n417\n00:19:23.089 --> 00:19:25.848\nThat's not a zero, that's O, all right?\n\n418\n00:19:25.848 --> 00:19:27.628\nAnd that's for OS fingerprinting.\n\n419\n00:19:27.628 --> 00:19:29.474\nAnd we'll let it run.\n\n420\n00:19:29.474 --> 00:19:31.130\nNow you can see it did some down here.\n\n421\n00:19:31.130 --> 00:19:34.136\nHost: metasploitable.localdomain.\n\n422\n00:19:34.136 --> 00:19:36.437\nIt actually did pretty good right there.\n\n423\n00:19:36.437 --> 00:19:39.158\nThat's not always the case,\nthough, especially-\n\n424\n00:19:39.158 --> 00:19:40.512\n&gt;&gt; It's Service Info,\n\n425\n00:19:40.512 --> 00:19:42.246\nnot host identification.\n\n426\n00:19:42.246 --> 00:19:44.882\nIt's not saying I think\nthis is what the host is.,\n\n427\n00:19:44.882 --> 00:19:47.238\n&gt;&gt; Yeah, it really is trying to start to\n\n428\n00:19:47.238 --> 00:19:51.470\nlook at that, but\nit's giving you a ball park there.\n\n429\n00:19:51.470 --> 00:19:56.262\nLet's see what happens with this capital\nO, and that is from my OS finger printing.\n\n430\n00:19:56.262 --> 00:19:58.301\nIt's gonna do a few more queries, but\n\n431\n00:19:58.301 --> 00:20:02.910\nwhat it's really doing is it looks\nat how the OS is responding, right?.\n\n432\n00:20:02.910 --> 00:20:05.414\nWindows versus Linux, verses Mac.\n\n433\n00:20:05.414 --> 00:20:10.708\nThey'll respond differently, whether\na port's open, whether a port's closed,\n\n434\n00:20:10.708 --> 00:20:15.270\nwhether you send an act to a closed\nport versus an act to an open port.\n\n435\n00:20:15.270 --> 00:20:19.029\nThere's rules, but there's no, they\ndon't have to respond the same way, and\n\n436\n00:20:19.029 --> 00:20:20.866\nmost of the operating systems don't.\n\n437\n00:20:20.866 --> 00:20:24.141\nAnd that gives these tools a chance\nto kind of fingerprint based on those\n\n438\n00:20:24.141 --> 00:20:25.187\nresults, all right?\n\n439\n00:20:25.187 --> 00:20:28.854\nAnd so here we can see, lookie there.\n\n440\n00:20:28.854 --> 00:20:31.340\nLinux 2.6 point something.\n\n441\n00:20:31.340 --> 00:20:35.557\nIt's showing me what kernel\nversion I'm running right there.\n\n442\n00:20:35.557 --> 00:20:39.340\nAgain, showing me the line that we\nsaw in the general scan as well.\n\n443\n00:20:39.340 --> 00:20:43.951\nWe can see a little bit more detailed\ninformation about what that machine,\n\n444\n00:20:43.951 --> 00:20:46.232\nthat we're scanning, is running.\n\n445\n00:20:46.232 --> 00:20:51.338\nAnd that could be helpful to us if we're\ntrying to figure out what that device is,\n\n446\n00:20:51.338 --> 00:20:53.350\nwhy it's on my network.\n\n447\n00:20:53.350 --> 00:20:55.909\nAnd go, that's on Mac laptop somewhere,\nthat's in an iPad.\n\n448\n00:20:55.909 --> 00:20:58.790\nOkay, I know somebody brought their\niPad in or what have you, running OS.\n\n449\n00:20:58.790 --> 00:21:03.254\n&gt;&gt; Or you could just be I want to,\nhow many Macs am I running in my network?\n\n450\n00:21:03.254 --> 00:21:05.087\nHow many Windows operating systems\nam I running in my network?\n\n451\n00:21:05.087 --> 00:21:07.136\nHow many of those are servers\nversus workstations?\n\n452\n00:21:07.136 --> 00:21:09.897\nHow many Linux boxes\nare in my server closet?\n\n453\n00:21:09.897 --> 00:21:12.944\nYou could be using this to make\nthose tallied lists up for yourself.\n\n454\n00:21:12.944 --> 00:21:16.548\nAnd again, getting a better sense\nof what is on your network and\n\n455\n00:21:16.548 --> 00:21:18.250\nwhat's suppose to be there.\n\n456\n00:21:18.250 --> 00:21:19.541\n&gt;&gt; Exactly right.\nAll right,\n\n457\n00:21:19.541 --> 00:21:23.274\nnow another cool thing I can do is a -A.\n\n458\n00:21:23.274 --> 00:21:30.214\nAnd a -A basically does\n-sV as well as a -o.\n\n459\n00:21:30.214 --> 00:21:35.698\nSo a -A does the OS fingerprinting\nas well as the versioning.\n\n460\n00:21:35.698 --> 00:21:37.850\nSo let's try that one.\n\n461\n00:21:37.850 --> 00:21:40.939\nWe're gonna take that sV out and\nthe O out.\n\n462\n00:21:43.296 --> 00:21:47.557\nAnd we'll do a -A, and then we'll\nsee what happens here, all right?\n\n463\n00:21:47.557 --> 00:21:48.754\nSo I'll let that run.\n\n464\n00:21:48.754 --> 00:21:52.582\nAnd one thing I didn't\nmention this in our other\n\n465\n00:21:52.582 --> 00:21:55.943\nepisode where we did the Host Discovery.\n\n466\n00:21:55.943 --> 00:21:58.898\nRemember that Host Discovery\nactually showed the Mac address,\n\n467\n00:21:58.898 --> 00:22:02.232\nwhich is another thing that you might\nfind useful if you need to make a list\n\n468\n00:22:02.232 --> 00:22:05.859\nof Mac addresses to do some Mac addresses\nfiltering, or something like that.\n\n469\n00:22:05.859 --> 00:22:09.455\nThis is actually a really\neasy way to get those.\n\n470\n00:22:09.455 --> 00:22:13.570\nI've done it before on a Windows network\nwhere you run around on every machine and\n\n471\n00:22:13.570 --> 00:22:16.370\nstart looking for that Mac address,\nand this is easy.\n\n472\n00:22:17.570 --> 00:22:19.377\nAll right, so it's gonna finish\nup here in just a second.\n\n473\n00:22:19.377 --> 00:22:21.197\nHow long did that last one take?\n\n474\n00:22:21.197 --> 00:22:25.904\n&gt;&gt; Well, this is gonna take a little\nlonger while because -A not only does\n\n475\n00:22:25.904 --> 00:22:27.550\nthe SV and O options, but\n\n476\n00:22:27.550 --> 00:22:32.209\nit also runs some of the end map\nscripting engine exploits against it.\n\n477\n00:22:32.209 --> 00:22:36.571\nIt starts looking and actually poking a\nlittle bit harder at the machine to see if\n\n478\n00:22:36.571 --> 00:22:38.534\nthere's any real vulnerability.\n\n479\n00:22:38.534 --> 00:22:41.443\n&gt;&gt; Yeah, forget about the scripts kicking\nin, they're like a little above and\n\n480\n00:22:41.443 --> 00:22:45.090\nbeyond what we should be looking at here,\nbut you guys are ready for this, come on.\n\n481\n00:22:45.090 --> 00:22:50.045\nAll right, so there we did our -A, and\nI can see a lot of the same information,\n\n482\n00:22:50.045 --> 00:22:54.346\nports open, FTP version information,\nbut then look below there.\n\n483\n00:22:54.346 --> 00:22:57.815\nFTP-anon, anonymous FTP login allowed.\n\n484\n00:22:57.815 --> 00:23:00.127\nThat's pretty impressive, right?\n\n485\n00:23:00.127 --> 00:23:00.952\n&gt;&gt; Thanks, Nmap.\n\n486\n00:23:00.952 --> 00:23:02.596\n[LAUGH]\n&gt;&gt; Yes, I mean so\n\n487\n00:23:02.596 --> 00:23:06.825\nnow not only am I gonna go to my guy and\nsay, hey look, why are you running FTP?\n\n488\n00:23:06.825 --> 00:23:11.531\nAnd why do you have anonymous logins\nbeing accepted on that machine, right?\n\n489\n00:23:11.531 --> 00:23:14.466\nLook at the ssh hostkey.\n\n490\n00:23:14.466 --> 00:23:17.811\nI probably shouldn't have\ndone the old -A just yet.\n\n491\n00:23:17.811 --> 00:23:21.139\nIt's gonna give us quite\na bit of information, but-\n\n492\n00:23:21.139 --> 00:23:22.298\n&gt;&gt; Do you know what, though?\n\n493\n00:23:22.298 --> 00:23:24.484\nIt is the default scan for Zenmap.\n\n494\n00:23:24.484 --> 00:23:29.176\nSo if you're using Zenmap, that -t4,\nwhich is the timing options to make it run\n\n495\n00:23:29.176 --> 00:23:32.104\nreally quickly, and\nthen right after that, -A.\n\n496\n00:23:32.104 --> 00:23:35.037\nSo they're expecting you to get\nto this level pretty quickly.\n\n497\n00:23:35.037 --> 00:23:37.671\nYou might not understand all the ins and\nouts, but\n\n498\n00:23:37.671 --> 00:23:40.630\nother than just know what\neach thing is actually doing.\n\n499\n00:23:40.630 --> 00:23:43.352\n&gt;&gt; Yep, that's a very good point.\nBasically Nmap has its own scripting\n\n500\n00:23:43.352 --> 00:23:48.316\nengine, its own scripting language, and\nthere are scripts that are There's,\n\n501\n00:23:48.316 --> 00:23:52.331\nI don't know, I don't wanna say hundreds,\nbut there's a lot,\n\n502\n00:23:52.331 --> 00:23:57.222\nhundreds of scripts built into nmap that\nyou can run from the dash dash script and\n\n503\n00:23:57.222 --> 00:23:58.985\nthen the name of the script.\n\n504\n00:23:58.985 --> 00:24:00.560\nYou can run multiple scripts.\n\n505\n00:24:00.560 --> 00:24:03.890\nAnd these are a lot more complex\nthan doing just simple port scans,\n\n506\n00:24:03.890 --> 00:24:04.980\nas you can see here.\n\n507\n00:24:04.980 --> 00:24:08.610\nThey're looking to see, okay,\nI see you're running Apache.\n\n508\n00:24:08.610 --> 00:24:12.501\nI see that version isn't\nvulnerable to this, right?\n\n509\n00:24:12.501 --> 00:24:15.924\nAnd I can see, let's find a good example,\nthe one we just showed,\n\n510\n00:24:15.924 --> 00:24:19.920\nFTP is definitely showing me an issue\nthat I have to worry about there.\n\n511\n00:24:19.920 --> 00:24:22.490\nIf I scroll down a little bit,\nwhat else we got?\n\n512\n00:24:22.490 --> 00:24:28.230\nMy SQL or my SQL, gosh,\na lot of information about VNC there.\n\n513\n00:24:31.023 --> 00:24:36.340\nSome of the things that my SQL is\nsupporting even gives me the salt for\n\n514\n00:24:36.340 --> 00:24:37.656\nthe passwords.\n\n515\n00:24:37.656 --> 00:24:38.885\n&gt;&gt; [LAUGH] That's interesting.\n\n516\n00:24:38.885 --> 00:24:42.310\n&gt;&gt; Yeah,\n[LAUGH] it's amazing what nmap can do.\n\n517\n00:24:42.310 --> 00:24:44.000\nAnd like I said,\nwe're just scratching the surface.\n\n518\n00:24:44.000 --> 00:24:47.160\nLook at Daniel's shows,\ntake a look at those.\n\n519\n00:24:47.160 --> 00:24:51.470\nRead that man page for it,\nit's incredibly powerful.\n\n520\n00:24:51.470 --> 00:24:57.159\nAll right, but the -a, so we saw that\nthe -a is a way that I can do the -sv,\n\n521\n00:24:57.159 --> 00:25:01.530\nthe -o all in one command, and\nit gives some extra information.\n\n522\n00:25:01.530 --> 00:25:05.500\nWe can run scripts as well, or\nit includes a few default scripts there.\n\n523\n00:25:05.500 --> 00:25:09.870\nThen the last thing I wanna show you\nguys is how you can use that list.\n\n524\n00:25:09.870 --> 00:25:13.031\nAnd I'm not connected to that network\nanymore, and I definitely don't wanna scan\n\n525\n00:25:13.031 --> 00:25:15.757\nit with the big port scan because\nthat's our production network here.\n\n526\n00:25:15.757 --> 00:25:16.493\n&gt;&gt; You don't wanna do that?\n\n527\n00:25:16.493 --> 00:25:18.431\n[LAUGH]\n&gt;&gt; Well, okay, if you really want me to.\n\n528\n00:25:18.431 --> 00:25:19.229\n&gt;&gt; I've done it.\n\n529\n00:25:19.229 --> 00:25:21.149\n[LAUGH] I asked Ronnie,\nhe said it was fine.\n\n530\n00:25:21.149 --> 00:25:22.573\n&gt;&gt; Yeah, he said just go ahead.\n\n531\n00:25:22.573 --> 00:25:24.431\n&gt;&gt; Yeah, just do it,\nbring us to a creepy crawl.\n\n532\n00:25:24.431 --> 00:25:27.209\n[LAUGH]\n&gt;&gt; But let's show you, well, okay,\n\n533\n00:25:27.209 --> 00:25:29.581\nit'll have to let it finish,\nlet's do that.\n\n534\n00:25:29.581 --> 00:25:32.320\nBut at least we can see it kick off.\n\n535\n00:25:32.320 --> 00:25:33.930\nSo let me connect back over\nto that other network.\n\n536\n00:25:37.654 --> 00:25:41.398\n&gt;&gt; It's funny, if you read the\ndocumentation for nmap, they go to great\n\n537\n00:25:41.398 --> 00:25:45.090\nlengths to talk about how this is\nnot designed to crash any services.\n\n538\n00:25:45.090 --> 00:25:48.740\nThey try to do the best they can to make\nsure that if you are running scans against\n\n539\n00:25:48.740 --> 00:25:51.740\nyour production network,\nthat it will not crash it.\n\n540\n00:25:51.740 --> 00:25:54.740\nCuz they're not in business\nin crashing networks.\n\n541\n00:25:54.740 --> 00:25:57.350\nExcept it can do it, it is possible.\n\n542\n00:25:57.350 --> 00:26:00.790\nAnd they try to keep records of those as\nwell, so they can say, if you're running\n\n543\n00:26:00.790 --> 00:26:04.120\nthis and you're doing this type of scan,\nit's possible that it might crash.\n\n544\n00:26:04.120 --> 00:26:07.260\nSo just bear that in mind as you scan\nagainst your production network.\n\n545\n00:26:07.260 --> 00:26:11.060\nYou might wanna verify first\nbefore you launch any scans.\n\n546\n00:26:11.060 --> 00:26:12.490\n&gt;&gt; Definitely get permission.\n\n547\n00:26:12.490 --> 00:26:17.395\nIf this is not in your job title, your\njob duties, or anything like that, and\n\n548\n00:26:17.395 --> 00:26:21.325\neven if it is, make sure that you\ntalk to the rest of your team.\n\n549\n00:26:21.325 --> 00:26:24.026\nBecause while, as Daniel said,\nit's not designed and\n\n550\n00:26:24.026 --> 00:26:27.498\nit really shouldn't crash anything,\nyou will do some other things.\n\n551\n00:26:27.498 --> 00:26:29.340\nOne, you're gonna generate\na lot of traffic,\n\n552\n00:26:29.340 --> 00:26:34.760\nespecially if you start doing intensive\nscans, fast scans across large subnets.\n\n553\n00:26:35.860 --> 00:26:37.520\nThis thing will fire up multiple threads,\nand\n\n554\n00:26:37.520 --> 00:26:40.200\nwe can end up with a lot of\ntraffic going on in the network.\n\n555\n00:26:41.450 --> 00:26:45.185\nTwo, we can end up setting off IDSs and\nIPSs, right?\n\n556\n00:26:45.185 --> 00:26:48.802\nThey see those scans and fast paced\nscans and hopping from one IP address to\n\n557\n00:26:48.802 --> 00:26:52.990\nanother, and they're gonna think\nsomebody's doing something malicious.\n\n558\n00:26:52.990 --> 00:26:56.225\nAnd all of a sudden, your IDS goes off or\nyou IPS goes off and\n\n559\n00:26:56.225 --> 00:27:00.490\nstarts shutting down ports, which is\nyour downtime, which is a bad thing.\n\n560\n00:27:00.490 --> 00:27:03.680\nIf sometbody comes looking for you because\nI haven't shown you how to obfuscate\n\n561\n00:27:03.680 --> 00:27:06.175\nyour source address,\nwe need to do the nmap scan.\n\n562\n00:27:06.175 --> 00:27:07.826\n&gt;&gt; [LAUGH]\n&gt;&gt; Which is possible with the -g and\n\n563\n00:27:07.826 --> 00:27:09.556\nyou can change the port number, and\n\n564\n00:27:09.556 --> 00:27:14.080\nthere's a couple of other switches you\ncan change your source address with.\n\n565\n00:27:14.080 --> 00:27:15.704\nBut then we'll save that for another show.\n\n566\n00:27:15.704 --> 00:27:17.624\n&gt;&gt; Yeah, that's a little more up there.\n\n567\n00:27:17.624 --> 00:27:20.040\n&gt;&gt; Yeah, cuz at this point,\nwe shouldn't be doing anything bad.\n\n568\n00:27:20.040 --> 00:27:21.206\nWe shouldn't be trying to hide.\n\n569\n00:27:21.206 --> 00:27:28.115\nAnd let me just make sure I've got\na good address, And I am good.\n\n570\n00:27:28.115 --> 00:27:34.845\nSo now, in our previous episode I've got\nthat mmap ping, I've got liveHosts there.\n\n571\n00:27:34.845 --> 00:27:38.580\nLet's just double check and\nmake sure that's the right file.\n\n572\n00:27:38.580 --> 00:27:41.490\nAnd there we go, so\nthere's a list of all the hosts that we\n\n573\n00:27:41.490 --> 00:27:45.270\ncaptured by doing a ping\nsweep in an earlier episode.\n\n574\n00:27:45.270 --> 00:27:50.210\nSo basically, it's just gonna be nmap and\nthen whatever scan I wanna do,\n\n575\n00:27:50.210 --> 00:27:52.660\nI'll just do a sT real quick.\n\n576\n00:27:52.660 --> 00:27:53.929\n&gt;&gt; Do an sS, it's a little faster.\n\n577\n00:27:53.929 --> 00:27:56.130\nCuz it doesn't have to\nmake a full connection.\n\n578\n00:27:56.130 --> 00:28:02.410\n&gt;&gt; And we'll do a -i and then a capital\nL for import list, all right?\n\n579\n00:28:02.410 --> 00:28:05.680\nAnd then it's gonna tell it where it is,\nand it's liveHosts.\n\n580\n00:28:05.680 --> 00:28:08.557\nAnd I go ahead and fire it off.\n\n581\n00:28:08.557 --> 00:28:09.221\n&gt;&gt; You didn't give it\nan IP address though.\n\n582\n00:28:09.221 --> 00:28:09.788\n&gt;&gt; I did.\n\n583\n00:28:09.788 --> 00:28:10.557\n&gt;&gt; No, you gave it [INAUDIBLE].\n\n584\n00:28:10.557 --> 00:28:11.939\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm so\n\n585\n00:28:11.939 --> 00:28:13.477\nused to scanning one\nlittle host at a time.\n\n586\n00:28:13.477 --> 00:28:17.280\n&gt;&gt; Yep, yep, but\nthat's a great point, right?\n\n587\n00:28:17.280 --> 00:28:21.061\nI didn't have to type out 10,\n15 different IP addresses, or\n\n588\n00:28:21.061 --> 00:28:25.570\nan IP address range, or\na network address, or anything like that.\n\n589\n00:28:25.570 --> 00:28:28.725\nI've got a file that has\nthe list of liveHosts.\n\n590\n00:28:28.725 --> 00:28:30.440\nIn fact, I can even go ahead and\nmodify that file.\n\n591\n00:28:30.440 --> 00:28:34.355\nIf some of those IP addresses\nkeep something that I didn't\n\n592\n00:28:34.355 --> 00:28:38.120\nwanna scan every time, I could just\nknock those few IP addresses out there.\n\n593\n00:28:38.120 --> 00:28:41.480\nYou can do an exclude file as well\nwhen you're doing nmap and say,\n\n594\n00:28:41.480 --> 00:28:43.600\nhey, don't scan these addresses.\n\n595\n00:28:43.600 --> 00:28:46.450\n&gt;&gt; That's probably one of the more common\nthings that you're gonna be doing,\n\n596\n00:28:46.450 --> 00:28:47.663\nis saying, don't scan these.\n\n597\n00:28:47.663 --> 00:28:51.431\nBecause as we alluded to before, if this\nis not something that they are allowing\n\n598\n00:28:51.431 --> 00:28:54.917\nyou to do, it's not part of your job\nduties, you've got schedule time to\n\n599\n00:28:54.917 --> 00:28:58.930\ndo these things, that this is on\nthe books, that you should be doing this.\n\n600\n00:28:58.930 --> 00:29:02.099\nIf you are a contractor coming in,\nthat you have written permission to scan\n\n601\n00:29:02.099 --> 00:29:04.580\na certain amount of hosts or\ncertain hosts and not others.\n\n602\n00:29:04.580 --> 00:29:07.856\nRight, so, and\nexclude lists can be very, very helpful,\n\n603\n00:29:07.856 --> 00:29:10.353\nmaking sure you don't\nscan the wrong thing.\n\n604\n00:29:10.353 --> 00:29:13.192\n&gt;&gt; Absolutely,\nwe do not want to get in trouble.\n\n605\n00:29:13.192 --> 00:29:15.285\n&gt;&gt; No.\n&gt;&gt; We don't wanna create one of those\n\n606\n00:29:15.285 --> 00:29:16.025\nRGEs, right?\n\n607\n00:29:16.025 --> 00:29:18.711\n&gt;&gt; [LAUGH]\n&gt;&gt; My good old resume generating event.\n\n608\n00:29:18.711 --> 00:29:19.249\n&gt;&gt; Thanks for playing.\n\n609\n00:29:19.249 --> 00:29:21.465\n[LAUGH]\n&gt;&gt; Yeah, [LAUGH] you can get your stuff.\n\n610\n00:29:21.465 --> 00:29:22.945\n&gt;&gt; Maybe you'll win a prize with that.\n\n611\n00:29:22.945 --> 00:29:26.609\n&gt;&gt; [LAUGH] All right, Daniel,\nthis guy's taking a little while.\n\n612\n00:29:26.609 --> 00:29:29.460\n&gt;&gt; You need a lot of IPs there, so.\n\n613\n00:29:29.460 --> 00:29:33.063\n&gt;&gt; Yeah, there's 50 something\nI think we said on that,\n\n614\n00:29:33.063 --> 00:29:36.829\nand we're doing a full port scan,\nso I'll kill it there.\n\n615\n00:29:36.829 --> 00:29:39.816\nThe main thing is, I wanted to show you,\nin fact, you know what we could do,\n\n616\n00:29:39.816 --> 00:29:42.975\nlet's just do this, nano, yeah,\nI'm gonna take that, I could do that.\n\n617\n00:29:42.975 --> 00:29:43.791\n&gt;&gt; Yeah, just limit the ports.\n\n618\n00:29:43.791 --> 00:29:44.747\n&gt;&gt; All right, I'll do both,\n\n619\n00:29:44.747 --> 00:29:46.710\nwhat I'll do is I will chop\nout a few of these addresses.\n\n620\n00:29:46.710 --> 00:29:53.079\nLet's just go down to the bottom.\n\n621\n00:29:55.634 --> 00:29:56.816\n&gt;&gt; Start smoking them.\n\n622\n00:29:56.816 --> 00:29:58.750\n&gt;&gt; Magically erase some of these here.\n\n623\n00:30:01.707 --> 00:30:04.709\nDrop it down until we\nhave just a little bit.\n\n624\n00:30:04.709 --> 00:30:07.367\nWhat have we got?\n\n625\n00:30:07.367 --> 00:30:08.709\nStill got quite a few.\n\n626\n00:30:08.709 --> 00:30:11.063\nWe keep on trucking.\n\n627\n00:30:11.063 --> 00:30:14.751\nI should have just made a new list.\n\n628\n00:30:14.751 --> 00:30:15.566\n[CROSSTALK]\n&gt;&gt; I was going to say,\n\n629\n00:30:15.566 --> 00:30:17.678\nyou should have just pailed out\nthe last ten into a new file.\n\n630\n00:30:17.678 --> 00:30:20.300\n&gt;&gt; That would've been a lot easier, right?\n\n631\n00:30:20.300 --> 00:30:21.510\nAll right, now we're down to three.\n\n632\n00:30:21.510 --> 00:30:24.290\nThat should be a [CROSSTALK]\n&gt;&gt; That should take a little less time.\n\n633\n00:30:24.290 --> 00:30:26.710\n&gt;&gt; Okay, so I'm gonna save that one.\n\n634\n00:30:26.710 --> 00:30:29.365\nAll right, and then yeah,\nwe could do what you were saying,\n\n635\n00:30:29.365 --> 00:30:31.984\nwe could limit the ports as well,\nwhich maybe we should do.\n\n636\n00:30:31.984 --> 00:30:37.282\nLet's just do it and\nsay -p, or let's do this,\n\n637\n00:30:37.282 --> 00:30:40.824\ntop, -ports 25.\n\n638\n00:30:40.824 --> 00:30:45.820\nAll right, then we'll import\nthat same list, liveHosts.\n\n639\n00:30:45.820 --> 00:30:48.830\nWe'll run it, and\nthat was a little bit better?\n\n640\n00:30:48.830 --> 00:30:50.375\n&gt;&gt; Yeah.\n&gt;&gt; And there you can see,\n\n641\n00:30:50.375 --> 00:30:52.350\neach one gets its own report.\n\n642\n00:30:52.350 --> 00:30:58.550\nThere's the first IP address in the list\nthat 10.14, or 14.11, I should say.\n\n643\n00:30:58.550 --> 00:31:03.440\nAll my ports, locked up my file again,\n\n644\n00:31:03.440 --> 00:31:07.920\nthere's 14.16, open port services,\nand then the last one 14.29, right?\n\n645\n00:31:09.580 --> 00:31:10.250\nSo just again,\n\n646\n00:31:10.250 --> 00:31:13.700\nreally what I wanted to show you there\nwas the fact that I can use a list.\n\n647\n00:31:13.700 --> 00:31:17.450\nSo if I already have a list of hosts\nthat are supposed to be on my network or\n\n648\n00:31:17.450 --> 00:31:21.380\nI've got a list of all the clients\ndown in classroom four that I need to\n\n649\n00:31:21.380 --> 00:31:24.930\nscan after a class goes and see what\nthose students do to those machines,\n\n650\n00:31:24.930 --> 00:31:26.670\nor whatever the case may be.\n\n651\n00:31:26.670 --> 00:31:30.110\nYou can have a pre-typed list,\njust one IP address on each line, and\n\n652\n00:31:30.110 --> 00:31:32.850\nyou can tell it to scan it.\n\n653\n00:31:32.850 --> 00:31:36.660\nAnd honestly, it could be that they're\nnot all even on the same subnet.\n\n654\n00:31:36.660 --> 00:31:37.640\nIt doesn't have to be, right?\n\n655\n00:31:37.640 --> 00:31:39.897\nnmap will go,\nas long as you've got a routed network,\n\n656\n00:31:39.897 --> 00:31:41.230\nit can get out there and do that.\n\n657\n00:31:41.230 --> 00:31:43.960\nSo it's not like you have\nto have separate lists.\n\n658\n00:31:43.960 --> 00:31:47.055\nMy point was, you don't have to have\nseparate lists for each subnet or\n\n659\n00:31:47.055 --> 00:31:49.270\nanything like that, so\ncool stuff, hopefully.\n\n660\n00:31:49.270 --> 00:31:50.330\nHopefully, you guys enjoyed that.\n\n661\n00:31:50.330 --> 00:31:52.410\nIt's nmap, it's a wonderful thing.\n\n662\n00:31:52.410 --> 00:31:54.260\n&gt;&gt; Yes, it is, definitely take your time.\n\n663\n00:31:54.260 --> 00:31:57.400\nI can't beat this drum enough\nto look over the documentation,\n\n664\n00:31:57.400 --> 00:31:58.880\nlook through the man pages.\n\n665\n00:31:58.880 --> 00:32:01.890\nThere's definitely great tutorials online.\n\n666\n00:32:01.890 --> 00:32:03.661\nBing, bing, bing, right, here we are.\n\n667\n00:32:03.661 --> 00:32:05.962\n[LAUGH] Trying to make this stuff for\nyou guys out there,\n\n668\n00:32:05.962 --> 00:32:08.666\nso that you can effectively use\nnmap to scan your environments,\n\n669\n00:32:08.666 --> 00:32:10.536\nfind open hosts that\nare connected to them.\n\n670\n00:32:10.536 --> 00:32:14.012\nMake those lists that you need, and\nthen check the ports to verify that only\n\n671\n00:32:14.012 --> 00:32:16.882\nthe services that you need\nrunning are actually running, and\n\n672\n00:32:16.882 --> 00:32:18.930\nthey're on the right ports.\n\n673\n00:32:18.930 --> 00:32:21.940\nMike, great demonstration, thanks for\nshowing us how to do that today.\n\n674\n00:32:21.940 --> 00:32:23.590\nBut it looks like we're out of time for\nthis episode.\n\n675\n00:32:23.590 --> 00:32:27.020\nSo signing off for ITProTV,\nI've been your host, Daniel Lowrie.\n\n676\n00:32:27.020 --> 00:32:27.870\n&gt;&gt; And I'm Mike Rodrick.\n\n677\n00:32:27.870 --> 00:32:28.990\n&gt;&gt; And we will see you next time.\n\n678\n00:32:28.990 --> 00:32:35.630\n[MUSIC]\n\n679\n00:32:35.630 --> 00:32:37.742\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "223286855"
        },
        {
          "description": "In this episode, Daniel and Mike explore common tools, techniques, and practices used in the pursuit of securing your environment. Here they specifically look at using the OpenVAS vulnerability scanner to automatically detect known vulnerabilities in your environment.",
          "length": "1731",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-3-1-openvas-062217-PGM.00_28_35_12.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-3-1-openvas-062217-PGM.00_28_35_12.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-3-1-openvas-062217-PGM.00_28_35_12.Still001-sm.jpg",
          "title": "OpenVAS",
          "transcript": "WEBVTT\n\n1\n00:00:00.310 --> 00:00:01.396\nWelcome to ITProTV.\n\n2\n00:00:01.396 --> 00:00:03.483\nI'm your host Don Pezet.\n\n3\n00:00:03.483 --> 00:00:04.804\n[CROSSTALK]\n&gt;&gt; Coming to you live from\n\n4\n00:00:04.804 --> 00:00:05.825\nSan Francisco, California.\n\n5\n00:00:05.825 --> 00:00:07.601\n&gt;&gt; [CROSSTALK]\n\n6\n00:00:07.601 --> 00:00:08.593\n[MUSIC]\n\n7\n00:00:08.593 --> 00:00:10.961\n&gt;&gt; You're watching ITProTV.\n\n8\n00:00:10.961 --> 00:00:12.994\n&gt;&gt; All right, greetings everyone, and\n\n9\n00:00:12.994 --> 00:00:15.670\nwelcome to another exciting\nepisode of IT Pro TV.\n\n10\n00:00:15.670 --> 00:00:19.590\nI'm your host Daniel Lowry, and in\ntoday's episode, we are learning French.\n\n11\n00:00:19.590 --> 00:00:22.790\nNo, not French,\nwe are learning security tech skills.\n\n12\n00:00:22.790 --> 00:00:23.890\nIt's gonna be a lot of fun.\n\n13\n00:00:23.890 --> 00:00:26.790\nJoining us in the studio today to\nlend his expertise on that topic\n\n14\n00:00:26.790 --> 00:00:28.130\nour good friend Mr. Mike Rodrick.\n\n15\n00:00:28.130 --> 00:00:29.890\nMike, how's it going my man?\n\n16\n00:00:29.890 --> 00:00:32.005\n&gt;&gt; I'm doing better now that you\nsaid we're not doing French.\n\n17\n00:00:32.005 --> 00:00:34.380\n&gt;&gt; [LAUGH]\n&gt;&gt; Because it would be a short course.\n\n18\n00:00:34.380 --> 00:00:35.060\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n19\n00:00:35.060 --> 00:00:36.376\n&gt;&gt; Oui, all right we're done.\n\n20\n00:00:36.376 --> 00:00:36.890\n[LAUGH]\n&gt;&gt; The end.\n\n21\n00:00:36.890 --> 00:00:39.390\n&gt;&gt; [LAUGH]\n&gt;&gt; Fin.\n\n22\n00:00:39.390 --> 00:00:40.494\n&gt;&gt; [FOREIGN] Daniel.\n\n23\n00:00:40.494 --> 00:00:41.189\n&gt;&gt; I don't know.\n[LAUGH]\n\n24\n00:00:41.189 --> 00:00:42.676\n&gt;&gt; [LAUGH]\n\n25\n00:00:42.676 --> 00:00:43.476\n&gt;&gt; All right forget it,\n\n26\n00:00:43.476 --> 00:00:46.000\nwe're gonna be looking at security,\nthankfully.\n\n27\n00:00:46.000 --> 00:00:49.766\nWe'll cut out the comedy routine\nas well since I'm not a comedian.\n\n28\n00:00:49.766 --> 00:00:53.052\nBut we've been talking about\nvulnerability scanners.\n\n29\n00:00:53.052 --> 00:00:54.824\nWe've got a few episodes\nin the bank on that.\n\n30\n00:00:54.824 --> 00:00:58.157\nWe're gonna continue on taking a look at\nsome of these cuz we wanna make sure we\n\n31\n00:00:58.157 --> 00:00:59.612\ngo through a few different ones.\n\n32\n00:00:59.612 --> 00:01:02.158\nSo that you know how to use the one\nthat your company happens to be\n\n33\n00:01:02.158 --> 00:01:02.940\nputting in place.\n\n34\n00:01:02.940 --> 00:01:05.845\nOr maybe you're making the decision\non what vulnerability scanner\n\n35\n00:01:05.845 --> 00:01:07.365\nyou wanna bring into your organization.\n\n36\n00:01:07.365 --> 00:01:09.205\nAnd hopefully,\nthis will give you some guidance.\n\n37\n00:01:09.205 --> 00:01:12.965\nSo in this episode, we're gonna be\nlooking at one known as OpenVAS.\n\n38\n00:01:12.965 --> 00:01:16.825\nIt is a good one,\nI really like it for a few reasons.\n\n39\n00:01:16.825 --> 00:01:20.290\nOne it's full on vulnerability scanner.\n\n40\n00:01:20.290 --> 00:01:25.040\nWe've looked at a couple like Nikto, which\nwas a specific vulnerability scanner.\n\n41\n00:01:25.040 --> 00:01:28.210\nIt was a web application\nvulnerability scanner.\n\n42\n00:01:28.210 --> 00:01:30.620\nThis is a full vulnerability scanner.\n\n43\n00:01:30.620 --> 00:01:33.050\nIt scans your servers,\nyou operating systems,\n\n44\n00:01:33.050 --> 00:01:36.960\nall of that looking for vulnerabilities.\n\n45\n00:01:36.960 --> 00:01:41.626\nAnd it's free, it's open source which\nmeans the community out there supports it.\n\n46\n00:01:41.626 --> 00:01:46.840\nThey're keeping it up to date,\nwe all love the price tag being free.\n\n47\n00:01:46.840 --> 00:01:52.416\nAnd it's a really powerful vulnerabilities\nscanner with a great interface,\n\n48\n00:01:52.416 --> 00:01:54.367\nespecially for a free one.\n\n49\n00:01:54.367 --> 00:01:58.780\nWhich sometimes they don't put as much\neffort into some of that on the freebies.\n\n50\n00:01:58.780 --> 00:02:01.330\nBut this one, there's no shortage\nof bells and whistles in here.\n\n51\n00:02:01.330 --> 00:02:05.200\nSo, that's the one we're\ngonna take a look at today.\n\n52\n00:02:05.200 --> 00:02:08.466\nIt actually runs on several platforms,\nin fact,\n\n53\n00:02:08.466 --> 00:02:11.280\nlet's take a look first at their web page.\n\n54\n00:02:11.280 --> 00:02:16.088\nLet's go ahead and do a little search for\nOpenVAS.org, I wanna say it's OpenVAS.org,\n\n55\n00:02:16.088 --> 00:02:17.680\nbut I'll double check that.\n\n56\n00:02:17.680 --> 00:02:19.376\nYeah, OpenVAS.org,\n\n57\n00:02:19.376 --> 00:02:25.069\nthe world's most advanced open source\nvulnerabilities scanner and manager.\n\n58\n00:02:25.069 --> 00:02:33.636\nAnd I wanna see if I can find\ntheir requirements real quick.\n\n59\n00:02:33.636 --> 00:02:34.468\nInstall from trying out,\ninstall from packages.\n\n60\n00:02:34.468 --> 00:02:36.983\nJust to show you-\n&gt;&gt; Just install on a computer.\n\n61\n00:02:36.983 --> 00:02:39.124\n[LAUGH]\n&gt;&gt; Yeah, exactly.\n\n62\n00:02:39.124 --> 00:02:41.700\n[LAUGH] Here I see RedHat, Kali, Ubuntu.\n\n63\n00:02:41.700 --> 00:02:49.083\nThere is a client for Windows it's not as\nfull-featured, I don't think, as the rest.\n\n64\n00:02:49.083 --> 00:02:50.411\nYou know what it is?\n\n65\n00:02:50.411 --> 00:02:54.656\nIt doesn't have the server part\nI think it's just the client.\n\n66\n00:02:54.656 --> 00:02:58.510\nBut you can run it on Windows,\nI've set it up there before.\n\n67\n00:02:59.550 --> 00:03:02.916\nBut it scans both Windows and\nthe Linux which is another plus.\n\n68\n00:03:02.916 --> 00:03:06.233\nWe've looked at some like Microsoft\nBaseline Security Analyzer which only\n\n69\n00:03:06.233 --> 00:03:07.830\nscans Windows operating systems.\n\n70\n00:03:07.830 --> 00:03:10.730\nSo if you get a mixed environment\nit already tells you I'm gonna\n\n71\n00:03:10.730 --> 00:03:13.450\nneed at least two which\nis not a bad thing.\n\n72\n00:03:13.450 --> 00:03:15.650\nWe've also talked about\nthat in other episodes.\n\n73\n00:03:15.650 --> 00:03:19.810\nHaving more than one vulnerability\nscanner can be a good thing.\n\n74\n00:03:19.810 --> 00:03:22.110\nCuz one can pick up something\nthat the other missed.\n\n75\n00:03:22.110 --> 00:03:25.685\nBut when we're talking about licenses,\nmoney starts to add up.\n\n76\n00:03:25.685 --> 00:03:27.230\nIt's not easy to go to the boss' and\n\n77\n00:03:27.230 --> 00:03:31.055\nsay, hey I'd like to purchase a second\nlicense for another vulnerability scanner.\n\n78\n00:03:31.055 --> 00:03:33.340\nThey're like, well did you not do\nyour research on the first one?\n\n79\n00:03:33.340 --> 00:03:34.620\nIs it not good enough?\n\n80\n00:03:34.620 --> 00:03:38.245\nBut when they're free I\ncan run as many as I want.\n\n81\n00:03:38.245 --> 00:03:39.670\n&gt;&gt; They're like go for it, why not?\n\n82\n00:03:39.670 --> 00:03:40.955\n&gt;&gt; Yeah, exactly.\n&gt;&gt; Get three of them.\n\n83\n00:03:40.955 --> 00:03:42.101\n[LAUGH]\n&gt;&gt; All right, so\n\n84\n00:03:42.101 --> 00:03:45.477\nOpenVAS.org is the site you'll\ngo to get that download.\n\n85\n00:03:45.477 --> 00:03:50.437\nLet me flip back over to my VMs though,\nso we can actually take a look at it.\n\n86\n00:03:50.437 --> 00:03:55.141\nNow getting OpenVAS setup,\na couple things I'll point out here.\n\n87\n00:03:55.141 --> 00:03:58.920\nI've already got it installed and running\nso we didn't have to wait for that.\n\n88\n00:03:58.920 --> 00:04:03.100\nBut all I did, on my Kali Linux\ndistro it might be different for\n\n89\n00:04:03.100 --> 00:04:09.660\nwhatever you are running, but\nit's app-get install openvas.\n\n90\n00:04:09.660 --> 00:04:14.000\nAnd it went out and ran it, and\nfound the packages and downloaded them.\n\n91\n00:04:14.000 --> 00:04:16.333\nSo once I ran that command\nto get it installed.\n\n92\n00:04:16.333 --> 00:04:19.822\nCuz it's not pre-installed on Kali,\nat least this version 2017,\n\n93\n00:04:19.822 --> 00:04:21.204\nprebuilt virtual machine.\n\n94\n00:04:21.204 --> 00:04:25.988\nOnce you get it downloaded and\nyou install it there,\n\n95\n00:04:25.988 --> 00:04:29.270\nyou're gonna do openvas-setup.\n\n96\n00:04:29.270 --> 00:04:32.014\nAnd that's going to go through\nthe initial configuration of OpenVAS.\n\n97\n00:04:32.014 --> 00:04:35.336\nAnd get everything set up,\ncreate the database, things like that,\n\n98\n00:04:35.336 --> 00:04:36.432\ncreate the services.\n\n99\n00:04:36.432 --> 00:04:42.592\nThen we're gonna want to run netstat,\nI can type antp,\n\n100\n00:04:42.592 --> 00:04:47.584\nsomething like that, showing my TCP ports.\n\n101\n00:04:47.584 --> 00:04:50.820\nWhatever switches you find appropriate.\n\n102\n00:04:50.820 --> 00:04:56.570\nThe antp limits it to TCP\nports no name resolution.\n\n103\n00:04:56.570 --> 00:05:02.310\nAnd what I'm seeing is, and let me blow\nthis up so we can see it all in one line.\n\n104\n00:05:02.310 --> 00:05:05.388\nThere's my OpenVAS service,\nit's one of them.\n\n105\n00:05:05.388 --> 00:05:10.210\nThe GSAD that's\nthe Greenbone Security Administration.\n\n106\n00:05:10.210 --> 00:05:14.474\nIt's a web-based interface that we\nuse to work with OpenVAS, and so\n\n107\n00:05:14.474 --> 00:05:17.180\nthat's what that is there.\n\n108\n00:05:17.180 --> 00:05:18.744\nListening on port 9392.\n\n109\n00:05:18.744 --> 00:05:20.910\nAnd you can change these,\nand I know Daniel,\n\n110\n00:05:20.910 --> 00:05:24.400\nI think, you looked it up the other\nday we were talking about it.\n\n111\n00:05:24.400 --> 00:05:25.460\nYou can go and\nmodify the config file, right?\n\n112\n00:05:25.460 --> 00:05:29.450\n&gt;&gt; Yeah, like everything else,\nthere's a config file on somewhere.\n\n113\n00:05:29.450 --> 00:05:31.811\nThat you just basically say\nI want this on this port and\n\n114\n00:05:31.811 --> 00:05:33.184\nI want this on this IP address.\n\n115\n00:05:33.184 --> 00:05:35.704\nSo if you have those statically set.\n\n116\n00:05:35.704 --> 00:05:38.548\nOr you need to not conflict with\na something that's already running,\n\n117\n00:05:38.548 --> 00:05:40.400\nlike an Apache server, Nginx or something.\n\n118\n00:05:40.400 --> 00:05:41.860\nThen you can change this.\n\n119\n00:05:41.860 --> 00:05:43.320\n&gt;&gt; Exactly, so\njust modify that config file.\n\n120\n00:05:43.320 --> 00:05:47.630\nAnd the documentation on\nthe OpenVAS.org is fantastic.\n\n121\n00:05:47.630 --> 00:05:48.930\nSo you'll find information there.\n\n122\n00:05:50.160 --> 00:05:54.084\nSo we've got all that running, then\nthe last thing we do is openvas- start.\n\n123\n00:05:54.084 --> 00:05:58.010\nI'm gonna go ahead and run that again,\njust to make sure everything's good.\n\n124\n00:05:58.010 --> 00:06:01.257\nIf you didn't see one of those services\nlisted there when you did your netstat,\n\n125\n00:06:01.257 --> 00:06:02.710\nrun openvas-start.\n\n126\n00:06:02.710 --> 00:06:05.920\nI noticed, and\nit probably again is a configuration here,\n\n127\n00:06:05.920 --> 00:06:09.400\nI could get it to start automatically\nwhen I started my machine.\n\n128\n00:06:09.400 --> 00:06:11.580\nBut I run that every time I come in.\n\n129\n00:06:11.580 --> 00:06:15.647\nYou can also do an openvas-check-setup.\n\n130\n00:06:15.647 --> 00:06:20.067\nI'll go ahead and run that one, as well.\n\n131\n00:06:20.067 --> 00:06:23.348\nAnd that's gonna run through\nsome post-install checks and\n\n132\n00:06:23.348 --> 00:06:25.091\nsee if everything looks right.\n\n133\n00:06:25.091 --> 00:06:29.760\nI can see a lot of okays,\nI get a warning here or there.\n\n134\n00:06:29.760 --> 00:06:33.120\nI know one of them is telling\nme about my local interface.\n\n135\n00:06:33.120 --> 00:06:36.120\nSo I can only connect to my\nOpenVAS web interface locally.\n\n136\n00:06:36.120 --> 00:06:38.740\nI couldn't connect to it\nremotely from another machine.\n\n137\n00:06:38.740 --> 00:06:41.710\nIf I needed to,\nI could make some configuration changes.\n\n138\n00:06:41.710 --> 00:06:44.328\nI don't have a password policy, so\nit's giving me a warning there.\n\n139\n00:06:44.328 --> 00:06:49.166\nI would assume there's probably gonna\n\n140\n00:06:49.166 --> 00:06:54.010\nbe a warning about my SSL certificate.\n\n141\n00:06:54.010 --> 00:06:58.100\nI think it's a self-sign at this point,\nbut I don't see it right now.\n\n142\n00:06:58.100 --> 00:07:01.124\n&gt;&gt; Yeah, surprisingly enough your web\nbrowser is very leery of self-signed\n\n143\n00:07:01.124 --> 00:07:01.814\ncertificates.\n\n144\n00:07:01.814 --> 00:07:03.350\n[LAUGH]\n&gt;&gt; I know, that's crazy, right?\n\n145\n00:07:03.350 --> 00:07:04.205\nWhat's the deal with that?\n\n146\n00:07:04.205 --> 00:07:06.229\n&gt;&gt; You can trust me, come on.\n\n147\n00:07:06.229 --> 00:07:11.120\n[LAUGH] Anyway, not important because\nall I've got are okays and warnings.\n\n148\n00:07:11.120 --> 00:07:12.980\nIt means that everything is really good.\nIf you look right here at this last line,\n\n149\n00:07:12.980 --> 00:07:18.760\nit seems like your OpenVAS\n9 installation is okay.\n\n150\n00:07:18.760 --> 00:07:21.745\nSo I am good enough at least for now.\n\n151\n00:07:21.745 --> 00:07:24.580\nAll right, so\nonce we get all that done, we connect.\n\n152\n00:07:24.580 --> 00:07:29.510\nLet me bring that back down,\nwe'll hide it for now.\n\n153\n00:07:29.510 --> 00:07:32.720\nOpen up Firefox or your browser of choice.\n\n154\n00:07:32.720 --> 00:07:38.010\nAnd I'm just gonna connect to my\nlocal interface on that port 9392.\n\n155\n00:07:38.010 --> 00:07:40.808\nOr whatever port you had\nconfigured in your config file.\n\n156\n00:07:40.808 --> 00:07:44.750\nAnd that brings me to my\nGreenbones Security Assistant.\n\n157\n00:07:44.750 --> 00:07:46.700\nSorry, I think I said admin earlier,\nit's assistant.\n\n158\n00:07:48.430 --> 00:07:50.140\nLog on screen, so I will log in.\n\n159\n00:07:50.140 --> 00:07:51.689\nNow, something I forgot to mention.\n\n160\n00:07:51.689 --> 00:07:55.490\nWhen you do the installation when\nyou do your app kit install.\n\n161\n00:07:55.490 --> 00:07:57.387\nAnd you do your OpenVAS setup.\n\n162\n00:07:57.387 --> 00:08:01.600\nThat OpenVAS setup command\nwill take A good while.\n\n163\n00:08:01.600 --> 00:08:04.277\nDepending on your Internet connection,\nbecause it's reaching out.\n\n164\n00:08:04.277 --> 00:08:07.500\nAnd it's downloading their\nvulnerability database that it's gonna\n\n165\n00:08:07.500 --> 00:08:08.764\nuse when it does its scans.\n\n166\n00:08:08.764 --> 00:08:12.322\nAnd that can take a little while\neven here on a nice fast connection.\n\n167\n00:08:12.322 --> 00:08:15.215\nI wanna say it took at least 15,\nwhich seems like forever, right?\n\n168\n00:08:15.215 --> 00:08:16.535\n&gt;&gt; Yes.\n&gt;&gt; When you're waiting for\n\n169\n00:08:16.535 --> 00:08:17.230\nsomething to run.\n\n170\n00:08:17.230 --> 00:08:19.910\nAnd on a slow connection\nit could be a lot longer.\n\n171\n00:08:19.910 --> 00:08:24.903\nSo do be patient with that, I mean you\ndon't have to sit there and watch it.\n\n172\n00:08:24.903 --> 00:08:25.887\n&gt;&gt; No you watch it.\n&gt;&gt; Yeah.\n\n173\n00:08:25.887 --> 00:08:26.791\n[LAUGH]\n&gt;&gt; You watch every last second of it.\n\n174\n00:08:26.791 --> 00:08:27.665\n[LAUGH]\n&gt;&gt; But\n\n175\n00:08:27.665 --> 00:08:31.910\nwhen it gets done don't just come back and\ngo look it finished and close the window.\n\n176\n00:08:31.910 --> 00:08:34.748\nBecause the last line in that set\nup is gonna be the password for\n\n177\n00:08:34.748 --> 00:08:38.145\nthe administrative account that you're\ngonna use to log in to this page.\n\n178\n00:08:38.145 --> 00:08:43.110\nAnd it's a long string of\nrandomly generated characters.\n\n179\n00:08:43.110 --> 00:08:47.100\nYou would wanna change that as\nlong as you log in the first time.\n\n180\n00:08:47.100 --> 00:08:51.603\nBut you need that password if\nyou actually close that terminal\n\n181\n00:08:51.603 --> 00:08:56.028\nwindow you're most likely\ngonna be reinstalling OpenVAS.\n\n182\n00:08:56.028 --> 00:08:58.239\nSo that you can regenerate\na new password again.\n\n183\n00:08:58.239 --> 00:09:02.432\nI don't know that there is a way to\nrecover that particular password.\n\n184\n00:09:02.432 --> 00:09:05.567\nSo you get that password, you log in\nthe first time and then you go and\n\n185\n00:09:05.567 --> 00:09:06.841\nyou change your password.\n\n186\n00:09:06.841 --> 00:09:09.920\nSo I'm gonna go and\nlog in with my new password that I've set.\n\n187\n00:09:11.270 --> 00:09:15.300\nAnd to show you where you would do that\nyou would head up to Administration, and\n\n188\n00:09:15.300 --> 00:09:15.860\nthen Users.\n\n189\n00:09:17.150 --> 00:09:19.130\nAnd you'll have one account, Admin.\n\n190\n00:09:19.130 --> 00:09:23.530\nYou can definitely create more and\ngive them access to this console.\n\n191\n00:09:23.530 --> 00:09:27.620\nAnd I'd go to my little wrench icon\nover here, where it says, Edit User.\n\n192\n00:09:29.170 --> 00:09:34.600\nAnd then here is where I can\nput in my new password and\n\n193\n00:09:34.600 --> 00:09:38.190\nreset to something a little bit\neasier than that long random string.\n\n194\n00:09:38.190 --> 00:09:39.054\nI'm gonna go ahead and close that.\n\n195\n00:09:39.054 --> 00:09:39.794\nIn fact,\n\n196\n00:09:39.794 --> 00:09:45.543\nI'll show you here's where I copied\nit out before I reset that password.\n\n197\n00:09:45.543 --> 00:09:49.654\nThat was the password that it generated,\nso you're going to have a hard time\n\n198\n00:09:49.654 --> 00:09:53.330\nguessing that if you didn't get\nthat before you close that window.\n\n199\n00:09:54.360 --> 00:09:55.118\nAll right, so there we go.\n\n200\n00:09:55.118 --> 00:09:57.088\nWe're in, we've got OpenVAS set up.\n\n201\n00:09:57.088 --> 00:09:59.178\nWe've got the web interface up and\nrunning.\n\n202\n00:09:59.178 --> 00:10:02.958\nAnd we have changed our administrative\npassword to something we know.\n\n203\n00:10:02.958 --> 00:10:04.021\nSo now we are ready to go.\n\n204\n00:10:04.021 --> 00:10:05.750\nSo I'm gonna flip over the dashboard.\n\n205\n00:10:05.750 --> 00:10:10.184\nNow I've already run this a few times to\nhave some scans, some things to look at.\n\n206\n00:10:10.184 --> 00:10:14.028\nAnd then we'll run a scan as well,\nwe might or might not let it finish.\n\n207\n00:10:14.028 --> 00:10:17.228\nBut the first thing you'll notice\nis it's really cool interface.\n\n208\n00:10:17.228 --> 00:10:18.779\nIt's a real nice dashboard here.\n\n209\n00:10:18.779 --> 00:10:21.396\nIt's showing me tasks by severity class.\n\n210\n00:10:21.396 --> 00:10:26.307\nNow, tasks in this case\nare scans that I have run.\n\n211\n00:10:26.307 --> 00:10:29.850\nA scan might be a single machine,\nit could be a group of machine or a task.\n\n212\n00:10:29.850 --> 00:10:33.080\nCould be single machine, and a group of\nmachines that might be a one time run,\n\n213\n00:10:33.080 --> 00:10:34.210\nthey might be scheduled.\n\n214\n00:10:34.210 --> 00:10:38.868\nYou can schedule these to occur, every\nsaturday l wanna run scan in that server,\n\n215\n00:10:38.868 --> 00:10:39.905\nhe want changed.\n\n216\n00:10:39.905 --> 00:10:44.329\nAnd you get this beautiful over\nview here on the dashboard screen,\n\n217\n00:10:44.329 --> 00:10:47.145\nyou can see I've got a lot of highs.\n\n218\n00:10:47.145 --> 00:10:49.995\nAnd that's because I've got\nsome really vulnerable machines\n\n219\n00:10:49.995 --> 00:10:52.055\nthat we're scanning just so\nwe'll get some results.\n\n220\n00:10:53.355 --> 00:10:55.718\nStatus as far as the tasks go.\n\n221\n00:10:55.718 --> 00:10:59.955\nAnd you can see it starts to draw\nout this really cool topologies.\n\n222\n00:10:59.955 --> 00:11:01.705\n&gt;&gt; I actually really like the status for\n\n223\n00:11:01.705 --> 00:11:04.197\nthe tasks because as you\nstart scanning a multiple.\n\n224\n00:11:04.197 --> 00:11:08.625\nLike an entire network, or a group, or\na subset of computers on your network,\n\n225\n00:11:08.625 --> 00:11:14.160\nthat becomes really handy because you can\nsee, I've got x amount of time left over.\n\n226\n00:11:14.160 --> 00:11:17.556\nI got into loving that when I was\ndoing antivirus scans a lot and\n\n227\n00:11:17.556 --> 00:11:19.067\njust running those tests.\n\n228\n00:11:19.067 --> 00:11:20.109\nAnd am I done with this yet?\n\n229\n00:11:20.109 --> 00:11:21.412\n&gt;&gt; Yeah.\n[LAUGH]\n\n230\n00:11:21.412 --> 00:11:21.929\n&gt;&gt; So now I\n\n231\n00:11:21.929 --> 00:11:24.261\nexpect it in all my interfaces.\n\n232\n00:11:24.261 --> 00:11:26.196\n[LAUGH]\n&gt;&gt; [LAUGH] All right, so\n\n233\n00:11:26.196 --> 00:11:28.890\nthat's a beautiful dashboard there.\n\n234\n00:11:28.890 --> 00:11:35.114\nWe've got CVEs, my common vulnerabilities,\nI've also got the NVTs.\n\n235\n00:11:35.114 --> 00:11:40.557\nThat's the one I wanna say is NIST,\nI think is hosting the NVT database,\n\n236\n00:11:40.557 --> 00:11:43.333\nbut the national vulnerabilities.\n\n237\n00:11:43.333 --> 00:11:46.240\nLet's go, I think first what I'll do\nis I'll just show you a quick scan.\n\n238\n00:11:46.240 --> 00:11:48.040\nThat'd probably be the easiest.\n\n239\n00:11:48.040 --> 00:11:52.865\nSo I'm gonna go to scans, and\nthen I'm gonna go to tasks.\n\n240\n00:11:52.865 --> 00:11:56.440\nI'm trying to see, let me see if my zoom,\nand my zoom is not playing in CALI here,\n\n241\n00:11:56.440 --> 00:11:57.294\nbut that's okay.\n\n242\n00:11:57.294 --> 00:12:00.384\nThis is big enough for us to see, I think.\n\n243\n00:12:00.384 --> 00:12:02.360\nAnd on my tasks I can see again,\n\n244\n00:12:02.360 --> 00:12:06.549\nkind of a nice dashboard overview\nof the tasks I've already run.\n\n245\n00:12:06.549 --> 00:12:09.866\nThis is showing me which hosts are really,\nreally bad.\n\n246\n00:12:09.866 --> 00:12:14.132\nTask by status and you can see these\nare reports or tasks, I should say,\n\n247\n00:12:14.132 --> 00:12:15.923\nscans that have already run.\n\n248\n00:12:15.923 --> 00:12:18.682\nAll right, we wanna do a new scan though.\n\n249\n00:12:18.682 --> 00:12:22.430\nWe're just gonna go up here to,\nactually I'm already on tasks, sorry.\n\n250\n00:12:22.430 --> 00:12:23.730\nThere's two little icons here.\n\n251\n00:12:23.730 --> 00:12:26.570\nThere's a little this purple box.\n\n252\n00:12:26.570 --> 00:12:27.407\nI'll just say it's a purple box.\n\n253\n00:12:27.407 --> 00:12:31.405\nIt's a magic wand or a wand with\na little asterisk at the end of it.\n\n254\n00:12:31.405 --> 00:12:35.116\nThat's our wizard icon, and\nthen the little star is a new task.\n\n255\n00:12:35.116 --> 00:12:38.630\nIn the wizard, I can start my task wizard.\n\n256\n00:12:38.630 --> 00:12:42.720\nAnd it'll give me a very\nquick easy default scan.\n\n257\n00:12:42.720 --> 00:12:45.300\nSo I can just dump in an address here.\n\n258\n00:12:45.300 --> 00:12:50.115\nFor example, we'll do 10, 10, 1, 1, 2, 7.\n\n259\n00:12:50.115 --> 00:12:52.925\nAnd start scan, all right.\n\n260\n00:12:52.925 --> 00:12:57.060\nAnd that's it, that's all I have to do.\n\n261\n00:12:57.060 --> 00:12:59.172\nLet's see, it's requested.\n\n262\n00:12:59.172 --> 00:13:02.050\nLooks like it should be\nrunning here in just a minute.\n\n263\n00:13:02.050 --> 00:13:05.959\nSo that's this line right here, right?\n\n264\n00:13:05.959 --> 00:13:08.220\nAnd it's gonna go out and run that scan.\n\n265\n00:13:08.220 --> 00:13:11.239\nAnd while it's doing that,\nlet's double check and\n\n266\n00:13:11.239 --> 00:13:13.783\nmake sure that's actually going to start.\n\n267\n00:13:13.783 --> 00:13:18.831\nLet's go to,\nLet's just see what we got here.\n\n268\n00:13:21.087 --> 00:13:25.120\nLooks like its still, actually its already\nstarting the screen, just had not updated,\n\n269\n00:13:25.120 --> 00:13:25.946\nso it is running.\n\n270\n00:13:25.946 --> 00:13:28.332\nAnd that's the way that wizard should do,\n\n271\n00:13:28.332 --> 00:13:33.046\nit should be all automatic cuz I'd ask you\nany questions, hey just give me a target.\n\n272\n00:13:33.046 --> 00:13:35.698\nPoint me at what you want me to do and\nI'll go take care of it.\n\n273\n00:13:35.698 --> 00:13:37.943\nIt's gonna run basically a default scan.\n\n274\n00:13:37.943 --> 00:13:41.840\nBut lots of bells and whistles in here,\nand we're just gonna scratch the surface.\n\n275\n00:13:41.840 --> 00:13:45.212\nWe're gonna take a look at some of the\nbasics that you need to be familiar with\n\n276\n00:13:45.212 --> 00:13:47.701\nto run this application,\ndo you vulnerability scans.\n\n277\n00:13:47.701 --> 00:13:51.700\nBut once you get this, get in here and\nplay around with the different options.\n\n278\n00:13:53.350 --> 00:13:56.920\nFor example, we can preconfigure targets.\n\n279\n00:13:56.920 --> 00:14:00.820\nI might have certain machines, and there\nyou can see that scan just kicked in.\n\n280\n00:14:00.820 --> 00:14:01.620\nMy page refreshed.\n\n281\n00:14:01.620 --> 00:14:04.820\nI think right now,\nit's set to refresh every 30 seconds,\n\n282\n00:14:04.820 --> 00:14:08.103\nwhich is something you can change as well,\nreally very cool.\n\n283\n00:14:08.103 --> 00:14:11.096\nBut you can see the status\ndown here has changed,\n\n284\n00:14:11.096 --> 00:14:14.823\nI've got a stop button now and\nmy progress bar is beginning.\n\n285\n00:14:14.823 --> 00:14:16.319\nNow as I was saying we'll let that run and\n\n286\n00:14:16.319 --> 00:14:19.850\nwhile that's running we'll talk about some\nof the other things we can do with this.\n\n287\n00:14:19.850 --> 00:14:21.129\nYou can set up targets right.\n\n288\n00:14:21.129 --> 00:14:23.822\nTargets are what is it\nthat you wanna scan.\n\n289\n00:14:23.822 --> 00:14:25.911\nAnd so\nrather then have to enter the IP address,\n\n290\n00:14:25.911 --> 00:14:28.534\nwhat was the IP address to that\nweb server that I wanna scan?\n\n291\n00:14:28.534 --> 00:14:32.329\nAnd I can have that presetting or\ngroup of computers or what have you.\n\n292\n00:14:32.329 --> 00:14:35.694\nLet me go to, let's see.\n\n293\n00:14:35.694 --> 00:14:39.450\nIf I want to configurations and targets.\n\n294\n00:14:41.086 --> 00:14:45.153\nHere, you can see all of the immediate\nscans that I've done were actually\n\n295\n00:14:45.153 --> 00:14:46.340\nadded in as targets.\n\n296\n00:14:46.340 --> 00:14:49.559\nSo if I wanna use them in the future\nI simply have to pick it.\n\n297\n00:14:49.559 --> 00:14:53.783\nIt will be in a drop down list when I do\nthe advanced scan not the scan wizard but\n\n298\n00:14:53.783 --> 00:14:54.848\nthe new scan task.\n\n299\n00:14:54.848 --> 00:15:00.115\nIf I want to create a new\none the star icon here new\n\n300\n00:15:00.115 --> 00:15:05.000\ntarget and let's call this my win 10 box.\n\n301\n00:15:05.000 --> 00:15:12.598\nAnd the ip address is going to be 1010125,\nI believe for M.\n\n302\n00:15:12.598 --> 00:15:17.053\nIf this was from a file we could have\na list of IP addresses, we could exclude\n\n303\n00:15:17.053 --> 00:15:22.030\ncertain ones like hey, I know it's on the\nlist, but I don't want to scan this one.\n\n304\n00:15:23.630 --> 00:15:27.687\nPort list depending on what\nyou wanna look for there.\n\n305\n00:15:27.687 --> 00:15:31.800\nAlive test whether it's gonna\nping it first see if it's up.\n\n306\n00:15:31.800 --> 00:15:34.020\nWhat else SSH here's credentials.\n\n307\n00:15:34.020 --> 00:15:36.030\nAnd I'll show you how to add\nsome credentials as well.\n\n308\n00:15:36.030 --> 00:15:39.590\nI don't think I have any really saved.\n\n309\n00:15:39.590 --> 00:15:42.690\nSMB actually I do so\nI can use my lab domain right there.\n\n310\n00:15:42.690 --> 00:15:47.610\nAnd this important we're talking about\nwhen I'm scanning that darn vulnerable\n\n311\n00:15:47.610 --> 00:15:50.680\nweb applications or metasploitable.\n\n312\n00:15:50.680 --> 00:15:54.430\nFirewalls are intentionally vulnerable,\nI can scan them no problem.\n\n313\n00:15:54.430 --> 00:15:57.959\nBut if I'm scanning my servers,\nmy computers at work.\n\n314\n00:15:57.959 --> 00:16:00.297\nMost likely they've got firewalls up and\nrunning.\n\n315\n00:16:00.297 --> 00:16:02.693\nAnd I might need credentials\nto connect to them.\n\n316\n00:16:02.693 --> 00:16:07.135\nSo it allows you to, Store credentials.\n\n317\n00:16:07.135 --> 00:16:11.812\nAnd I can go ahead and click Create,\nand it's gonna create that new target.\n\n318\n00:16:11.812 --> 00:16:13.930\nSo on doing a scan,\n\n319\n00:16:13.930 --> 00:16:18.870\nit's just a target that will now show up\nin my lists when I go to create new scans.\n\n320\n00:16:18.870 --> 00:16:22.900\nSo, if we go back over to that tasks,\nand this time,\n\n321\n00:16:22.900 --> 00:16:25.719\ninstead of using the wizard,\nI'll create a new task.\n\n322\n00:16:27.270 --> 00:16:28.060\nAnd I can give it a name.\n\n323\n00:16:28.060 --> 00:16:30.340\nSomething like ASDF.\n\n324\n00:16:30.340 --> 00:16:31.260\nI hit my dropdown list.\n\n325\n00:16:31.260 --> 00:16:32.028\nI know, I am really creative.\n\n326\n00:16:32.028 --> 00:16:33.820\n&gt;&gt; That's a great one.\n\n327\n00:16:33.820 --> 00:16:35.070\n&gt;&gt; And there's my Win 10.\n\n328\n00:16:35.070 --> 00:16:38.040\nSo that's going to have,\nit already has the IP address,\n\n329\n00:16:38.040 --> 00:16:41.368\nit even has the credentials that\nit will need to run that scan.\n\n330\n00:16:41.368 --> 00:16:44.430\nSo I can come down here and take a look if\nthere's any of these other options I want\n\n331\n00:16:44.430 --> 00:16:46.680\nto change If not, I click Create.\n\n332\n00:16:48.420 --> 00:16:49.680\nAnd I now have a new task.\n\n333\n00:16:49.680 --> 00:16:52.770\nBut notice this one,\nit's not gonna start automatically.\n\n334\n00:16:52.770 --> 00:16:53.730\nThis one says new.\n\n335\n00:16:53.730 --> 00:16:56.500\nIt doesn't say,\nI forgot what the other one said.\n\n336\n00:16:56.500 --> 00:16:58.155\nReady or getting ready.\n\n337\n00:16:58.155 --> 00:17:01.205\nThe play button is not clicked and\nit just says new.\n\n338\n00:17:01.205 --> 00:17:04.215\nWe didn't schedule it and\nits not going to start automatically.\n\n339\n00:17:04.215 --> 00:17:07.365\n&gt;&gt; It's just a task that\nis now available to you.\n\n340\n00:17:07.365 --> 00:17:07.975\n&gt;&gt; Exactly right.\n\n341\n00:17:07.975 --> 00:17:09.725\nSo now I can just come in and\nrun it manually.\n\n342\n00:17:09.725 --> 00:17:12.315\nI could have added\na schedule to that task and\n\n343\n00:17:12.315 --> 00:17:15.305\nthen it would just run\nwhenever I had scheduled it.\n\n344\n00:17:15.305 --> 00:17:18.270\nSo like you said really\nneat stuff in here.\n\n345\n00:17:18.270 --> 00:17:24.330\nA lot of great options,\nbeing able to store credentials.\n\n346\n00:17:24.330 --> 00:17:26.960\nBeing able to configure\ndifferent types of scans.\n\n347\n00:17:26.960 --> 00:17:30.540\nIf we go and look at the,\nwe looked at targets.\n\n348\n00:17:30.540 --> 00:17:32.690\nCredentials is where I went\nto create those credentials.\n\n349\n00:17:32.690 --> 00:17:35.610\nYou saw me pick lab domain from that list.\n\n350\n00:17:35.610 --> 00:17:39.200\nWell I got that by coming in here,\nclicking on my star and\n\n351\n00:17:39.200 --> 00:17:42.450\ngiving you a name saying that\nit was a username and password.\n\n352\n00:17:42.450 --> 00:17:48.190\nBut notice the other options, finding an\nSSH key or a certificate, we can do those.\n\n353\n00:17:48.190 --> 00:17:51.710\nAnd then I just typed in my username and\npassword and click Create.\n\n354\n00:17:51.710 --> 00:17:54.850\nAnd I now have that to\nuse in dropdown list.\n\n355\n00:17:54.850 --> 00:17:55.760\nWe've got Schedules.\n\n356\n00:17:55.760 --> 00:17:59.880\nSo if we wanted to create a weekly\nschedule or a monthly schedule or\n\n357\n00:17:59.880 --> 00:18:02.350\nan hourly schedule,\nwhatever it is we were doing.\n\n358\n00:18:02.350 --> 00:18:07.240\nThen when we create that task, we can pick\nthe schedule from the drop down list.\n\n359\n00:18:07.240 --> 00:18:08.960\nScan configs.\n\n360\n00:18:08.960 --> 00:18:12.040\nI left it at the default which is one\nof the reasons it's taking so long,\n\n361\n00:18:12.040 --> 00:18:14.530\ncuz it's scanning all kinds of stuff.\n\n362\n00:18:14.530 --> 00:18:17.945\nBasically the default is a full and fast.\n\n363\n00:18:17.945 --> 00:18:21.950\nNow let's pull up,\nthese are pre-built scan configs here.\n\n364\n00:18:21.950 --> 00:18:27.120\nAnd as we go through here,\nthere's 61 families and each one of these,\n\n365\n00:18:27.120 --> 00:18:30.710\nlike look at the Amazon Linux\nlocal security checks, 748 NVTs.\n\n366\n00:18:33.130 --> 00:18:37.740\nSo 748 different vulnerabilities\nthat it's gonna be scanning for\n\n367\n00:18:37.740 --> 00:18:39.670\nand that's just that one class.\n\n368\n00:18:39.670 --> 00:18:44.176\nCentOS Local Security Checks,\nthere's 2,800 of those.\n\n369\n00:18:44.176 --> 00:18:47.722\n3,900, 3,800 Debian checks that it'll do.\n\n370\n00:18:47.722 --> 00:18:54.240\nGood lord, Fedora has 11,000 checks.\n\n371\n00:18:54.240 --> 00:18:57.188\nWhich is great unless you're\nnot running Fedora right?\n\n372\n00:18:57.188 --> 00:18:58.030\n&gt;&gt; [LAUGH]\n&gt;&gt; I\n\n373\n00:18:58.030 --> 00:19:00.150\ndon't need it to run those 11,000 checks.\n\n374\n00:19:00.150 --> 00:19:02.920\nSo I could come in here and make configs.\n\n375\n00:19:02.920 --> 00:19:04.810\nAnd I was gonna do one for the show.\n\n376\n00:19:04.810 --> 00:19:06.850\nIt is a little bit tedious to create it.\n\n377\n00:19:06.850 --> 00:19:09.010\nLuckily you only have to create it once.\n\n378\n00:19:09.010 --> 00:19:13.420\nCuz if you go to create a new config\nlet me go back up to the top here and\n\n379\n00:19:13.420 --> 00:19:14.460\nclick my little news star.\n\n380\n00:19:16.600 --> 00:19:19.476\nAnd I'm going to call this demo, and\n\n381\n00:19:19.476 --> 00:19:23.584\nyou know what there's the option\nI missed right there.\n\n382\n00:19:23.584 --> 00:19:27.130\nThis is the reason I was thinking man this\nis tedious there's gotta be a better way\n\n383\n00:19:27.130 --> 00:19:28.160\nto do this.\n\n384\n00:19:28.160 --> 00:19:30.290\nI did not pay attention\nto this radio button\n\n385\n00:19:30.290 --> 00:19:31.290\nright here-\n&gt;&gt; There you go.\n\n386\n00:19:31.290 --> 00:19:34.650\n&gt;&gt; I chose full and fast and\neverything was already selected, and\n\n387\n00:19:34.650 --> 00:19:36.710\nI wanted to uncheck\neverything except Windows.\n\n388\n00:19:36.710 --> 00:19:38.470\nI wanted to make a Windows template.\n\n389\n00:19:38.470 --> 00:19:39.340\n&gt;&gt; So you did it backwards.\n\n390\n00:19:39.340 --> 00:19:39.860\n&gt;&gt; Yes, exactly.\n\n391\n00:19:39.860 --> 00:19:42.540\nI was like, there's no Uncheck All option?\n\n392\n00:19:42.540 --> 00:19:43.260\nThere is.\n\n393\n00:19:43.260 --> 00:19:45.730\n&gt;&gt; You said you want full and fast, Mike.\n\n394\n00:19:45.730 --> 00:19:48.380\n&gt;&gt; There is an empty option,\nI just didn't check it, yeah.\n\n395\n00:19:48.380 --> 00:19:49.420\nSo let's do it that way.\n\n396\n00:19:49.420 --> 00:19:50.780\nLet's say Empty, and\n\n397\n00:19:50.780 --> 00:19:54.530\nI'll call this one my I'll have to\nname it something slightly different.\n\n398\n00:19:54.530 --> 00:20:00.088\nWindows config, create.\n\n399\n00:20:00.088 --> 00:20:05.210\nI don't know how I missed\nthat option there.\n\n400\n00:20:05.210 --> 00:20:06.980\nAnd it created it.\n\n401\n00:20:06.980 --> 00:20:14.190\nAnd now I'm going to edit that config and\nyou can hear my fans kicking in.\n\n402\n00:20:14.190 --> 00:20:14.970\n&gt;&gt; Yeah I did.\n&gt;&gt; There we go.\n\n403\n00:20:14.970 --> 00:20:15.750\nThat's much better.\n\n404\n00:20:15.750 --> 00:20:17.410\nEverything is unselected.\n\n405\n00:20:17.410 --> 00:20:19.578\nI was like,\nthat's a lot of things to uncheck.\n\n406\n00:20:19.578 --> 00:20:26.510\nAnd I can just go down and\nselect my Windows vulnerabilities.\n\n407\n00:20:26.510 --> 00:20:30.670\nI can even go in there and edit that,\nbecause there are 157 of them.\n\n408\n00:20:30.670 --> 00:20:36.020\nMaybe I don't want all 157, I can come in\nhere and check and uncheck some of those.\n\n409\n00:20:36.020 --> 00:20:38.300\nSo like I said, just very configurable.\n\n410\n00:20:38.300 --> 00:20:40.960\nIt's gonna take some time to\nget it configured initially.\n\n411\n00:20:40.960 --> 00:20:43.470\nTo get all your scans set\nup the way you wanna do it,\n\n412\n00:20:43.470 --> 00:20:44.590\nfigure out what's the most efficient.\n\n413\n00:20:44.590 --> 00:20:47.110\nBut once you do that you're good to go.\n\n414\n00:20:47.110 --> 00:20:48.429\nSo now I'll click Save.\n\n415\n00:20:50.660 --> 00:20:54.930\nAnd I should have a config that's only\ngoing to scan for Window vulnerabilities.\n\n416\n00:20:54.930 --> 00:20:58.100\nSo when I'm scanning my Windows machines,\nthat would be a good one to do.\n\n417\n00:20:58.100 --> 00:21:03.489\nSo now I can go back to Tasks,\nand I can create a new Task.\n\n418\n00:21:06.090 --> 00:21:12.720\nAnd I'll call this one Win 10.2,\njust for giggles.\n\n419\n00:21:12.720 --> 00:21:15.880\nI'll set my target to be my Win 10,\nmy stored target.\n\n420\n00:21:17.000 --> 00:21:18.400\nWe didn't create a schedule did we?\n\n421\n00:21:18.400 --> 00:21:20.390\nSo I can't check that.\n\n422\n00:21:20.390 --> 00:21:24.330\nI come down here, scanner,\nopen PAS, default, that's fine.\n\n423\n00:21:24.330 --> 00:21:29.820\nScan config, and\nthere's my Windows config.\n\n424\n00:21:29.820 --> 00:21:34.815\nSo now I can set it to only scan for\nthose Windows vulnerabilities\n\n425\n00:21:34.815 --> 00:21:38.808\nthat I created and\nwe now have a new task ready to go.\n\n426\n00:21:38.808 --> 00:21:42.140\nSo like I said,\nit's really easy to work with.\n\n427\n00:21:42.140 --> 00:21:44.640\nI can do everything at\nthe time of the scan.\n\n428\n00:21:44.640 --> 00:21:47.660\nWe can do a manual scan,\nI can manually set everything.\n\n429\n00:21:47.660 --> 00:21:52.000\nI love the ability to pre-configure\ncertain things and then just pick them\n\n430\n00:21:52.000 --> 00:21:55.740\nfrom a dropdown list, cuz I can\nhave different credentials stored.\n\n431\n00:21:55.740 --> 00:21:58.030\nFor the credentials I use\nscanning my web servers,\n\n432\n00:21:58.030 --> 00:22:01.740\nversus the credentials I use scanning\nclient machines or something like that.\n\n433\n00:22:01.740 --> 00:22:03.570\nAnd then I just go and\npick it from the list,\n\n434\n00:22:03.570 --> 00:22:06.280\nI can create tasks that have\nall that stuff already picked.\n\n435\n00:22:06.280 --> 00:22:07.220\nAnd I can just run the task.\n\n436\n00:22:07.220 --> 00:22:10.360\nI can schedule the task,\nI don't even have to do that.\n\n437\n00:22:10.360 --> 00:22:14.572\nSo it's, I love, like I said I'm you\nmight tell I really like Open Box.\n\n438\n00:22:14.572 --> 00:22:15.920\n&gt;&gt; [LAUGH] Really enamored with Open Box.\n\n439\n00:22:15.920 --> 00:22:20.040\n&gt;&gt; I am I mean it's really good because\nI've used a lot of the pay ones and\n\n440\n00:22:20.040 --> 00:22:22.070\nthis one is right up there with them.\n\n441\n00:22:22.070 --> 00:22:26.180\nAnd it's not costing me $3000 a year for\n\n442\n00:22:26.180 --> 00:22:29.850\na limited license on\na vulnerability scanner.\n\n443\n00:22:29.850 --> 00:22:32.730\nAnd not to say those other ones\naren't good and the ones you pay for.\n\n444\n00:22:32.730 --> 00:22:35.220\nYou get support with those and\nthings like that.\n\n445\n00:22:35.220 --> 00:22:38.100\nSo that could be something that\nmakes it worth that money.\n\n446\n00:22:38.100 --> 00:22:39.843\nBut I really do like this one.\n\n447\n00:22:39.843 --> 00:22:44.050\nAll right, it's almost done with that\nscan but we can go check out, I've got\n\n448\n00:22:44.050 --> 00:22:48.760\na couple others that I've already run so\nwe can take a look at the results here.\n\n449\n00:22:48.760 --> 00:22:50.370\nSo I'm gonna take a look\nat this one that I ran.\n\n450\n00:22:50.370 --> 00:22:51.370\nWhere did it go?\n\n451\n00:22:52.450 --> 00:22:53.860\nThat's not the one I want.\n\n452\n00:22:53.860 --> 00:22:55.560\nLet's do the 127, there we go.\n\n453\n00:22:57.270 --> 00:22:58.300\nAnd this guy.\n\n454\n00:22:59.720 --> 00:23:01.930\nSo I clicked on that,\nit brings me over to this screen,\n\n455\n00:23:01.930 --> 00:23:05.750\nkinda gives me an overview of the report.\n\n456\n00:23:05.750 --> 00:23:07.670\nI can then click on the report itself.\n\n457\n00:23:07.670 --> 00:23:11.160\nThere's ten different ways to\nget to any one of these screens.\n\n458\n00:23:11.160 --> 00:23:14.940\nThere's buttons everywhere and\nthey'll all take you somewhere.\n\n459\n00:23:14.940 --> 00:23:17.850\nSo you can get here\na bunch of different ways.\n\n460\n00:23:17.850 --> 00:23:22.080\nBut once you get to the results of\nthe report, this is the importance stuff.\n\n461\n00:23:22.080 --> 00:23:26.040\nSo now we're looking, it's by default\nit's going to be ranked by severity, and\n\n462\n00:23:26.040 --> 00:23:27.320\nI can take a look at these.\n\n463\n00:23:27.320 --> 00:23:30.090\nAnd just like all of the other\nvulnerability scanners that we've looked\n\n464\n00:23:30.090 --> 00:23:32.740\nat, we get the same information back.\n\n465\n00:23:32.740 --> 00:23:34.670\nWe get what the vulnerability is.\n\n466\n00:23:34.670 --> 00:23:37.130\nWhat the severity level is.\n\n467\n00:23:37.130 --> 00:23:38.790\nIn this case, it tells me.\n\n468\n00:23:38.790 --> 00:23:41.130\nI'm not sure what they\nmean by QOD in this case.\n\n469\n00:23:41.130 --> 00:23:43.100\nLet's see if it's telling me.\n\n470\n00:23:47.166 --> 00:23:48.529\nIt's not, but I'd have to look that up.\n\n471\n00:23:48.529 --> 00:23:50.165\nHost, location.\n\n472\n00:23:50.165 --> 00:23:53.445\nAction-wise, this gives me override.\n\n473\n00:23:53.445 --> 00:23:57.128\nSo maybe I can say, hey, look,\nI know that vulnerability.\n\n474\n00:23:57.128 --> 00:23:59.212\nOur choice was to leave that.\n\n475\n00:23:59.212 --> 00:24:01.845\nMaybe we wanna ignore that particular one.\n\n476\n00:24:01.845 --> 00:24:04.695\nI can click on one of\nthese vulnerabilities, and\n\n477\n00:24:04.695 --> 00:24:08.530\nI'll get the important information\nabout that vulnerability.\n\n478\n00:24:08.530 --> 00:24:09.660\nWhat it is.\n\n479\n00:24:09.660 --> 00:24:12.560\nThe operating system has reached\nthe end of it's life time,\n\n480\n00:24:12.560 --> 00:24:13.750\nit shouldn't be used anymore.\n\n481\n00:24:13.750 --> 00:24:15.540\n&gt;&gt; QoD is quality of detection.\n\n482\n00:24:15.540 --> 00:24:16.460\n&gt;&gt; Quality of detection.\n\n483\n00:24:16.460 --> 00:24:17.000\n&gt;&gt; Yes.\n\n484\n00:24:17.000 --> 00:24:17.650\n&gt;&gt; Very good, okay.\n\n485\n00:24:17.650 --> 00:24:18.370\nSo there you go.\n\n486\n00:24:18.370 --> 00:24:21.428\nNow we know that that's,\nthey're saying they've got an 80%\n\n487\n00:24:21.428 --> 00:24:24.204\nconfidentiality, con-\n&gt;&gt; If you hadn't-\n\n488\n00:24:24.204 --> 00:24:24.746\n[LAUGH]\n&gt;&gt; I can't.\n\n489\n00:24:24.746 --> 00:24:25.285\n&gt;&gt; 80% confidence.\n\n490\n00:24:25.285 --> 00:24:27.200\n[LAUGH]\n&gt;&gt; That we are vulnerable\n\n491\n00:24:27.200 --> 00:24:29.240\nto that particular vulnerability.\n\n492\n00:24:29.240 --> 00:24:31.830\nYeah, that's such a command.\n\n493\n00:24:31.830 --> 00:24:35.070\n&gt;&gt; Language is fun [LAUGH]\n&gt;&gt; Need to do a lingo for English.\n\n494\n00:24:35.070 --> 00:24:39.170\nAll right, let's pick a better\none than that because I\n\n495\n00:24:39.170 --> 00:24:42.580\nthink we know what the fix for\nthat would be.\n\n496\n00:24:42.580 --> 00:24:43.810\nUpgrade your operating system.\n\n497\n00:24:43.810 --> 00:24:44.400\n&gt;&gt; Yeah.\n&gt;&gt; Right?\n\n498\n00:24:44.400 --> 00:24:45.160\nYeah, okay.\n\n499\n00:24:45.160 --> 00:24:47.530\nSo let's find a better one than that.\n\n500\n00:24:47.530 --> 00:24:52.250\nMissing secure cookie attribute, or\nSSO vulnerable cypher suites for HTTPS.\n\n501\n00:24:53.910 --> 00:24:55.090\nMissing HTTP only.\n\n502\n00:24:55.090 --> 00:24:56.810\nMy certificate's expired.\n\n503\n00:24:56.810 --> 00:24:58.070\nSo I'm seeing lots of things here.\n\n504\n00:24:58.070 --> 00:25:00.302\nAnd I can click on any of these,\nlike l just did.\n\n505\n00:25:00.302 --> 00:25:04.474\nIt's gonna give me the information\nabout the vulnerability.\n\n506\n00:25:04.474 --> 00:25:06.892\nAnd we should see down here,\nI've got some references.\n\n507\n00:25:06.892 --> 00:25:11.940\nI can go out to OWASP, and l can get\ninformation about what they say l should\n\n508\n00:25:11.940 --> 00:25:17.400\ndo, what the vulnerability is, what\nthe impact might be of that vulnerability\n\n509\n00:25:17.400 --> 00:25:21.982\nif it is taken advantage of, and\nwhat l can do about it, all right?\n\n510\n00:25:21.982 --> 00:25:25.800\nHere's a link out to,\nthat's their detection method.\n\n511\n00:25:25.800 --> 00:25:28.450\nSo that's telling you\nhow they're finding it.\n\n512\n00:25:29.500 --> 00:25:32.750\nJust, like I said,\njust a ton of information.\n\n513\n00:25:32.750 --> 00:25:37.260\nI don't think my browser,\n\n514\n00:25:37.260 --> 00:25:40.595\nI think my Internet access on this\nvirtual machine is hosed right now.\n\n515\n00:25:40.595 --> 00:25:43.620\nYeah.\nBut that would take me out to OWASP\n\n516\n00:25:43.620 --> 00:25:45.870\nwebpage, and it would take me right there.\n\n517\n00:25:45.870 --> 00:25:47.840\nYou can see the numbers\nassociated with it.\n\n518\n00:25:47.840 --> 00:25:51.080\nSo I could always go out and\nsearch for that as well.\n\n519\n00:25:51.080 --> 00:25:53.470\nWhat other good stuff can I show you here?\n\n520\n00:25:54.820 --> 00:26:00.750\nLet's go back out to my task dashboard,\ncuz that was a Linux box.\n\n521\n00:26:00.750 --> 00:26:04.450\nThat was a,\nthat darn vulnerable web application.\n\n522\n00:26:04.450 --> 00:26:08.230\nLet's take a look at the results of my\nWindows box, my Win10 machine here.\n\n523\n00:26:08.230 --> 00:26:13.514\nWe'll jump over that report.\n\n524\n00:26:13.514 --> 00:26:14.980\nHey, he's not as bad, right?\n\n525\n00:26:14.980 --> 00:26:20.520\nI only got two ECE service and enumeration\nreporting and TCP times stamps.\n\n526\n00:26:20.520 --> 00:26:22.460\nSee what that issue is.\n\n527\n00:26:22.460 --> 00:26:26.403\nRemote host implements TCP time stamps and\ntherefore allows to compute the up time.\n\n528\n00:26:28.052 --> 00:26:30.550\nWell, that's good or bad.\n\n529\n00:26:30.550 --> 00:26:32.930\n&gt;&gt; [LAUGH]\n&gt;&gt; But it's at a low severity, right?\n\n530\n00:26:32.930 --> 00:26:36.140\nSo this might be something I bump\nto the end of my work day or\n\n531\n00:26:36.140 --> 00:26:39.000\nmy list of things to do to\nfix this particular machine.\n\n532\n00:26:39.000 --> 00:26:40.849\nI'd probably focus in on\nsomething that's a little more,\n\n533\n00:26:42.350 --> 00:26:45.460\na little higher on\nthe severity rating there.\n\n534\n00:26:45.460 --> 00:26:46.090\nWhat else?\n\n535\n00:26:46.090 --> 00:26:49.210\nI think that is pretty good.\n\n536\n00:26:49.210 --> 00:26:52.000\nSo the cool thing about OWASP.\n\n537\n00:26:52.000 --> 00:26:52.610\nOWASP.\n\n538\n00:26:52.610 --> 00:26:55.455\nOWASP is great, but\nwe're talking about OpenVAS here.\n\n539\n00:26:55.455 --> 00:26:56.518\n&gt;&gt; [LAUGH]\n&gt;&gt; The great thing,\n\n540\n00:26:56.518 --> 00:27:00.430\nwhat I love about OpenVAS, it's a really\npowerful vulnerability scanner.\n\n541\n00:27:00.430 --> 00:27:02.470\nIt's free and it does everything, right?\n\n542\n00:27:02.470 --> 00:27:06.092\nIt does my Windows machines,\nit does my Linux machines.\n\n543\n00:27:06.092 --> 00:27:09.275\nIt's kept up to date by the community.\n\n544\n00:27:09.275 --> 00:27:12.810\nThey do a really great job,\nthat's at least as of now.\n\n545\n00:27:12.810 --> 00:27:15.700\nI love the interface,\nthe reports are really nice.\n\n546\n00:27:15.700 --> 00:27:19.380\nYou saw the the nice\ngraphics that it creates.\n\n547\n00:27:19.380 --> 00:27:23.480\nWhen you are a security person and\nyou're looking at this information,\n\n548\n00:27:23.480 --> 00:27:26.110\nI can look at it at the command\nprompt from my shell, and\n\n549\n00:27:26.110 --> 00:27:30.160\nI can get a list of OSD,\nBs or CVs, or what have you.\n\n550\n00:27:30.160 --> 00:27:31.330\nAnd I'm okay with that.\n\n551\n00:27:31.330 --> 00:27:35.250\nBut when I have to go in and talk to\nthe bosses and explain to them why we're\n\n552\n00:27:35.250 --> 00:27:38.670\nspending the money on this particular\ndevice to help secure everything,\n\n553\n00:27:38.670 --> 00:27:42.580\nshowing them on one of these pretty graphs\nwhere it shows that 60% of our machines\n\n554\n00:27:42.580 --> 00:27:46.250\nare vulnerable to this, makes it easier\nto get them to spend that money.\n\n555\n00:27:46.250 --> 00:27:51.083\nSo lots of great things\nabout good old OpenVAS.\n\n556\n00:27:51.083 --> 00:27:54.640\n&gt;&gt; All right, well, Mike,\nOpenVAS is definitely a great solution.\n\n557\n00:27:54.640 --> 00:27:58.160\nAnd it comes at the hefty,\nhefty price of free 99.\n\n558\n00:27:58.160 --> 00:27:59.570\nAlways my favorite thing.\n\n559\n00:27:59.570 --> 00:28:02.390\nSo don't be afraid to download,\nexperiment with, and\n\n560\n00:28:02.390 --> 00:28:04.130\nimplement this in a test network,\n\n561\n00:28:04.130 --> 00:28:08.050\nmaybe even your production network to\nstart looking for vulnerabilities.\n\n562\n00:28:08.050 --> 00:28:10.220\nAnd it just takes a little\ntime in the seat,\n\n563\n00:28:10.220 --> 00:28:12.240\nright, to learn where all\nthe buttons are and what they do.\n\n564\n00:28:12.240 --> 00:28:14.470\nSo start pointing and\nclicking and doing stuff.\n\n565\n00:28:14.470 --> 00:28:15.350\nSee how OpenVAS works.\n\n566\n00:28:15.350 --> 00:28:17.100\nIts very intuitive.\n\n567\n00:28:17.100 --> 00:28:19.800\nHave a lot of fun with that,\ngenerate some great reports as well.\n\n568\n00:28:19.800 --> 00:28:24.550\nMike, thanks for showing us Open VAS as a\nsystem for us to scan our environments for\n\n569\n00:28:24.550 --> 00:28:25.520\nvulnerabilities.\n\n570\n00:28:25.520 --> 00:28:27.500\nBut it looks like our\nclock has let us down.\n\n571\n00:28:27.500 --> 00:28:29.110\nSays no more time left.\n\n572\n00:28:29.110 --> 00:28:31.140\nSo we do thank you guys for watching.\n\n573\n00:28:31.140 --> 00:28:32.800\nHopefully you've enjoyed this episode.\n\n574\n00:28:32.800 --> 00:28:35.660\nSigning off for ITProTV,\nI've been your host, Daniel Lowry.\n\n575\n00:28:35.660 --> 00:28:36.450\n&gt;&gt; And I'm Mike Roderick.\n\n576\n00:28:36.450 --> 00:28:37.648\n&gt;&gt; And we'll see you next time.\n\n577\n00:28:37.648 --> 00:28:44.236\n[MUSIC]\n\n578\n00:28:44.236 --> 00:28:46.668\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "223287374"
        },
        {
          "description": "In this episode, Daniel and Mike explore common tools, techniques, and practices used in the pursuit of securing your environment. Here they specifically look at the Microsoft Baseline Security Analyzer which is used to uncover common security misconfigurations in a Microsoft environment.",
          "length": "1385",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-3-2-mbsa-062217-PGM.00_22_50_07.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-3-2-mbsa-062217-PGM.00_22_50_07.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-3-2-mbsa-062217-PGM.00_22_50_07.Still001-sm.jpg",
          "title": "MBSA",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:02.129\nWelcome to ITPro.TV,\nI'm your host Don Pezet.\n\n2\n00:00:02.129 --> 00:00:06.597\n[CROSSTALK]\n\n3\n00:00:06.597 --> 00:00:07.959\n[MUSIC]\n\n4\n00:00:07.959 --> 00:00:11.517\n&gt;&gt; You're watching ITPro.TV\n&gt;&gt; All right,\n\n5\n00:00:11.517 --> 00:00:16.734\ngreetings everyone and welcome to\nanother great episode of ITPro.TV.\n\n6\n00:00:16.734 --> 00:00:19.175\nI'm your host Daniel Lowrie and\ntoday's episode,\n\n7\n00:00:19.175 --> 00:00:21.790\nwe are continuing on in our\nSecurity Tech Skill series.\n\n8\n00:00:21.790 --> 00:00:24.340\nHopefully, you guys have been enjoying it,\nI know I sure have.\n\n9\n00:00:24.340 --> 00:00:27.952\nAnd joining us back in the studio to\nlend into that is our good friend, Mr.\n\n10\n00:00:27.952 --> 00:00:28.724\nMike Rodrick.\n\n11\n00:00:28.724 --> 00:00:29.512\nMike, how's it going man?\n\n12\n00:00:29.512 --> 00:00:31.526\n&gt;&gt; It's going fantastic, Daniel.\n\n13\n00:00:31.526 --> 00:00:34.606\nIt's great to be back and\ntoday we're gonna be taking a look at some\n\n14\n00:00:34.606 --> 00:00:38.401\nvulnerability scanners and particularly\nthis episode we're gonna be looking at\n\n15\n00:00:38.401 --> 00:00:41.207\nthe Microsoft Base Line and\nSecurity Analyzer, all right.\n\n16\n00:00:41.207 --> 00:00:44.751\nAnd this is a tool that's obviously\nput out by Microsoft, and\n\n17\n00:00:44.751 --> 00:00:46.807\nit's been out for quite some time.\n\n18\n00:00:46.807 --> 00:00:51.847\nI know it goes back to at least 2003,\nif not a little bit before that.\n\n19\n00:00:51.847 --> 00:00:55.266\nAnd it's starting to show its age a little\nbit, I'll be honest with you, but\n\n20\n00:00:55.266 --> 00:00:58.578\nI did want to take a look at it as we go\nthrough the different vulnerabilities\n\n21\n00:00:58.578 --> 00:01:00.118\nscanners that we have available.\n\n22\n00:01:00.118 --> 00:01:02.608\nCuz this is one that's really\ngeared towards Microsoft and\n\n23\n00:01:02.608 --> 00:01:03.710\nMicrosoft environment.\n\n24\n00:01:03.710 --> 00:01:05.992\nIt's run on Microsoft,\nit doesn't run on Linux.\n\n25\n00:01:05.992 --> 00:01:09.212\nIt scans Windows machines,\nit does not scan any Linux or\n\n26\n00:01:09.212 --> 00:01:11.001\nany other operating systems.\n\n27\n00:01:11.001 --> 00:01:13.548\nSo it is strictly a Microsoft product.\n\n28\n00:01:13.548 --> 00:01:19.031\nBut if you're in an all Microsoft shop or\nyou've got a lot of Microsoft machines.\n\n29\n00:01:19.031 --> 00:01:22.317\nAnd you want to use something that\nwas designed by Microsoft for\n\n30\n00:01:22.317 --> 00:01:26.238\nMicrosoft, then this might be a tool\nto look at, until you start to use it.\n\n31\n00:01:26.238 --> 00:01:30.676\n[LAUGH]\n&gt;&gt; [LAUGH] We laugh, but really.\n\n32\n00:01:30.676 --> 00:01:33.188\n[LAUGH]\n&gt;&gt; I've used it for a long time.\n\n33\n00:01:33.188 --> 00:01:34.379\n&gt;&gt; Yeah.\n\n34\n00:01:34.379 --> 00:01:38.763\n&gt;&gt; And years ago, I could say way\nback in Server 2003 and on to 2008.\n\n35\n00:01:38.763 --> 00:01:41.245\nIt was a really good tool that\nmade some improvements to it.\n\n36\n00:01:41.245 --> 00:01:45.504\nI remember when it first came out,\nyou could only scan one machine at a time.\n\n37\n00:01:45.504 --> 00:01:48.290\nThey added the ability to scan\nmultiple machines, which was cool.\n\n38\n00:01:48.290 --> 00:01:50.890\nIt was actually something\nthat Microsoft purchased,\n\n39\n00:01:50.890 --> 00:01:54.347\nthey didn't develop it in house,\nit was a third party app that they got.\n\n40\n00:01:54.347 --> 00:01:55.514\n&gt;&gt; No, Microsoft bought some-\n&gt;&gt; [LAUGH]\n\n41\n00:01:55.514 --> 00:01:57.338\n&gt;&gt; Competing piece of software that they\n\n42\n00:01:57.338 --> 00:02:00.135\nthought was awesome and\nincorporated it into Microsoft?\n\n43\n00:02:00.135 --> 00:02:00.926\n&gt;&gt; That's the way it works-\n\n44\n00:02:00.926 --> 00:02:01.604\n&gt;&gt; [LAUGH]\n&gt;&gt; I mean that's\n\n45\n00:02:01.604 --> 00:02:02.174\nwhat they shoot for right?\n\n46\n00:02:02.174 --> 00:02:03.756\n&gt;&gt; Yeah.\n&gt;&gt; I'm gonna write some software and\n\n47\n00:02:03.756 --> 00:02:05.167\nhave Microsoft-\n&gt;&gt; Crazy Microsoft [CROSSTALK]\n\n48\n00:02:05.167 --> 00:02:07.064\n&gt;&gt; Come along and say we really like that,\n\n49\n00:02:07.064 --> 00:02:07.817\ncan we buy you?\n\n50\n00:02:07.817 --> 00:02:11.950\n&gt;&gt; Yes, you can, for my value in 20 years.\n\n51\n00:02:11.950 --> 00:02:13.422\n[LAUGH]\n&gt;&gt; Yeah.\n\n52\n00:02:13.422 --> 00:02:15.286\n[LAUGH]\n&gt;&gt; [LAUGH] But anyway,\n\n53\n00:02:15.286 --> 00:02:17.674\nI'm gonna show it to you,\ncuz I want you to see it.\n\n54\n00:02:17.674 --> 00:02:20.394\nAnd if you're going to use\nit in your environment,\n\n55\n00:02:20.394 --> 00:02:22.811\nit is gonna require\na little bit of tweaking.\n\n56\n00:02:22.811 --> 00:02:25.875\nBasically it's really good\nat scanning a machine.\n\n57\n00:02:25.875 --> 00:02:28.975\nAnd if you download it,\nit's a free download from Microsoft.\n\n58\n00:02:28.975 --> 00:02:34.265\nYou put it on a machine, run it, it'll\nscan that machine, everything's golden.\n\n59\n00:02:34.265 --> 00:02:36.098\nWhen you start to do remote machines,\n\n60\n00:02:36.098 --> 00:02:38.921\nsomething has changed with\nthe Windows Update services.\n\n61\n00:02:38.921 --> 00:02:43.415\nAnd the way Windows does updates in the\nbackground and it seems to have broken it.\n\n62\n00:02:43.415 --> 00:02:47.800\nAnd I have gone through forums and gone\nthrough all the steps that they say it\n\n63\n00:02:47.800 --> 00:02:50.599\nrequires to fix it, and\nI have had little luck.\n\n64\n00:02:50.599 --> 00:02:55.636\nSo it'll scan remote machines and it will\nlook at Windows configuration issues,\n\n65\n00:02:55.636 --> 00:03:00.400\nlike administers with non-expiring\npasswords and things like that.\n\n66\n00:03:00.400 --> 00:03:03.240\nWhere it runs into an issue\nis when it tries to look and\n\n67\n00:03:03.240 --> 00:03:04.994\nsee what updates a machine has.\n\n68\n00:03:04.994 --> 00:03:08.560\nAnd so it can tell you, hey, you're\nmissing this patch or something like that.\n\n69\n00:03:08.560 --> 00:03:12.870\nAnd that's where it seems to stumble\na little bit, unfortunately.\n\n70\n00:03:12.870 --> 00:03:18.019\nBut it still does, like I said, do some\nother checks that we might want to see.\n\n71\n00:03:18.019 --> 00:03:20.560\nSo let's take a look at it.\n\n72\n00:03:20.560 --> 00:03:21.220\nAll right, so\n\n73\n00:03:21.220 --> 00:03:25.340\nyou can see I've already downloaded the\nold Microsoft Baseline Security Analyzer.\n\n74\n00:03:25.340 --> 00:03:26.563\nAnd run it, so it's all ready to go.\n\n75\n00:03:26.563 --> 00:03:28.710\nI'm gonna double click on it, fire it up.\n\n76\n00:03:28.710 --> 00:03:30.438\nAnd we got a few options in here.\n\n77\n00:03:30.438 --> 00:03:34.384\nI've got Scan a computer,\nScan multiple computers, and\n\n78\n00:03:34.384 --> 00:03:37.050\nView existing security scan reports.\n\n79\n00:03:37.050 --> 00:03:40.859\nYou'll also notice when we\nlook at what it can do,\n\n80\n00:03:40.859 --> 00:03:45.680\nit starts at 2012 and goes down,\nand Windows Vista and XP.\n\n81\n00:03:45.680 --> 00:03:50.890\nWhat we don't see is Windows 10 or\nserver 2016,\n\n82\n00:03:50.890 --> 00:03:54.638\nand this is the latest version of MBSA.\n\n83\n00:03:54.638 --> 00:03:58.718\nSo there's a possibility if we try to\npredict what Microsoft is going to do,\n\n84\n00:03:58.718 --> 00:04:02.950\nwhich is near impossible, but this might\nbe reaching the end of its lifetime.\n\n85\n00:04:02.950 --> 00:04:06.242\nBecause we've got other tools like\nthe security configuration manager and\n\n86\n00:04:06.242 --> 00:04:08.566\nthings like that that might\nbe taking the place here.\n\n87\n00:04:08.566 --> 00:04:11.160\nAll right, so let's go ahead and run it.\n\n88\n00:04:11.160 --> 00:04:13.670\nI'm gonna click Scan a computer.\n\n89\n00:04:13.670 --> 00:04:17.500\nAnd as I zoom in here, you'll see we\njust have to give it either a name or\n\n90\n00:04:17.500 --> 00:04:19.400\nan IP address, either one will work.\n\n91\n00:04:19.400 --> 00:04:21.630\nName, if you have DNS resolution.\n\n92\n00:04:21.630 --> 00:04:24.110\nAlso you need to understand that these\nneed to be domain members, right?\n\n93\n00:04:24.110 --> 00:04:27.872\nI can scan the machine\nthat I install MBSA on.\n\n94\n00:04:27.872 --> 00:04:31.728\nSo if I've got a worker machine, I could\njust download MBSA on that machine.\n\n95\n00:04:31.728 --> 00:04:35.958\nIit's free, I could put it on a share and\njust copy down all the machines and\n\n96\n00:04:35.958 --> 00:04:38.472\nrun it locally on\na machine with no problem.\n\n97\n00:04:38.472 --> 00:04:40.910\nIf you're doing it remotely,\nthey need to be domain members.\n\n98\n00:04:40.910 --> 00:04:44.236\nOr they need to go through an extra\nconfiguration to make sure\n\n99\n00:04:44.236 --> 00:04:48.150\nthe scanning machine is trusted\nby the machine you are scanning.\n\n100\n00:04:48.150 --> 00:04:50.740\nCuz it is doing a remote administration,\nit's gotta get through the firewall.\n\n101\n00:04:50.740 --> 00:04:55.310\nIt's gotta access DCOM and\nsome other things remotely.\n\n102\n00:04:55.310 --> 00:04:57.824\nSo it does say take some tweaking.\n\n103\n00:04:57.824 --> 00:05:01.750\nSince mine are all domain members,\nwe'll just go ahead and run this guy.\n\n104\n00:05:01.750 --> 00:05:06.912\nMy domain controller is 0.12 right below\nthat, I can see the security port name.\n\n105\n00:05:06.912 --> 00:05:10.536\nIt's got some variables there, and\nit gives you an identity key or\n\n106\n00:05:10.536 --> 00:05:13.010\na legend if you will of\nwhat that's gonna be.\n\n107\n00:05:13.010 --> 00:05:18.180\nSo it's gonna be the name of the domain\ndash the name of the computer,\n\n108\n00:05:18.180 --> 00:05:20.960\nand in parenthesis, date and time.\n\n109\n00:05:20.960 --> 00:05:24.250\nI can change this up if I\nwanna change the order.\n\n110\n00:05:24.250 --> 00:05:29.050\nIf I wanna add my own text in there,\nI can call this whatever I want.\n\n111\n00:05:29.050 --> 00:05:31.912\nIt is nice to be able\nto use those variables.\n\n112\n00:05:31.912 --> 00:05:35.470\nThat way if you’re running multiple\nscans your report is gonna be named.\n\n113\n00:05:35.470 --> 00:05:37.980\nI like to try to put those\nthey didn’t use IP, but\n\n114\n00:05:37.980 --> 00:05:41.056\nI like to put the IP address at\nthe front of the report title.\n\n115\n00:05:41.056 --> 00:05:42.550\nSo I know exactly which\none I’m pulling up.\n\n116\n00:05:44.546 --> 00:05:49.528\nIf we were gonna do that I would\njust do something like %IP% and\n\n117\n00:05:49.528 --> 00:05:53.760\nthen maybe a dash in between there or\nwhatever I want.\n\n118\n00:05:53.760 --> 00:05:57.186\nBut you can combine or remove or\nadd variables as you need.\n\n119\n00:05:57.186 --> 00:05:58.946\nBelow that what are we going to check for?\n\n120\n00:05:58.946 --> 00:06:00.290\nWindows administrative vulnerabilities.\n\n121\n00:06:00.290 --> 00:06:04.987\nThese are things like blank passwords,\nguest accounts being enabled,\n\n122\n00:06:04.987 --> 00:06:09.560\npasswords set to never expire,\nbasic configuration issues.\n\n123\n00:06:09.560 --> 00:06:11.670\nYou can check for weak passwords.\n\n124\n00:06:11.670 --> 00:06:16.090\nAgain well I should say,\nyou want to be careful with this option.\n\n125\n00:06:16.090 --> 00:06:19.606\nIf you do it on a domain controller,\nit doesn't do this by default because you\n\n126\n00:06:19.606 --> 00:06:22.760\nprobably have a lot of passwords\nin your active directory database.\n\n127\n00:06:22.760 --> 00:06:26.668\nIt can take a long time try to look and\nsee if those guys are weak.\n\n128\n00:06:26.668 --> 00:06:30.862\nI'll leave it running for\nnow, I'm not running IIS.\n\n129\n00:06:30.862 --> 00:06:34.690\nI'm not running SQL on this particular\nmachine, I'm getting ready to scan.\n\n130\n00:06:34.690 --> 00:06:37.640\nSo I'm gonna uncheck those, no need to\nhit those but understand that it can.\n\n131\n00:06:37.640 --> 00:06:40.120\n&gt;&gt; Mike, I find it interesting\nthat it says Check IIS and\n\n132\n00:06:40.120 --> 00:06:43.380\nSQL for administrative vulnerabilities.\n\n133\n00:06:43.380 --> 00:06:44.584\nCan you expand on that a little bit?\n\n134\n00:06:44.584 --> 00:06:49.068\n&gt;&gt; Yes, this is really limited\nin what it's looking for.\n\n135\n00:06:49.068 --> 00:06:56.359\nIt's looking at known issues with IIS for\nexample and known issues with SQL.\n\n136\n00:06:56.359 --> 00:06:59.084\nI'm gonna go ahead and zoom out, and\nI'll show you little information.\n\n137\n00:06:59.084 --> 00:07:00.698\nYou can click these standing options.\n\n138\n00:07:00.698 --> 00:07:06.266\nIt will take us out to a file\nthat's included with MBSA,\n\n139\n00:07:06.266 --> 00:07:09.590\nand it kind of explains each one.\n\n140\n00:07:09.590 --> 00:07:14.041\nWe can see it'll as far as\nthe weak passwords for example.\n\n141\n00:07:14.041 --> 00:07:16.558\nIt's disabled when the target client\ncomputer's a domain controller.\n\n142\n00:07:16.558 --> 00:07:24.762\nWhen we talk about IIS, if the sample\napplication is still enabled in there.\n\n143\n00:07:24.762 --> 00:07:28.980\nLike when you install IIS and you get\nthat demo page and things like that.\n\n144\n00:07:28.980 --> 00:07:34.050\nIf there's virtual directories,\nif the IIS lock down tool, something that\n\n145\n00:07:34.050 --> 00:07:40.220\nMicrosoft provides to help you locked down\nIIS cuz there's a lot of known issues IIS.\n\n146\n00:07:40.220 --> 00:07:41.290\nHas that been run?\n\n147\n00:07:41.290 --> 00:07:44.128\nThis thing will let you know,\nhey, you really need to run that.\n\n148\n00:07:44.128 --> 00:07:47.026\nWhen it comes to SQL some-\n&gt;&gt; [LAUGH]\n\n149\n00:07:47.026 --> 00:07:50.162\n&gt;&gt; Administrative vulnerabilities.\n\n150\n00:07:50.162 --> 00:07:50.967\n&gt;&gt; It's a pun word, isn't it?\n\n151\n00:07:50.967 --> 00:07:52.528\n&gt;&gt; Yeah, it is.\n&gt;&gt; [LAUGH]\n\n152\n00:07:52.528 --> 00:07:54.211\n&gt;&gt; Do we have mixed mode authentication?\n\n153\n00:07:54.211 --> 00:07:59.188\nWhich means now we've got that\nSA account to worry about that\n\n154\n00:07:59.188 --> 00:08:03.004\nhas administrative or\nfull control over SQL.\n\n155\n00:08:03.004 --> 00:08:06.412\nThat's an issue,\nespecially if we haven't set a good long,\n\n156\n00:08:06.412 --> 00:08:08.452\nstrong password on that SA account.\n\n157\n00:08:08.452 --> 00:08:12.130\nSo things like that is really\nwhat it's gonna be looking for.\n\n158\n00:08:12.130 --> 00:08:17.120\nBut it's not going in and\ndoing fuzzing on any forms you have,\n\n159\n00:08:17.120 --> 00:08:19.230\nHTML authentication, things like that.\n\n160\n00:08:19.230 --> 00:08:23.928\nThis is only, it has a database of known\nvulnerabilities that it's scanning for.\n\n161\n00:08:23.928 --> 00:08:27.687\nAnd I'll be honest with you, most of\nthem are just configuration issues.\n\n162\n00:08:27.687 --> 00:08:31.895\nIt's not like some of the others\nthat we've looked at, NIC 2 and and\n\n163\n00:08:31.895 --> 00:08:33.790\nOpen [INAUDIBLE], and these guys.\n\n164\n00:08:33.790 --> 00:08:38.177\nThat have these massive vulnerability\ndatabase that they're looking for.\n\n165\n00:08:38.177 --> 00:08:40.760\nAre you susceptible to SQL injection?\n\n166\n00:08:40.760 --> 00:08:43.620\nAre you susceptible to\ncross site scripting,\n\n167\n00:08:43.620 --> 00:08:47.200\nor remote file inclusion type attacks?\n\n168\n00:08:47.200 --> 00:08:50.100\nThis really isn't doing that,\nthis is very, very limited.\n\n169\n00:08:50.100 --> 00:08:52.329\nBut I wanted to show it to you anyway,\njust as an alternative.\n\n170\n00:08:52.329 --> 00:08:53.915\n&gt;&gt; Yeah with that even being said,\n\n171\n00:08:53.915 --> 00:08:57.281\nthat doesn't mean MBSA is not worth\nthe squeeze, not worth doing.\n\n172\n00:08:57.281 --> 00:08:59.647\nBecause if you look at the lost top ten,\n\n173\n00:08:59.647 --> 00:09:04.622\na lot of them are administrative issues\nthat we did not set up something properly.\n\n174\n00:09:04.622 --> 00:09:08.310\nWe are not patching it properly,\nwe are not configuring it properly.\n\n175\n00:09:08.310 --> 00:09:11.425\nSo that doesn't mean you're not\ngonna get good results out of this.\n\n176\n00:09:11.425 --> 00:09:15.915\n&gt;&gt; Exactly, and as I think, we've said in\nanother episode, if not we'll repeat it.\n\n177\n00:09:15.915 --> 00:09:18.321\nRunning more than one vulnerability\nscanner is not a bad thing.\n\n178\n00:09:18.321 --> 00:09:20.131\n&gt;&gt; Yeah.\n&gt;&gt; Right, what this one doesn't find,\n\n179\n00:09:20.131 --> 00:09:23.715\nanother one will, this might pick up\nsome things that another one didn't.\n\n180\n00:09:23.715 --> 00:09:25.255\nBecause it is written by Microsoft,\n\n181\n00:09:25.255 --> 00:09:28.340\nso they know some specific\nMicrosoft things to look for.\n\n182\n00:09:28.340 --> 00:09:32.139\nSo, while I wouldn't put all my eggs in\nthis basket, I would, as Daniel said,\n\n183\n00:09:32.139 --> 00:09:33.291\nI would still run this.\n\n184\n00:09:33.291 --> 00:09:34.870\nIt's not gonna hurt, it's free.\n\n185\n00:09:34.870 --> 00:09:39.390\nIt takes 30 seconds, or so\nto run the scan, why not do it, right?\n\n186\n00:09:40.740 --> 00:09:42.738\nAll right, back to my options over here.\n\n187\n00:09:42.738 --> 00:09:47.120\nSo we've talked about IIS, SQL, the last\none there, check for security updates.\n\n188\n00:09:47.120 --> 00:09:49.669\nNow this is where we're gonna\nrun into some issues, all right?\n\n189\n00:09:49.669 --> 00:09:52.691\nIt used to work really well,\nsomething is broken.\n\n190\n00:09:52.691 --> 00:09:56.246\nAnd I have not been able to\nget it working quite right,\n\n191\n00:09:56.246 --> 00:10:01.066\neven though I've dived into Microsoft\nforums, followed their steps.\n\n192\n00:10:01.066 --> 00:10:04.633\nBut basically, what it's supposed\nto do is look at that machine, and\n\n193\n00:10:04.633 --> 00:10:08.572\nlook at the updates that are installed,\nor what updates aren't installed.\n\n194\n00:10:08.572 --> 00:10:11.920\nCompare them to the updates that\nare available, and let's you know hey,\n\n195\n00:10:11.920 --> 00:10:15.106\nyou are missing this patch,\nyou are missing this security hot fix, or\n\n196\n00:10:15.106 --> 00:10:16.740\nwhatever the case may be.\n\n197\n00:10:16.740 --> 00:10:20.360\nIt should be able to be configured\nto tie into your WSUS server.\n\n198\n00:10:20.360 --> 00:10:24.350\nSo if you're running a local update\nserver, and you're only approving certain\n\n199\n00:10:24.350 --> 00:10:27.810\nupdates, it can say those are the only\nones I need to check for.\n\n200\n00:10:27.810 --> 00:10:32.550\nSo, great in concept unfortunately,\nunsuccessful in getting it to work.\n\n201\n00:10:32.550 --> 00:10:36.130\nI'll go ahead and leave it checked,\nand I'll show you what it has.\n\n202\n00:10:36.130 --> 00:10:38.970\nI'll also show you the form\nfrom Microsoft that gives you\n\n203\n00:10:38.970 --> 00:10:39.990\nthe instructions on how to fix it.\n\n204\n00:10:39.990 --> 00:10:41.944\nAnd I'll tell you it didn't work.\n\n205\n00:10:41.944 --> 00:10:43.284\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH]\n\n206\n00:10:43.284 --> 00:10:45.500\n&gt;&gt; Well, that's good to know Mike [LAUGH].\n\n207\n00:10:45.500 --> 00:10:49.410\n&gt;&gt; Yeah, I try to save you\nthe headache of going through and\n\n208\n00:10:49.410 --> 00:10:52.770\npulling all your hair out or turning your\nhair gray, whatever the case may be.\n\n209\n00:10:52.770 --> 00:10:54.840\nAll right, so we've got it configured.\n\n210\n00:10:54.840 --> 00:10:58.410\nYou would also want to check\nthis one if this worked.\n\n211\n00:10:58.410 --> 00:11:01.820\nConfigure computers for Microsoft Update\nand scanning prerequisites.\n\n212\n00:11:01.820 --> 00:11:05.031\nWhat this is supposed to do is reach\nout and make sure that machine.\n\n213\n00:11:05.031 --> 00:11:07.559\nOne has automatic updates turned on,\nit's getting its updates.\n\n214\n00:11:07.559 --> 00:11:12.616\nTwo, is running the latest\nWindows Update client, and if not,\n\n215\n00:11:12.616 --> 00:11:17.400\nadd that,\nchange the configuration on those machine.\n\n216\n00:11:17.400 --> 00:11:21.690\nTo make sure that we are able to scan\nthose machines and look for updates.\n\n217\n00:11:21.690 --> 00:11:25.730\nIf you are running your own in-house\nWSUS server, you would check this one.\n\n218\n00:11:25.730 --> 00:11:28.190\nAnd you would, in policy,\n\n219\n00:11:28.190 --> 00:11:31.770\nyou've already told it what WUS\nservers to use, what computers.\n\n220\n00:11:31.770 --> 00:11:32.860\nSo, it'll reach out and talk to them and\n\n221\n00:11:32.860 --> 00:11:36.790\nsee what updates are supposed to be\nthere according to your WSUS server.\n\n222\n00:11:36.790 --> 00:11:39.421\nYou could also use an offline catalog for\nupdates,\n\n223\n00:11:39.421 --> 00:11:43.290\nif you had a list of updates that\nyou wanted to make sure were there.\n\n224\n00:11:43.290 --> 00:11:47.450\nYou can use Microsoft Update only,\nand not use your own WSUS server.\n\n225\n00:11:47.450 --> 00:11:49.170\nI'm gonna uncheck that,\nI'll leave this checked.\n\n226\n00:11:49.170 --> 00:11:52.463\nBut again, I don't believe it's\ngonna work unless some kind\n\n227\n00:11:52.463 --> 00:11:55.707\nof miracle happens here when I run it for\nthe umpteenth time.\n\n228\n00:11:55.707 --> 00:11:59.300\nAll right, so we got our IP address in\nthere, we've got the name of the report,\n\n229\n00:11:59.300 --> 00:12:00.760\nI told it what I wanna check for.\n\n230\n00:12:00.760 --> 00:12:02.960\nAnd I'll go ahead and click, Start Scan.\n\n231\n00:12:04.140 --> 00:12:08.520\nIt reaches out to Microsoft, it takes\na look and see what latest updates,\n\n232\n00:12:08.520 --> 00:12:10.510\nsecurity updates are available.\n\n233\n00:12:12.070 --> 00:12:16.530\nAnd then it should scan my machine,\nand give us some results.\n\n234\n00:12:16.530 --> 00:12:17.730\nSo as we're waiting for the scan,\n\n235\n00:12:17.730 --> 00:12:19.970\nyou have a couple of things to\nkeep in mind about the MBSA.\n\n236\n00:12:19.970 --> 00:12:23.050\nIt's not having a real good time,\nwe're checking for updates,\n\n237\n00:12:23.050 --> 00:12:24.626\nit's something to keep in mind.\n\n238\n00:12:24.626 --> 00:12:28.060\nStill checks for configuration issues,\nso it's still worth running.\n\n239\n00:12:28.060 --> 00:12:28.660\nIt's free,\n\n240\n00:12:28.660 --> 00:12:33.010\nyou just have to download it from\nMicrosoft, it only scans Windows machines.\n\n241\n00:12:33.010 --> 00:12:35.990\nAnd they need to be part of a domain,\nif they're not,\n\n242\n00:12:35.990 --> 00:12:40.080\nthen there's no trust between the machine\nthat you're running the scanner from,\n\n243\n00:12:40.080 --> 00:12:41.642\nand the machine you're scanning.\n\n244\n00:12:41.642 --> 00:12:44.270\nYou're gonna have a lot\nof configuration to do.\n\n245\n00:12:44.270 --> 00:12:48.205\nBut I'll tell you, the easiest way to\ndo that is just run it on the local\n\n246\n00:12:48.205 --> 00:12:48.869\nmachine,\n&gt;&gt; Yeah.\n\n247\n00:12:48.869 --> 00:12:53.360\n&gt;&gt; Right, honestly, I'll run it again\nmyself here soon as this one is done.\n\n248\n00:12:53.360 --> 00:12:57.804\nAnd we'll see how the results differ\nfrom this one that we're doing remotely.\n\n249\n00:12:57.804 --> 00:13:00.175\n&gt;&gt; Yeah, Mike, I told you at a place I\nused to work we ran MBSA all the time.\n\n250\n00:13:00.175 --> 00:13:04.540\nWe had a guy that was imaging machines,\nwe said, you know, what?\n\n251\n00:13:04.540 --> 00:13:08.240\nAs part of your checklist before this\nmachine goes out, run it against MBSA,\n\n252\n00:13:08.240 --> 00:13:11.420\njust to see how it does\nbefore it exits our building.\n\n253\n00:13:11.420 --> 00:13:14.845\nGives it at least some security\nbaseline before it hits our network.\n\n254\n00:13:14.845 --> 00:13:16.741\n&gt;&gt; Exactly, all right,\nlooks like it finished, so\n\n255\n00:13:16.741 --> 00:13:17.969\nlet's pull up my screen again.\n\n256\n00:13:17.969 --> 00:13:23.080\nWe'll see what we've got,\nhere is my report, I will zoom in for us.\n\n257\n00:13:23.080 --> 00:13:28.200\nAnd we can see the name of\nthe computer I was scanning,\n\n258\n00:13:28.200 --> 00:13:31.050\nthe IP address,\nthe version of the scanner win.\n\n259\n00:13:31.050 --> 00:13:34.570\nAnd then I've got a sort order for\nsorting the results.\n\n260\n00:13:34.570 --> 00:13:38.170\nAnd then right here at the top, I've got\nthis exclamation point, security updates,\n\n261\n00:13:38.170 --> 00:13:40.320\ncannot contact Windows update agent.\n\n262\n00:13:40.320 --> 00:13:44.170\nOn target computer possibly\ndue to firewall settings.\n\n263\n00:13:44.170 --> 00:13:46.960\nNow, there's a link here that\nsays how to correct this.\n\n264\n00:13:46.960 --> 00:13:51.440\nIf we click on this, it will take\nme out and it'll say, let's see.\n\n265\n00:13:51.440 --> 00:13:54.820\nClick common errors,\nit basically redirects me to a forum.\n\n266\n00:13:57.990 --> 00:14:01.154\nAnd nothing in here I\nfound actually works.\n\n267\n00:14:01.154 --> 00:14:05.030\nI'll tell you, and if what I tried,\nif you look at Microsoft's blogs.\n\n268\n00:14:05.030 --> 00:14:08.587\nThey're like okay,\nopen up the, there was two or\n\n269\n00:14:08.587 --> 00:14:14.264\nthree different ports I needed to open\nup TCP-wise, two different UDP ports,\n\n270\n00:14:14.264 --> 00:14:19.070\na high level dynamic decom port\nthat I was supposed to enable.\n\n271\n00:14:19.070 --> 00:14:24.471\nA startup script that I had to create and\nrun to add a registry key.\n\n272\n00:14:24.471 --> 00:14:28.794\nI had to deploy that through group policy,\nand it still didn't work.\n\n273\n00:14:28.794 --> 00:14:31.669\nSo you You can see that,\nby the time you get through doing this,\n\n274\n00:14:31.669 --> 00:14:35.643\nyou feel like you're reducing security by\nopening up all these firewall exceptions.\n\n275\n00:14:35.643 --> 00:14:40.146\nAnd yeah like I said, I would just use it\nlocally, I don't know that I would try to\n\n276\n00:14:40.146 --> 00:14:43.205\ndo it remotely, but\nI wanted to show you how it looked.\n\n277\n00:14:43.205 --> 00:14:45.182\nNow, as we go down here,\n\n278\n00:14:45.182 --> 00:14:50.480\nI can see some actual results of\nwhat we are getting back from MBSA.\n\n279\n00:14:50.480 --> 00:14:55.260\nI see I've got it sorted by severity or\nranking.\n\n280\n00:14:55.260 --> 00:14:58.580\nTop up there is automatic updates,\nautomatic updates downloaded,\n\n281\n00:14:58.580 --> 00:15:02.240\nor not automatically downloaded,\nor installed on this computer.\n\n282\n00:15:02.240 --> 00:15:06.530\nI will tell you,\nthat's actually a falsity, is that a word?\n\n283\n00:15:06.530 --> 00:15:07.993\n&gt;&gt; A falsehood.\n&gt;&gt; A falsehood, there we go,\n\n284\n00:15:07.993 --> 00:15:09.160\nit's a falsehood.\n\n285\n00:15:09.160 --> 00:15:10.472\nThat's why I keep this guy around.\n\n286\n00:15:10.472 --> 00:15:13.330\n&gt;&gt; [LAUGH]\n&gt;&gt; Because I know I have turned him on.\n\n287\n00:15:13.330 --> 00:15:16.800\nBut ,again, it's having troubles\ntalking to that update services,\n\n288\n00:15:16.800 --> 00:15:19.390\nmore than two administrators\nwere found on this computer.\n\n289\n00:15:19.390 --> 00:15:22.890\nAll right, well,\nthere's an issue I might be worried about.\n\n290\n00:15:22.890 --> 00:15:24.792\nAre we supposed to have more than two?\n\n291\n00:15:24.792 --> 00:15:28.660\nIf it's something we did, we know that\nhey, I created an account for Daniel.\n\n292\n00:15:28.660 --> 00:15:31.930\nHe is an administrator on that machine,\nbecause he takes care of that server.\n\n293\n00:15:31.930 --> 00:15:34.083\nAnd I've got the built in\nadministrator account, then fine,\n\n294\n00:15:34.083 --> 00:15:34.943\nI could ignore that one.\n\n295\n00:15:34.943 --> 00:15:39.073\nBut if I only have the built in admin, and\nI've never created any other admins, and\n\n296\n00:15:39.073 --> 00:15:42.020\nthis is telling me I've got two,\n&gt;&gt; That can be a problem [LAUGH].\n\n297\n00:15:42.020 --> 00:15:43.680\n&gt;&gt; Yes,\nsomething I might wanna go look at, right.\n\n298\n00:15:43.680 --> 00:15:45.150\nWho's been creating accounts on here.\n\n299\n00:15:45.150 --> 00:15:47.600\nMaybe somebody made a back door account.\n\n300\n00:15:47.600 --> 00:15:49.555\n&gt;&gt; Who would every do such a thing,\nMichael?\n\n301\n00:15:49.555 --> 00:15:52.592\n&gt;&gt; [LAUGH] Yeah,\nthe guy standing next to me over here.\n\n302\n00:15:52.592 --> 00:15:54.321\n&gt;&gt; [LAUGH]\n&gt;&gt; Password expiration.\n\n303\n00:15:54.321 --> 00:15:57.501\nSome accounts have non-expiring passwords.\n\n304\n00:15:57.501 --> 00:15:59.397\nWell, that's not a good thing.\n\n305\n00:15:59.397 --> 00:16:03.730\nWe want to go and make sure everybody has\nto change their password ever so often.\n\n306\n00:16:03.730 --> 00:16:05.230\nNo incomplete updates were found.\n\n307\n00:16:05.230 --> 00:16:06.650\nThat's good.\n\n308\n00:16:06.650 --> 00:16:09.410\nThe firewall check was skipped\nbecause it can't do it remotely.\n\n309\n00:16:09.410 --> 00:16:12.210\nAnd everything else is pretty\nmuch a green check mark here.\n\n310\n00:16:12.210 --> 00:16:15.770\nAuto log on's not configured,\nthe guest account is disabled.\n\n311\n00:16:15.770 --> 00:16:19.530\nThose will be things, at least you can\nsee what it's actually checking for.\n\n312\n00:16:19.530 --> 00:16:20.950\nLocal account password test.\n\n313\n00:16:20.950 --> 00:16:24.130\nPassword checks were not preformed\ncuz it's a domain controller.\n\n314\n00:16:24.130 --> 00:16:26.410\nIt's restricting anonymous access.\n\n315\n00:16:26.410 --> 00:16:30.690\nDown here, I can see that no potentially\nunnecessary services were found.\n\n316\n00:16:30.690 --> 00:16:32.450\nThere were four shares.\n\n317\n00:16:32.450 --> 00:16:34.090\nMight be something to pay attention to.\n\n318\n00:16:34.090 --> 00:16:35.550\nHey, that's my kiosk machine.\n\n319\n00:16:35.550 --> 00:16:37.260\nWhy are there any shares on there, right?\n\n320\n00:16:37.260 --> 00:16:39.180\nSo I want to go and take a look at that.\n\n321\n00:16:39.180 --> 00:16:41.850\nIt doesn't know that that's a good or\nbad thing, it's just telling you, hey,\n\n322\n00:16:41.850 --> 00:16:44.500\nthere are shares on this machine.\n\n323\n00:16:44.500 --> 00:16:46.580\nTells me what version I'm running.\n\n324\n00:16:46.580 --> 00:16:50.410\nDown below,\nI can see my IE zones have been secured.\n\n325\n00:16:50.410 --> 00:16:51.760\nNo Office products.\n\n326\n00:16:51.760 --> 00:16:55.850\nso, that's the basic results\nthat you're gonna get\n\n327\n00:16:55.850 --> 00:16:57.990\nfrom your baseline security analyzer.\n\n328\n00:16:57.990 --> 00:16:59.380\nNow, you can print this report out.\n\n329\n00:17:00.440 --> 00:17:01.910\nI'm just gonna go ahead and click OK.\n\n330\n00:17:01.910 --> 00:17:05.265\nAnd I want to show you when we\ngo back out to my dashboard, or\n\n331\n00:17:05.265 --> 00:17:10.480\nif I open this up again later on, I can\nclick View Existing Security Scan Reports.\n\n332\n00:17:10.480 --> 00:17:14.820\nAnd here I can see all the other times\nI've attempted to get this to work\n\n333\n00:17:14.820 --> 00:17:15.780\nproperly.\n\n334\n00:17:15.780 --> 00:17:19.550\nBut I can always go back and\nlook at a report from days ago, or\n\n335\n00:17:19.550 --> 00:17:20.950\nwhatever the case was.\n\n336\n00:17:20.950 --> 00:17:25.410\nMaybe I was looking at one from last\nmonth to see if anything has changed.\n\n337\n00:17:25.410 --> 00:17:28.670\nSo, it's nice that it gives\nyou the ability to go back and\n\n338\n00:17:28.670 --> 00:17:29.810\nlook at those reports.\n\n339\n00:17:29.810 --> 00:17:31.000\nYou can also print them.\n\n340\n00:17:31.000 --> 00:17:35.160\nI know we've had people ask how do I\nget a nice report that I can take into\n\n341\n00:17:35.160 --> 00:17:38.290\na meeting when I have to go sit\nin front of the C-level execs?\n\n342\n00:17:38.290 --> 00:17:39.900\nWell, here.\nYou just print this out, right?\n\n343\n00:17:39.900 --> 00:17:41.580\nSo you can get reports that way as well.\n\n344\n00:17:41.580 --> 00:17:43.400\nOr some people like\nworking from a hard copy.\n\n345\n00:17:43.400 --> 00:17:47.480\nNow I can go and do my research and\nsee what I need to fix.\n\n346\n00:17:47.480 --> 00:17:48.250\nAll right, let me go back.\n\n347\n00:17:48.250 --> 00:17:52.140\nI'm gonna click this, and let's just\nscan the local machine here real quick.\n\n348\n00:17:52.140 --> 00:17:54.640\nSo I've got my own machine\nright there labwin10.\n\n349\n00:17:54.640 --> 00:17:56.210\nI'm gonna do the same checks.\n\n350\n00:17:56.210 --> 00:17:57.235\nWe'll do a start scan.\n\n351\n00:17:57.235 --> 00:18:01.460\nAnd let's see if it has anymore\nluck with the Windows updates\n\n352\n00:18:01.460 --> 00:18:04.090\nsince it's running locally and\nnot having to go through our firewall.\n\n353\n00:18:05.590 --> 00:18:09.420\nSo funny, as I was doing research for this\nand trying to figure out what's wrong, and\n\n354\n00:18:09.420 --> 00:18:10.550\na lot of people are out there.\n\n355\n00:18:10.550 --> 00:18:13.519\nWhen you read forums,\nespecially non-Microsoft forums,\n\n356\n00:18:13.519 --> 00:18:15.974\nyou have to take everything\ninto consideration.\n\n357\n00:18:15.974 --> 00:18:17.238\n&gt;&gt; Yeah.\n&gt;&gt; You have to do your own\n\n358\n00:18:17.238 --> 00:18:18.188\nresearch, right?\n\n359\n00:18:18.188 --> 00:18:19.570\nDo your due diligence.\n\n360\n00:18:19.570 --> 00:18:20.880\nRead what they're saying.\n\n361\n00:18:20.880 --> 00:18:24.060\nBut you don’t know who that is, and you\ndon’t know what their experience is and\n\n362\n00:18:24.060 --> 00:18:25.420\nwhat their skill level is.\n\n363\n00:18:25.420 --> 00:18:28.280\nSo don’t just blindly\nfollow forum posts and go-\n\n364\n00:18:28.280 --> 00:18:29.361\n&gt;&gt; That’s what I’ve been doing wrong.\n\n365\n00:18:29.361 --> 00:18:30.506\n[LAUGH]\n&gt;&gt; Let me try that,\n\n366\n00:18:30.506 --> 00:18:33.970\nit says to download this, double-click\non it and disable your firewall.\n\n367\n00:18:33.970 --> 00:18:34.650\nYeah, don't do that.\n\n368\n00:18:34.650 --> 00:18:38.160\n&gt;&gt; Yeah, you probably want to look at that\nwith a bit of a jaundiced eye just to make\n\n369\n00:18:38.160 --> 00:18:43.360\nsure that that's a good idea before you\njust dive into that pool full of piranha.\n\n370\n00:18:43.360 --> 00:18:46.740\n&gt;&gt; I'll tell you that any time\nanybody tells me it's an easy fix.\n\n371\n00:18:46.740 --> 00:18:48.650\nJust disable your firewall.\n\n372\n00:18:48.650 --> 00:18:50.790\nI immediately just close the web page and\nmove on.\n\n373\n00:18:50.790 --> 00:18:52.900\n&gt;&gt; Don talks about this all\nthe time when it comes to LINUX.\n\n374\n00:18:52.900 --> 00:18:57.550\nHe says any time I read a blog post or\nwhatever, forum post, someone says, yeah,\n\n375\n00:18:57.550 --> 00:19:00.820\nI'm having trouble getting this to work,\nand they say, yeah, disable SELinux.\n\n376\n00:19:00.820 --> 00:19:01.630\nHe's like, wrong, wrong.\n&gt;&gt; [LAUGH]\n\n377\n00:19:01.630 --> 00:19:02.410\n&gt;&gt; This person doesn't know\n\n378\n00:19:02.410 --> 00:19:04.430\nwhat they're talking about.\n\n379\n00:19:04.430 --> 00:19:05.590\nEven if that does work,\n\n380\n00:19:05.590 --> 00:19:06.870\nwhich is probably would-\n&gt;&gt; Yeah.\n\n381\n00:19:06.870 --> 00:19:09.040\n&gt;&gt; Right?\nThese things would probably work.\n\n382\n00:19:09.040 --> 00:19:10.810\nDisable your firewall?\n\n383\n00:19:10.810 --> 00:19:12.670\nYeah, but that's not practical.\n\n384\n00:19:12.670 --> 00:19:14.210\n&gt;&gt; No.\n&gt;&gt; I need my firewall.\n\n385\n00:19:14.210 --> 00:19:15.700\nI want it running.\n\n386\n00:19:15.700 --> 00:19:18.100\nSo, not a good answer.\n\n387\n00:19:18.100 --> 00:19:19.130\n&gt;&gt; Yeah, but we can from that, right?\n\n388\n00:19:19.130 --> 00:19:22.363\nIf somebody says disable the firewall,\nthat actually fixes the problem\n\n389\n00:19:22.363 --> 00:19:25.127\n[CROSSTALK] that does tell me\nthat the firewall is the problem.\n\n390\n00:19:25.127 --> 00:19:27.970\nNow I just need to figure out\nwhat port it is I need to open.\n\n391\n00:19:27.970 --> 00:19:30.900\nBut I am not gonna open\nup all 65,000 ports\n\n392\n00:19:30.900 --> 00:19:32.810\njust to allow this one program to run.\n\n393\n00:19:32.810 --> 00:19:33.930\nSo be careful with that.\n\n394\n00:19:33.930 --> 00:19:37.907\nAnd that's why I say with fixing this,\nI almost feel like I need to-\n\n395\n00:19:37.907 --> 00:19:39.310\n&gt;&gt; [LAUGH] Go back through.\n\n396\n00:19:39.310 --> 00:19:41.670\n&gt;&gt; Yeah, I'm opening up way too many\nports to try to get this to work.\n\n397\n00:19:41.670 --> 00:19:43.860\n&gt;&gt; You could run Nmap and\nsee what ports are now open.\n\n398\n00:19:43.860 --> 00:19:46.060\n&gt;&gt; Yeah.\n[LAUGH] All right, so\n\n399\n00:19:46.060 --> 00:19:48.510\nhere's my report that we got back for\nthe local machine.\n\n400\n00:19:48.510 --> 00:19:50.368\nAnd you'll see the results\nare a little different.\n\n401\n00:19:50.368 --> 00:19:54.010\nNow that it didn't have to worry about\nany firewall, remote administration,\n\n402\n00:19:54.010 --> 00:19:56.200\nremote decom settings, or\n\n403\n00:19:56.200 --> 00:19:59.670\nanything like that, we actually got\nsome security update scan results.\n\n404\n00:20:00.880 --> 00:20:03.050\nSo, I've got no security\nupdates were missing.\n\n405\n00:20:03.050 --> 00:20:04.498\nThat's good to know, right?\n\n406\n00:20:04.498 --> 00:20:06.310\nSQL server security updates.\n\n407\n00:20:06.310 --> 00:20:07.900\nWell, I don't have SQL.\n\n408\n00:20:07.900 --> 00:20:09.650\nWindow security updates.\n\n409\n00:20:09.650 --> 00:20:10.850\nNo updates were missing.\n\n410\n00:20:10.850 --> 00:20:14.805\nSo it looks like this machine\nis current and up to date.\n\n411\n00:20:14.805 --> 00:20:17.845\nBut that's one of the things\nthat we can do with this.\n\n412\n00:20:17.845 --> 00:20:20.998\nLike I said, you might have to install\nit locally to get these results,\n\n413\n00:20:20.998 --> 00:20:23.220\nbut I need to know if there\nis any missing updates.\n\n414\n00:20:23.220 --> 00:20:26.220\nMaybe my WSUS server is\nnot doing its job or\n\n415\n00:20:26.220 --> 00:20:29.310\nits, this machine is having trouble\nconnecting to that update server.\n\n416\n00:20:29.310 --> 00:20:30.930\nThis might be the first time I notice it.\n\n417\n00:20:30.930 --> 00:20:32.200\nWow, its missing updates.\n\n418\n00:20:32.200 --> 00:20:33.100\nWhy?\n\n419\n00:20:33.100 --> 00:20:34.190\nLet's go in and see.\n\n420\n00:20:34.190 --> 00:20:37.410\nIt was never assigned to a WSUS server,\nor its having trouble connecting,\n\n421\n00:20:37.410 --> 00:20:39.370\nor at least it gets me looking.\n\n422\n00:20:39.370 --> 00:20:41.410\nAnd now I can go,\nI know the problem exists.\n\n423\n00:20:41.410 --> 00:20:43.400\nAnd I can go fix the problem.\n\n424\n00:20:43.400 --> 00:20:45.470\nThe rest is gonna be the same kinda thing.\n\n425\n00:20:45.470 --> 00:20:48.620\nUpdates haven't been configured for\nautomatic.\n\n426\n00:20:48.620 --> 00:20:52.580\nGot some accounts with issues in their\npassword expiration, etc., etc., etc.\n\n427\n00:20:52.580 --> 00:20:55.980\nAnd the individual results that I'm\ngetting are not what's important.\n\n428\n00:20:55.980 --> 00:20:58.800\nAnd what's important is seeing\nthis tool in action and\n\n429\n00:20:58.800 --> 00:21:03.770\nunderstanding what it can do and\nwhat it's limitations are.\n\n430\n00:21:03.770 --> 00:21:05.350\nLet's see what else.\n\n431\n00:21:05.350 --> 00:21:10.600\nWe talked about scanning,\nlocal machine scanning, remote machines.\n\n432\n00:21:10.600 --> 00:21:12.460\nAnd I think, Daniel, that's a pretty\n\n433\n00:21:13.560 --> 00:21:18.400\ngood look at the good old\nMicrosoft Baseline Security Analyzer.\n\n434\n00:21:18.400 --> 00:21:21.900\nJust a few things, key points,\nto take out of this episode.\n\n435\n00:21:21.900 --> 00:21:25.060\nThe MBSA is freely available.\n\n436\n00:21:25.060 --> 00:21:26.640\nYou can download from Microsoft.\n\n437\n00:21:26.640 --> 00:21:30.540\nIt'll scan Windows only machines,\nit only runs on Windows machines.\n\n438\n00:21:30.540 --> 00:21:32.340\nThey need to be in a domain environment.\n\n439\n00:21:32.340 --> 00:21:35.410\nIf they're in a workgroup, you've got\na lot of additional security to configure.\n\n440\n00:21:35.410 --> 00:21:36.560\nOr you just run it locally.\n\n441\n00:21:36.560 --> 00:21:40.530\nIn fact, running it remotely even on\ndomain machines is gonna be problematic.\n\n442\n00:21:40.530 --> 00:21:45.070\nYou saw the issues we're having here as\nfar as checking for the security updates.\n\n443\n00:21:45.070 --> 00:21:49.000\nSo you might wanna run it locally,\neven on domain members.\n\n444\n00:21:49.000 --> 00:21:49.840\nBut that's easy enough.\n\n445\n00:21:49.840 --> 00:21:50.820\nIt's a light program.\n\n446\n00:21:50.820 --> 00:21:51.470\nYou download it.\n\n447\n00:21:51.470 --> 00:21:52.640\nYou run it.\n\n448\n00:21:52.640 --> 00:21:55.650\nIt gives you beautiful reports,\nand it's looking for\n\n449\n00:21:55.650 --> 00:22:01.040\na lot of those misconfigurations\nthat leave us susceptible to attack.\n\n450\n00:22:01.040 --> 00:22:03.780\nSo definitely worth\nrunning in a Windows shop.\n\n451\n00:22:03.780 --> 00:22:07.980\n&gt;&gt; I'm already starting to think about how\nI can push this out using group policy,\n\n452\n00:22:07.980 --> 00:22:10.570\nand then running scripts or\nsomething to make it, you know,\n\n453\n00:22:10.570 --> 00:22:11.750\nthat's just the hacker mind in me.\n\n454\n00:22:11.750 --> 00:22:13.510\nDon't mind me ladies and gentlemen.\n\n455\n00:22:13.510 --> 00:22:18.520\nVery cool stuff, we do have a nice freely\navailable tool, by the vendors themselves,\n\n456\n00:22:18.520 --> 00:22:20.620\nthat are trying to help you\nsecure your environment.\n\n457\n00:22:20.620 --> 00:22:25.350\nSo, definitely download this, make it part\nof your tool kit, have that at the ready.\n\n458\n00:22:25.350 --> 00:22:28.700\nMike, thanks for showing us how we can\nuse that and generate a good report so\n\n459\n00:22:28.700 --> 00:22:31.510\nwe can give to somebody, and\nthe higher ups hen they ask us\n\n460\n00:22:31.510 --> 00:22:34.266\nhow are we looking security wise\non our Microsoft environment?\n\n461\n00:22:34.266 --> 00:22:35.940\nWe can at least give them something and\n\n462\n00:22:35.940 --> 00:22:38.560\nsay yes,\nhere is a report that we have generated.\n\n463\n00:22:38.560 --> 00:22:41.340\nWe are doing very well, or\nwe need to take a look at some areas.\n\n464\n00:22:41.340 --> 00:22:44.800\nAll right, Mike, that looks like we've\ncome to the end of another great episode.\n\n465\n00:22:44.800 --> 00:22:47.210\nWe do thank you good folks out there for\njoining us.\n\n466\n00:22:47.210 --> 00:22:49.890\nSigning off for ITProTV,\nI've been your host, Daniel Lowrie.\n\n467\n00:22:49.890 --> 00:22:50.690\n&gt;&gt; And I'm Mike Rodrick.\n\n468\n00:22:50.690 --> 00:22:51.551\n&gt;&gt; And we'll see you next time.\n\n469\n00:22:51.551 --> 00:22:58.120\n[MUSIC]\n\n470\n00:22:58.120 --> 00:23:00.909\n&gt;&gt; Thank you for watching ITPRO TV.\n\n",
          "vimeoId": "223287717"
        },
        {
          "description": "In this episode, Daniel and Mike explore common tools, techniques, and practices used in the pursuit of securing your environment. Here they specifically look at using the Nikto web app vulnerability scanner.",
          "length": "1201",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-3-3-nikto-062217-PGM.00_20_14_12.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-3-3-nikto-062217-PGM.00_20_14_12.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-3-3-nikto-062217-PGM.00_20_14_12.Still001-sm.jpg",
          "title": "Nikto",
          "transcript": "WEBVTT\n\n1\n00:00:00.270 --> 00:00:03.443\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:03.443 --> 00:00:06.497\n[CROSSTALK]\n\n3\n00:00:06.497 --> 00:00:08.076\n[MUSIC]\n\n4\n00:00:08.076 --> 00:00:11.917\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.917 --> 00:00:13.741\n&gt;&gt; All right, greetings everyone, and\n\n6\n00:00:13.741 --> 00:00:16.760\nwelcome to another exciting\nepisode of ITProTV.\n\n7\n00:00:16.760 --> 00:00:17.840\nI'm your host, Daniel Lowrie.\n\n8\n00:00:17.840 --> 00:00:19.710\nAnd in today's episode, well, guess what,\n\n9\n00:00:19.710 --> 00:00:22.210\nit's more in our security\ntech skills series.\n\n10\n00:00:22.210 --> 00:00:25.241\nAnd joining us back in the studio yet\nagain to lend himself to that topic,\n\n11\n00:00:25.241 --> 00:00:26.843\nour good friend, Mr. Mike Rodrick.\n\n12\n00:00:26.843 --> 00:00:28.040\nMike, welcome back, man.\n\n13\n00:00:28.040 --> 00:00:28.856\nHow's it going?\n\n14\n00:00:28.856 --> 00:00:29.972\n&gt;&gt; It's going great, Daniel.\n\n15\n00:00:29.972 --> 00:00:30.854\nThanks for having me back.\n\n16\n00:00:30.854 --> 00:00:33.560\nAnd today we're continuing on\nwith vulnerability scanners.\n\n17\n00:00:33.560 --> 00:00:34.240\nAnd in this episode,\n\n18\n00:00:34.240 --> 00:00:38.300\nwe're gonna be taking a look at kind\nof a specialized vulnerability scanner.\n\n19\n00:00:38.300 --> 00:00:40.690\nWe're gonna look at a tool called Nikto or\n\n20\n00:00:40.690 --> 00:00:43.920\nNiktoe, depending on how\nyou wanna pronounce that.\n\n21\n00:00:43.920 --> 00:00:47.565\nAnd it is a web application\nvulnerability scanner.\n\n22\n00:00:47.565 --> 00:00:51.665\nSo, when we're talking about vulnerability\nscanners, they scan a system for\n\n23\n00:00:51.665 --> 00:00:52.530\nvulnerabilities, right?\n\n24\n00:00:52.530 --> 00:00:55.230\nThe name pretty much tells you that.\n\n25\n00:00:55.230 --> 00:00:58.410\nBut things like OpenVAS or Nexus and\n\n26\n00:00:58.410 --> 00:01:02.578\nsome of these other big time vulnerability\nscanners, they scan an entire system.\n\n27\n00:01:02.578 --> 00:01:07.610\nThey're look in the operating system,\nall the applications that they're running.\n\n28\n00:01:07.610 --> 00:01:12.060\nWhereas Nikto,basically a web\napp vulnerability scanner,\n\n29\n00:01:12.060 --> 00:01:13.770\nthey focus in on web applications.\n\n30\n00:01:13.770 --> 00:01:15.895\nIt's what they do and\nthey do it really well.\n\n31\n00:01:15.895 --> 00:01:18.960\nAnd it's a very good thing\nto do in addition to\n\n32\n00:01:18.960 --> 00:01:22.120\nany other vulnerability\nscanner you might be using.\n\n33\n00:01:22.120 --> 00:01:23.184\nBecause they are,\n\n34\n00:01:23.184 --> 00:01:26.840\nagain, really highly specialized at\nlooking at those web applications.\n\n35\n00:01:26.840 --> 00:01:31.436\nAnd when it comes down to it, Daniel, web\napplications are a big attack surface for\n\n36\n00:01:31.436 --> 00:01:32.630\nour organizations.\n\n37\n00:01:32.630 --> 00:01:33.195\n&gt;&gt; Yeah, huge.\n\n38\n00:01:33.195 --> 00:01:33.815\nThink about it.\n\n39\n00:01:33.815 --> 00:01:36.110\nI mean,\nif you're running any kind of business,\n\n40\n00:01:36.110 --> 00:01:40.040\neven if it's not a web-based business,\nyou probably have a website.\n\n41\n00:01:40.040 --> 00:01:43.340\nYou may even have a web API to connect for\n\n42\n00:01:43.340 --> 00:01:45.660\ndifferent types of databases\nin the backend, right?\n\n43\n00:01:45.660 --> 00:01:50.240\nThese are things that are very common to\njust about every entity known to us today.\n\n44\n00:01:50.240 --> 00:01:54.800\nSo, making sure that our web apps are not\nas vulnerable as the hacker would\n\n45\n00:01:54.800 --> 00:01:57.560\nlike them to be, probably\nan advantageous thing to get into.\n\n46\n00:01:57.560 --> 00:01:58.410\n&gt;&gt; Absolutely.\n\n47\n00:01:58.410 --> 00:02:01.330\nAnd when we look at web applications,\nwhere do we get them from?\n\n48\n00:02:01.330 --> 00:02:03.740\nWell, a lot of times,\nwe don't have in-house developers, so\n\n49\n00:02:03.740 --> 00:02:06.700\nwe're purchasing them or\nfinding them out there, right?\n\n50\n00:02:06.700 --> 00:02:08.410\nGetting somebody to write one for us.\n\n51\n00:02:08.410 --> 00:02:10.686\nBut if you're buying something,\nyou don't get to look at the source code.\n\n52\n00:02:10.686 --> 00:02:15.420\nYou don't get to analyze it and look for\nvulnerabilities in there typically.\n\n53\n00:02:15.420 --> 00:02:17.740\nIf you have in-house developers,\n\n54\n00:02:17.740 --> 00:02:21.870\nunfortunately I think we're getting\nbetter in this day and age.\n\n55\n00:02:21.870 --> 00:02:26.820\nBut for a long time, and still to this\nday, a lot of times, organizations\n\n56\n00:02:26.820 --> 00:02:29.820\ngo to those poor developers and say,\nlook, we need the application to do this.\n\n57\n00:02:29.820 --> 00:02:31.620\nWe want our website to do this and this.\n\n58\n00:02:31.620 --> 00:02:32.790\nCan you make it happen?\n\n59\n00:02:32.790 --> 00:02:34.290\nAnd we need it done yesterday.\n\n60\n00:02:34.290 --> 00:02:37.455\nAnd so a lot of times,\nsecurity is not at the forefront, right?\n\n61\n00:02:37.455 --> 00:02:40.685\nTesting is not done as thoroughly as\nit could be, cuz we need to get it up,\n\n62\n00:02:40.685 --> 00:02:41.605\nworking, and out there.\n\n63\n00:02:41.605 --> 00:02:43.105\n&gt;&gt; What is, Tim around here,\n\n64\n00:02:43.105 --> 00:02:45.965\none of his favorite saying is done\nis better than perfect, right?\n\n65\n00:02:45.965 --> 00:02:47.505\nAnd in some sense he's right.\n\n66\n00:02:47.505 --> 00:02:49.735\nDone, we need to get it up and\nrunning, get it going.\n\n67\n00:02:49.735 --> 00:02:53.385\nSo, you probably are putting a lot of\nthe security things that you would have\n\n68\n00:02:53.385 --> 00:02:56.275\nnormally done had you had the time,\nto the back burner.\n\n69\n00:02:56.275 --> 00:02:58.960\nAnd then you're gonna come back around and\nfix those things.\n\n70\n00:02:58.960 --> 00:03:00.380\nBut guess what?\n\n71\n00:03:00.380 --> 00:03:03.110\nYou start doing other projects, and\ndone is better than perfect on that.\n\n72\n00:03:03.110 --> 00:03:05.610\nNow you got another boss breathing\ndown the back of your neck and\n\n73\n00:03:05.610 --> 00:03:06.470\nyou forget about it.\n\n74\n00:03:06.470 --> 00:03:10.150\nSo this is a good way to make sure\nthat we go back and verify oh,yeah,\n\n75\n00:03:10.150 --> 00:03:14.330\nwe didn't, remember we left that\nsecurity feature disabled so\n\n76\n00:03:14.330 --> 00:03:15.810\nthat we could make sure that it worked.\n\n77\n00:03:15.810 --> 00:03:17.940\nWe need to go back and\nmake sure that that happens.\n\n78\n00:03:17.940 --> 00:03:21.330\nAnd using something like Nikto is a great\nway to make sure that you can do that.\n\n79\n00:03:21.330 --> 00:03:24.500\nSo, Mike without further ado-\n&gt;&gt; Take a look at it?\n\n80\n00:03:24.500 --> 00:03:25.210\n&gt;&gt; Let's take a look.\n\n81\n00:03:25.210 --> 00:03:26.420\n&gt;&gt; Let's take a look at it, all right.\n\n82\n00:03:26.420 --> 00:03:32.250\nSo I've got my Kali box opened up here,\nand we are just gonna type in nikto.\n\n83\n00:03:32.250 --> 00:03:34.510\nNow in this case I'm running Kali Linux.\n\n84\n00:03:34.510 --> 00:03:36.102\nThis is the 2017 rolling.\n\n85\n00:03:36.102 --> 00:03:38.340\nSo Nikto's already there.\n\n86\n00:03:38.340 --> 00:03:42.800\nIf you're running a different distro,\nmost likely whatever your\n\n87\n00:03:42.800 --> 00:03:47.460\ninstallation process is, Yum,\nwhat have you, you can just install Nikto.\n\n88\n00:03:47.460 --> 00:03:49.130\nIt's most likely available.\n\n89\n00:03:49.130 --> 00:03:49.640\nVery popular one.\n\n90\n00:03:49.640 --> 00:03:53.730\nLet me make this a little bit bigger so\nwe can see all of my options here.\n\n91\n00:03:53.730 --> 00:03:56.570\nSo it gives me an error\nbecause I didn't tell it,\n\n92\n00:03:56.570 --> 00:03:58.790\nI just said Nikto,\ndidn't give it anything else.\n\n93\n00:03:58.790 --> 00:04:01.480\nYou can also do a capital\nH to get additional help,\n\n94\n00:04:01.480 --> 00:04:02.800\nwhich I'll show you in a second.\n\n95\n00:04:02.800 --> 00:04:05.380\nBut you can see there's a few\ndifferent options we have here.\n\n96\n00:04:05.380 --> 00:04:08.270\nThe ones we'll worry about\nin this particular show,\n\n97\n00:04:08.270 --> 00:04:12.220\njust want to get some basic\nexamples of how to use this tool.\n\n98\n00:04:12.220 --> 00:04:14.530\nBut you can see there\nare a lot of options.\n\n99\n00:04:14.530 --> 00:04:19.140\nAnd it's very configurable, depending\non how you have your website set up,\n\n100\n00:04:19.140 --> 00:04:21.170\nif you've got different URLs for\n\n101\n00:04:21.170 --> 00:04:24.420\ndifferent applications, you can go in\nthere and point it to a particular one.\n\n102\n00:04:24.420 --> 00:04:28.100\nIf you're running off of a different port,\nnot a standard or\n\n103\n00:04:28.100 --> 00:04:32.350\ndefault port like port 80, you might\nwant to use your port switch, right?\n\n104\n00:04:32.350 --> 00:04:36.090\nUnless you're using port 80, which I'm\ndoing here so I won't have to change it.\n\n105\n00:04:36.090 --> 00:04:39.860\nYou need to change the root\nbecause using virtual directories.\n\n106\n00:04:39.860 --> 00:04:44.310\nSo these are the kinds of things you'll\nhave to adjust in your particular\n\n107\n00:04:44.310 --> 00:04:45.700\nenvironment.\n\n108\n00:04:45.700 --> 00:04:49.680\nYou can do,\nlike I said a little Nikto dash capital H.\n\n109\n00:04:51.290 --> 00:04:55.100\nYou can get a little more help,\na little more instructions there.\n\n110\n00:04:55.100 --> 00:04:58.240\nThere are some that will, I won't use.\n\n111\n00:04:58.240 --> 00:05:01.240\nBut like one I wanna mention,\nscan tuning, for example.\n\n112\n00:05:01.240 --> 00:05:04.500\nIf you're just looking to do\na quick scan for SQL injection.\n\n113\n00:05:04.500 --> 00:05:07.460\nYou can do a number 9\ndash tuning number 9.\n\n114\n00:05:07.460 --> 00:05:11.390\nAnd that will limit what the scan is\nlooking for so it will go faster, right?\n\n115\n00:05:11.390 --> 00:05:14.230\nAnd if that's all you're looking for,\nthat's really all you need.\n\n116\n00:05:14.230 --> 00:05:16.240\nSo really great options in here.\n\n117\n00:05:16.240 --> 00:05:18.660\nYou can use proxys if you need to.\n\n118\n00:05:18.660 --> 00:05:24.390\nBut the ones we'll use are basically host,\nor dash little h, if I can find it here.\n\n119\n00:05:24.390 --> 00:05:26.620\nDid I miss it?\n\n120\n00:05:26.620 --> 00:05:28.928\nSomewhere in there there's\n[CROSSTALK] there it is, right?\n\n121\n00:05:28.928 --> 00:05:30.469\nYou've got to tell it who\nyou're going to point it to.\n\n122\n00:05:30.469 --> 00:05:34.050\nPointing it to your web server,\nIP address, domain name.\n\n123\n00:05:35.920 --> 00:05:36.781\nWhat else?\nThe other\n\n124\n00:05:36.781 --> 00:05:39.034\none I'll use is going to\nbe the output option.\n\n125\n00:05:39.034 --> 00:05:43.071\nCuz while it does show the results on\nscreen, typically this is something I'm\n\n126\n00:05:43.071 --> 00:05:46.373\ngoing to want a copy of so that I\ncan reference later as I go back and\n\n127\n00:05:46.373 --> 00:05:49.510\nmitigate my different\nvulnerabilities that it's found.\n\n128\n00:05:49.510 --> 00:05:54.160\nOr maybe I need to generate a report\nto bring down to that C level meeting.\n\n129\n00:05:54.160 --> 00:05:55.990\nI'm asking for\nmoney to fix this stuff, and\n\n130\n00:05:55.990 --> 00:05:59.010\nI gotta show them why we need this or\nwhatever.\n\n131\n00:06:00.180 --> 00:06:03.200\nWhen you do the output,\nyou can give it a name.\n\n132\n00:06:03.200 --> 00:06:04.940\nAnd then you can add an extension.\n\n133\n00:06:04.940 --> 00:06:08.870\nAnd if you do like .htm, it'll create\nan HTML report which is very nice, or\n\n134\n00:06:08.870 --> 00:06:11.340\nif you want to do XML.\n\n135\n00:06:11.340 --> 00:06:14.870\nSo if you just do the dash output, and\nthen you give it a name and you include\n\n136\n00:06:14.870 --> 00:06:18.750\nthe file extension, it'll use that file\nextension to determine the format.\n\n137\n00:06:18.750 --> 00:06:24.368\nIf you just use a name and\nno extension, you can use the dot-dash\n\n138\n00:06:24.368 --> 00:06:28.930\nformat option and\nspecify a particular format.\n\n139\n00:06:28.930 --> 00:06:32.715\nYou can see I've got a Nessus format,\nSQL format, TXT, XML,\n\n140\n00:06:32.715 --> 00:06:37.530\nCSV as well as HTM, right?\n\n141\n00:06:37.530 --> 00:06:41.469\nIf it's not specified it'll be taken from\nthe file extension passed to output.\n\n142\n00:06:43.030 --> 00:06:47.040\nAll right, so\nlet's clear that screen and take a look.\n\n143\n00:06:47.040 --> 00:06:48.280\nWe're gonna go ahead and run this.\n\n144\n00:06:48.280 --> 00:06:51.840\nI've got the darn vulnerable\nweb application up and\n\n145\n00:06:51.840 --> 00:06:54.600\nrunning, so we'll scan that one.\n\n146\n00:06:54.600 --> 00:06:56.790\nIt's a virtual machine\nthat you can download for\n\n147\n00:06:56.790 --> 00:07:00.900\ntesting tools like this or\npracticing your security skills.\n\n148\n00:07:00.900 --> 00:07:02.170\nIt's loaded with vulnerabilities.\n\n149\n00:07:02.170 --> 00:07:05.390\nAnd it's a lot more fun to test\nthese tools out if you can actually\n\n150\n00:07:05.390 --> 00:07:06.560\nfind some vulnerabilities.\n\n151\n00:07:06.560 --> 00:07:09.180\nIf it comes back with no vulnerabilities-\n&gt;&gt; Did that work?\n\n152\n00:07:09.180 --> 00:07:11.340\n&gt;&gt; Yeah, you're either like\nmy server's really secure,\n\n153\n00:07:11.340 --> 00:07:13.220\nor I didn't do something right.\n\n154\n00:07:13.220 --> 00:07:15.250\n&gt;&gt; Right, yeah.\n&gt;&gt; And it's hard to learn that way.\n\n155\n00:07:15.250 --> 00:07:19.951\nSo get yourself Metasploitable 2 or\nthe DVMA.\n\n156\n00:07:19.951 --> 00:07:22.724\nDid I say that [INAUDIBLE] yeah.\n\n157\n00:07:22.724 --> 00:07:27.129\n&gt;&gt; [LAUGH]\n&gt;&gt; DVWA sorry [LAUGH].\n\n158\n00:07:27.129 --> 00:07:32.920\nAll right, so\nlet's type in nikto -h for host.\n\n159\n00:07:32.920 --> 00:07:33.900\n&gt;&gt; Not capital h.\n\n160\n00:07:33.900 --> 00:07:34.980\n&gt;&gt; That's right [LAUGH].\n\n161\n00:07:34.980 --> 00:07:36.580\nThat would be help.\n\n162\n00:07:36.580 --> 00:07:40.060\nAnd we'll do 127,\nI believe is the right IP address.\n\n163\n00:07:40.060 --> 00:07:41.910\nAnd I'll do a -o.\n\n164\n00:07:41.910 --> 00:07:48.230\nAnd we'll just call this niktoScan01.htm,\nsomething like that.\n\n165\n00:07:48.230 --> 00:07:51.072\nIt'll dump it into my current directory\nsince I didn't specify anything else.\n\n166\n00:07:51.072 --> 00:07:52.709\nAnd we'll fire it off.\n\n167\n00:07:52.709 --> 00:07:54.391\nAnd it's gonna begin the process.\n\n168\n00:07:54.391 --> 00:07:56.903\nAnd it's relatively-\n&gt;&gt; A lot of good stuff.\n\n169\n00:07:56.903 --> 00:07:58.337\n&gt;&gt; Quick, yeah.\n\n170\n00:07:58.337 --> 00:08:00.876\nAnd yeah, you can see I've actually\ngot a lot of results already.\n\n171\n00:08:00.876 --> 00:08:02.965\nAgain, that's because it's going My gosh!\n\n172\n00:08:02.965 --> 00:08:04.611\n&gt;&gt; [LAUGH]\n&gt;&gt; You're not really running this\n\n173\n00:08:04.611 --> 00:08:05.264\nmachine, are you?\n\n174\n00:08:05.264 --> 00:08:06.875\n&gt;&gt; This isn't production, right?\n\n175\n00:08:06.875 --> 00:08:07.869\nBecause that would be bad.\n\n176\n00:08:07.869 --> 00:08:09.597\n&gt;&gt; Yeah,\nthat's what it's gonna say in the end.\n\n177\n00:08:09.597 --> 00:08:11.989\nThey're like, you are-\n&gt;&gt; Just shut server down.\n\n178\n00:08:11.989 --> 00:08:13.732\n[LAUGH]\n&gt;&gt; Here is your pink slip,\n\n179\n00:08:13.732 --> 00:08:14.341\nyou gotta start over.\n\n180\n00:08:14.341 --> 00:08:19.060\n[LAUGH] So it'll finish up in just\na second, but you can see as these results\n\n181\n00:08:19.060 --> 00:08:24.635\ngo by, that when it's in the command line\nformat, and that's why I chose my outputs.\n\n182\n00:08:24.635 --> 00:08:29.045\nI can sit here and scroll back up and\ndown through this, but\n\n183\n00:08:29.045 --> 00:08:32.320\nyou'll see the HTML file is pretty handy.\n\n184\n00:08:32.320 --> 00:08:34.400\nIn fact, it's done, so\nlet's take a look at it.\n\n185\n00:08:34.400 --> 00:08:40.035\nWe'll make sure it's in my directory,\nI've got my niktoScan01, there she is.\n\n186\n00:08:40.035 --> 00:08:45.151\nWe'll do a little firefox\naction on niktoScan,\n\n187\n00:08:45.151 --> 00:08:50.032\nwow, capital S, silly me,\nopen that guy up.\n\n188\n00:08:50.032 --> 00:08:51.532\n&gt;&gt; It's that camel casing?\n\n189\n00:08:51.532 --> 00:08:54.172\n[LAUGH]\n&gt;&gt; Yeah, I do it to myself.\n\n190\n00:08:54.172 --> 00:08:57.468\nI mean, I named the thing with\na capital letter and then, yeah.\n\n191\n00:08:57.468 --> 00:09:00.329\nAll right, I'm a Windows guy, man.\n\n192\n00:09:00.329 --> 00:09:02.550\n&gt;&gt; [LAUGH]\n&gt;&gt; Case shouldn't matter, darn it.\n\n193\n00:09:02.550 --> 00:09:04.430\n[LAUGH] All right, so here we go.\n\n194\n00:09:04.430 --> 00:09:06.996\nSo let's take a look at our results.\n\n195\n00:09:06.996 --> 00:09:12.390\nAnd what we're seeing is my target\nIP address, target host name, port,\n\n196\n00:09:12.390 --> 00:09:17.349\nhttp server, it sees that it's\nrunning Apache and some of the other\n\n197\n00:09:17.349 --> 00:09:22.602\napps that are running on there,\nOpen SSL, Mod AP Request, Mod Pearl.\n\n198\n00:09:22.602 --> 00:09:28.045\nWhat else, it's showing me some of\nthe methods that are available there.\n\n199\n00:09:28.045 --> 00:09:31.500\nBut as we look at these,\nlet's start with this one right here.\n\n200\n00:09:31.500 --> 00:09:36.458\nThe anticlickjackingxframeoptionsheader\nis not present.\n\n201\n00:09:36.458 --> 00:09:42.310\nHm, all right, unfortunately,\nand I just realized with nikto,\n\n202\n00:09:42.310 --> 00:09:49.330\nit is giving me some older information,\nI’ll explain as we go through here.\n\n203\n00:09:49.330 --> 00:09:53.105\nSo we’ll scroll down, and\nwe’ll see that it’s found a lot of issues.\n\n204\n00:09:55.432 --> 00:09:58.788\nAnd the idea is now that I would\ntake this information and decide,\n\n205\n00:09:58.788 --> 00:10:01.100\nstart doing my risk analysis on here.\n\n206\n00:10:01.100 --> 00:10:04.410\nI’m looking at what it says,\nokay, this server status issue,\n\n207\n00:10:04.410 --> 00:10:08.780\nthis reveals Apache information\ncomment out appropriate line\n\n208\n00:10:08.780 --> 00:10:13.750\nin the Apache comp file or\nrestrict access to allow sources.\n\n209\n00:10:13.750 --> 00:10:16.090\nSo let's see, if I click on this, so\n\n210\n00:10:16.090 --> 00:10:19.010\nthis is something that a bad\nguy can actually get access to.\n\n211\n00:10:19.010 --> 00:10:22.590\nMy Apache server is\nexposing this information.\n\n212\n00:10:22.590 --> 00:10:26.040\nAnd let's see what kinda\ninfo we've got in here.\n\n213\n00:10:27.480 --> 00:10:30.130\nYeah, a lot of version information,\nwhich is sometimes-\n\n214\n00:10:30.130 --> 00:10:31.080\n&gt;&gt; Enumeration.\n\n215\n00:10:31.080 --> 00:10:33.760\n&gt;&gt; Yeah,\nthat's all the bad guy needs to find and\n\n216\n00:10:33.760 --> 00:10:37.237\nexploit that will work\nagainst your machine.\n\n217\n00:10:37.237 --> 00:10:37.787\nWhat else?\n\n218\n00:10:37.787 --> 00:10:39.979\nI have a lot of good stuff in there but\n\n219\n00:10:39.979 --> 00:10:44.669\nthat's just one of the things that it\nfound, right, as we go through here.\n\n220\n00:10:44.669 --> 00:10:49.220\nA lot of this is just leaking information,\nwhich is definitely a bad thing.\n\n221\n00:10:49.220 --> 00:10:51.781\n&gt;&gt; Try that cgi.bin print environment one.\n\n222\n00:10:51.781 --> 00:10:52.568\n&gt;&gt; This right here?\n\n223\n00:10:52.568 --> 00:10:54.361\n&gt;&gt; The one below.\n\n224\n00:10:54.361 --> 00:10:56.665\n&gt;&gt; Let's see what we've got,\n[CROSSTALK] Section 2.0,\n\n225\n00:10:56.665 --> 00:10:59.597\ndefault script is executable and\ngives server environment variables.\n\n226\n00:10:59.597 --> 00:11:01.270\nAll default scripts should be removed.\n\n227\n00:11:01.270 --> 00:11:02.453\n&gt;&gt; That could be an issue.\n\n228\n00:11:02.453 --> 00:11:05.356\n[LAUGH]\n&gt;&gt; Yeah, well, look at there,\n\n229\n00:11:05.356 --> 00:11:10.002\nlook at all the wonderful information\nthat I am exposing there.\n\n230\n00:11:10.002 --> 00:11:16.360\nI've got paths, I've got IP address and\nmy internal IP addresses,\n\n231\n00:11:16.360 --> 00:11:21.085\nport numbers,\na lot of Apache information there.\n\n232\n00:11:21.085 --> 00:11:24.940\nAgain, yeah, just not gonna be good stuff,\nand again, in this episode, I mean,\n\n233\n00:11:24.940 --> 00:11:28.689\nwe're not really trying to decipher\nindividual vulnerabilities and tell you,\n\n234\n00:11:28.689 --> 00:11:30.510\nhey, this is a bad thing.\n\n235\n00:11:30.510 --> 00:11:32.150\nIt's gonna be different in\nyour environment, right?\n\n236\n00:11:32.150 --> 00:11:36.320\nI want you to see how to use this tool to\nfind out what you're vulnerable to and\n\n237\n00:11:36.320 --> 00:11:37.720\nthen how to do something about it.\n\n238\n00:11:37.720 --> 00:11:40.220\nSo as we look at these,\nwe can click on the links, and\n\n239\n00:11:40.220 --> 00:11:44.480\nthey'll usually give us some information\nor give us an example of what it found.\n\n240\n00:11:44.480 --> 00:11:48.600\nThey're also giving us this OSVDB number,\nall right?\n\n241\n00:11:48.600 --> 00:11:53.280\nNow this is a vulnerability database,\nand that number, if I go out and\n\n242\n00:11:53.280 --> 00:11:55.290\nlook in this database and\nI look up that number,\n\n243\n00:11:55.290 --> 00:11:58.415\nI'll get a lot more information\nabout this particular vulnerability.\n\n244\n00:11:58.415 --> 00:12:02.910\nThey'll usually give me some information\nabout how to fix it, how to protect it.\n\n245\n00:12:02.910 --> 00:12:08.840\nThe problem is the OSVDB is no longer,\nyeah, they shut it down.\n\n246\n00:12:08.840 --> 00:12:10.160\nI hadn't used it in a while.\n\n247\n00:12:10.160 --> 00:12:14.740\nI really like the CSV database and-\n&gt;&gt; Exploit DB.\n\n248\n00:12:14.740 --> 00:12:16.998\n&gt;&gt; And Exploit DB has one.\n\n249\n00:12:16.998 --> 00:12:18.861\nMy, what was that, Offensive Security?\n\n250\n00:12:18.861 --> 00:12:19.789\n&gt;&gt; Yeah, Offensive Security.\n\n251\n00:12:19.789 --> 00:12:24.302\n&gt;&gt; Rapid7 has one, Mist has one.\n\n252\n00:12:24.302 --> 00:12:26.940\nSo, I haven't actually looked at this\nparticular one in a while, but I did,\n\n253\n00:12:26.940 --> 00:12:29.052\ngetting ready for this episode,\nI was like, let's go out and\n\n254\n00:12:29.052 --> 00:12:30.280\nlook this number up.\n\n255\n00:12:30.280 --> 00:12:33.970\nMost vulnerability scanners will actually\ngive you multiple numbers, because these\n\n256\n00:12:33.970 --> 00:12:37.960\nvulnerabilities are gonna be listed in,\nshould be, hopefully, all those databases.\n\n257\n00:12:37.960 --> 00:12:39.180\nBut that's why we have multiples,\n\n258\n00:12:39.180 --> 00:12:41.460\nif one doesn't have it,\nwe can go check another one.\n\n259\n00:12:41.460 --> 00:12:43.890\nSee if they've updated\ntheir information yet.\n\n260\n00:12:43.890 --> 00:12:47.390\nThis particular tool, though, is only\nconfigured to give you this one back.\n\n261\n00:12:47.390 --> 00:12:49.441\nAnd if we go out and look for the OSVDB,\n\n262\n00:12:54.124 --> 00:12:58.550\nI can't remember if this guy has,\ndid I give him?\n\n263\n00:12:58.550 --> 00:12:59.300\nHe's having issues.\n\n264\n00:12:59.300 --> 00:13:02.020\nWe'll jump out to my base machine here.\n\n265\n00:13:04.820 --> 00:13:11.385\nAnd we'll take a look at the OSVDB.\n\n266\n00:13:11.385 --> 00:13:15.064\nAll right, and this is the open\nsource vulnerability database.\n\n267\n00:13:15.064 --> 00:13:18.870\nAnd you see, there's really no\nlinks to it anymore, here's a blog.\n\n268\n00:13:18.870 --> 00:13:22.250\nAnd this guy's gonna basically tell\nyou that because of a lack of support,\n\n269\n00:13:22.250 --> 00:13:23.840\nthey have shut it down.\n\n270\n00:13:23.840 --> 00:13:24.770\nIt's no longer.\n\n271\n00:13:25.930 --> 00:13:27.640\n&gt;&gt; Fell out of favor with the community?\n\n272\n00:13:27.640 --> 00:13:29.269\n&gt;&gt; It did, it did.\n\n273\n00:13:29.269 --> 00:13:30.554\n&gt;&gt; Typical faithful community.\n\n274\n00:13:30.554 --> 00:13:31.832\n[LAUGH]\n&gt;&gt; It was around for a long time.\n\n275\n00:13:31.832 --> 00:13:33.430\nI mean, I think the problem was,\nif I remember right,\n\n276\n00:13:33.430 --> 00:13:36.429\nthe guy was saying he just didn't have\na lot of help and support doing it.\n\n277\n00:13:37.500 --> 00:13:39.470\nSo he has stopped.\n\n278\n00:13:39.470 --> 00:13:43.400\nSo let's see,\nlet's Google that number anyway and\n\n279\n00:13:43.400 --> 00:13:47.800\nsee if we can find the matching number for\none of the other vulnerability databases.\n\n280\n00:13:47.800 --> 00:13:51.480\nSo go back over here to my nikto report,\nand what were we looking at,\n\n281\n00:13:51.480 --> 00:13:52.740\nthat printer script?\n\n282\n00:13:52.740 --> 00:13:55.770\nLet's go back to that one,\nall right, this one right here.\n\n283\n00:13:55.770 --> 00:14:01.283\nYeah, so that was OSVDB 3233.\n\n284\n00:14:01.283 --> 00:14:01.966\n&gt;&gt; Easy to remember.\n\n285\n00:14:01.966 --> 00:14:04.088\n&gt;&gt; Yeah, I like that one.\n\n286\n00:14:04.088 --> 00:14:10.137\nSo we'll do -3233, let's see if we can\nstill find some information about it.\n\n287\n00:14:10.137 --> 00:14:13.227\n&gt;&gt; I like how one of the Google\nrecommendations was exploit.\n\n288\n00:14:13.227 --> 00:14:18.744\n&gt;&gt; Yeah, exactly,\nhow to take advantage of this, all right.\n\n289\n00:14:18.744 --> 00:14:20.690\nLet's see if Lab has something here.\n\n290\n00:14:20.690 --> 00:14:24.875\nIt looks like they've got an actual\nexercise on taking advantage of that\n\n291\n00:14:24.875 --> 00:14:25.910\nvulnerability.\n\n292\n00:14:25.910 --> 00:14:27.890\nSo this isn't telling\nabout the vulnerability,\n\n293\n00:14:27.890 --> 00:14:32.530\nthis is telling me how to hack that\nvulnerability or take advantage of it.\n\n294\n00:14:32.530 --> 00:14:33.244\n&gt;&gt; Using Nikto.\n\n295\n00:14:33.244 --> 00:14:35.780\n[LAUGH]\n&gt;&gt; Yeah, exactly, so if you guys wanna\n\n296\n00:14:35.780 --> 00:14:40.530\nread up on that, we won't actually\nbe doing any hacking in here.\n\n297\n00:14:40.530 --> 00:14:44.190\nBut what I could try to do is this.\n\n298\n00:14:44.190 --> 00:14:47.580\nSo if I can't find that particular\ndatabase, my next thought would be to,\n\n299\n00:14:47.580 --> 00:14:51.410\nall right, let me look for\nthis error, cgibinprintenv.\n\n300\n00:14:51.410 --> 00:14:56.503\nSo my print environment,\nwhat we could try to\n\n301\n00:14:56.503 --> 00:15:01.603\ndo is what apache2.0 print environment.\n\n302\n00:15:01.603 --> 00:15:05.278\nSo let's go over here and\n\n303\n00:15:05.278 --> 00:15:10.005\nsay, apache 2.0 printenv.\n\n304\n00:15:13.508 --> 00:15:15.907\nAnd just see if it can\ncome up with anything.\n\n305\n00:15:21.189 --> 00:15:24.390\nAnd I could probably go through here and\nfind it.\n\n306\n00:15:24.390 --> 00:15:28.137\nIt's awfully small, and I don't think\nwe're gonna spend the time kind\n\n307\n00:15:28.137 --> 00:15:32.204\nof reading through this, but that would\nbe the idea, or use a different tool.\n\n308\n00:15:32.204 --> 00:15:35.477\nLike I said, I really like nikto,\ncuz it's quick, it's easy,\n\n309\n00:15:35.477 --> 00:15:37.270\nit gives you the vulnerabilities.\n\n310\n00:15:37.270 --> 00:15:39.240\nIt just doesn't give you\nthe right number to go look up and\n\n311\n00:15:39.240 --> 00:15:42.015\nfind any more information about it,\nbut you could find it, right?\n\n312\n00:15:42.015 --> 00:15:45.830\nWe come through here, and eventually,\nI would figure out what that matching.\n\n313\n00:15:45.830 --> 00:15:51.010\nAnd sometimes these guys will\nactually show you numbers from other\n\n314\n00:15:51.010 --> 00:15:56.210\ndatabases, but\nit doesn't look like they are.\n\n315\n00:15:56.210 --> 00:15:59.744\n&gt;&gt; I'm with you though, Mike, I like\nusing nikto because it's really quick.\n\n316\n00:15:59.744 --> 00:16:03.594\nAnd even if the old vulnerable\ndatabase is no longer there,\n\n317\n00:16:03.594 --> 00:16:08.522\nI'm really looking for what is the\nvulnerability And just because it's not\n\n318\n00:16:08.522 --> 00:16:13.065\nthere doesn't mean I can't look it up and\nstart looking at how to patch\n\n319\n00:16:13.065 --> 00:16:18.220\nan Apache 2.0 server that is susceptible\nto the print and vulnerability.\n\n320\n00:16:18.220 --> 00:16:20.170\n&gt;&gt; Yeah.\n&gt;&gt; And then I start doing my research and\n\n321\n00:16:20.170 --> 00:16:21.935\nI can then shut that down.\n\n322\n00:16:21.935 --> 00:16:24.460\nIt's probably gonna go\nto some sort of update,\n\n323\n00:16:24.460 --> 00:16:26.670\nmove away from that version of the server.\n\n324\n00:16:26.670 --> 00:16:29.200\nTurn this off in the config\nfile kind of thing.\n\n325\n00:16:29.200 --> 00:16:32.051\nAnd now I can rerun NIK2 and\nit should be gone.\n\n326\n00:16:32.051 --> 00:16:32.946\n&gt;&gt; Yep, exactly right so\n\n327\n00:16:32.946 --> 00:16:36.060\nyou can start searching based on\nthese strings you're seeing here.\n\n328\n00:16:36.060 --> 00:16:37.850\nAnd like I said some of them show you,\nlike this one says,\n\n329\n00:16:37.850 --> 00:16:39.600\nall default scripts should be removed.\n\n330\n00:16:39.600 --> 00:16:44.170\nI mean the issue is, there's a default\nscript and it's marked as executable.\n\n331\n00:16:44.170 --> 00:16:47.617\nSo even though I can't look that up,\nI can find those default scripts,\n\n332\n00:16:47.617 --> 00:16:51.360\nI can delete them or I can at least mark\nthem as read-only and not executable.\n\n333\n00:16:51.360 --> 00:16:53.393\nAnd then run the scan again and\n\n334\n00:16:53.393 --> 00:16:57.960\nmost likely this one is not gonna\nshow up any longer on this report.\n\n335\n00:16:57.960 --> 00:17:00.190\nAnd that's really our goal, right?\n\n336\n00:17:00.190 --> 00:17:01.438\n&gt;&gt; We're blue team\n&gt;&gt; Yeah, so\n\n337\n00:17:01.438 --> 00:17:03.260\nwe are blue team we\nwanna get rid of these.\n\n338\n00:17:03.260 --> 00:17:06.440\nI wanna run this scan again and\nhave the list a little bit shorter.\n\n339\n00:17:06.440 --> 00:17:08.600\nAnd then the next time I run it,\na little bit shorter.\n\n340\n00:17:08.600 --> 00:17:12.490\nSo we're gonna slowly work through these\nworking with our most severe first down to\n\n341\n00:17:12.490 --> 00:17:15.870\nour least severe,\ntrying to slowly eliminate these.\n\n342\n00:17:15.870 --> 00:17:20.030\nAnd what you'll find too is that\njust by looking at, in this case,\n\n343\n00:17:20.030 --> 00:17:22.325\nit's really an old version of Apache, and\n\n344\n00:17:22.325 --> 00:17:25.615\nall of the supporting things\nthat are going on with that.\n\n345\n00:17:25.615 --> 00:17:28.405\nSo if we go and update Apache,\nwe're going to-\n\n346\n00:17:28.405 --> 00:17:29.835\n&gt;&gt; Tons of those are gonna disappear.\n\n347\n00:17:29.835 --> 00:17:31.225\n&gt;&gt; Yeah, most of these are gonna go away.\n\n348\n00:17:31.225 --> 00:17:33.675\nBut remember, this machine is\nsetup intentionally vulnerable.\n\n349\n00:17:33.675 --> 00:17:35.955\nThey're running old versions of software,\nso\n\n350\n00:17:35.955 --> 00:17:38.675\nhopefully you're not running\nApache 2.0 out there.\n\n351\n00:17:38.675 --> 00:17:42.425\n&gt;&gt; Yeah, I actually used Metaspoitable\n2 as a platform for learning,\n\n352\n00:17:42.425 --> 00:17:44.950\nlike what we're suggesting you guys do.\n\n353\n00:17:44.950 --> 00:17:48.762\nIs to say, okay, I'm going to run\nmy scans, I wanna do my end map.\n\n354\n00:17:48.762 --> 00:17:51.810\nI'm gonna run my vulnerability\nassessments and see what's up.\n\n355\n00:17:51.810 --> 00:17:54.390\nI'm going to learn how to exploit\nthose vulnerabilities and\n\n356\n00:17:54.390 --> 00:17:56.750\nthen I'm going to learn how to shut\nthem off so I can't do that anymore.\n\n357\n00:17:56.750 --> 00:17:59.260\nAnd that's a great learning\nenvironment for you.\n\n358\n00:17:59.260 --> 00:18:02.690\nSo these environments are meant\nto be exploitable for\n\n359\n00:18:02.690 --> 00:18:04.352\nyou to find vulnerabilities.\n\n360\n00:18:04.352 --> 00:18:09.270\nSo that you can learn to turn that off,\nyou can mitigate those vulnerabilities so\n\n361\n00:18:09.270 --> 00:18:10.162\nthey're no longer a threat.\n\n362\n00:18:10.162 --> 00:18:13.840\n&gt;&gt; Absolutely, cuz what you won't wanna\ndo is scan your production machines and\n\n363\n00:18:13.840 --> 00:18:16.302\nattempt to fix them in\nthe production environment.\n\n364\n00:18:16.302 --> 00:18:20.010\nBecause you don't know if your\nfix is gonna break anything else.\n\n365\n00:18:20.010 --> 00:18:23.168\nSo practicing your fixing in\na non-production, a test environment,\n\n366\n00:18:23.168 --> 00:18:24.704\na duplicate of your environment.\n\n367\n00:18:24.704 --> 00:18:27.389\nOr even on machines like this is\nbetter than trying to do it on your\n\n368\n00:18:27.389 --> 00:18:29.142\nproduction systems.\n\n369\n00:18:29.142 --> 00:18:33.000\nSo NIK2, again, great little tool, really\npowerful, lots of different outputs.\n\n370\n00:18:33.000 --> 00:18:37.700\nSo we can do that design to be a web\napplication, vulnerability scanner.\n\n371\n00:18:37.700 --> 00:18:41.060\nSomething that we are going to\nfire up against our web servers\n\n372\n00:18:41.060 --> 00:18:43.450\nto see if we have any vulnerabilities.\n\n373\n00:18:43.450 --> 00:18:48.020\nGreat reporting capabilities,\njust keep in mind that the output\n\n374\n00:18:48.020 --> 00:18:52.890\ndoes give you an OSVDB number and\nthat is no longer searchable.\n\n375\n00:18:52.890 --> 00:18:56.310\nSo you're gonna have to do a little bit\nof work with this tool to go out and\n\n376\n00:18:56.310 --> 00:18:59.220\nfind information about that\nparticular vulnerability.\n\n377\n00:18:59.220 --> 00:19:02.110\n&gt;&gt; All right, Mike, great tool,\nwe highly recommend it.\n\n378\n00:19:02.110 --> 00:19:04.700\nI know a lot of guys use this tool, and\n\n379\n00:19:04.700 --> 00:19:09.590\ngirls as well, that are on a security\nteam that are trying to look for\n\n380\n00:19:09.590 --> 00:19:11.340\nvulnerabilities in their\nown production environment.\n\n381\n00:19:11.340 --> 00:19:14.910\nSo don't think that just because it's\ngot some older output that it's not\n\n382\n00:19:14.910 --> 00:19:15.760\na great tool.\n\n383\n00:19:15.760 --> 00:19:17.140\nIt is, it's a fantastic tool.\n\n384\n00:19:17.140 --> 00:19:19.080\nLearn to use it,\nlearn to get comfortable with it.\n\n385\n00:19:19.080 --> 00:19:21.680\nLook at the output, and\ngoing line by line,\n\n386\n00:19:21.680 --> 00:19:23.680\nI know sometimes it can\nbe a lot of output.\n\n387\n00:19:23.680 --> 00:19:26.640\nBut really taking your time,\ngo line by line and make sure\n\n388\n00:19:26.640 --> 00:19:31.200\nthat the vulnerabilities that it's giving\nyou is something that might actually be\n\n389\n00:19:31.200 --> 00:19:34.662\na threat to your environment is taken\ncare of, is a very important thing.\n\n390\n00:19:34.662 --> 00:19:36.304\nAll right Mike, thanks for\njoining us today.\n\n391\n00:19:36.304 --> 00:19:39.140\nThanks for showing us NIK2,\nit's a very cool tool.\n\n392\n00:19:39.140 --> 00:19:42.520\nHopefully you guys got a lot out of this,\nbut it's time for us to sign off.\n\n393\n00:19:42.520 --> 00:19:44.760\nFor it Pro TV,\nI've been your host Daniel Lowry.\n\n394\n00:19:44.760 --> 00:19:45.644\n&gt;&gt; And I'm Mike Roderick.\n\n395\n00:19:45.644 --> 00:19:46.419\n&gt;&gt; And we'll see you next time.\n\n396\n00:19:46.419 --> 00:19:53.146\n[MUSIC]\n\n397\n00:19:53.146 --> 00:19:55.370\n&gt;&gt; Thank you for watching IT Pro TV.\n\n",
          "vimeoId": "223287869"
        },
        {
          "description": "In this episode, Daniel and Mike explore common tools, techniques, and practices used in the pursuit of securing your environment. Here they specifically look at using Sparta to speed up the process of scanning and formatting output for ease of reading.",
          "length": "1184",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-3-4-sparta-062317-PGM.00_39_56_05.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-3-4-sparta-062317-PGM.00_39_56_05.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-3-4-sparta-062317-PGM.00_39_56_05.Still001-sm.jpg",
          "title": "This is Sparta",
          "transcript": "WEBVTT\n\n1\n00:00:00.220 --> 00:00:01.346\nWelcome to IT Pro TV.\n\n2\n00:00:01.346 --> 00:00:06.010\nI'm your host [CROSSTALK].\n\n3\n00:00:06.010 --> 00:00:08.307\n[MUSIC]\n\n4\n00:00:08.307 --> 00:00:12.060\n&gt;&gt; You're watching IT Pro TV.\n\n5\n00:00:12.060 --> 00:00:14.040\n&gt;&gt; All right, greetings everyone and\n\n6\n00:00:14.040 --> 00:00:16.879\nwelcome back to another\ngreat episode of IT Pro TV.\n\n7\n00:00:16.879 --> 00:00:17.984\nI'm your host Daniel Lowrie.\n\n8\n00:00:17.984 --> 00:00:20.765\nIn today's episode,\nwell I've got a really treat for\n\n9\n00:00:20.765 --> 00:00:23.849\nyou because it's more In our\nsecurity tech skills series and\n\n10\n00:00:23.849 --> 00:00:26.951\njoining us in the studio again,\nanother real treat for you.\n\n11\n00:00:26.951 --> 00:00:27.769\nMr. Mike Rodrick.\n\n12\n00:00:27.769 --> 00:00:29.441\nMike, how's it going man?\n\n13\n00:00:29.441 --> 00:00:30.031\n&gt;&gt; It's going great.\n\n14\n00:00:30.031 --> 00:00:31.050\nI don't know about the treat part.\n\n15\n00:00:31.050 --> 00:00:33.102\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm glad to be back and\n\n16\n00:00:33.102 --> 00:00:37.546\nexcited as always because we are doing\nsecurity stuff which is always fun.\n\n17\n00:00:37.546 --> 00:00:38.455\nIn this new episode,\n\n18\n00:00:38.455 --> 00:00:41.903\nwe're going to be taking a look at another\none of those vulnerability scanners.\n\n19\n00:00:41.903 --> 00:00:45.637\nI should say Web application\nvulnerability scanners,\n\n20\n00:00:45.637 --> 00:00:50.093\nbut this one is a little bit special\nbecause it does a lot of things.\n\n21\n00:00:50.093 --> 00:00:55.389\nIt's really a tool designed to do, I'm\ntrying to think of a good way to put it.\n\n22\n00:00:55.389 --> 00:00:58.551\nIt really combines a lot\nof the tools we might run\n\n23\n00:00:58.551 --> 00:01:01.644\nmanually into one nice\ngraphical interface.\n\n24\n00:01:01.644 --> 00:01:03.939\n&gt;&gt; Yeah,\nit's like an aggregation tool almost.\n\n25\n00:01:03.939 --> 00:01:06.974\nIt says let's Let's take a little bit of\nthat, and let's take a little bit of that,\n\n26\n00:01:06.974 --> 00:01:07.792\nand we'll put it here.\n\n27\n00:01:07.792 --> 00:01:11.485\nAnd instead of having to go out and\ndo all those things individually,\n\n28\n00:01:11.485 --> 00:01:14.683\nyou get this like,\ncentralized command console, right?\n\n29\n00:01:14.683 --> 00:01:15.819\n&gt;&gt; Exactly.\n\n30\n00:01:15.819 --> 00:01:18.147\nI forget the gentleman's name.\n\n31\n00:01:18.147 --> 00:01:18.939\nGosh, I was just looking it up.\n\n32\n00:01:18.939 --> 00:01:20.053\nWe should go take it out,\nwe should go give him credit.\n\n33\n00:01:20.053 --> 00:01:20.759\n&gt;&gt; Yeah, there we go.\n\n34\n00:01:20.759 --> 00:01:24.319\n&gt;&gt; Let's do that because he\ndid a fantastic job on this.\n\n35\n00:01:24.319 --> 00:01:29.483\nSo, let's open up our browser here and\n\n36\n00:01:29.483 --> 00:01:35.910\nwe'll look for\nSparta Vulnerability Scanner.\n\n37\n00:01:35.910 --> 00:01:36.775\nAnd where we at?\n\n38\n00:01:36.775 --> 00:01:39.235\nHere we are.\n\n39\n00:01:39.235 --> 00:01:40.258\nHere we go.\nOur network\n\n40\n00:01:40.258 --> 00:01:42.731\ninfrastructure penetration testing school,\ntool.\n\n41\n00:01:42.731 --> 00:01:44.012\n&gt;&gt; Tool [LAUGH]\n&gt;&gt; Not a school.\n\n42\n00:01:44.012 --> 00:01:44.946\n&gt;&gt; It's not a school [LAUGH]\n&gt;&gt; And\n\n43\n00:01:44.946 --> 00:01:47.493\nI'll go all the way down the bottom and\nthose guys name down there.\n\n44\n00:01:47.493 --> 00:01:50.580\nAntonio If I said that right.\n\n45\n00:01:54.100 --> 00:01:56.080\nI'm not going to pronounce that.\n\n46\n00:01:56.080 --> 00:01:58.830\nThose are two gentleman that wrote this.\n\n47\n00:01:58.830 --> 00:02:00.510\nGreat guys.\n\n48\n00:02:00.510 --> 00:02:04.830\nIt's as it says up here,\nPython GUI application simplifies\n\n49\n00:02:04.830 --> 00:02:08.660\nnetwork infrastructure penetration and\ntesting through that scanning and\n\n50\n00:02:08.660 --> 00:02:12.740\nenumeration phase by taking a lot of the\ntools we would normally run individually,\n\n51\n00:02:12.740 --> 00:02:14.710\nlike I said, and scripting them out.\n\n52\n00:02:14.710 --> 00:02:17.950\nWe're going to basically tell it,\nwe're going to point it to our target,\n\n53\n00:02:17.950 --> 00:02:21.210\nand it's going to do the heavy lifting and\njust give us the results.\n\n54\n00:02:21.210 --> 00:02:22.470\nFantastic.\n\n55\n00:02:22.470 --> 00:02:25.570\nSo, let's jump back over to our\nKelly Box and you can go out there.\n\n56\n00:02:25.570 --> 00:02:28.000\nFrom that page you can\ndownload the source files.\n\n57\n00:02:29.620 --> 00:02:32.530\nSend most the repositories\nfrom the Lennox disc rows.\n\n58\n00:02:32.530 --> 00:02:36.130\nCallie, of course, has it installed\nalready and that's what we're using So,\n\n59\n00:02:36.130 --> 00:02:38.090\nwe are good to go.\n\n60\n00:02:38.090 --> 00:02:42.180\nI also have the darn vulnerable,\nif I can say that,\n\n61\n00:02:42.180 --> 00:02:45.610\nit's getting late in the day\nhere at the recording studio.\n\n62\n00:02:45.610 --> 00:02:49.930\nWeb application up and running so that we\nhave a target, something to play with that\n\n63\n00:02:49.930 --> 00:02:54.390\nactually has some vulnerabilities so\nwe can see what the tool does.\n\n64\n00:02:54.390 --> 00:02:57.240\nAlright, so, open my application menu,\n\n65\n00:02:57.240 --> 00:03:01.600\nvulnerability analysis And\nthen down to Sparta.\n\n66\n00:03:03.570 --> 00:03:04.300\nAnd there we go.\n\n67\n00:03:04.300 --> 00:03:06.150\nYou see it opens up\na shell in the background.\n\n68\n00:03:06.150 --> 00:03:10.630\nIt's actually generating a couple of\nword lists that it's going to use.\n\n69\n00:03:10.630 --> 00:03:12.040\nAnd that window does stay open.\n\n70\n00:03:12.040 --> 00:03:12.960\nYou need to leave it open.\n\n71\n00:03:12.960 --> 00:03:15.920\nIf you close it, you will kill Sparta.\n\n72\n00:03:15.920 --> 00:03:18.990\nSo leave that window\nopen in the background.\n\n73\n00:03:18.990 --> 00:03:22.240\nAnd you don't see a lot of options here,\nright?\n\n74\n00:03:22.240 --> 00:03:23.960\nIt's pretty simple to get started.\n\n75\n00:03:23.960 --> 00:03:27.460\nClick here to add host to scope.\n\n76\n00:03:27.460 --> 00:03:28.110\nSo I'm gonna click there.\n\n77\n00:03:28.110 --> 00:03:30.980\nAnd then I'm gonna type in my IP address.\n\n78\n00:03:30.980 --> 00:03:32.290\nYou can see I can do a range, so\n\n79\n00:03:32.290 --> 00:03:34.910\nyou can actually do multiple\nmachines which is always handy.\n\n80\n00:03:34.910 --> 00:03:37.990\nIf I have a group of servers or\nmachines that I need to test out.\n\n81\n00:03:37.990 --> 00:03:40.690\nI'm simply going to type in my IP address.\n\n82\n00:03:40.690 --> 00:03:44.250\nAnd then right below there you\nsee run n map host discovery.\n\n83\n00:03:44.250 --> 00:03:46.350\nRun staged nmap scan.\n\n84\n00:03:46.350 --> 00:03:48.920\nThat means it's kinda\ngiving you a hint there,\n\n85\n00:03:48.920 --> 00:03:50.630\nit's gonna be doing these\nthings in the background.\n\n86\n00:03:50.630 --> 00:03:54.053\nAs we already see that it's pulling\nan nmap and we'll go ahead and\n\n87\n00:03:54.053 --> 00:03:55.122\nclick add to scope.\n\n88\n00:03:56.484 --> 00:03:57.340\nAnd that's it.\n\n89\n00:03:57.340 --> 00:03:58.990\nWe let this thing run.\n\n90\n00:03:58.990 --> 00:04:01.050\nNow this will take a few minutes,\n\n91\n00:04:01.050 --> 00:04:04.450\nwe'll start to see some of\nthe results Pop in here.\n\n92\n00:04:04.450 --> 00:04:08.220\nWhat I think what we'll do is we'll\nlet it run, let it do it's thing.\n\n93\n00:04:08.220 --> 00:04:10.300\nWhen it finishes, we'll come back and\ntake a look at the results.\n\n94\n00:04:12.070 --> 00:04:14.790\nAll right, so that finished running,\nlet's take a look at the results.\n\n95\n00:04:16.410 --> 00:04:19.460\nI did, if you were paying attention,\nyou might have noticed,\n\n96\n00:04:19.460 --> 00:04:21.650\nI kinda changed things up on you here.\n\n97\n00:04:21.650 --> 00:04:23.270\nActually switched IP address.\n\n98\n00:04:23.270 --> 00:04:24.175\nThey were scanning.\n\n99\n00:04:24.175 --> 00:04:28.820\nI`ve got another machine running in\nthe background 2, which is another\n\n100\n00:04:28.820 --> 00:04:32.750\nfreely available virtual machine you can\ndownload to test out tools like this.\n\n101\n00:04:32.750 --> 00:04:35.350\nAnd it gives us a lot more interesting\nresults because it`s got a lot of\n\n102\n00:04:35.350 --> 00:04:36.850\nservices and a lot of vulnerability.\n\n103\n00:04:36.850 --> 00:04:40.020\nSo I thought I`d just give us\nsome more tabs to look at.\n\n104\n00:04:40.020 --> 00:04:42.620\nTo really show you the power\nof what Sparta can do.\n\n105\n00:04:42.620 --> 00:04:47.040\nAll right, so remember, all we did\nwas we clicked here to add a host.\n\n106\n00:04:47.040 --> 00:04:51.290\nWe typed in the IP address of your target\nand you click go, and that's about it.\n\n107\n00:04:51.290 --> 00:04:52.850\nIn fact,\nI didn't have to click go I'm sorry.\n\n108\n00:04:52.850 --> 00:04:56.750\nYou click add, and it immediately starts,\nso you don't even have to click go.\n\n109\n00:04:56.750 --> 00:05:01.740\nDown at the bottom I can see some\nof the things that it was running,\n\n110\n00:05:01.740 --> 00:05:02.760\nall the different tasks.\n\n111\n00:05:02.760 --> 00:05:07.140\nYou can see there's actually several\nphases that it went through, and\n\n112\n00:05:07.140 --> 00:05:11.170\nwhat it's doing is again,\nit's scripted out behind the scenes.\n\n113\n00:05:11.170 --> 00:05:14.100\nIt's grabbing all these tools and\nit's executing them,\n\n114\n00:05:14.100 --> 00:05:15.530\nand it's actually configurable.\n\n115\n00:05:15.530 --> 00:05:16.130\nIt's pretty cool.\n\n116\n00:05:16.130 --> 00:05:19.840\nYou can go in and start what it's doing or\nwhat tools it's using, but\n\n117\n00:05:19.840 --> 00:05:22.269\nlet's work with out of the box ilke it is.\n\n118\n00:05:23.300 --> 00:05:27.610\nSo we've got several tabs that have\npopped up across the top here.\n\n119\n00:05:27.610 --> 00:05:28.460\nAnd on this first one,\n\n120\n00:05:28.460 --> 00:05:34.040\nit's showing me all the different services\nthat are running on this machine.\n\n121\n00:05:34.040 --> 00:05:35.650\nIt's using NMAP in the background.\n\n122\n00:05:35.650 --> 00:05:38.020\nThis is something we would\ndo as a penetration tester,\n\n123\n00:05:38.020 --> 00:05:40.820\nas a security personnel for\nan organization.\n\n124\n00:05:40.820 --> 00:05:43.920\nWe're scanning our web server You're\nprobably going to pull out nmap and\n\n125\n00:05:43.920 --> 00:05:49.130\ndo a port scan, and maybe do the -a or\nat least the -sv, and start getting\n\n126\n00:05:49.130 --> 00:05:52.130\ninformation about what's behind those\nports or what services are running.\n\n127\n00:05:52.130 --> 00:05:54.480\nAnd you can see that's\nexactly what spart it is.\n\n128\n00:05:54.480 --> 00:05:58.170\nIt went out and use nmap,\nas nmap is installed in this machine.\n\n129\n00:05:58.170 --> 00:06:01.620\nIt was able to grab it and\ndo a basic port scan, and\n\n130\n00:06:01.620 --> 00:06:04.150\ngrab some banners from those ports.\n\n131\n00:06:04.150 --> 00:06:06.260\nSo fantastic, it did that.\n\n132\n00:06:06.260 --> 00:06:09.270\nTake a look at scripts,\nI've got nothing there.\n\n133\n00:06:09.270 --> 00:06:12.110\nInformation telling me a little bit\nabout the target that it pulled back,\n\n134\n00:06:12.110 --> 00:06:17.270\n31 open ports, the other 65504 closed,\nshows me the mac address,\n\n135\n00:06:17.270 --> 00:06:20.880\nalways handy if I want to do\nsome type of attack using that.\n\n136\n00:06:20.880 --> 00:06:24.161\nLinux distro,\nit says it's 100% accurate so\n\n137\n00:06:24.161 --> 00:06:28.155\nit's very confident in that Linux 6.2,\nor 2.6.9.\n\n138\n00:06:28.155 --> 00:06:28.891\nAll right.\n\n139\n00:06:28.891 --> 00:06:34.094\nNotes is just there, so\nyou could add your own notes\n\n140\n00:06:34.094 --> 00:06:39.060\nas you're going through your scan or\nyour test.\n\n141\n00:06:39.060 --> 00:06:41.139\nAnd then,\nthat should look familiar, right?\n\n142\n00:06:41.139 --> 00:06:42.484\nIf you guys, can you read that out there?\n\n143\n00:06:42.484 --> 00:06:44.855\nDo I need to zoom in?\n\n144\n00:06:44.855 --> 00:06:46.180\nMaybe not that much.\n\n145\n00:06:46.180 --> 00:06:47.866\nThere is Nictu, right?\n\n146\n00:06:47.866 --> 00:06:51.760\nSo it's using Nictu against this site.\n\n147\n00:06:51.760 --> 00:06:54.300\nZoom back out so we can actually function.\n\n148\n00:06:54.300 --> 00:06:56.450\nJust like we saw in another\nepisode where we can ran Nictu,\n\n149\n00:06:56.450 --> 00:06:58.990\nthese results should look very similar.\n\n150\n00:06:58.990 --> 00:07:01.320\nIf I scroll back up and\nactually show you the results.\n\n151\n00:07:01.320 --> 00:07:05.710\nThere you can see it's running Nictu\nit's got the target, and hit port 80 And\n\n152\n00:07:05.710 --> 00:07:08.630\nit's coming back with that\nsame information we would see\n\n153\n00:07:08.630 --> 00:07:11.990\nif we opened up a shell and\nran NIC to it and pointed it to it.\n\n154\n00:07:11.990 --> 00:07:15.540\nSo it's showing me all the different\nvulnerabilities that this server has.\n\n155\n00:07:17.420 --> 00:07:18.225\nAll right.\n\n156\n00:07:18.225 --> 00:07:19.233\nEven gives me a screen shot.\n\n157\n00:07:19.233 --> 00:07:22.075\nHey, here's what I found\nwhen I hit that port 80.\n\n158\n00:07:22.075 --> 00:07:23.915\nSo it gives me a nice little screen shot.\n\n159\n00:07:23.915 --> 00:07:26.393\nAnd then its running SMTP anom verify.\n\n160\n00:07:26.393 --> 00:07:29.542\nWhich is a great little tool,\nprobably one that we almost always run.\n\n161\n00:07:29.542 --> 00:07:33.504\nBecause we can get a lot of\ninformation back out of SMTP.\n\n162\n00:07:33.504 --> 00:07:38.150\nAlthough, it didn't look like it\nfound too much exciting stuff there.\n\n163\n00:07:38.150 --> 00:07:41.903\nAnd then it found minus\nQL Right back with nmap.\n\n164\n00:07:41.903 --> 00:07:43.558\nIt found MySQL.\n\n165\n00:07:43.558 --> 00:07:45.535\nAnd it went ahead and said, all right.\n\n166\n00:07:45.535 --> 00:07:49.526\nLet me go hit MySQL and\nlook what it's doing here.\n\n167\n00:07:49.526 --> 00:07:51.290\nIf you can see that up there.\n\n168\n00:07:51.290 --> 00:07:55.970\nThat is THC Hydra which is\na password cracking utility.\n\n169\n00:07:55.970 --> 00:08:00.391\nSo not only does it scan my ports,\nsee that it's running my SUL, then it\n\n170\n00:08:00.391 --> 00:08:04.980\nturns around and it runs a password\nattack against that port using Hydra.\n\n171\n00:08:04.980 --> 00:08:07.270\nWhich, we'll do an episode if\nwe haven't done it already.\n\n172\n00:08:07.270 --> 00:08:09.749\nWe'll do an episode just on Hydra and\nshow you how that works.\n\n173\n00:08:09.749 --> 00:08:13.317\n&gt;&gt; If I'm not mistaken Mike,\nit does say that it found the password.\n\n174\n00:08:13.317 --> 00:08:14.179\n&gt;&gt; Let's see what we got here.\n\n175\n00:08:14.179 --> 00:08:16.601\n&gt;&gt; Successfully completed,\none valid password found.\n\n176\n00:08:16.601 --> 00:08:18.040\n&gt;&gt; Darn sure did, right?\n\n177\n00:08:18.040 --> 00:08:19.521\nFound log in root.\n\n178\n00:08:19.521 --> 00:08:21.780\nAnd notice there is no\npassword next to it.\n\n179\n00:08:21.780 --> 00:08:23.960\nThat means its root with a blank password.\n\n180\n00:08:23.960 --> 00:08:26.560\nLet me zoom in so\nyou can see those results there.\n\n181\n00:08:26.560 --> 00:08:28.670\nYou can see MySQL Host 10.10.1.130.\n\n182\n00:08:28.670 --> 00:08:29.350\nLog in root.\n\n183\n00:08:29.350 --> 00:08:33.970\nTarget successfully completed\none valid password found.\n\n184\n00:08:33.970 --> 00:08:40.160\nSo in this case there is a blank password\non my root account on MSSQ or MSSQL, yeah.\n\n185\n00:08:40.160 --> 00:08:41.290\n&gt;&gt; That's a little dangerous.\n\n186\n00:08:41.290 --> 00:08:42.325\n&gt;&gt; My SQL, sorry.\n\n187\n00:08:42.325 --> 00:08:43.760\n&gt;&gt; [LAUGHS]\n&gt;&gt; Yeah, that's not a good thing, right?\n\n188\n00:08:43.760 --> 00:08:46.780\nThis is something that I would want\nto find out before the bad guys did.\n\n189\n00:08:46.780 --> 00:08:49.220\nI'm going to go talk to my guy who\nis running that server and say \"Hey,\n\n190\n00:08:49.220 --> 00:08:50.490\ndid you realize?\"\n&gt;&gt; Yeah.\n\n191\n00:08:50.490 --> 00:08:52.360\nAnd even if that was a test environment,\nright?\n\n192\n00:08:52.360 --> 00:08:56.140\nThat would be Listen if it's\nconnected to the internet at all and\n\n193\n00:08:56.140 --> 00:08:59.720\nyou're thinking, well it's because it's a\ntest, it's fine to leave a blank password.\n\n194\n00:09:01.100 --> 00:09:02.860\nOnly if it was super lockdown,\n\n195\n00:09:02.860 --> 00:09:05.700\neven then I would suggest\nalways set a strong password.\n\n196\n00:09:05.700 --> 00:09:10.680\n&gt;&gt; It's really not a good idea because,\nyou know, we look at the common attacks\n\n197\n00:09:10.680 --> 00:09:13.640\nand we realize that\n&gt;&gt; Disgruntled employees.\n\n198\n00:09:13.640 --> 00:09:16.910\nPeople that already have access to your\nnetwork are one of the biggest offenders.\n\n199\n00:09:16.910 --> 00:09:19.740\nAnd we're always worried about\nthe attacks from the outside, and\n\n200\n00:09:19.740 --> 00:09:20.920\nthat's what gets the news.\n\n201\n00:09:20.920 --> 00:09:23.990\nAnd all of that stuff makes for\ngreat TV and movies, but\n\n202\n00:09:23.990 --> 00:09:27.710\na lot of times it's the person on the\ninside that already has a valid account\n\n203\n00:09:27.710 --> 00:09:30.880\nMight be one of your dev guys that didn't\nget that promotion he was looking for and\n\n204\n00:09:30.880 --> 00:09:32.610\nnow he can do something crazy.\n\n205\n00:09:32.610 --> 00:09:34.760\nSo yeah, not a good idea.\n\n206\n00:09:34.760 --> 00:09:36.320\nPostgres is running on there.\n\n207\n00:09:36.320 --> 00:09:39.630\nDoesn't look like it found a ganite\nused hydra to try to crack that.\n\n208\n00:09:39.630 --> 00:09:43.799\nWe'll take a look at that a little\nbit closer in just a second.\n\n209\n00:09:44.960 --> 00:09:47.570\nAs we go down the list\nof tabs here's FTDs.\n\n210\n00:09:47.570 --> 00:09:53.250\nI find FTD running on port 21, again,\ntried to use hydra to track that password.\n\n211\n00:09:53.250 --> 00:09:57.400\nAnd let's see, sure enough login\nanonymous password anonymous.\n\n212\n00:09:57.400 --> 00:10:01.930\nAnd now I am using just the default\nword lists that are generated\n\n213\n00:10:01.930 --> 00:10:04.790\nAre used by Sparta I am not\nusing anything special.\n\n214\n00:10:04.790 --> 00:10:07.200\nprobably have some more\nsuccess like with Postgres,\n\n215\n00:10:07.200 --> 00:10:09.940\nif I was using some word\nlist that I created.\n\n216\n00:10:09.940 --> 00:10:11.820\nI might have a little\nmore success with that.\n\n217\n00:10:11.820 --> 00:10:13.680\ndefinitely want to go back and try it.\n\n218\n00:10:13.680 --> 00:10:17.850\nAlso ran a FTP and found FTP on 21 21.\n\n219\n00:10:17.850 --> 00:10:20.000\nDid not crack that one.\n\n220\n00:10:20.000 --> 00:10:21.280\nIt tried.\n\n221\n00:10:21.280 --> 00:10:23.140\nGive me a screen shot there.\n\n222\n00:10:23.140 --> 00:10:25.590\nAnd found another site on 81 80.\n\n223\n00:10:25.590 --> 00:10:29.180\nAnd went ahead and ran NIC2 on that.\n\n224\n00:10:29.180 --> 00:10:33.800\nSo I could see the vulnerabilities\nassociated with that URL.\n\n225\n00:10:35.090 --> 00:10:39.160\nAs I go through here, and there is\na screenshot, looks like the test page for\n\n226\n00:10:39.160 --> 00:10:42.740\na Apache Tomcat.\n\n227\n00:10:42.740 --> 00:10:47.938\n&gt;&gt; For me simply typing in the IP\naddress of the web server.\n\n228\n00:10:47.938 --> 00:10:50.661\nThat's pretty impressive stuff cuz again,\n\n229\n00:10:50.661 --> 00:10:53.840\nthis is stuff that I would\nnormally do one at a time.\n\n230\n00:10:53.840 --> 00:10:59.530\nIf I have a pen tester and I've got a lot\nof machines to test This is very handy.\n\n231\n00:10:59.530 --> 00:11:01.680\nIt's a big, big time saver.\n\n232\n00:11:01.680 --> 00:11:05.468\nAnd if you're not a you're a security,\nyou're an ad man, or\n\n233\n00:11:05.468 --> 00:11:09.261\nyou've been tasked with doing checking\nsecurity on a web application or\n\n234\n00:11:09.261 --> 00:11:11.768\na web server,\nthis is something you could use.\n\n235\n00:11:11.768 --> 00:11:15.905\nAnd bring a lot of guns to bear without,\nmaybe Having the skill set,\n\n236\n00:11:15.905 --> 00:11:18.093\nuse all these tools individually.\n\n237\n00:11:18.093 --> 00:11:18.711\n&gt;&gt; Yeah.\nAnd\n\n238\n00:11:18.711 --> 00:11:21.653\nI like how it actually it starts off camp.\n\n239\n00:11:21.653 --> 00:11:22.597\nSimple, effective, right?\n\n240\n00:11:22.597 --> 00:11:23.936\nWe're gonna be doing that.\n\n241\n00:11:23.936 --> 00:11:26.733\nAnd this is, I found and\nit has a website rank.\n\n242\n00:11:26.733 --> 00:11:28.240\nLet's run right?\n\n243\n00:11:28.240 --> 00:11:31.360\nOkay, by the way some\narent' running as well.\n\n244\n00:11:31.360 --> 00:11:33.410\nLet's run that tool.\n\n245\n00:11:33.410 --> 00:11:36.570\nAs it find things it continuous to\nkinda it has a little bit of logic\n\n246\n00:11:36.570 --> 00:11:39.680\nbehind it that say As I find\nthings I know I can handle,\n\n247\n00:11:39.680 --> 00:11:41.700\nlet me go ahead and handle them for you.\n\n248\n00:11:41.700 --> 00:11:44.820\nSo that you don't need to forget or\nnot do it correctly,\n\n249\n00:11:44.820 --> 00:11:45.930\nit just goes ahead and does it.\n\n250\n00:11:45.930 --> 00:11:47.170\nIt's all in one spot.\n\n251\n00:11:47.170 --> 00:11:51.880\nYou just open the tool up Sparta, there it\nis and I can now access all the things.\n\n252\n00:11:51.880 --> 00:11:52.600\nIts in tabs.\n\n253\n00:11:52.600 --> 00:11:54.280\nIt's nice and neat and squared away.\n\n254\n00:11:54.280 --> 00:11:55.485\nIt makes your life a whole lot easier.\n\n255\n00:11:55.485 --> 00:11:56.540\n&gt;&gt; Absolutely.\n\n256\n00:11:56.540 --> 00:12:00.320\nDo understand that any of the tools its\nusing You would have to have installed,\n\n257\n00:12:00.320 --> 00:12:03.700\nwhich is one of the reasons if you read\ntheir webpage actually recommends that you\n\n258\n00:12:03.700 --> 00:12:06.570\nuse Cali, because it knows\nall those tools are there.\n\n259\n00:12:06.570 --> 00:12:10.060\nIf you're installing Sparta\non your own Linux distro,\n\n260\n00:12:10.060 --> 00:12:13.960\nyou'd want to make sure all these tools,\nlike, if hydra wasn't there or\n\n261\n00:12:13.960 --> 00:12:17.660\nif nmap wasn't there then it wouldn't be\nable to launch those and it wouldn't do\n\n262\n00:12:17.660 --> 00:12:22.320\nthat part of the test, so do make sure\nthat you have the tools available.\n\n263\n00:12:22.320 --> 00:12:24.170\nAs we go over the services tab.\n\n264\n00:12:24.170 --> 00:12:25.880\nWe'll just continue to\nsee what all it found.\n\n265\n00:12:25.880 --> 00:12:29.610\nI've got all the services that it\nfound running on this machine.\n\n266\n00:12:29.610 --> 00:12:34.130\nAnd this is where we really start getting\ninto some of the power of Sparta.\n\n267\n00:12:34.130 --> 00:12:39.070\nIf I go to FTP,\nI can see the two FTP sites that it found.\n\n268\n00:12:39.070 --> 00:12:43.740\nThis was running vsftpd and\nI`ve got one running ProFTPD.\n\n269\n00:12:43.740 --> 00:12:48.300\nI can simply right click on this and,\nlet`s try to open it up with telnet.\n\n270\n00:12:48.300 --> 00:12:51.606\nRight?\nLet`s see if we can connect there.\n\n271\n00:12:51.606 --> 00:12:53.210\n&gt;&gt; Looks a manic connection\nof some sort [LAUGH].\n\n272\n00:12:53.210 --> 00:12:55.450\n&gt;&gt; It is either trying to or\nit is connected.\n\n273\n00:12:55.450 --> 00:12:58.770\n&gt;&gt; There you go, log in with user an pass.\n\n274\n00:12:58.770 --> 00:13:01.740\n&gt;&gt; Did you find\n&gt;&gt; What did we find the user name was for?\n\n275\n00:13:01.740 --> 00:13:03.661\nIt was root and link, right.\n\n276\n00:13:03.661 --> 00:13:06.724\n&gt;&gt; That was for the-\n&gt;&gt; Was that FGP?\n\n277\n00:13:06.724 --> 00:13:07.674\nNo, that wasn't the one.\n\n278\n00:13:07.674 --> 00:13:10.105\n&gt;&gt; SQL or-\n&gt;&gt; That's right, that's right.\n\n279\n00:13:10.105 --> 00:13:11.274\nIt was anonymous and anonymous.\n\n280\n00:13:11.274 --> 00:13:12.272\n&gt;&gt; Yeah.\n\n281\n00:13:14.924 --> 00:13:17.394\nI think you have to say user anonymous.\n\n282\n00:13:22.610 --> 00:13:23.548\n&gt;&gt; And pass.\n\n283\n00:13:23.548 --> 00:13:30.830\n&gt;&gt; And pass And\nlog in successful so there you go.\n\n284\n00:13:30.830 --> 00:13:33.080\nAnd now you can sit here and\nyou can test it out.\n\n285\n00:13:33.080 --> 00:13:35.300\nIt says it cracked it but is it working?\n\n286\n00:13:37.150 --> 00:13:38.160\nTry to think what else.\n\n287\n00:13:38.160 --> 00:13:39.070\nHere's MySQL.\n\n288\n00:13:39.070 --> 00:13:41.730\nSo let's go down here and\nsee what we can get.\n\n289\n00:13:41.730 --> 00:13:44.700\nBasically, you can right click on\nanything and see what your options are.\n\n290\n00:13:44.700 --> 00:13:47.650\nOpen with MySQL client as root.\n\n291\n00:13:49.250 --> 00:13:50.750\nPassword was blank.\n\n292\n00:13:50.750 --> 00:13:52.150\nSo we'll just him enter.\n\n293\n00:13:55.330 --> 00:13:56.558\nSee what it does.\n\n294\n00:13:56.558 --> 00:14:00.700\n[COUGH]\nI was trying to think.\n\n295\n00:14:00.700 --> 00:14:03.850\nI used to know how to\nconnect what is it MySQL-\n\n296\n00:14:03.850 --> 00:14:04.620\n&gt;&gt; There you go.\n\n297\n00:14:04.620 --> 00:14:05.580\n&gt;&gt; User, perfect.\n\n298\n00:14:06.950 --> 00:14:09.969\nShow databases.\n\n299\n00:14:13.451 --> 00:14:14.740\nYou forgot the semi colon.\n\n300\n00:14:14.740 --> 00:14:16.838\n&gt;&gt; I forgot the semi colon and\nI, thank you.\n\n301\n00:14:16.838 --> 00:14:21.120\n[LAUGH] A little typo like that will\ncause you a lot of stress, and there,\n\n302\n00:14:21.120 --> 00:14:22.620\nit's pulling up a whole of the data base.\n\n303\n00:14:22.620 --> 00:14:25.730\nSo we could do,\nwe can start selecting data base,\n\n304\n00:14:25.730 --> 00:14:30.320\nstart showing tables within those data\nbases, we can run queries against it.\n\n305\n00:14:30.320 --> 00:14:32.180\nAnd that's really not\nwhat we're here to show.\n\n306\n00:14:32.180 --> 00:14:36.430\nThe point is to show you that You can\ndo all of it right here from Sparta,\n\n307\n00:14:36.430 --> 00:14:41.650\nright click and open up a connection,\nwe close that out.\n\n308\n00:14:42.990 --> 00:14:46.680\nWhat else I wanna show you,\nthen you've got this tools tab and\n\n309\n00:14:46.680 --> 00:14:50.420\nhere it's showing you what its done.\n\n310\n00:14:50.420 --> 00:14:53.290\nThere's again is the results\nof each of one them.\n\n311\n00:14:53.290 --> 00:14:59.230\nSo I can say a and\nyou can configure this Again this is\n\n312\n00:14:59.230 --> 00:15:03.990\ngonna be beyond what we're trying to do,\nbut we can add additional tools to this.\n\n313\n00:15:03.990 --> 00:15:06.900\nIf we've got tools that\nwe would prefer are used,\n\n314\n00:15:06.900 --> 00:15:10.260\nmaybe I want to run some\nother script against it.\n\n315\n00:15:10.260 --> 00:15:14.080\nYou can definitely go in and\nconfigure this.\n\n316\n00:15:14.080 --> 00:15:20.810\nLet's do One of those services here.\n\n317\n00:15:20.810 --> 00:15:22.170\nIt didn't get post.\n\n318\n00:15:22.170 --> 00:15:24.290\nLet's see if we can do\nsomething with post.\n\n319\n00:15:24.290 --> 00:15:26.280\nSo I'm gonna right click on this.\n\n320\n00:15:27.910 --> 00:15:30.105\nAnd let's do check for default.\n\n321\n00:15:30.105 --> 00:15:31.257\nDid that start?\n\n322\n00:15:31.257 --> 00:15:33.172\nWhy isn't that running?\n\n323\n00:15:36.330 --> 00:15:41.240\nCheck for default PostGres credentials\nalthough it already has run.\n\n324\n00:15:41.240 --> 00:15:46.970\nLet's see what we got over here.\n\n325\n00:15:46.970 --> 00:15:48.930\nPoor Hydra was not able to find that one.\n\n326\n00:15:48.930 --> 00:15:53.079\nBut if I right click on it,\nI'm able to say send to brute.\n\n327\n00:15:54.830 --> 00:15:56.560\nI can send that over to Brute.\n\n328\n00:15:56.560 --> 00:15:58.974\nI click on this Brute tab and\nhere's my attack.\n\n329\n00:15:58.974 --> 00:16:01.344\nIt's already got the IP\naddress loaded in there,\n\n330\n00:16:01.344 --> 00:16:05.137\nit's got the port number in there and it\nknows what service I want to run this on.\n\n331\n00:16:05.137 --> 00:16:07.980\nNow, you can just go to the Brute tab and\nfill that information in.\n\n332\n00:16:07.980 --> 00:16:09.950\nThere's nothing wrong with doing that,\nas well.\n\n333\n00:16:09.950 --> 00:16:14.590\nBut it's nice I can right click, send\na Brute, populates all this information.\n\n334\n00:16:14.590 --> 00:16:18.820\nTry a blank password try log in as\npassword to loop around the user so\n\n335\n00:16:18.820 --> 00:16:22.950\nif you have a password list try\na password with each one of those users.\n\n336\n00:16:22.950 --> 00:16:24.053\nExit on first valid,\n\n337\n00:16:24.053 --> 00:16:27.685\nmaybe I don't want to do that I want\nto see how many accounts I can find.\n\n338\n00:16:27.685 --> 00:16:32.704\nAnd then, we would find a user name list\nand a password list that we wanted to try.\n\n339\n00:16:32.704 --> 00:16:39.666\nSo, lets do that, let's go user name list,\nbrowse and let's just do fast track.\n\n340\n00:16:39.666 --> 00:16:41.698\nI think that one is a good one to try.\n\n341\n00:16:44.865 --> 00:16:46.590\nWe'll do the same thing for the past list.\n\n342\n00:16:46.590 --> 00:16:48.740\nI'm not sure about that\nparticular world list.\n\n343\n00:16:48.740 --> 00:16:50.950\nThat's just one of the pre-built\nones it comes with.\n\n344\n00:16:50.950 --> 00:16:54.530\nCallie, I will try it, but you can see\nI want to show you how easy it is.\n\n345\n00:16:54.530 --> 00:16:55.680\nTell it what I want to do.\n\n346\n00:16:55.680 --> 00:16:56.660\nPut my lists in there.\n\n347\n00:16:56.660 --> 00:16:57.900\nClick Run.\n\n348\n00:16:57.900 --> 00:17:01.387\nAnd it's gonna start rifling through\nall those user names and passwords.\n\n349\n00:17:01.387 --> 00:17:02.787\nNow, this could take a little while.\n\n350\n00:17:02.787 --> 00:17:09.748\nIt's got 49,728 log in tries to do,\napproximately 48 tries per task.\n\n351\n00:17:09.748 --> 00:17:13.887\nSo it's cruising through it,\nbut we don't wanna sit here and\n\n352\n00:17:13.887 --> 00:17:18.754\nprobably and wait for it but That's\nhow easy a tool like Sparta makes it.\n\n353\n00:17:18.754 --> 00:17:24.087\nAnd again, Sparta really is, rather than\nbeing, it's not really it's own tool.\n\n354\n00:17:24.087 --> 00:17:26.698\nIt's a collection,\nlike you said, I think, a suite.\n\n355\n00:17:26.698 --> 00:17:28.650\n&gt;&gt; An aggregation tool\n&gt;&gt; Yeah.\n\n356\n00:17:28.650 --> 00:17:30.040\n&gt;&gt; Yeah.\n\n357\n00:17:30.040 --> 00:17:30.889\n&gt;&gt; So, fantastic.\n\n358\n00:17:30.889 --> 00:17:33.931\nYou're going to learn a tool I mean you\nreally need to go in and practice with\n\n359\n00:17:33.931 --> 00:17:37.169\neach one of those tools individually so\nthat you can learn what they`re doing,\n\n360\n00:17:37.169 --> 00:17:39.610\nwhat they`re capabilities are and\neverything like that.\n\n361\n00:17:39.610 --> 00:17:41.556\nBut this is a great tool\nto get started with.\n\n362\n00:17:41.556 --> 00:17:44.656\nYou will be able to see what\nthe possibilities are and\n\n363\n00:17:44.656 --> 00:17:47.624\nwhat tools you want to spend\na little more time on.\n\n364\n00:17:47.624 --> 00:17:48.919\nAnything yet?\n\n365\n00:17:48.919 --> 00:17:52.160\nNothing popping up there but\nanother cool thing, I can let that run.\n\n366\n00:17:52.160 --> 00:17:53.029\nThis is multi threaded.\n\n367\n00:17:53.029 --> 00:17:57.619\nI can start doing something else, while\nI'm letting that run in the background, so\n\n368\n00:17:57.619 --> 00:18:00.540\nwe wanna go take a look at\none of these other services.\n\n369\n00:18:00.540 --> 00:18:01.930\nWell let's see what else.\n\n370\n00:18:01.930 --> 00:18:06.720\nWe'll go down to FTP,\nactually we already did FTP didn't we.\n\n371\n00:18:06.720 --> 00:18:09.365\ndirtbuster, there's another one.\n\n372\n00:18:09.365 --> 00:18:13.645\nIn fact, that's how it's finding all\nof these, actually is it dirtbuster?\n\n373\n00:18:13.645 --> 00:18:15.668\nNow, that's a server set they're\nrunning on that machine.\n\n374\n00:18:15.668 --> 00:18:17.078\nLet's see what we can do with that.\n\n375\n00:18:17.078 --> 00:18:18.311\nOops.\n\n376\n00:18:18.311 --> 00:18:19.480\nThat is not what I meant to do.\n\n377\n00:18:21.040 --> 00:18:24.340\nSo I right click on that, you can see\nI got the options open with Telnet,\n\n378\n00:18:24.340 --> 00:18:26.020\nopen with Netcat.\n\n379\n00:18:26.020 --> 00:18:28.010\nSend over to brute.\n\n380\n00:18:28.010 --> 00:18:29.480\nRun an endmap script.\n\n381\n00:18:29.480 --> 00:18:31.200\nWe'll do a little banner\ngrabbing on there.\n\n382\n00:18:31.200 --> 00:18:34.238\nWe already really see the information.\n\n383\n00:18:34.238 --> 00:18:36.454\nBut just to point out\nthat we can multitask.\n\n384\n00:18:36.454 --> 00:18:39.539\nThere's that other task we just ran.\n\n385\n00:18:39.539 --> 00:18:41.353\nShowing me that banner information.\n\n386\n00:18:41.353 --> 00:18:46.282\nSo Sparta, really cool way to\nkinda bring these tools together.\n\n387\n00:18:46.282 --> 00:18:48.898\nAnd give me a nice GUI\ninterface to deal with.\n\n388\n00:18:48.898 --> 00:18:49.695\nSo, a lot of fun.\n\n389\n00:18:49.695 --> 00:18:50.232\n&gt;&gt; Yes, it is.\n\n390\n00:18:50.232 --> 00:18:52.264\nI definitely love me some Sparta as well.\n\n391\n00:18:52.264 --> 00:18:54.564\nI use it all the time for\ndoing capture the flag stuff.\n\n392\n00:18:54.564 --> 00:18:55.940\nIt's very easy.\n\n393\n00:18:55.940 --> 00:19:00.138\nMakes my life a whole lot more simplified\nwhen it comes to trying to run down all\n\n394\n00:19:00.138 --> 00:19:02.801\nthese different types of\ntools that I could use.\n\n395\n00:19:02.801 --> 00:19:07.857\nAnd maybe forget to do if I'm not\npaying attention, it does it for me,\n\n396\n00:19:07.857 --> 00:19:13.192\nreminds me and then makes that one-stop\nshopping a little easier for us.\n\n397\n00:19:13.192 --> 00:19:14.598\nMike, thanks for\n\n398\n00:19:14.598 --> 00:19:20.324\nintroducing us to Sparta as a tool to\nhelp us out in our security testing.\n\n399\n00:19:20.324 --> 00:19:22.982\nMaking sure our environments\nare as secure as they can be.\n\n400\n00:19:22.982 --> 00:19:25.958\nBut it looks like it's that time for\nus to sign off.\n\n401\n00:19:25.958 --> 00:19:28.169\nFor ITPro TV,\nI've been your host Daniel Lowry.\n\n402\n00:19:28.169 --> 00:19:29.060\n&gt;&gt; And I'm Mike Rodrick.\n\n403\n00:19:29.060 --> 00:19:30.622\n&gt;&gt; And we'll see you next time.\n\n404\n00:19:30.622 --> 00:19:36.504\n[MUSIC]\n\n405\n00:19:36.504 --> 00:19:39.820\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "223456987"
        },
        {
          "description": "In this episode, Daniel and Mike explore common tools, techniques, and practices used in the pursuit of securing your environment. Here they specifically look at using Burp Suite web application scanner and proxy for testing the security of our web apps. Watch as they show you how to use Burp to intercept web traffic and even perform a dictionary-based password attack.",
          "length": "1286",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-4-1-burp_suite-062317-PGM.00_21_10_07.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-4-1-burp_suite-062317-PGM.00_21_10_07.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-4-1-burp_suite-062317-PGM.00_21_10_07.Still001-sm.jpg",
          "title": "Burp Suite",
          "transcript": "WEBVTT\n\n1\n00:00:00.379 --> 00:00:05.457\nWelcome to ITProTV,\nI'm your host Dan [CROSSTALK] brought to\n\n2\n00:00:05.457 --> 00:00:11.575\nyou live in San Francisco [CROSSTALK]\n&gt;&gt; You're watching ITProTV.\n\n3\n00:00:11.575 --> 00:00:13.670\n&gt;&gt; All right, greetings everyone, and\n\n4\n00:00:13.670 --> 00:00:16.690\nwelcome to another great\nepisode of ITProTV.\n\n5\n00:00:16.690 --> 00:00:17.890\nI'm your host Daniel Lowrie, and\n\n6\n00:00:17.890 --> 00:00:21.920\nin today's episode it is more in\nour security tech skills series.\n\n7\n00:00:21.920 --> 00:00:25.720\nAnd joining us back in the studio, of\ncourse, our good friend, Mr. Mike Rodrick.\n\n8\n00:00:25.720 --> 00:00:27.095\nMike, how's it going today, sir?\n\n9\n00:00:27.095 --> 00:00:28.490\n&gt;&gt; [LAUGH] It's going fantastic, Daniel.\n\n10\n00:00:28.490 --> 00:00:29.346\nThanks for having me back.\n\n11\n00:00:29.346 --> 00:00:31.550\n&gt;&gt; Glad you're here.\n&gt;&gt; Excited to be here, as always.\n\n12\n00:00:31.550 --> 00:00:35.110\nAnd really, today we got a pretty cool\ntool I wanna show you in this episode.\n\n13\n00:00:35.110 --> 00:00:37.050\nOne called Burp Suite.\n\n14\n00:00:37.050 --> 00:00:38.590\nWe're gonna be looking, I should say this,\n\n15\n00:00:38.590 --> 00:00:42.200\nweb application analysis is really\nthe category of this type of tool.\n\n16\n00:00:42.200 --> 00:00:46.430\nAnd this is the kind of tool that allows\nyou to look at your web application and\n\n17\n00:00:46.430 --> 00:00:51.090\nmonitor the data and the traffic that's\nflowing in and out of that application.\n\n18\n00:00:51.090 --> 00:00:55.200\nWe've looked a couple web application\nvulnerability scanners in some previous\n\n19\n00:00:55.200 --> 00:00:58.870\nepisodes where we're scanning that web\nserver for known vulnerabilities, right.\n\n20\n00:00:58.870 --> 00:01:01.530\nComparing it, we've got a database\nof known vulnerabilities,\n\n21\n00:01:01.530 --> 00:01:06.540\nwe're scanning that application, see if\nanything pops to help us try to beef up or\n\n22\n00:01:06.540 --> 00:01:09.020\nto patch up our application.\n\n23\n00:01:09.020 --> 00:01:12.950\nThis one, Burp Suite, at least in\nthe free form that we're using,\n\n24\n00:01:12.950 --> 00:01:17.860\ndoesn't do the vulnerability scanning,\nbut it does allow me to act as a proxy.\n\n25\n00:01:17.860 --> 00:01:20.950\nBetween my browser and the application.\n\n26\n00:01:20.950 --> 00:01:25.830\nAnd therefore allow me to see the traffic\nthat's flowing back and forth.\n\n27\n00:01:25.830 --> 00:01:30.330\nNow we could use a packet capture utility\nlike Wire Shark or something like that.\n\n28\n00:01:30.330 --> 00:01:34.210\nAnd see that traffic as well, but\nit's really nice if you've got a tool that\n\n29\n00:01:34.210 --> 00:01:37.760\nforms it up, frames it up nicely,\ndisplays it really pretty.\n\n30\n00:01:37.760 --> 00:01:41.300\nAnd on top of that,\nBurp Suite goes to the next level.\n\n31\n00:01:41.300 --> 00:01:43.910\nNot only does it allow me to see\nthe data and traffic flowing in and\n\n32\n00:01:43.910 --> 00:01:47.910\nout of the application, but\nit allows me to pause it, and look at it,\n\n33\n00:01:47.910 --> 00:01:51.480\nand even modify it before\nit goes on in a web app.\n\n34\n00:01:51.480 --> 00:01:55.160\nWhich gives me, if I'm a sysadmin or\na network security person\n\n35\n00:01:55.160 --> 00:01:59.080\ntrying to test the security on a web\napplication this allows me to test things.\n\n36\n00:01:59.080 --> 00:02:02.130\nWhat would happen if I input this\nkind of data to the application?\n\n37\n00:02:02.130 --> 00:02:04.380\nIs it gonna crash,\nis it gonna give me access?\n\n38\n00:02:04.380 --> 00:02:06.500\nOr the error messages that\nare spitting back out.\n\n39\n00:02:06.500 --> 00:02:08.880\nWhat kind of information am I releasing?\n\n40\n00:02:10.640 --> 00:02:13.530\nWhen the application spits out an error.\n\n41\n00:02:13.530 --> 00:02:17.100\nSo, it's really good for\nreally looking at an application,\n\n42\n00:02:17.100 --> 00:02:19.630\nseeing what's going on under the hood.\n\n43\n00:02:19.630 --> 00:02:22.080\nLet's take a look at their webpage.\n\n44\n00:02:22.080 --> 00:02:29.020\nAs I said, it is a nice free tool that\nwe can get from good old PortSwigger.\n\n45\n00:02:29.020 --> 00:02:33.300\nSo I'm gonna go out to Google here,\ndo a little Burp Suite and\n\n46\n00:02:33.300 --> 00:02:35.200\nwe'll find the PortSwigger's webpage.\n\n47\n00:02:36.460 --> 00:02:38.020\nNow Burp Suite was free for a long time.\n\n48\n00:02:38.020 --> 00:02:40.890\nThey've gone the route of a lot of tools,\nwhere they've\n\n49\n00:02:40.890 --> 00:02:45.210\nadded a bunch of functionality but\nthey've also added a license to it.\n\n50\n00:02:45.210 --> 00:02:47.070\nSo if you want the free edition,\nyou can still get it,\n\n51\n00:02:47.070 --> 00:02:49.640\nand it's gonna do what\nwe'll show you here today.\n\n52\n00:02:49.640 --> 00:02:52.520\nIf you pay for the Pro Version,\nor the Professional Version,\n\n53\n00:02:52.520 --> 00:02:57.270\nyou get a lot of really cool features like\nthe ability to do vulnerability scanning,\n\n54\n00:02:57.270 --> 00:02:58.840\nlike we were just talking about.\n\n55\n00:02:58.840 --> 00:03:00.030\nWe'll stick with the free one there,\n\n56\n00:03:00.030 --> 00:03:04.510\nbut PortSwigger Web Security Is\nthe source of this cool program.\n\n57\n00:03:04.510 --> 00:03:09.300\nAll right, back over to our favorite\nbox and that is our Kali machine.\n\n58\n00:03:09.300 --> 00:03:11.821\nThis is where we will be\ndoing our attacking from or\n\n59\n00:03:11.821 --> 00:03:13.392\nat least our monitoring from.\n\n60\n00:03:13.392 --> 00:03:17.744\nAnd I've got another VM running that darn\nVolvo web application that's running\n\n61\n00:03:17.744 --> 00:03:19.736\nthe website that we are going to hit.\n\n62\n00:03:19.736 --> 00:03:23.430\nIn fact, let's just ahead and\njust make sure it is up and running.\n\n63\n00:03:23.430 --> 00:03:24.770\nSo let me pull up my browser.\n\n64\n00:03:27.170 --> 00:03:28.650\nAnd we will take a look.\n\n65\n00:03:28.650 --> 00:03:32.742\nShould be 10.10.1.127.\n\n66\n00:03:32.742 --> 00:03:34.354\nAnd there it is.\n\n67\n00:03:34.354 --> 00:03:36.498\nWe'll go ahead and log into it.\n\n68\n00:03:36.498 --> 00:03:40.760\nAt least get past that intro page.\n\n69\n00:03:40.760 --> 00:03:43.650\nAll right, and I'm going to\ndrop the security down on this.\n\n70\n00:03:43.650 --> 00:03:46.852\nIt's a great little tool to test.\n\n71\n00:03:46.852 --> 00:03:49.377\nI'm gonna put it on low just because for\nwhat we're doing,\n\n72\n00:03:49.377 --> 00:03:52.724\nit's not going to affect anything, but\nit will allow it to go a little faster.\n\n73\n00:03:52.724 --> 00:03:53.864\nIt won't take as long.\n\n74\n00:03:53.864 --> 00:03:57.860\nWe're going to be doing some brute\nforcing on this log in screen.\n\n75\n00:03:57.860 --> 00:04:01.797\nAnd this is a typical log in form that you\nfind with most web-based applications,\n\n76\n00:04:01.797 --> 00:04:03.408\nall right, that have security.\n\n77\n00:04:03.408 --> 00:04:07.350\nYou're going to come in, type in\na username and password and hit log in.\n\n78\n00:04:07.350 --> 00:04:09.850\nSo that is up and running,\nwe're good to go there.\n\n79\n00:04:09.850 --> 00:04:13.090\nLet's kinda drop that down off to\nthe side for now and we'll go ahead and\n\n80\n00:04:13.090 --> 00:04:14.700\nfire up BURPSUITE.\n\n81\n00:04:14.700 --> 00:04:16.970\nAgain, I'm running the free version.\n\n82\n00:04:16.970 --> 00:04:20.320\nFor my Kali 2017, it's included.\n\n83\n00:04:20.320 --> 00:04:23.520\nIf not, you can go out to PortSwigger and\nyou can download it.\n\n84\n00:04:23.520 --> 00:04:26.870\nOther cool thing is this is a tool\nthat'll run on not only Linux, but\n\n85\n00:04:26.870 --> 00:04:30.060\nit'll run on Windows,\nit'll run on Mac OS X as well.\n\n86\n00:04:30.060 --> 00:04:32.580\nSo whatever your platform of choice is for\n\n87\n00:04:32.580 --> 00:04:36.650\ndoing your security testing, you can\nget a version of Burp Suite for it.\n\n88\n00:04:36.650 --> 00:04:39.310\nNow the other limitation of the free\nversion here is that I cannot,\n\n89\n00:04:39.310 --> 00:04:43.440\nit does have an update but I'm not gonna\nworry about updating it right now.\n\n90\n00:04:43.440 --> 00:04:47.590\nI can't create a project and save it,\nso that I can open it up again later.\n\n91\n00:04:47.590 --> 00:04:49.360\nI can only do temporary projects.\n\n92\n00:04:49.360 --> 00:04:52.730\nWhich is fine for what we're doing, so\nI'll click Next and I'll go ahead and\n\n93\n00:04:52.730 --> 00:04:55.180\nstart up Burp Suite.\n\n94\n00:04:55.180 --> 00:04:59.590\nSo the way Burp Suite works is again\nis it acts as a proxy between you and\n\n95\n00:04:59.590 --> 00:05:01.240\nthe web application.\n\n96\n00:05:01.240 --> 00:05:06.770\nSo one of the first things we're gonna\ndo is make sure our proxy is set up.\n\n97\n00:05:06.770 --> 00:05:11.380\nSo for that, well as soon as my\nmouse starts responding again,\n\n98\n00:05:11.380 --> 00:05:14.350\nwe'll go over to proxy.\n\n99\n00:05:16.880 --> 00:05:18.910\nHopefully I can get there.\n\n100\n00:05:18.910 --> 00:05:20.200\nTheres my mouse again.\n\n101\n00:05:20.200 --> 00:05:20.700\nStopped.\n\n102\n00:05:21.916 --> 00:05:23.530\nA real issue with this guy today.\n\n103\n00:05:23.530 --> 00:05:28.120\nWe'll click on Proxy and\nthen I'm gonna go to Options.\n\n104\n00:05:29.880 --> 00:05:33.170\nAnd if we take a look,\nI'll zoom in here for everybody.\n\n105\n00:05:33.170 --> 00:05:35.135\nAnd you can see that the Proxy\noptions that I've selected tells me\n\n106\n00:05:35.135 --> 00:05:36.392\nit's 127.0.0.1:8080.\n\n107\n00:05:36.392 --> 00:05:41.230\nSo, that's the port that Burp Suite\nis going to be listening on.\n\n108\n00:05:41.230 --> 00:05:46.218\nSo, to make this work, I wanna make\nsure I go to my browser settings and\n\n109\n00:05:46.218 --> 00:05:49.958\npoint it 1270001:8080 for its Proxy.\n\n110\n00:05:49.958 --> 00:05:51.608\nSo, let me zoom back out\ngo over to my browser.\n\n111\n00:05:51.608 --> 00:05:55.684\nAnd depending on what\nbrowser you're using,\n\n112\n00:05:55.684 --> 00:06:00.520\nthe configuration might\nbe slightly different.\n\n113\n00:06:00.520 --> 00:06:03.530\nI'm gonna, for Firefox,\ngo into my Advanced Settings.\n\n114\n00:06:03.530 --> 00:06:05.050\nGo to Network.\n\n115\n00:06:05.050 --> 00:06:06.490\nClick on Connection Settings.\n\n116\n00:06:07.960 --> 00:06:09.708\nDo a manual configuration.\n\n117\n00:06:09.708 --> 00:06:14.270\nAnd point it to 127001:8080 and click OK.\n\n118\n00:06:14.270 --> 00:06:17.748\nAnd then I'll go ahead and\nclose my Preferences.\n\n119\n00:06:17.748 --> 00:06:20.170\nAnd will bump this guy over here.\n\n120\n00:06:20.170 --> 00:06:23.526\nSo, we can keep an eye\non both of these pages.\n\n121\n00:06:23.526 --> 00:06:24.900\nAll right, so now we're set up.\n\n122\n00:06:24.900 --> 00:06:28.880\nLet's go back to Burp Suite and\nover on the top side.\n\n123\n00:06:28.880 --> 00:06:30.309\nI'm gonna zoom back in.\n\n124\n00:06:31.450 --> 00:06:34.290\nThere's an option for\nIntercept, all right.\n\n125\n00:06:34.290 --> 00:06:37.930\nSo this is really what it's supposed\nto do, is it's intercepting traffic,\n\n126\n00:06:37.930 --> 00:06:40.360\nand you can see it says Intercept is on.\n\n127\n00:06:40.360 --> 00:06:44.920\nIf I turn that off, it'll just monitor\nthe traffic allowed to go through.\n\n128\n00:06:44.920 --> 00:06:49.290\nIf I turn this on, it's gonna pause\nthe traffic, allow me to look at or\n\n129\n00:06:49.290 --> 00:06:51.850\nmanipulate it and then send it on.\n\n130\n00:06:51.850 --> 00:06:54.440\nSo I can control the data\nthat's flowing in and out.\n\n131\n00:06:54.440 --> 00:06:56.670\nSo we'll go ahead and leave intercept on.\n\n132\n00:06:58.530 --> 00:07:02.940\nAnd we're going to go to my webpage and\nsee if everything is working.\n\n133\n00:07:02.940 --> 00:07:04.860\nSo what I'm gonna do is I'm\ngoing to type in a username.\n\n134\n00:07:04.860 --> 00:07:06.120\nI'm just guessing at this point.\n\n135\n00:07:06.120 --> 00:07:08.890\nPassword123.\n\n136\n00:07:08.890 --> 00:07:10.820\nAnd I'll go ahead and click LOGIN.\n\n137\n00:07:11.880 --> 00:07:13.480\nAnd then immediately\nover there in Burp Suite,\n\n138\n00:07:13.480 --> 00:07:15.770\nyou'll see that there's\nsome data over there.\n\n139\n00:07:15.770 --> 00:07:17.230\nWe'll zoom in in just a second.\n\n140\n00:07:17.230 --> 00:07:19.294\nBut, notice my webpage hasn't changed yet.\n\n141\n00:07:19.294 --> 00:07:23.677\nIn fact, in the bottom corner of that\nwebpage, you'll see where it says,\n\n142\n00:07:23.677 --> 00:07:25.230\nwaiting for, all right.\n\n143\n00:07:25.230 --> 00:07:27.360\nThat's because Burp Suite\nstopped the traffic.\n\n144\n00:07:27.360 --> 00:07:30.990\nSo my logon request hasn't made\nit to the application yet,\n\n145\n00:07:30.990 --> 00:07:33.350\nit's sitting here in Burp Suite.\n\n146\n00:07:33.350 --> 00:07:36.610\nIf I zoom in,\nI can see the information is getting sent.\n\n147\n00:07:36.610 --> 00:07:41.706\nIt's a get request and\nit has username =mike&amp;password=123&amp;login.\n\n148\n00:07:41.706 --> 00:07:45.351\nThere's some other values down there,\n\n149\n00:07:45.351 --> 00:07:50.824\nthere's a php session ID, and\nsecurity is low, all right.\n\n150\n00:07:50.824 --> 00:07:54.869\nAnd if I go ahead and forward this pack it\non, if I don't want to change anything,\n\n151\n00:07:54.869 --> 00:07:56.010\nI just click Forward.\n\n152\n00:07:56.010 --> 00:08:02.361\nAnd we'll zoom back out And\nwe'll see over here on my web page that my\n\n153\n00:08:02.361 --> 00:08:07.100\nuser name and/or password was incorrect,\nso my password guess didn't work.\n\n154\n00:08:07.100 --> 00:08:09.930\nAll right, so now you got to see there,\na little bit about what Burp Suite is,\n\n155\n00:08:09.930 --> 00:08:13.100\nit's gonna take that web traffic,\nit's gonna pause it.\n\n156\n00:08:13.100 --> 00:08:16.450\nYou get to look at it or change it,\nwhich is what we're gonna do next, and\n\n157\n00:08:16.450 --> 00:08:17.710\nthen send it onto the webpage.\n\n158\n00:08:17.710 --> 00:08:21.852\n&gt;&gt; So now, we basically have our\nplatform for our attack now,\n\n159\n00:08:21.852 --> 00:08:24.410\nwe say, okay we have the ability\nto intercept that traffic.\n\n160\n00:08:24.410 --> 00:08:28.064\nWe have the ability to modify that\ntraffic, specifically the username and\n\n161\n00:08:28.064 --> 00:08:31.785\npassword and now it just takes guessing\nuntil we do it right, right, Mike?\n\n162\n00:08:31.785 --> 00:08:34.592\n&gt;&gt; Well, guessing would be good and\nsay we could do that,\n\n163\n00:08:34.592 --> 00:08:37.301\nthat Burp Suite's gonna\nhelp us out with that.\n\n164\n00:08:37.301 --> 00:08:38.518\n&gt;&gt; That's really nice.\n\n165\n00:08:38.518 --> 00:08:41.420\n&gt;&gt; So I'm gonna do that one more time,\nI'm gonna put Mike in there and\n\n166\n00:08:41.420 --> 00:08:47.120\nI will put that same password,\npassword123 and I'll go ahead and log in.\n\n167\n00:08:49.500 --> 00:08:53.040\nAnd it's locked up on me,\nlet me refresh that web page real quick,\n\n168\n00:08:53.040 --> 00:08:57.890\nthere we go right, again it says waiting,\nyou can see my information is stuck here.\n\n169\n00:08:57.890 --> 00:09:01.480\nThis time, instead of forwarding it on,\ncuz I know that that username and\n\n170\n00:09:01.480 --> 00:09:04.230\npassword is incorrect,\nnow I wanna test my web out.\n\n171\n00:09:04.230 --> 00:09:07.520\nOr maybe I wanna see if my\nadmins are using weak passwords,\n\n172\n00:09:07.520 --> 00:09:10.260\nI wanna do some brute forcing against it.\n\n173\n00:09:10.260 --> 00:09:14.480\nSo, instead of clicking forward,\nI'm gonna click the Action button and\n\n174\n00:09:14.480 --> 00:09:15.180\nI'm gonna choose.\n\n175\n00:09:15.180 --> 00:09:16.916\nI'm gonna zoom in for you there, and\n\n176\n00:09:16.916 --> 00:09:20.060\nit doesn't want me to zoom\nwith the drop-down list down.\n\n177\n00:09:20.060 --> 00:09:26.127\nI'm gonna choose, Send to Intruder,\nwhich is another part of Burp Suite,\n\n178\n00:09:26.127 --> 00:09:30.066\nyou can see up there in the corner,\nmy Intruder tab, it was lit up.\n\n179\n00:09:30.066 --> 00:09:31.778\nI'll go ahead and click on that,\n\n180\n00:09:31.778 --> 00:09:35.154\nthe zoom is definitely doing some\nfunky things with my tool here.\n\n181\n00:09:35.154 --> 00:09:38.777\nSo I go to the Intruder,\nso we stop the traffic,\n\n182\n00:09:38.777 --> 00:09:44.684\nit's sitting there in Burp Suite, and\nI clicked Action, Send to Intruder.\n\n183\n00:09:44.684 --> 00:09:47.850\nNow, Intruder, it shows me the target,\nall right, the target,\n\n184\n00:09:47.850 --> 00:09:51.620\nit already has the host and\nthe port number there.\n\n185\n00:09:51.620 --> 00:09:55.960\nAnd then in Positions I get to see,\nlet me see if I can zoom in, there we go,\n\n186\n00:09:55.960 --> 00:09:58.280\nthere it is the packet that it grabbed.\n\n187\n00:09:58.280 --> 00:10:01.860\nAnd notice I've got some highlighted\nportions there, those are all of\n\n188\n00:10:01.860 --> 00:10:05.890\nthe variables that are getting sent\nback to the application, right?\n\n189\n00:10:05.890 --> 00:10:09.380\nThat's the way that form works, cuz it's\ntaking whatever you type into the username\n\n190\n00:10:09.380 --> 00:10:12.300\nand the password field,\nit's packaging it up.\n\n191\n00:10:12.300 --> 00:10:16.030\nWhen you click Login and it gets sending\nit to the web server in this format,\n\n192\n00:10:16.030 --> 00:10:18.770\nusername equals and\nwhatever you've typed in.\n\n193\n00:10:18.770 --> 00:10:21.370\nPassword equals and\nwhatever you've typed in, and\n\n194\n00:10:21.370 --> 00:10:24.300\nthen some feel that they're using\nit in the background logon.\n\n195\n00:10:24.300 --> 00:10:27.230\nAgain, that PHP session ID,\nsecurity is low,\n\n196\n00:10:27.230 --> 00:10:29.270\nand that session ID is\nactually pretty cool too.\n\n197\n00:10:29.270 --> 00:10:32.880\nThat will come into play if we ever\nwanna do a man in the middle attack or\n\n198\n00:10:32.880 --> 00:10:33.510\nsomething like that.\n\n199\n00:10:33.510 --> 00:10:36.120\nWe can take over an existing session but\nthat's for\n\n200\n00:10:36.120 --> 00:10:40.170\nanother show,\nnow the attack type says Sniper.\n\n201\n00:10:40.170 --> 00:10:43.610\nSniper sounds cool but\nthat's not what we're gonna do,\n\n202\n00:10:43.610 --> 00:10:49.270\nsorry, we're gonna change this\ndrop down list to Cluster bomb.\n\n203\n00:10:49.270 --> 00:10:53.630\nSniper really let you work with one field,\nhence the name Sniper,\n\n204\n00:10:53.630 --> 00:10:57.290\nlike you are really focusing in or picking\none little thing you wanna work with.\n\n205\n00:10:57.290 --> 00:11:02.800\nCluster bomb will allow me to actually\ndo what we're getting ready to do,\n\n206\n00:11:02.800 --> 00:11:04.600\nbrute force attack,\nI shouldn't say brute force.\n\n207\n00:11:04.600 --> 00:11:08.250\nDictionary based attacking, of trying\ndifferent combinations of usernames and\n\n208\n00:11:08.250 --> 00:11:10.490\npasswords from username and password list.\n\n209\n00:11:11.900 --> 00:11:16.194\nSo, I do not want to change the session\nID, so I'm gonna select that and\n\n210\n00:11:16.194 --> 00:11:18.370\nI'm gonna clear it.\n\n211\n00:11:18.370 --> 00:11:23.220\nI'm not gonna mess with the security type,\nI'll select that and I'm gonna clear it,\n\n212\n00:11:23.220 --> 00:11:27.450\nI really don't wanna change this either,\nso I'm gonna select it and clear it.\n\n213\n00:11:27.450 --> 00:11:31.910\nSo that really only leaves me with these\ntwo fields that I wanna try to manipulate.\n\n214\n00:11:31.910 --> 00:11:36.210\nThe username that I'm submitting and\nthe password that I'm submitting right,\n\n215\n00:11:37.370 --> 00:11:40.750\nso once we've got just what we want,\nselect it.\n\n216\n00:11:40.750 --> 00:11:46.184\nWe're gonna go ahead and click Add,\noops, that is not what I wanted to do,\n\n217\n00:11:46.184 --> 00:11:50.520\nnow I gotta clear all of that,\nthat was a misclick, sorry.\n\n218\n00:11:50.520 --> 00:11:55.833\nLet me clear all of that and\nwe'll add that back,\n\n219\n00:11:55.833 --> 00:11:59.340\nso we want Mike, the username.\n\n220\n00:12:00.650 --> 00:12:05.870\nAnd we want password, and we'll just add\nthose two guys back in there, all right.\n\n221\n00:12:05.870 --> 00:12:11.088\nSo we've got Cluster bomb selected and\nthen I'm gonna click on the Payloads tab.\n\n222\n00:12:11.088 --> 00:12:16.460\nNow we'll see, let me zoom in for you,\nI say you can see, it's awfully small.\n\n223\n00:12:16.460 --> 00:12:19.430\nSo I went to the Payloads tab, and\n\n224\n00:12:19.430 --> 00:12:22.960\non the Payload set,\nI hit this drop-down list, and I'll see 2.\n\n225\n00:12:22.960 --> 00:12:27.280\nThat's cuz I only had two fields\nhighlighted right, the password and\n\n226\n00:12:27.280 --> 00:12:29.660\nthe username that we're\ngetting ready to submit.\n\n227\n00:12:29.660 --> 00:12:33.680\nSo I'll start with Payload set 1,\nI'm gonna tell her it's a simple list but\n\n228\n00:12:33.680 --> 00:12:37.110\nyou do have a lot of different\noptions that you can try there.\n\n229\n00:12:37.110 --> 00:12:41.060\nAnd our simple list,\nI could load up a file and\n\n230\n00:12:41.060 --> 00:12:43.200\nthis is where you would pull\nout your dictionary files.\n\n231\n00:12:43.200 --> 00:12:47.550\nWhen you've got a list of usernames that\nyou wanna try or a list of passwords that\n\n232\n00:12:47.550 --> 00:12:50.720\nyou wanna try, your dictionary files,\nyou would load them up.\n\n233\n00:12:50.720 --> 00:12:55.459\nTo keep this nice and\neasy I'm just gonna add manually and\n\n234\n00:12:55.459 --> 00:13:01.595\ncreate a temporary list,\nwe'll do administrator, it's a common one.\n\n235\n00:13:01.595 --> 00:13:05.948\nAnd we'll do admin all right, and\n\n236\n00:13:05.948 --> 00:13:11.062\nblank, I'm actually going to remove.\n\n237\n00:13:14.271 --> 00:13:18.084\nAll right, so we got payload 1 set,\nwhat that means is, back in Payload 1,\n\n238\n00:13:18.084 --> 00:13:22.360\nif we look at Positions again, Payload\n1 is this first one here for username.\n\n239\n00:13:22.360 --> 00:13:25.870\nI'm telling it, I want you to try\nadministrator, I also want you to try\n\n240\n00:13:25.870 --> 00:13:29.718\nadmin, so substitute those values in for\nthat username.\n\n241\n00:13:29.718 --> 00:13:31.393\nObviously, in the real world,\n\n242\n00:13:31.393 --> 00:13:35.686\nI'd have a much longer list with lots of\ndifferent usernames that I wanted to try.\n\n243\n00:13:35.686 --> 00:13:41.258\nBack over the Payloads tab,\nI'm gonna go to Payload position 2,\n\n244\n00:13:41.258 --> 00:13:45.150\nsame thing,\nI would normally use a word list.\n\n245\n00:13:45.150 --> 00:13:47.890\nlike fastrack or rockyou or\n\n246\n00:13:47.890 --> 00:13:52.045\nsome other wordlist that I have generated\nof known passwords or what have you.\n\n247\n00:13:52.045 --> 00:13:56.374\nI'm gonna just going to type in a few and\nwe're just gonna like I say,\n\n248\n00:13:56.374 --> 00:13:57.580\nkeep this simple.\n\n249\n00:13:57.580 --> 00:14:02.714\nWe'll click add there,\nwe'll add another one, and last but\n\n250\n00:14:02.714 --> 00:14:07.267\nnot least, just all lowercase password,\nall right?\n\n251\n00:14:07.267 --> 00:14:11.624\nSo now I've got both of those set,\nI've got the two positions marked,\n\n252\n00:14:11.624 --> 00:14:16.680\nthis is where I want you to replace those,\nand I've got my two payloads set.\n\n253\n00:14:16.680 --> 00:14:21.950\nSo for the user name, it's gonna try\nadministrator and admin, for the second\n\n254\n00:14:21.950 --> 00:14:26.160\none, which is the password, it's gonna go\nthrough those three passwords, all right?\n\n255\n00:14:26.160 --> 00:14:29.520\nEverything else should be good, we don't\nneed to change anything over there, so\n\n256\n00:14:29.520 --> 00:14:32.580\nat this point,\nwe are going to say, Start attack.\n\n257\n00:14:34.370 --> 00:14:37.970\nAnd it tells me that they are going\nto limit, with the free version,\n\n258\n00:14:37.970 --> 00:14:42.100\nit is gonna slow us down a little bit,\nit is time throttled.\n\n259\n00:14:42.100 --> 00:14:46.525\nWe're going to click okay, and\nit's gonna start going through, and\n\n260\n00:14:46.525 --> 00:14:48.626\nit tells me that it's finished.\n\n261\n00:14:48.626 --> 00:14:52.385\nNow lets zoom in and\ntake a look at our results here, Daniel,\n\n262\n00:14:52.385 --> 00:14:57.788\ndoesn't look like anything happened,\nit's like, well that was exciting, right?\n\n263\n00:14:57.788 --> 00:15:00.939\n&gt;&gt; Yeah, it's like okay,\nyou've tried these usernames and\n\n264\n00:15:00.939 --> 00:15:04.240\ntried it with these passwords and\nhave a good day, sir [LAUGH].\n\n265\n00:15:04.240 --> 00:15:07.540\n&gt;&gt; Exactly, you see it tried both\nusernames with the first password,\n\n266\n00:15:07.540 --> 00:15:10.760\nboth usernames with the second,\nboth with the third.\n\n267\n00:15:10.760 --> 00:15:14.370\nSo if you had a long list of usernames,\na longer list of passwords,\n\n268\n00:15:14.370 --> 00:15:16.370\nit would go through all\nof those combinations.\n\n269\n00:15:16.370 --> 00:15:19.830\nEach username with every one\nof those passwords until\n\n270\n00:15:19.830 --> 00:15:21.020\nit got to the end of the list.\n\n271\n00:15:21.020 --> 00:15:25.029\n&gt;&gt; Would we just see on the web page, just\nbeing logged in, was it sending that data?\n\n272\n00:15:25.029 --> 00:15:29.958\n&gt;&gt; That's a good question, let's take\na look, and notice nothing has changed on\n\n273\n00:15:29.958 --> 00:15:34.243\nmy web page, well how do I know,\ndid it find a username and password?\n\n274\n00:15:34.243 --> 00:15:35.061\n&gt;&gt; Right.\n&gt;&gt; Did it work or did it not,\n\n275\n00:15:35.061 --> 00:15:36.165\nhow do we interpret these results?\n\n276\n00:15:36.165 --> 00:15:39.794\nAnd there's where you gotta\nknow what to look for here, and\n\n277\n00:15:39.794 --> 00:15:45.109\nwhen you're looking at these results, they\nall look the same but look at that length.\n\n278\n00:15:45.109 --> 00:15:45.935\n&gt;&gt; Length.\n\n279\n00:15:45.935 --> 00:15:46.713\n&gt;&gt; Yeah, you see that?\n\n280\n00:15:46.713 --> 00:15:50.541\nAnd so what that's telling me,\nit's not telling me a lot but\n\n281\n00:15:50.541 --> 00:15:54.453\nit is enough to say that every\nother response was 49.63.\n\n282\n00:15:54.453 --> 00:15:57.784\nThat one combination though\nhad a different response.\n\n283\n00:15:57.784 --> 00:15:59.550\nThink about what's going on.\n\n284\n00:15:59.550 --> 00:16:01.339\nYou're firing guesses at this website,\n\n285\n00:16:01.339 --> 00:16:04.160\nevery time you guess wrong you\nget the same message back, right?\n\n286\n00:16:04.160 --> 00:16:08.120\nUsername or password not valid.\n\n287\n00:16:08.120 --> 00:16:12.470\nWhen you successfully log on, you get\na slightly different message which means\n\n288\n00:16:12.470 --> 00:16:15.760\nthe length of the packet that's coming\nback is gonna be slightly different.\n\n289\n00:16:15.760 --> 00:16:18.990\nSo that's out first indicator\nthat that's probably the one.\n\n290\n00:16:18.990 --> 00:16:21.290\nThat might be something different there,\nall right?\n\n291\n00:16:21.290 --> 00:16:24.310\nThe other way that you do it\nis you just click on each one,\n\n292\n00:16:24.310 --> 00:16:25.580\nwhich is not real efficient.\n\n293\n00:16:25.580 --> 00:16:27.870\nThat's why I say look at the length.\n\n294\n00:16:27.870 --> 00:16:30.040\nSometimes you can look at\nthe status column, but\n\n295\n00:16:30.040 --> 00:16:34.670\nin this case we get the same status\nwhether we succeeded or failed.\n\n296\n00:16:34.670 --> 00:16:38.420\nBut here,\nif I select that first one alright.\n\n297\n00:16:38.420 --> 00:16:40.750\nWhat can I look at here.\n\n298\n00:16:40.750 --> 00:16:45.510\nIf I look at the Response tab and\nthen I look at the Render.\n\n299\n00:16:45.510 --> 00:16:49.650\nSo what I'm saying is hey, this is the\npacket I sent you with administrator and\n\n300\n00:16:49.650 --> 00:16:54.080\ncapital PA Dollar Dollar and I want to see\nwhat the web server responded with and\n\n301\n00:16:54.080 --> 00:16:57.500\nnot in text, I want you to render\nit out as the actual webpage,\n\n302\n00:16:57.500 --> 00:16:58.390\nlet's see what's going on.\n\n303\n00:16:58.390 --> 00:17:00.980\nI'm gonna zoom back out so\nwe can make a little more sense of this,\n\n304\n00:17:00.980 --> 00:17:01.640\nI'll blow this up.\n\n305\n00:17:02.700 --> 00:17:05.380\nSo you see it is rendering the webpage and\nas I scroll down,\n\n306\n00:17:07.070 --> 00:17:11.930\nthere's my old username and password\nincorrect and if I look at the next one,\n\n307\n00:17:11.930 --> 00:17:16.090\nit's gonna render that page, same thing,\nusername and password incorrect.\n\n308\n00:17:16.090 --> 00:17:20.900\nI go down to that one that's slightly\ndifferent with a different length I see,\n\n309\n00:17:23.810 --> 00:17:28.190\nwelcome to the password\nprotected area admin, all right?\n\n310\n00:17:28.190 --> 00:17:28.700\n&gt;&gt; There you go.\n\n311\n00:17:28.700 --> 00:17:31.270\n&gt;&gt; So\nit's saying that this was successful.\n\n312\n00:17:31.270 --> 00:17:35.830\nI can now see that that\ncombination user name admin all\n\n313\n00:17:35.830 --> 00:17:40.200\nlower case password actually worked,\nall right.\n\n314\n00:17:40.200 --> 00:17:42.013\nLet's go ahead and I tell you what,\n\n315\n00:17:42.013 --> 00:17:45.468\nwe'll just minimize this attack here,\nand we'll see if it works.\n\n316\n00:17:45.468 --> 00:17:48.410\nI'm gonna go back over\nto the actual webpage.\n\n317\n00:17:48.410 --> 00:17:53.920\nType in admin, and type in all\nlowercase password, and click login.\n\n318\n00:17:55.650 --> 00:17:59.330\nNow I'm still proxying, so I'm gonna\nhave to go back over to my proxy tab,\n\n319\n00:17:59.330 --> 00:18:02.460\nand I can see it's\ngetting ready to submit.\n\n320\n00:18:02.460 --> 00:18:05.630\nThat's actually the wrong one.\n\n321\n00:18:05.630 --> 00:18:07.231\nLet's see if we can get past there.\n\n322\n00:18:07.231 --> 00:18:09.330\nThere we go.\nNow it's getting ready to submit\n\n323\n00:18:09.330 --> 00:18:10.170\nusername admin.\n\n324\n00:18:10.170 --> 00:18:13.790\nLet me zoom in for you,\nand password to password.\n\n325\n00:18:13.790 --> 00:18:14.810\nZoom back out.\n\n326\n00:18:14.810 --> 00:18:17.030\nWe'll go ahead and forward that.\n\n327\n00:18:17.030 --> 00:18:20.880\nAnd sure enough,\nI am logged in to the web page.\n\n328\n00:18:20.880 --> 00:18:21.630\nAlright?\n\n329\n00:18:21.630 --> 00:18:25.380\nSo that is what we can do\nwith a tool like Burp Suite.\n\n330\n00:18:25.380 --> 00:18:29.450\nBurp Suite is a proxy basically\nthat sits between you and\n\n331\n00:18:29.450 --> 00:18:33.380\nthe application and allows you to monitor\nthat traffic that's going in and out.\n\n332\n00:18:33.380 --> 00:18:37.024\nSo as I said earlier, if you were\nworking for an organization and\n\n333\n00:18:37.024 --> 00:18:40.690\nyou were tasked with checking\nout your web applications.\n\n334\n00:18:40.690 --> 00:18:44.395\nNow this isn't a vulnerability scanner,\nit's not gonna automate scan,\n\n335\n00:18:44.395 --> 00:18:47.175\nthe pay version is, don't get me wrong, if\nyou want to go out and buy a license for\n\n336\n00:18:47.175 --> 00:18:50.635\nBurp Suite,\nthen that would do vulnerability scanning.\n\n337\n00:18:50.635 --> 00:18:54.345\nBut this free edition is just allowing\nme to take a look at the data,\n\n338\n00:18:54.345 --> 00:18:58.472\nthe information that's been being sent\nback and forth between my browser and\n\n339\n00:18:58.472 --> 00:19:02.882\nthe application and that gives me a chance\nto think well what's the use of that.\n\n340\n00:19:02.882 --> 00:19:06.172\nBut it gives me a chance to take a look\nat what that application is doing.\n\n341\n00:19:06.172 --> 00:19:11.042\nI wanna make sure that we're not giving up\ninformation to the bad guys that easily.\n\n342\n00:19:11.042 --> 00:19:12.812\nWhere all they have to do\nis capture traffic and\n\n343\n00:19:12.812 --> 00:19:16.872\nthey can see paths in there,\nto scripts or things like that.\n\n344\n00:19:16.872 --> 00:19:20.562\nOr in this case we're able to\nmanipulate the traffic and\n\n345\n00:19:21.890 --> 00:19:23.620\nyou might be doing it just to test, right?\n\n346\n00:19:23.620 --> 00:19:25.610\nYou might be trying to\nfuzz the application,\n\n347\n00:19:25.610 --> 00:19:28.220\nwhere you're submitting random values.\n\n348\n00:19:28.220 --> 00:19:30.610\nIt's a phone number field.\n\n349\n00:19:30.610 --> 00:19:32.230\nWhat happens if I put text in there?\n\n350\n00:19:32.230 --> 00:19:33.968\nDoes that crash the application?\n\n351\n00:19:33.968 --> 00:19:37.500\nHow does that that application respond,\nBurp Suite will let me see that.\n\n352\n00:19:37.500 --> 00:19:41.228\nBut then we can take it a step further and\nwe can get on the attack side of things.\n\n353\n00:19:41.228 --> 00:19:44.780\nWe can start manipulating that data and\nin this case we're able to launch\n\n354\n00:19:44.780 --> 00:19:50.480\na dictionary attack against that web\nform and get access to that website.\n\n355\n00:19:50.480 --> 00:19:52.660\n&gt;&gt; It's definitely a very interesting,\n\n356\n00:19:52.660 --> 00:19:57.490\nvery effective tool that's available\nto us as security professionals.\n\n357\n00:19:57.490 --> 00:20:01.490\nBut remember it's also available to\nthe bad guy security people out there that\n\n358\n00:20:01.490 --> 00:20:03.000\nwant to get into your things.\n\n359\n00:20:03.000 --> 00:20:07.960\nSo we're both using the same set\nof tools for different ends.\n\n360\n00:20:07.960 --> 00:20:10.680\nWe're trying to figure out if\nI'm able to get through so\n\n361\n00:20:10.680 --> 00:20:14.290\nI can use Burp Suite to check for\nweak password areas, right?\n\n362\n00:20:14.290 --> 00:20:17.630\nLook for things like,\nif I'm manipulating data.\n\n363\n00:20:17.630 --> 00:20:23.140\nWhat if I have sanitization going on,\ncan I bypass that using Burp Suite?\n\n364\n00:20:23.140 --> 00:20:26.250\nIt's very effective, all these\nproxying tools that are available.\n\n365\n00:20:26.250 --> 00:20:30.131\nBurp Suite's not the only one out there,\nobviously, but hey all have that ability\n\n366\n00:20:30.131 --> 00:20:33.640\nto be able to start manipulating data\nas it's being passed back and forth.\n\n367\n00:20:33.640 --> 00:20:36.010\nAnd you never know what you\ncan do with that thing.\n\n368\n00:20:36.010 --> 00:20:40.017\nMike's shown us a great demonstration\nof the power of the proxy.\n\n369\n00:20:40.017 --> 00:20:42.435\nMike, anything else we wanna\ncover before we close the show?\n\n370\n00:20:42.435 --> 00:20:47.060\nWe really just scratched the surface\nof what Burp Suite can do.\n\n371\n00:20:47.060 --> 00:20:51.360\nThere are a bunch of other things where\nyou can get in, and really hammer on that\n\n372\n00:20:51.360 --> 00:20:56.450\napplication and test it out,\nthis is just a a small peek at it.\n\n373\n00:20:56.450 --> 00:20:59.670\nSo if it's something you think you're\ngonna use, you know, get in there and\n\n374\n00:20:59.670 --> 00:21:01.270\nplay around with some\nof those other options.\n\n375\n00:21:01.270 --> 00:21:04.120\n&gt;&gt; Alright, well everyone that\nlooks like it does it for us today.\n\n376\n00:21:04.120 --> 00:21:07.196\nWe do thank you for watching, but it is\ntime for us to sign off for IT Pro TV.\n\n377\n00:21:07.196 --> 00:21:09.680\nI've been your host Daniel Lowrie.\n\n378\n00:21:09.680 --> 00:21:10.660\n&gt;&gt; And I'm Mike Roderick.\n\n379\n00:21:10.660 --> 00:21:11.601\n&gt;&gt; We'll see you next time.\n\n380\n00:21:11.601 --> 00:21:18.230\n[MUSIC]\n\n381\n00:21:18.230 --> 00:21:20.580\nThank you for watching ITPROTV.\n\n",
          "vimeoId": "223455966"
        },
        {
          "description": "In this episode, Daniel and Mike explore common tools, techniques, and practices used in the pursuit of securing your environment. Here they specifically look at using the OWASP ZAP web application scanner and proxy for testing the security of our web apps. Watch as they show you how to use ZAP to scan a web app with its built-in vulnerability scanner, how to set up ZAP as a web proxy, and even perform a dictionary-based password attack.",
          "length": "738",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-4-2-owasp_zap-062317-PGM.00_12_03_07.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-4-2-owasp_zap-062317-PGM.00_12_03_07.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-4-2-owasp_zap-062317-PGM.00_12_03_07.Still001-sm.jpg",
          "title": "OWASP Zap",
          "transcript": "WEBVTT\n\n1\n00:00:00.240 --> 00:00:01.240\nWelcome to ITProTV.\n\n2\n00:00:01.240 --> 00:00:03.453\nI'm your host, Don Pezet.\n\n3\n00:00:03.453 --> 00:00:08.249\n[CROSSTALK]\n\n4\n00:00:08.249 --> 00:00:12.064\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.064 --> 00:00:13.843\n&gt;&gt; All right, greetings everyone and\n\n6\n00:00:13.843 --> 00:00:16.340\nwelcome to another exciting\nepisode of ITProTV.\n\n7\n00:00:16.340 --> 00:00:19.280\nI'm your host Daniel Lowrie and\nin today's episode?\n\n8\n00:00:19.280 --> 00:00:21.690\nWell, like I said, I hope you're excited.\n\n9\n00:00:21.690 --> 00:00:25.310\nBecause we`re back with more in\nour security tech skills series,\n\n10\n00:00:25.310 --> 00:00:27.340\nwhich has been a great good time so far.\n\n11\n00:00:27.340 --> 00:00:30.840\nAnd joining us back in the studio yet\nagain, our good friend Mr. Mike Rodrick.\n\n12\n00:00:30.840 --> 00:00:32.576\nMike, back in the saddle, how`s it going?\n\n13\n00:00:32.576 --> 00:00:33.490\n&gt;&gt; It`s going great Daniel.\n\n14\n00:00:33.490 --> 00:00:35.700\nThanks for having me back,\nexcited to be here as always.\n\n15\n00:00:35.700 --> 00:00:38.870\nAnd today we`re going to be\ntaking a look at another one of\n\n16\n00:00:38.870 --> 00:00:41.290\nthose web application analysis tools.\n\n17\n00:00:41.290 --> 00:00:46.750\nThis one is known as OWASP ZAP, or\ngood old Zed Application Proxy.\n\n18\n00:00:46.750 --> 00:00:50.770\nOr something like that, I forget what\nthe Z stands for, but great little tool.\n\n19\n00:00:50.770 --> 00:00:54.020\nAnd it's another one of those tools\nthat's gonna really let us take a look\n\n20\n00:00:54.020 --> 00:00:58.030\nat a web application and\nmonitor, act like a proxy,\n\n21\n00:00:58.030 --> 00:01:02.930\nbetween the browser and the application so\nwe can analyze what's going on, right?\n\n22\n00:01:02.930 --> 00:01:06.300\nWe can see the information that's getting\nsubmitted, how it's getting submitted,\n\n23\n00:01:06.300 --> 00:01:10.860\nwhat it looks like, as well as how\nthe information is getting returned, and\n\n24\n00:01:10.860 --> 00:01:13.620\nit'll even let us pause the traffic.\n\n25\n00:01:13.620 --> 00:01:16.090\nAnd that's where the power\ncomes in because once I\n\n26\n00:01:16.090 --> 00:01:19.548\npause that traffic on its way to\nthe application, I can manipulate it.\n\n27\n00:01:19.548 --> 00:01:22.900\nI can do something to it,\nand then send it on its way.\n\n28\n00:01:22.900 --> 00:01:23.500\nAll right.\n\n29\n00:01:23.500 --> 00:01:26.600\nSo that's what we're going\nto take a look at today.\n\n30\n00:01:26.600 --> 00:01:30.410\nSo, we've got our favorite darn\nvulnerable application fired up.\n\n31\n00:01:30.410 --> 00:01:32.348\nThat's running over on\nanother virtual machine.\n\n32\n00:01:32.348 --> 00:01:37.049\nI'm sitting here on my CaliBox,\nit's running 2017 so it has the OWASP ZAP\n\n33\n00:01:37.049 --> 00:01:41.111\nalready installed but you can go get\nthat from OWASP if you need it and\n\n34\n00:01:41.111 --> 00:01:44.400\nwe will take a look at how this guy works.\n\n35\n00:01:44.400 --> 00:01:47.140\nWe'll start by firing up my browser.\n\n36\n00:01:47.140 --> 00:01:49.850\nActually, I need to fire up OWasp as well.\n\n37\n00:01:49.850 --> 00:01:51.720\nSo, let me get that guy going.\n\n38\n00:01:51.720 --> 00:01:52.400\nGo down to Cali.\n\n39\n00:01:52.400 --> 00:01:57.365\nIt's under Web Application Analysis and\nthen OWASP ZAP.\n\n40\n00:01:57.365 --> 00:01:59.125\n&gt;&gt; It looks like a Tampa Bay lightning.\n\n41\n00:01:59.125 --> 00:02:00.373\n&gt;&gt; [LAUGHS] It does, doesn't it?\n\n42\n00:02:00.373 --> 00:02:02.262\n&gt;&gt; It turns it backwards [LAUGHS].\n\n43\n00:02:02.262 --> 00:02:03.445\n&gt;&gt; I like it.\n\n44\n00:02:03.445 --> 00:02:05.695\nAll right,\nthat is my favorite hockey team.\n\n45\n00:02:05.695 --> 00:02:07.761\n&gt;&gt; I know, [LAUGH].\n\n46\n00:02:07.761 --> 00:02:10.410\n&gt;&gt; It does ask me if I want to\npersist the session or not.\n\n47\n00:02:10.410 --> 00:02:12.550\nFor this example, I'm not going to.\n\n48\n00:02:12.550 --> 00:02:18.429\nA cool thing about OWASP, OWASP is\nthe one that puts out the OWASP top ten.\n\n49\n00:02:18.429 --> 00:02:21.631\nLowrie talked about the top ten\nvulnerabilities that websites and\n\n50\n00:02:21.631 --> 00:02:23.485\nweb applications are facing.\n\n51\n00:02:23.485 --> 00:02:26.125\nA great resource in and of itself.\n\n52\n00:02:26.125 --> 00:02:30.948\nThen they've got this tool which acts\nas a vulnerability scanner as well,\n\n53\n00:02:30.948 --> 00:02:35.850\nso you could simply come in here and type\nin the URL of your web application and\n\n54\n00:02:35.850 --> 00:02:37.703\njust click attack, right?\n\n55\n00:02:37.703 --> 00:02:40.840\nAnd what it's going to do is it's going\nto scan the machine basically like\n\n56\n00:02:40.840 --> 00:02:42.370\nany other vulnerability scanner.\n\n57\n00:02:42.370 --> 00:02:46.210\nIt's going to work against\na database of known vulnerabilities,\n\n58\n00:02:46.210 --> 00:02:49.650\nsee if you have any of those showing up.\n\n59\n00:02:49.650 --> 00:02:52.810\nYou can see it's going through,\ndoing it's active scan.\n\n60\n00:02:52.810 --> 00:02:55.262\nAnd even before it finishes,\nit's not going to take long,\n\n61\n00:02:55.262 --> 00:02:56.550\nin fact it's muzzle wait.\n\n62\n00:02:56.550 --> 00:02:57.300\nWe'll let it finish there.\n\n63\n00:02:58.420 --> 00:03:00.550\nJust about, there we go.\n\n64\n00:03:00.550 --> 00:03:02.370\nAnd then we go over to alerts, and\n\n65\n00:03:02.370 --> 00:03:05.940\nI can see all the different\nissues that my website faces.\n\n66\n00:03:05.940 --> 00:03:07.430\nNow this are my web application.\n\n67\n00:03:07.430 --> 00:03:11.068\nThis is obviously an application\nthat is setup to be vulnerable so\n\n68\n00:03:11.068 --> 00:03:14.420\nthat we can test out tools like this and\nsee what we're doing.\n\n69\n00:03:15.732 --> 00:03:18.650\nAs a no surprise there,\nthat has a lot of vulnerabilities.\n\n70\n00:03:18.650 --> 00:03:19.780\nAll right.\n\n71\n00:03:19.780 --> 00:03:23.840\nSo, what we're gonna do is because\nthis is gonna act like a proxy.\n\n72\n00:03:23.840 --> 00:03:25.370\nI need to make sure it's listening.\n\n73\n00:03:25.370 --> 00:03:28.024\nAnd I need to know what\nport it's listening on and\n\n74\n00:03:28.024 --> 00:03:31.738\nthen I need configure my browser to\npoint towards this as its proxy.\n\n75\n00:03:31.738 --> 00:03:36.226\nWe're gonna go up to Tools and\n\n76\n00:03:36.226 --> 00:03:41.439\nthen down to, let me find it here.\n\n77\n00:03:41.439 --> 00:03:44.320\nWe had already done the options,\nthat's right.\n\n78\n00:03:44.320 --> 00:03:48.060\nAnd in my options, if we take a look,\n\n79\n00:03:48.060 --> 00:03:53.635\nI'll scroll down here,\nI have my local proxy option.\n\n80\n00:03:56.390 --> 00:04:02.349\nMay be that is my we'll give it just\na second to start responding again.\n\n81\n00:04:02.349 --> 00:04:04.605\n&gt;&gt; I feel like Scotty, computer.\n\n82\n00:04:04.605 --> 00:04:06.682\n[LAUGH] Hello, computer.\n\n83\n00:04:06.682 --> 00:04:10.001\n&gt;&gt; [LAUGH] Will you stop?\n\n84\n00:04:10.001 --> 00:04:14.073\n[LAUGH] There we go, works fine again.\n\n85\n00:04:14.073 --> 00:04:15.145\nWe just had to talk to that mouse.\n\n86\n00:04:15.145 --> 00:04:17.380\n&gt;&gt; Just gotta be sweet to it.\n\n87\n00:04:17.380 --> 00:04:21.350\n&gt;&gt; So I choose local proxy and\nI can see out here 127.0.0.1.\n\n88\n00:04:21.350 --> 00:04:22.578\nPort 8080.\n\n89\n00:04:22.578 --> 00:04:27.222\nSo just like always,\nwe'll click OK on that.\n\n90\n00:04:27.222 --> 00:04:29.010\nAnd then go back over to my browser.\n\n91\n00:04:30.650 --> 00:04:34.700\nAnd we'll go into my options or\npreferences in Firefox,\n\n92\n00:04:35.760 --> 00:04:39.790\nthen go to Advanced,\nNetwork and then Settings.\n\n93\n00:04:41.290 --> 00:04:46.932\nAnd here I'm going to manually\nset my proxy to 127001:8080,\n\n94\n00:04:46.932 --> 00:04:51.668\nand I'll go ahead and click OK and\nclose that tab, all right?\n\n95\n00:04:51.668 --> 00:04:55.220\nSo now everything should be\nfunneling through a OWASP ZAP.\n\n96\n00:04:55.220 --> 00:04:56.138\nBut let's test it.\n\n97\n00:04:56.138 --> 00:05:03.660\nLet's go to 10.10.1.127\nbringing me to my login page.\n\n98\n00:05:05.090 --> 00:05:07.320\nLet's kinda split this up here.\n\n99\n00:05:07.320 --> 00:05:09.680\nWe can keep an eye on both of these guys.\n\n100\n00:05:09.680 --> 00:05:13.891\nAnd if I go to my request, there you can\n\n101\n00:05:13.891 --> 00:05:18.631\nsee where I went to 127/login.php and\n\n102\n00:05:18.631 --> 00:05:24.568\nlet me just go ahead and\nlog in to the actual test site.\n\n103\n00:05:24.568 --> 00:05:26.833\nAnd we're gonna go over to brute force.\n\n104\n00:05:26.833 --> 00:05:32.070\nThat's the one that gives us the form\nthat we're gonna test our tools out on.\n\n105\n00:05:33.440 --> 00:05:36.430\nSo what I wanna do is I'm gonna\nput in a username and password.\n\n106\n00:05:36.430 --> 00:05:40.360\nWhat I need to do is capture\nthis log on request.\n\n107\n00:05:40.360 --> 00:05:42.730\nAnd I'm gonna have ZAP stop that and\n\n108\n00:05:42.730 --> 00:05:48.490\ngive me a chance to manipulate that\ninformation, see if we can test this.\n\n109\n00:05:48.490 --> 00:05:50.190\nSee if we can, not brute force,\n\n110\n00:05:50.190 --> 00:05:53.100\nbut launch a dictionary attack\nagainst these passwords.\n\n111\n00:05:54.230 --> 00:05:59.050\nAll right so, now with this one, I'm going\nto go ahead and type in admin and then for\n\n112\n00:05:59.050 --> 00:06:04.226\nthe password I'm just gonna put\nsomething like a log me in.\n\n113\n00:06:04.226 --> 00:06:12.160\nAnd I'll click Log in.\n\n114\n00:06:12.160 --> 00:06:13.250\nAll right.\nAnd we'll see down here at\n\n115\n00:06:13.250 --> 00:06:15.160\nthe bottom, I'm sorry.\n\n116\n00:06:15.160 --> 00:06:16.190\nWe should see the, yep.\n\n117\n00:06:16.190 --> 00:06:17.500\nThat was incorrect.\n\n118\n00:06:17.500 --> 00:06:22.710\nIf I go to my history tab back on ZAP,\nI should see that request,\n\n119\n00:06:22.710 --> 00:06:25.180\nand that was this one right here.\n\n120\n00:06:27.100 --> 00:06:31.570\nAnd let me try to zoom in for you guys,\nyou can actually see that up here.\n\n121\n00:06:31.570 --> 00:06:35.150\nHere is the request that went out, and if\nyou look at that second line it's got Get\n\n122\n00:06:35.150 --> 00:06:39.920\nand then there's a line that says http and\nit's my URL for\n\n123\n00:06:39.920 --> 00:06:46.830\nthat site/brute and then the\nusername=admin password=log me in, right.\n\n124\n00:06:46.830 --> 00:06:48.382\nSo it's captured that log on traffic.\n\n125\n00:06:48.382 --> 00:06:51.170\nNow it didn't stop it,\nbut it did capture it and\n\n126\n00:06:51.170 --> 00:06:54.810\nit's gonna allow me to replay that,\nthat's the trick here.\n\n127\n00:06:55.850 --> 00:07:01.690\nSo all I'm gonna do is I'm going to select\nthe password that it was submitting,\n\n128\n00:07:01.690 --> 00:07:03.740\nI'm gonna right click on it.\n\n129\n00:07:03.740 --> 00:07:05.501\nAnd I'm gonna choose Fuzz.\n\n130\n00:07:05.501 --> 00:07:08.790\nI'm probably got to zoom back out so\nwe can actually see that dialogue box.\n\n131\n00:07:08.790 --> 00:07:10.480\nSo, here's my Fuzzer and\n\n132\n00:07:10.480 --> 00:07:15.900\nthe Fuzzer allows me to switch\nout what I'm submitting in there.\n\n133\n00:07:15.900 --> 00:07:18.237\nSo, I can try to submit something else,\nright?\n\n134\n00:07:18.237 --> 00:07:22.113\nSaying if I was doing a test from this web\napplication maybe I want to put something\n\n135\n00:07:22.113 --> 00:07:25.880\nin there that I've think my crash or\nto see how that application will respond.\n\n136\n00:07:27.670 --> 00:07:31.530\nOver here on the right hand side,\nI got my fuzz location.\n\n137\n00:07:31.530 --> 00:07:32.600\nAnd that's what I selected.\n\n138\n00:07:32.600 --> 00:07:35.640\nThe log me in or\nthe password is what it's looking at.\n\n139\n00:07:35.640 --> 00:07:37.210\nAnd I'm going to click payloads.\n\n140\n00:07:38.920 --> 00:07:42.770\nAnd then I'm going to click add And\n\n141\n00:07:42.770 --> 00:07:46.140\nI’m gonna do a String but\nif I wanted to I could do a File,\n\n142\n00:07:46.140 --> 00:07:50.750\nif I have a dictionary file with a bunch\nof passwords that I want to attempt.\n\n143\n00:07:50.750 --> 00:07:54.160\nMaybe I’m just trying to do some auditing\nand I’m gonna make sure that they haven’t\n\n144\n00:07:54.160 --> 00:07:57.790\nset the admin password to something\nthat shows up on my dictionary file.\n\n145\n00:07:57.790 --> 00:08:01.000\nI’ve got a list of passwords\nthat are not supposed to be used\n\n146\n00:08:01.000 --> 00:08:03.850\nI wanna make sure that I'm using those or\nI'm using a weak password.\n\n147\n00:08:03.850 --> 00:08:06.470\nIn my case,\nI'm just gonna use a simple string.\n\n148\n00:08:07.710 --> 00:08:08.760\nAnd you just type in.\n\n149\n00:08:08.760 --> 00:08:15.670\nSo we'll say maybe they're using that, or\nmaybe something like that, or maybe that.\n\n150\n00:08:17.410 --> 00:08:21.140\nAll right, so\nyou just type in all the values you want.\n\n151\n00:08:21.140 --> 00:08:23.050\nOr like I said, load up a file.\n\n152\n00:08:23.050 --> 00:08:27.440\nAnd I'll go ahead and\nclick Add, all right?\n\n153\n00:08:27.440 --> 00:08:31.006\nThen I'll click OK, and\nthen we're gonna click Start Fuzzer.\n\n154\n00:08:35.338 --> 00:08:39.452\nAnd it's gonna go through there, and\nyou can see it as these different,\n\n155\n00:08:39.452 --> 00:08:40.340\nshould pop up.\n\n156\n00:08:40.340 --> 00:08:43.990\nAnd let me maximize this now that\nwe're done with that web page.\n\n157\n00:08:45.480 --> 00:08:48.670\nAll right, so\nthere is my different fuzz attempts.\n\n158\n00:08:48.670 --> 00:08:52.120\nAnd if I select one I can actually\nsee what it's submitting up here.\n\n159\n00:08:52.120 --> 00:08:53.150\nI'll zoom back in for you.\n\n160\n00:08:53.150 --> 00:08:58.830\nAnd there I can see admin with\nthat first password in my list.\n\n161\n00:08:58.830 --> 00:09:01.660\nIf we go back down and\nselect the second one,\n\n162\n00:09:01.660 --> 00:09:04.849\nthen I can see admin with that\nsecond password from the list.\n\n163\n00:09:05.990 --> 00:09:09.990\nAnd then the third one is where it tried.\n\n164\n00:09:09.990 --> 00:09:16.950\nOops, if I go to the request I can\nsee admin and all lowercase password.\n\n165\n00:09:16.950 --> 00:09:19.880\nNow, I kind of gave it away\nthere when I selected that one.\n\n166\n00:09:19.880 --> 00:09:22.170\nNotice it went right to the response,\n\n167\n00:09:22.170 --> 00:09:24.240\nbecause there was\na response from that one.\n\n168\n00:09:24.240 --> 00:09:26.180\nBecause that one actually succeeded,\n\n169\n00:09:26.180 --> 00:09:28.590\nwhereas the others didn't\nhave the same response.\n\n170\n00:09:28.590 --> 00:09:33.070\nThere might be a response that comes\nback with a bad request, or username,\n\n171\n00:09:33.070 --> 00:09:35.210\npassword no good.\n\n172\n00:09:35.210 --> 00:09:37.720\nBut normally this list would\nbe a lot longer, right?\n\n173\n00:09:37.720 --> 00:09:40.150\nBecause you're gonna have a list of\npasswords that you're gonna try,\n\n174\n00:09:40.150 --> 00:09:43.350\nand you're trying to figure\nout which one actually worked.\n\n175\n00:09:43.350 --> 00:09:47.640\nAnd similar to what we looked at when\nwe were playing around with Burp Suite,\n\n176\n00:09:47.640 --> 00:09:50.470\nyou can see by the results,\nthere's some differences.\n\n177\n00:09:50.470 --> 00:09:55.460\nIf we look at the size of the response,\n\n178\n00:09:55.460 --> 00:09:58.650\nthe first three,\nthe first one was my failed attempt.\n\n179\n00:09:58.650 --> 00:10:00.850\nJust doing a guess when I put log me in.\n\n180\n00:10:00.850 --> 00:10:05.270\nThe second two, or the next two\nwere the ones where it failed,\n\n181\n00:10:05.270 --> 00:10:07.890\nthe first two passwords I put in the list.\n\n182\n00:10:07.890 --> 00:10:09.620\nThe last one's the one that succeeded.\n\n183\n00:10:09.620 --> 00:10:11.630\nAnd notice the response\nwas a different size.\n\n184\n00:10:11.630 --> 00:10:14.790\nSo that's my first indicator that\nthat one might have actually worked.\n\n185\n00:10:14.790 --> 00:10:18.530\nThe second one is the state\nbecause it got reflected,\n\n186\n00:10:18.530 --> 00:10:22.140\nthat means basically that I got\nredirected to another page.\n\n187\n00:10:22.140 --> 00:10:25.350\nIf you successfully log on You\nget redirected to the page.\n\n188\n00:10:25.350 --> 00:10:26.405\nLike, welcome, right?\n\n189\n00:10:26.405 --> 00:10:27.710\nYou`ve now logged on.\n\n190\n00:10:27.710 --> 00:10:32.310\nI f you don`t succesfully log on, you\nstay right there on the login screen and\n\n191\n00:10:32.310 --> 00:10:36.360\nyou get the whole, username and\npassword were not found.\n\n192\n00:10:36.360 --> 00:10:41.050\nSo those are the indicators that hey,\nthis is probably the one that succeeded.\n\n193\n00:10:41.050 --> 00:10:46.210\nSo now, if we want to go test that\nout We can break out our browser.\n\n194\n00:10:46.210 --> 00:10:48.740\nWe can type in username admin.\n\n195\n00:10:48.740 --> 00:10:52.410\nPassword of all lowercase password, and\n\n196\n00:10:52.410 --> 00:10:57.530\nsure enough I am logged in to the pass\ncode protected area as admin.\n\n197\n00:10:57.530 --> 00:11:02.450\nSo this is another example of one of these\nweb application analysis tools that we can\n\n198\n00:11:02.450 --> 00:11:05.770\nuse to work with a web application.\n\n199\n00:11:05.770 --> 00:11:07.410\nReally take a look at what's going on.\n\n200\n00:11:07.410 --> 00:11:11.270\nSee the traffic that's going back and\nforth between a browser and\n\n201\n00:11:11.270 --> 00:11:12.810\nthat web application.\n\n202\n00:11:12.810 --> 00:11:16.410\nMake sure that everything is as we\nexpected, as well as take it a step\n\n203\n00:11:16.410 --> 00:11:21.640\nfurther and start manipulating that data\nTo really test out the web application.\n\n204\n00:11:21.640 --> 00:11:22.880\nAnd in our case,\n\n205\n00:11:22.880 --> 00:11:28.210\nactually do a dictionary-based\nattack against that log in form.\n\n206\n00:11:28.210 --> 00:11:28.730\n&gt;&gt; There you go.\n\n207\n00:11:28.730 --> 00:11:33.570\nVery similar to what saw with Burp Suite,\nbut it's just a different flavor of code.\n\n208\n00:11:33.570 --> 00:11:34.930\nThat's all there is to it.\n\n209\n00:11:34.930 --> 00:11:36.350\nWe like to give you options, so\n\n210\n00:11:36.350 --> 00:11:40.470\nyou're not just stuck with\njust one knife in the toolbox.\n\n211\n00:11:40.470 --> 00:11:42.040\nYou have multiples for different jobs.\n\n212\n00:11:42.040 --> 00:11:44.030\nSo if you like PerfSuite,\ngo use PerfSuite.\n\n213\n00:11:44.030 --> 00:11:44.840\nIt's great stuff.\n\n214\n00:11:44.840 --> 00:11:48.070\nIf you like go wild zappy find that\nto be a little more to your taste,\n\n215\n00:11:48.070 --> 00:11:49.710\nwell, pick that up and use that.\n\n216\n00:11:49.710 --> 00:11:52.060\nMike, thanks for showing us how\nwe can work with these tools and\n\n217\n00:11:52.060 --> 00:11:54.580\ndo some web application\nvulnerability scanning and\n\n218\n00:11:54.580 --> 00:11:57.120\nassessment of our own security\ninside of our environments.\n\n219\n00:11:57.120 --> 00:12:00.490\nBut it looks like it's that time for\nus to sign off for ITProTV.\n\n220\n00:12:00.490 --> 00:12:02.077\nI've been your host, Daniel Lowrie.\n\n221\n00:12:02.077 --> 00:12:02.790\n&gt;&gt; And I'm Mike Rodrick.\n\n222\n00:12:02.790 --> 00:12:04.400\n&gt;&gt; We'll see you next time.\n\n223\n00:12:04.400 --> 00:12:10.189\n[MUSIC]\n\n224\n00:12:10.189 --> 00:12:14.051\nThank you for watching ITPROTV.\n\n",
          "vimeoId": "223456489"
        },
        {
          "description": "In this episode, Wes and Mike take a look at a very common attack performed on a great many websites and databases known as SQL injection. They describe the basic characteristics of the attack as well as demonstrating some of the many possible outcomes that can result.",
          "length": "2070",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-5-1-sql_injection-062617-PGM.00_50_37_08.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-5-1-sql_injection-062617-PGM.00_50_37_08.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-5-1-sql_injection-062617-PGM.00_50_37_08.Still001-sm.jpg",
          "title": "SQL Injection",
          "transcript": "WEBVTT\n\n1\n00:00:01.220 --> 00:00:06.018\nWelcome to ITProTV.\nI'm your host, Don Pezet [CROSSTALK]\n\n2\n00:00:06.018 --> 00:00:08.457\n[MUSIC]\n\n3\n00:00:08.457 --> 00:00:10.922\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.240 --> 00:00:14.310\n&gt;&gt; Hello, and welcome to ITProTV.\n\n5\n00:00:14.310 --> 00:00:16.630\nI'm your show host, Wes Bryan,\nand in today's episode,\n\n6\n00:00:16.630 --> 00:00:19.650\nwe're continuing through our\nseries in Security Tech Skills.\n\n7\n00:00:19.650 --> 00:00:22.990\nAnd joining us back in the studios\nis none other than Mr. Mike Rodrick.\n\n8\n00:00:22.990 --> 00:00:24.310\nMike, how you doing today, sir?\n\n9\n00:00:24.310 --> 00:00:24.990\n&gt;&gt; Doing great, Wes.\n\n10\n00:00:24.990 --> 00:00:27.270\nThanks for having me back,\nexcited as always.\n\n11\n00:00:27.270 --> 00:00:31.540\nToday, were gonna be taking a look\nat something known as SQL injection,\n\n12\n00:00:31.540 --> 00:00:33.330\nor command injection.\n\n13\n00:00:33.330 --> 00:00:38.157\nBut we're typically talking about some\nkind of SQL command that we're gonna be\n\n14\n00:00:38.157 --> 00:00:38.958\ninjecting.\n\n15\n00:00:38.958 --> 00:00:42.820\nAnd when I say SQL, I don't mean\nSQL as in Microsoft SQL server.\n\n16\n00:00:42.820 --> 00:00:45.070\nWe're talking about SQL,\nstructure query language.\n\n17\n00:00:45.070 --> 00:00:48.910\nMost databases and relational\ndatabase engines use that language.\n\n18\n00:00:48.910 --> 00:00:52.380\nSo anyway, back to the point\nof our story here, all right?\n\n19\n00:00:52.380 --> 00:00:54.250\nCommand injection, SQL injection,\n\n20\n00:00:54.250 --> 00:00:59.820\nthis is a form of attack that the bad guys\nare gonna perform against your web server.\n\n21\n00:00:59.820 --> 00:01:02.154\nIt's really, it's against your,\n\n22\n00:01:02.154 --> 00:01:06.380\nI'll would say that the web server's\nthe front end of the attack.\n\n23\n00:01:06.380 --> 00:01:10.537\nWhat they're really doing is getting\ninformation or modifying information or\n\n24\n00:01:10.537 --> 00:01:14.090\nremoving information from the database\nbackend for your website.\n\n25\n00:01:14.090 --> 00:01:16.471\nAnd when we look at websites today,\nWes, I mean,\n\n26\n00:01:16.471 --> 00:01:18.758\nthey're almost all database driven, right?\n\n27\n00:01:18.758 --> 00:01:23.711\nThey're storing information in a database\nbehind the scenes so that when you go to\n\n28\n00:01:23.711 --> 00:01:28.231\nthat webpage it can go look you up and\nverify your username and password, or\n\n29\n00:01:28.231 --> 00:01:33.520\npull up a welcome back, Michael, there's\nnew books in your favorite section.\n\n30\n00:01:33.520 --> 00:01:35.250\nOr, hey,\nhere's a product catalogue, right?\n\n31\n00:01:35.250 --> 00:01:36.600\nWhere's all that information stored?\n\n32\n00:01:36.600 --> 00:01:39.132\nThe pictures of the product,\nthe prices of the product,\n\n33\n00:01:39.132 --> 00:01:42.262\nthe descriptions of the product,\nall that's in a database, right?\n\n34\n00:01:42.262 --> 00:01:45.311\n&gt;&gt; Now, Mike, I know that you've\nworked in DB, been a DBA, for\n\n35\n00:01:45.311 --> 00:01:47.670\nmany years and worked and\nseen many databases.\n\n36\n00:01:47.670 --> 00:01:50.360\nAnd I'm sorry about that for\nsure cuz I know it can get really tedious.\n\n37\n00:01:50.360 --> 00:01:54.690\nNow you have discussed over the years that\nwe use this language for a purpose, right?\n\n38\n00:01:54.690 --> 00:01:57.440\nEverything that has some kind of attack\nbehind it, a lot of times is used for\n\n39\n00:01:57.440 --> 00:01:58.580\nadministrative purposes.\n\n40\n00:01:58.580 --> 00:02:01.130\nYou probably learned that if you're\nfollowing along with this series.\n\n41\n00:02:01.130 --> 00:02:03.450\nSo we can make certain queries,\nas you say,\n\n42\n00:02:03.450 --> 00:02:05.630\nagainst our database to\nretrieve information.\n\n43\n00:02:05.630 --> 00:02:08.260\nAnd from an administrative standpoint,\nthat is useful.\n\n44\n00:02:08.260 --> 00:02:09.930\nBut when it comes to an attacker,\n\n45\n00:02:09.930 --> 00:02:13.320\nthat can also be devastating when it comes\nto that database on the backend, right?\n\n46\n00:02:13.320 --> 00:02:14.480\n&gt;&gt; Yeah, absolutely, right?\n\n47\n00:02:14.480 --> 00:02:18.650\nI don't want somebody that's just visiting\nmy website to be able to retrieve all of\n\n48\n00:02:18.650 --> 00:02:21.870\nmy customer information or\ncredit cards from other users, or\n\n49\n00:02:21.870 --> 00:02:23.990\nstart deleting stuff out of a database,\nright?\n\n50\n00:02:23.990 --> 00:02:28.065\nThat has a bunch of proprietary company\ninformation, or any information, really.\n\n51\n00:02:28.065 --> 00:02:30.060\n[LAUGH] We don't want\nsomebody getting in there and\n\n52\n00:02:30.060 --> 00:02:32.190\nmessing with that if\nthey're not authorized.\n\n53\n00:02:32.190 --> 00:02:34.076\nAnd when we look at SQL injection,\n\n54\n00:02:34.076 --> 00:02:37.662\nthe process is basically we're\ngoing to have a webpage, right?\n\n55\n00:02:37.662 --> 00:02:43.390\nWhich most, or a form I should say,\non a web page that's accepting user input.\n\n56\n00:02:43.390 --> 00:02:47.020\nLike a log n screen where you gotta put\nyour username and your password in there,\n\n57\n00:02:47.020 --> 00:02:49.920\nclick Submit, and it goes and it checks\nto see if you got the right password and\n\n58\n00:02:49.920 --> 00:02:52.640\nallows you to authenticate\nto that website.\n\n59\n00:02:52.640 --> 00:02:56.621\nOr a blog where you can reply\nto people's posts, right?\n\n60\n00:02:56.621 --> 00:02:59.100\nThat page is accepting user input.\n\n61\n00:02:59.100 --> 00:03:03.560\nAnd where SQL injection or command\ninjection comes in is rather than typing\n\n62\n00:03:03.560 --> 00:03:08.086\nin a response to a blog entry,\nlike that's crazy, I don't agree with you,\n\n63\n00:03:08.086 --> 00:03:11.222\n[SOUND] whatever,\nwe're gonna put a SQL statement.\n\n64\n00:03:11.222 --> 00:03:14.504\nAnd the web page is gonna be,\nit's gonna do what it's supposed to do,\n\n65\n00:03:14.504 --> 00:03:16.020\nsend that stuff to the backend.\n\n66\n00:03:16.020 --> 00:03:17.840\nIt's gonna be processed.\n\n67\n00:03:17.840 --> 00:03:19.870\nAnd it'll process that SQL statement.\n\n68\n00:03:19.870 --> 00:03:22.430\nThat is what command\ninjection is all about.\n\n69\n00:03:22.430 --> 00:03:25.179\nAnd it's actually a very\neasy one to prevent,\n\n70\n00:03:25.179 --> 00:03:27.584\nwhich we'll talk about in a little bit.\n\n71\n00:03:27.584 --> 00:03:29.067\nBut it's extremely easy to prevent.\n\n72\n00:03:29.067 --> 00:03:30.490\nBut I would tell you there's many,\n\n73\n00:03:30.490 --> 00:03:32.632\nmany websites out there that\nare vulnerable to this.\n\n74\n00:03:32.632 --> 00:03:36.070\nIt's on the OWASP's top\n10 as far as attacks.\n\n75\n00:03:36.070 --> 00:03:38.150\nIt's been on their top 10 list for\nyears and\n\n76\n00:03:38.150 --> 00:03:42.190\nyears because it's a very common but\nvery successful attack.\n\n77\n00:03:42.190 --> 00:03:44.780\n&gt;&gt; Now, Mike, I know that you've been\ndemonstrating through this series\n\n78\n00:03:44.780 --> 00:03:46.790\nsome of the utilities\nthat we have out there.\n\n79\n00:03:46.790 --> 00:03:49.720\nAnd I'm sure you're gonna give us some\nkinda disclaimer that says if we're gonna\n\n80\n00:03:49.720 --> 00:03:52.590\npractice this, obviously, we're not gonna\npractice this against somebody's web site,\n\n81\n00:03:52.590 --> 00:03:53.970\nobviously, that would get us in trouble.\n\n82\n00:03:53.970 --> 00:03:56.980\nBut, do we have some tools out there\nthat we can use that we can kinda see\n\n83\n00:03:56.980 --> 00:03:59.210\nhow something like this\nwould play out in action so\n\n84\n00:03:59.210 --> 00:04:01.335\nthat we can practice it or\nbecome familiar with it?\n\n85\n00:04:01.335 --> 00:04:01.930\n&gt;&gt; Yeah, we do.\nAnd\n\n86\n00:04:01.930 --> 00:04:04.160\nwe're gonna take a look at it\nin a couple of different ways.\n\n87\n00:04:04.160 --> 00:04:08.200\nIn this episode I'm gonna really focus in\non kinda teaching you about SQL injection\n\n88\n00:04:08.200 --> 00:04:10.250\nand the concepts behind it.\n\n89\n00:04:10.250 --> 00:04:14.380\nAnd in other episodes we'll take a look\nat some of the tools that we can use to\n\n90\n00:04:14.380 --> 00:04:15.430\nautomate this process.\n\n91\n00:04:15.430 --> 00:04:19.480\nBut like my old math teacher used to\ntell me right back in grade school,\n\n92\n00:04:19.480 --> 00:04:23.560\nyou can't learn the shortcuts\nuntil you know the long way first.\n\n93\n00:04:23.560 --> 00:04:27.652\nI'm still not sure I agree with that,\nbut it does seem like sound logic.\n\n94\n00:04:27.652 --> 00:04:30.170\n[LAUGH] So that's what we're going to do.\n\n95\n00:04:30.170 --> 00:04:31.220\nAnd to answer your question,\n\n96\n00:04:31.220 --> 00:04:35.950\nwe are using something known as\nthe Darn Vulnerable Web Application.\n\n97\n00:04:35.950 --> 00:04:39.850\nIt's something you guys could go out and\ndownload for free yourself.\n\n98\n00:04:39.850 --> 00:04:42.040\nYou can install it on a machine, and\n\n99\n00:04:42.040 --> 00:04:46.290\nit basically sets up a vulnerable\nwebsite that's vulnerable to\n\n100\n00:04:46.290 --> 00:04:50.920\nmost of the OWASP top 10 attacks, as a\nmatter of fact, which gives me a chance to\n\n101\n00:04:50.920 --> 00:04:54.790\npractice attacks to see how these\ntechniques the bad guys are using.\n\n102\n00:04:54.790 --> 00:04:55.720\nHow they work.\n\n103\n00:04:55.720 --> 00:04:56.910\nWhat the results look like.\n\n104\n00:04:56.910 --> 00:04:58.230\nWhat information they can get.\n\n105\n00:04:58.230 --> 00:05:00.570\nThings like that,\nas well as how to protect against it.\n\n106\n00:05:00.570 --> 00:05:05.470\nBecause I can kinda tweak\nthe security level in that DVWA,\n\n107\n00:05:05.470 --> 00:05:08.280\nif I can get that acronym right.\n\n108\n00:05:08.280 --> 00:05:10.780\nTo make it a little bit harder and\nsee what it looks like.\n\n109\n00:05:10.780 --> 00:05:12.630\nBut that's what we're gonna be using here.\n\n110\n00:05:12.630 --> 00:05:13.512\nSo, let's take a look.\n\n111\n00:05:13.512 --> 00:05:18.454\nI am gonna open up my browser, and\nI'm gonna browse on over to that,\n\n112\n00:05:18.454 --> 00:05:21.940\nwhat I'm running in\nanother virtual machine.\n\n113\n00:05:24.282 --> 00:05:27.660\nAnd we'll see the front end here\nin just a second, should pull up.\n\n114\n00:05:27.660 --> 00:05:29.720\nI'm doing this from my Kali Linux box, and\n\n115\n00:05:29.720 --> 00:05:34.310\nI'm hitting another VM that's actually\nrunning the DVWA in a live distro.\n\n116\n00:05:34.310 --> 00:05:35.270\nIt's not even installed.\n\n117\n00:05:35.270 --> 00:05:38.210\nIt's running it off an ISO,\nwhich is really cool.\n\n118\n00:05:38.210 --> 00:05:40.730\nSo go out and take a look at that.\n\n119\n00:05:40.730 --> 00:05:41.770\nIn fact, let's see.\n\n120\n00:05:41.770 --> 00:05:47.810\nWhile we're waiting for that to pull up,\nsee if I can find that really quick.\n\n121\n00:05:51.631 --> 00:05:55.740\nWell, we're having some really good\nluck with our network here currently.\n\n122\n00:05:55.740 --> 00:05:58.690\nIt doesn't look like\nanything wants to connect.\n\n123\n00:05:58.690 --> 00:06:00.400\nThat's fantastic.\n\n124\n00:06:00.400 --> 00:06:01.720\nSo we'll give it just a minute.\n\n125\n00:06:01.720 --> 00:06:02.510\nThere we go.\n\n126\n00:06:02.510 --> 00:06:05.311\nIt looks like we won't go out\nto the Internet right now,\n\n127\n00:06:05.311 --> 00:06:06.808\nbut we will log into this guy.\n\n128\n00:06:09.435 --> 00:06:10.520\nAll right, and here we go.\n\n129\n00:06:10.520 --> 00:06:11.450\nAnd we are gonna make sure,\n\n130\n00:06:11.450 --> 00:06:15.120\nI'm gonna set security to low\nbecause we wanna see what happens.\n\n131\n00:06:15.120 --> 00:06:17.990\nWe wanna be successful in\nour attacks at first so\n\n132\n00:06:17.990 --> 00:06:20.450\nwe can see how tools work,\nhow techniques work.\n\n133\n00:06:20.450 --> 00:06:24.420\nAnd then we can always change that as we\nget better and try to protect against it.\n\n134\n00:06:24.420 --> 00:06:27.400\nSo you got a tab over here\ncalled SQL Injection, and\n\n135\n00:06:27.400 --> 00:06:31.160\nthis is the site that's gonna\nbe vulnerable to SQL Injection.\n\n136\n00:06:31.160 --> 00:06:33.950\nAnd what I'm gonna do just to\nshow you how it works here,\n\n137\n00:06:33.950 --> 00:06:36.510\nI'm just gonna type in\na user ID of number one.\n\n138\n00:06:36.510 --> 00:06:38.420\nAnd I'll click Submit.\n\n139\n00:06:38.420 --> 00:06:42.220\nAnd it pulls back,\nit prints out, or echoes out,\n\n140\n00:06:42.220 --> 00:06:48.110\nmy user ID that I typed in, my first name,\nand my last name, all right?\n\n141\n00:06:48.110 --> 00:06:51.439\nNow, if I go down to the bottom of\nthis page, I can click View Source.\n\n142\n00:06:52.540 --> 00:06:55.470\nAnd we can see what's going on, right?\n\n143\n00:06:55.470 --> 00:07:00.448\nAnd what we'll see is that it's, and\nwe're not gonna learn code and php, but\n\n144\n00:07:00.448 --> 00:07:04.389\nwe do need to understand a little\nbit of what's going on here.\n\n145\n00:07:04.389 --> 00:07:09.293\nSo what it's doing is it's getting\nwhatever I typed in to the ID field,\n\n146\n00:07:09.293 --> 00:07:13.590\nand it's storing that in\na variable called ID, right?\n\n147\n00:07:13.590 --> 00:07:18.841\nThen it's creating another\nvariable to store a SQL statement,\n\n148\n00:07:18.841 --> 00:07:22.147\nan actual select statement, in SQL, or\n\n149\n00:07:22.147 --> 00:07:27.009\nstructured query language,\nthat says select first name,\n\n150\n00:07:27.009 --> 00:07:31.896\nlast name from a table called users,\nwhere user ID equals.\n\n151\n00:07:31.896 --> 00:07:35.498\nAnd then whatever the value is\nthat's stored in this variable,\n\n152\n00:07:35.498 --> 00:07:38.960\nwhich is whatever I typed\nin before I clicked Submit.\n\n153\n00:07:38.960 --> 00:07:40.235\n&gt;&gt; Now, Mike, help me out with this here.\n\n154\n00:07:40.235 --> 00:07:42.640\nThat seems like that's\na little bit of a problem.\n\n155\n00:07:42.640 --> 00:07:47.288\nSo it did that on the fly just by typing\nsomething in that field and hitting Enter.\n\n156\n00:07:47.288 --> 00:07:50.850\n&gt;&gt; Yes, this is extremely dangerous,\nwhat you're seeing right here.\n\n157\n00:07:50.850 --> 00:07:55.424\nThis is basically saying And\nyou're building SQL statement dynamically,\n\n158\n00:07:55.424 --> 00:07:57.003\nwhich is common, right?\n\n159\n00:07:57.003 --> 00:07:58.752\nBut it's not doing anything with it.\n\n160\n00:07:58.752 --> 00:08:02.600\nIt's basically taking whatever the user\ntyped in, shoving it in there,\n\n161\n00:08:02.600 --> 00:08:05.828\nand then sending it back for\nprocessing against my database,\n\n162\n00:08:05.828 --> 00:08:09.535\nwith no checks at all, and\nthat's where the problems comes in.\n\n163\n00:08:09.535 --> 00:08:14.010\nIs I'm not doing anything to\nsee what the user is typing in.\n\n164\n00:08:14.010 --> 00:08:18.259\nWe expect a user ID,\nwe've got the words, enter your user ID.\n\n165\n00:08:18.259 --> 00:08:20.290\nWe've got a field there and\na submit button.\n\n166\n00:08:20.290 --> 00:08:23.847\nAnd we expect them to do that,\nbut what if they don't, right?\n\n167\n00:08:23.847 --> 00:08:28.617\nThere's nothing preventing them from\ntyping in anything other than a user ID,\n\n168\n00:08:28.617 --> 00:08:31.615\nlike some SQL statements,\nfor example, right?\n\n169\n00:08:31.615 --> 00:08:33.672\nAnd that's where the command\ninjection comes in.\n\n170\n00:08:33.672 --> 00:08:38.974\nWe're going to inject our own commands and\nhave them processed by your SQL server.\n\n171\n00:08:38.974 --> 00:08:40.880\nAnd it's not a problem with your server.\n\n172\n00:08:40.880 --> 00:08:43.970\nIt could be again MySQL,\nan Oracle database, a SQL Server,\n\n173\n00:08:43.970 --> 00:08:47.080\nMicrosoft SQL Server,\nit's doing what it's supposed to do.\n\n174\n00:08:47.080 --> 00:08:50.372\nIt's taking the statement, and it's\nprocessing it, and it's doing it's job.\n\n175\n00:08:50.372 --> 00:08:54.656\nSo the problem is not the back end,\nthe problem is the code the PHP Script.\n\n176\n00:08:54.656 --> 00:08:56.947\nIn this case, it's the website,\n\n177\n00:08:56.947 --> 00:09:00.820\nthe developers didn't bother\nto put any checks in place.\n\n178\n00:09:00.820 --> 00:09:02.544\nSo we'll come back to that concept.\n\n179\n00:09:02.544 --> 00:09:07.484\nAll right, so it's generating the SQL\nstatement based on what I've typed in,\n\n180\n00:09:07.484 --> 00:09:11.023\nand then it's storing the result\nof that SQL statement,\n\n181\n00:09:11.023 --> 00:09:13.399\nwhich is the first name and last name.\n\n182\n00:09:13.399 --> 00:09:15.661\nAnd then it's just echoing\nit out to the screen.\n\n183\n00:09:15.661 --> 00:09:21.470\nEcho out their ID, echo out their first\nname, and then echo out their last name.\n\n184\n00:09:21.470 --> 00:09:26.340\nSo, so far it seems relatively benign and\nit's not doing anything crazy.\n\n185\n00:09:26.340 --> 00:09:29.750\nI'm going to go ahead and\nclose this source.\n\n186\n00:09:29.750 --> 00:09:34.450\nAnd as a bad guy, what they're going to\ntry to do, or as a pin tester, what you're\n\n187\n00:09:34.450 --> 00:09:39.990\ngoing to do against your organizations web\npage for example, disclaimer goes here.\n\n188\n00:09:39.990 --> 00:09:44.246\nWe never do anything against a server that\nwe don't have written permission to do so,\n\n189\n00:09:44.246 --> 00:09:44.847\nall right.\n\n190\n00:09:44.847 --> 00:09:46.209\nJust because I work for\n\n191\n00:09:46.209 --> 00:09:50.620\na company does not mean I have the right\nto try this against their server.\n\n192\n00:09:50.620 --> 00:09:52.204\nEven if it's in my job role,\n\n193\n00:09:52.204 --> 00:09:56.560\nI think I would want to make sure that\nyou have probably written permission to,\n\n194\n00:09:56.560 --> 00:10:00.721\nyou're not gonna do it against\na production machine, hopefully anyway.\n\n195\n00:10:00.721 --> 00:10:04.080\nIt would be a staging machine,\nor something like that.\n\n196\n00:10:05.160 --> 00:10:09.259\nAll right, so what we've got so far is\na form that's taking what I typed in.\n\n197\n00:10:09.259 --> 00:10:11.185\nAnd it's putting it into\na SQL statement and\n\n198\n00:10:11.185 --> 00:10:13.710\nsubmitting it against\nthat back-end database.\n\n199\n00:10:13.710 --> 00:10:15.660\nNow the first thing I need to\ndo is to determine whether or\n\n200\n00:10:15.660 --> 00:10:19.408\nnot this site is vulnerable\nto SQL Injection.\n\n201\n00:10:19.408 --> 00:10:22.301\nNow this in and of itself,\nwe could spend an entire episode on.\n\n202\n00:10:22.301 --> 00:10:27.010\nThere's a lot of techniques that\nyou can use to determine this.\n\n203\n00:10:27.010 --> 00:10:28.770\nBut I'll show you a simple one.\n\n204\n00:10:28.770 --> 00:10:31.120\nIs gonna be typing in something like this.\n\n205\n00:10:31.120 --> 00:10:36.487\nI'm going to type in 1', or\nsingle quote mark there, or\n\n206\n00:10:36.487 --> 00:10:41.990\n1=1, and\nthen I'm going to type in a pound symbol.\n\n207\n00:10:41.990 --> 00:10:46.809\nAll right, so one apostrophe,\nor one equals one pound symbol.\n\n208\n00:10:46.809 --> 00:10:49.766\nNow I'm going to go ahead and\nsubmit that, and then we'll talk about,\n\n209\n00:10:49.766 --> 00:10:52.830\nwe'll break it down, and\nsee what the heck is going on.\n\n210\n00:10:52.830 --> 00:10:58.410\nSo, I click submit, and something\ninteresting happens, all of a sudden,\n\n211\n00:10:58.410 --> 00:11:03.070\nI get all of the users first name,\nand last name.\n\n212\n00:11:03.070 --> 00:11:07.744\nSo there's five users in this\nlittle test database here and\n\n213\n00:11:07.744 --> 00:11:09.902\nI can see them all, right?\n\n214\n00:11:09.902 --> 00:11:11.350\nThat's not good.\n\n215\n00:11:11.350 --> 00:11:16.746\nAnd this is proving to me that this\nsite is vulnerable to a SQL injection.\n\n216\n00:11:16.746 --> 00:11:21.668\nNow let's talk about what happened\nthere and why we got these results.\n\n217\n00:11:21.668 --> 00:11:27.990\nLet me fire up, let's see, we'll do\nLeaf tags, It makes it nice and big.\n\n218\n00:11:27.990 --> 00:11:30.946\nAnd I think it's called SQL inject, oops.\n\n219\n00:11:30.946 --> 00:11:33.650\nThat is not how you want to do that, Mike.\n\n220\n00:11:33.650 --> 00:11:35.159\nLet's try this one more time, there we go.\n\n221\n00:11:35.159 --> 00:11:40.540\nAll right, so what we got here, let me\nblow this up, make it a little bigger.\n\n222\n00:11:40.540 --> 00:11:42.130\nHopefully you guys can\nread that out there.\n\n223\n00:11:43.160 --> 00:11:45.832\nSo here's the original statement, right?\n\n224\n00:11:45.832 --> 00:11:50.780\nThis is what's being built, and\nnormally we'd type a 1 in there.\n\n225\n00:11:50.780 --> 00:11:54.498\nAnd that one, all right, you take that ID\nand replace it with whatever we typed in.\n\n226\n00:11:54.498 --> 00:11:59.590\nAnd notice that there's a single\nquote around the 1 on either side.\n\n227\n00:11:59.590 --> 00:12:03.630\nAnd then there is a double quote\nenclosing the entire thing.\n\n228\n00:12:04.720 --> 00:12:08.862\nNow what we did, was we typed 1' or\n\n229\n00:12:08.862 --> 00:12:16.890\n1=1#, or hash tag, or\nwhatever you want to call that nowadays.\n\n230\n00:12:16.890 --> 00:12:21.471\nSo basically, remember whatever\nyou type is getting inserted for\n\n231\n00:12:21.471 --> 00:12:22.956\nthis variable here.\n\n232\n00:12:22.956 --> 00:12:26.850\nSo we take what we typed and\nwe'll just copy that.\n\n233\n00:12:28.060 --> 00:12:30.910\nWe'll take it up here and\nwe're going to do a live demo for this.\n\n234\n00:12:30.910 --> 00:12:35.130\nWe're gonna Backspace over that, and\nwe're gonna paste it right in there.\n\n235\n00:12:35.130 --> 00:12:36.712\nCuz this is what's\nhappening in the backend.\n\n236\n00:12:36.712 --> 00:12:38.630\nThis is what the code is doing.\n\n237\n00:12:38.630 --> 00:12:40.695\nTake what they typed and\ninsert it for that variable.\n\n238\n00:12:40.695 --> 00:12:42.775\nAnd so now we end up with\na statement like this, all right.\n\n239\n00:12:42.775 --> 00:12:46.670\n1, there's what we typed right there.\n\n240\n00:12:47.960 --> 00:12:51.760\nNow the first thing we'll say is that\npound symbol, why is that on the end?\n\n241\n00:12:51.760 --> 00:12:57.310\nBecause in this case I happen to know\nthat the back end is a MySQL database and\n\n242\n00:12:57.310 --> 00:12:59.280\nthe pound symbol is the symbol for\n\n243\n00:12:59.280 --> 00:13:03.250\na comment, which means anything\nafter that it will not process.\n\n244\n00:13:03.250 --> 00:13:05.890\nIt says, this is a comment,\nsomething developers put in.\n\n245\n00:13:05.890 --> 00:13:08.759\nIt's not anything for\nme as the SQL engine to process.\n\n246\n00:13:08.759 --> 00:13:14.120\nRight, so what I ended up doing was\ncommenting out those extra quotes, right?\n\n247\n00:13:14.120 --> 00:13:17.040\nWe typed in 1'.\n\n248\n00:13:17.040 --> 00:13:19.910\nSo there's the quoted entry, right?\n\n249\n00:13:19.910 --> 00:13:24.027\nOr 1=1, and\nthen ignore everything afterwards.\n\n250\n00:13:24.027 --> 00:13:26.112\nNow let's think about the SQL statement.\n\n251\n00:13:26.112 --> 00:13:30.160\nYou might not be familiar with TransX SQL,\nbut this statement is pretty simple.\n\n252\n00:13:30.160 --> 00:13:35.220\nSELECT means I go read something,\nreturn some data, I want the first name\n\n253\n00:13:35.220 --> 00:13:40.450\ncolumn and\nthe last name column from the table users.\n\n254\n00:13:40.450 --> 00:13:44.150\nAnd then I'm gonna tell it where, because\nthere are several rows in that table.\n\n255\n00:13:44.150 --> 00:13:47.650\nNormally where user id equals and\nthen whatever you've typed in.\n\n256\n00:13:47.650 --> 00:13:51.535\nSo if you said user id three would go to\nthe row that had the user id three and\n\n257\n00:13:51.535 --> 00:13:56.021\nit would return the first name column and\nthe last name column, or surname column.\n\n258\n00:13:56.021 --> 00:13:59.217\nWell, what we did,\nis we added an or statement here.\n\n259\n00:13:59.217 --> 00:14:04.820\nAnd with or statements either side has\nto be true in order to return that row.\n\n260\n00:14:04.820 --> 00:14:07.530\nThey don't have both to be true,\neither this is true or\n\n261\n00:14:07.530 --> 00:14:10.110\nthis is true and I'll return the row.\n\n262\n00:14:10.110 --> 00:14:13.510\nSo, when it goes to row 1,\nis the user id 1.\n\n263\n00:14:13.510 --> 00:14:16.320\nSure, okay, then return that row.\n\n264\n00:14:16.320 --> 00:14:18.430\nWhen it goes to row 2 is the user ID 1?\n\n265\n00:14:18.430 --> 00:14:21.520\nNo, does 1 equal 1?\n\n266\n00:14:21.520 --> 00:14:23.510\nHm, Wes, does 1 equal 1?\n\n267\n00:14:23.510 --> 00:14:25.495\n&gt;&gt; Last time I checked on\nthe Google search engine it did.\n\n268\n00:14:25.495 --> 00:14:26.630\n&gt;&gt; It does, right?\n\n269\n00:14:26.630 --> 00:14:31.372\nSo if 1 equals 1, so even though it's\nnot the right user ID, 1 equals 1.\n\n270\n00:14:31.372 --> 00:14:33.937\nSo this whole statement returns as true.\n\n271\n00:14:33.937 --> 00:14:35.190\nSo it says yep,\nI'm gonna return that row 2.\n\n272\n00:14:35.190 --> 00:14:38.850\nAnd then it goes to the next row and\nsays, is the user ID 1?\n\n273\n00:14:38.850 --> 00:14:42.692\nNo, but 1 equals 1, so it's true,\nso I'm gonna return that row.\n\n274\n00:14:42.692 --> 00:14:47.600\nSo it ends up returning every single\nrow because one always equals one.\n\n275\n00:14:47.600 --> 00:14:50.370\nThat will always evaluate to true, and so\n\n276\n00:14:50.370 --> 00:14:53.560\nit's gonna pull back all the records,\nright.\n\n277\n00:14:53.560 --> 00:14:55.730\nPretty sweet really when\nyou think about it.\n\n278\n00:14:55.730 --> 00:14:59.750\nThe trick here is trying to\nfigure out how to insert data\n\n279\n00:14:59.750 --> 00:15:03.790\nthat's going to make\na functional SQL statement.\n\n280\n00:15:03.790 --> 00:15:05.270\nAnd this is where the practice and\n\n281\n00:15:05.270 --> 00:15:08.520\nthe tweaking, and sometimes\nthe automated tools come into play.\n\n282\n00:15:08.520 --> 00:15:11.340\n&gt;&gt; Yeah, Mike, I was gonna ask a question\nabout that when comes to syntax.\n\n283\n00:15:11.340 --> 00:15:13.592\nNow, you said that this is\na MySQL based database.\n\n284\n00:15:13.592 --> 00:15:15.458\nSo let's put on our black hat for\na second and\n\n285\n00:15:15.458 --> 00:15:17.630\nwhat if I didn't know that\nit was a MySQL database,\n\n286\n00:15:17.630 --> 00:15:21.240\nwhat might the steps be because there's\nmore than one out there obviously, right.\n\n287\n00:15:21.240 --> 00:15:24.190\n&gt;&gt; Well honestly,\nit was too long to even go through.\n\n288\n00:15:24.190 --> 00:15:26.470\nThere are hundreds of\nthings you might try.\n\n289\n00:15:26.470 --> 00:15:31.072\nYou might do just a single apostrophe and\nsee what error comes back,\n\n290\n00:15:31.072 --> 00:15:34.558\nyou might do a 1' and\nsee comes back, or a 1=1.\n\n291\n00:15:34.558 --> 00:15:38.450\nIn SQL Server, if I'm not mistaken,\nthe comment is a dash-dash so\n\n292\n00:15:38.450 --> 00:15:41.950\nthere's several different\nthings that you'll wanna try.\n\n293\n00:15:41.950 --> 00:15:45.667\nYou can go out and go SQL injection cheat\nsheets, and you can actually get a list of\n\n294\n00:15:45.667 --> 00:15:49.560\nall the different things you can try to\nsee if it's vulnerable to SQL injection.\n\n295\n00:15:49.560 --> 00:15:51.778\n&gt;&gt; Which brings you right back to your\ninitial point there, where you said, hey,\n\n296\n00:15:51.778 --> 00:15:52.815\nwe're gonna practice this a while.\n\n297\n00:15:52.815 --> 00:15:56.159\nIf I don't know, I'm gonna have to\nprobably try it quite a few times.\n\n298\n00:15:56.159 --> 00:15:57.258\n&gt;&gt; Yeah.\n&gt;&gt; Or automate the process,\n\n299\n00:15:57.258 --> 00:15:59.570\nlike we'll see in another\nepisode to help us out.\n\n300\n00:15:59.570 --> 00:16:02.042\nAnd discover what is\nbehind the scenes here.\n\n301\n00:16:02.042 --> 00:16:02.788\n&gt;&gt; Yep, exactly right.\n\n302\n00:16:02.788 --> 00:16:04.570\nI'm going to change this back.\n\n303\n00:16:04.570 --> 00:16:05.970\nActually see if I can do it this way.\n\n304\n00:16:05.970 --> 00:16:06.547\nI want to change back.\n\n305\n00:16:06.547 --> 00:16:08.650\nSo we have our original notes.\n\n306\n00:16:08.650 --> 00:16:11.454\nSo we see what's going\non with that statement.\n\n307\n00:16:11.454 --> 00:16:13.760\nAnd it's returning all the records.\n\n308\n00:16:13.760 --> 00:16:16.531\nNow that, in and\nof itself, is a bad thing.\n\n309\n00:16:16.531 --> 00:16:19.550\nWe were just getting the first name and\nthe last name.\n\n310\n00:16:19.550 --> 00:16:24.370\nWhich may or may not be confidential or\nwe don't want to give that out,\n\n311\n00:16:24.370 --> 00:16:28.180\nbut those might not be the only\nrecords in the columns in that table.\n\n312\n00:16:28.180 --> 00:16:30.246\nWe could start getting\na little more mischievous.\n\n313\n00:16:30.246 --> 00:16:31.760\nAnd that is what we are going to do next.\n\n314\n00:16:31.760 --> 00:16:33.980\nWe are going to step up our game and\nsee what else we can do.\n\n315\n00:16:33.980 --> 00:16:38.119\nNow that we know that the site\nis vulnerable to SQL injection,\n\n316\n00:16:38.119 --> 00:16:42.690\nlet's see what else we can do\nin this webpage here, all right?\n\n317\n00:16:42.690 --> 00:16:45.250\nSo back over to my user ID field.\n\n318\n00:16:45.250 --> 00:16:50.866\nThis time, we're gonna try,\nwe're gonna do the same thing and\n\n319\n00:16:50.866 --> 00:16:54.618\nwe're gonna do 1 or 1 = 1 pound symbol.\n\n320\n00:16:54.618 --> 00:16:56.666\nBut this time, I'm gonna take off\nthe pound symbol cuz I'm not done yet.\n\n321\n00:16:56.666 --> 00:17:04.318\nSo I'm gonna do 1 apostrophe or\n1 = 1 Union, the word union.\n\n322\n00:17:04.318 --> 00:17:08.620\nUnion in Transact-SQL allows me to combine\n\n323\n00:17:08.620 --> 00:17:13.170\nmultiple SQL statements in a single line,\nright?\n\n324\n00:17:13.170 --> 00:17:14.510\nSo I can actually run\ntwo different queries.\n\n325\n00:17:14.510 --> 00:17:17.370\nI can say do this and do this.\n\n326\n00:17:17.370 --> 00:17:20.560\nBasically the union says, hey,\ndo this one, then do this one.\n\n327\n00:17:20.560 --> 00:17:23.650\nSo we can write our own SQL statement now.\n\n328\n00:17:23.650 --> 00:17:27.090\nWe've got the first one and\nI can union it with another one.\n\n329\n00:17:27.090 --> 00:17:31.100\nNow the trick with unions, and again this\nis getting into a little Transact-SQL.\n\n330\n00:17:31.100 --> 00:17:35.705\nSo if you're not familiar with this, just\ngo with me or go study some Transact-SQL.\n\n331\n00:17:35.705 --> 00:17:39.945\nBut when you do unions the number of\nresults that the queries are returning\n\n332\n00:17:39.945 --> 00:17:41.085\nhave to be the same.\n\n333\n00:17:41.085 --> 00:17:44.405\nSo in our first SQL statement, it's\nreturning the first name and last name.\n\n334\n00:17:44.405 --> 00:17:47.845\nThat's two bits of information\nthat it's retrieving.\n\n335\n00:17:47.845 --> 00:17:53.315\nSo in our union, the second statement also\nneeds to return two bits of information.\n\n336\n00:17:53.315 --> 00:17:54.465\nCuz if one returns two and\n\n337\n00:17:54.465 --> 00:17:57.830\nthe other one only returns one,\nyou can't union those together.\n\n338\n00:17:57.830 --> 00:18:01.491\nSo they have to return an equal\nnumber of values, I guess,\n\n339\n00:18:01.491 --> 00:18:03.720\nis the proper way to say it.\n\n340\n00:18:03.720 --> 00:18:08.612\nSo I'm going to do union,\nselect, null, comma.\n\n341\n00:18:08.612 --> 00:18:12.370\nI'll explain in a minute.\n\n342\n00:18:12.370 --> 00:18:17.050\nLet's do a space, version,\nopen close parentheses.\n\n343\n00:18:17.050 --> 00:18:19.430\nAnd then my pound symbol, all right?\n\n344\n00:18:19.430 --> 00:18:21.570\nAnd I got that typed out on another\nscreen, we'll go look at it,\n\n345\n00:18:21.570 --> 00:18:22.960\nlet's just see what it does.\n\n346\n00:18:22.960 --> 00:18:23.750\nI'm gonna click Submit.\n\n347\n00:18:24.990 --> 00:18:29.200\nAnd so far it does what we expected,\nit returns every row, first name and\n\n348\n00:18:29.200 --> 00:18:31.950\nthe last name, but look at this last one.\n\n349\n00:18:31.950 --> 00:18:36.420\nThere's no first name and there's just\na set of numbers for the last name.\n\n350\n00:18:36.420 --> 00:18:40.754\nThat is the version of MySQL that they're\nrunning on their database back-end.\n\n351\n00:18:41.760 --> 00:18:44.760\nSo I was able to retrieve that,\nand that's not a good thing.\n\n352\n00:18:44.760 --> 00:18:48.125\nThat's information that is leaking out,\nnow they know what version I'm running.\n\n353\n00:18:48.125 --> 00:18:52.270\nMySQL so they can go and\nfigure out what vulnerabilities it has,\n\n354\n00:18:52.270 --> 00:18:56.572\nfind exploits that are geared\ntowards that particular version and\n\n355\n00:18:56.572 --> 00:18:59.850\nhave their way with my MySQL installation.\n\n356\n00:18:59.850 --> 00:19:02.180\nSo that's not gonna be a good day for us.\n\n357\n00:19:02.180 --> 00:19:04.873\n&gt;&gt; Mike, is that kinda like we talk\nabout in other types of exploits,\n\n358\n00:19:04.873 --> 00:19:07.342\nyou know, when they say like,\nOS fingerprinting, right?\n\n359\n00:19:07.342 --> 00:19:09.450\nYou do porch scans to kinda\nfigure out what's going on.\n\n360\n00:19:09.450 --> 00:19:12.570\nNow you got a little bit more information,\nand like you said, I can say,\n\n361\n00:19:12.570 --> 00:19:15.010\nokay, well what's specific to this syntax?\n\n362\n00:19:15.010 --> 00:19:17.780\nWhat's specific to this type of\ndatabase and the DNA here and\n\n363\n00:19:17.780 --> 00:19:19.320\nkind of base my attacks off of that?\n\n364\n00:19:19.320 --> 00:19:21.640\n&gt;&gt; Exactly right, that's exactly right.\n\n365\n00:19:21.640 --> 00:19:23.780\nAll right,\nnow what I'm gonna do here is we're gonna,\n\n366\n00:19:23.780 --> 00:19:27.180\nhere's the statement I just ran,\nI added this union.\n\n367\n00:19:27.180 --> 00:19:31.486\nSo basically I took this,\nunion select null version number.\n\n368\n00:19:31.486 --> 00:19:38.440\nSo I'm going to copy that and I'm just\ngoing to tack it on right here, right?\n\n369\n00:19:38.440 --> 00:19:41.360\nSo that is what I end up typing out so\nwe read it the same way.\n\n370\n00:19:41.360 --> 00:19:45.156\nSelect first name last name from\nusers where user id equals one or\n\n371\n00:19:45.156 --> 00:19:46.630\none equals one.\n\n372\n00:19:46.630 --> 00:19:49.540\nOne always equals one and\nso it returned every row.\n\n373\n00:19:49.540 --> 00:19:53.590\nThen it did a union and said, hey let me\ngo back and do another select statement.\n\n374\n00:19:53.590 --> 00:19:57.490\nAnd select null just because I need\na filler, because I need two values, and\n\n375\n00:19:57.490 --> 00:19:59.530\nthen you get the version and\nthis is just a command.\n\n376\n00:19:59.530 --> 00:20:04.370\nThis is a MySQL command that you could\nnormally run to figure out what version,\n\n377\n00:20:04.370 --> 00:20:08.570\nthis might be something you do to make\nsure a script will run successfully.\n\n378\n00:20:08.570 --> 00:20:11.870\nYou might have in your code,\ncheck version numbers, things like that.\n\n379\n00:20:11.870 --> 00:20:16.230\nSo it's a prebuilt function\nin MySQL called version, and\n\n380\n00:20:16.230 --> 00:20:17.640\nit returns version number.\n\n381\n00:20:17.640 --> 00:20:19.220\nBut the fact that I'm able to run it and\n\n382\n00:20:19.220 --> 00:20:23.982\nretrieve the results from your\nwebpage is not a good thing.\n\n383\n00:20:23.982 --> 00:20:29.222\nAll right, let me put that back the way\nit was for our notes for later.\n\n384\n00:20:29.222 --> 00:20:34.420\nAll right, now we're gonna do it again but\nI'm gonna do this next line right here.\n\n385\n00:20:34.420 --> 00:20:39.690\nSo same concept, I'm gonna union\nwith a second SQL statement.\n\n386\n00:20:39.690 --> 00:20:43.715\nBut this time, I'm gonna select null and\n\n387\n00:20:43.715 --> 00:20:51.426\nI'm gonna select table name from a table\ncalled informationschema.tables.\n\n388\n00:20:51.426 --> 00:20:54.531\nNow most databases have\nan information schema,\n\n389\n00:20:54.531 --> 00:20:59.900\neither a separate database on there or\na separate table within that database.\n\n390\n00:20:59.900 --> 00:21:04.160\nTypically a separate table within every\ndatabase that stores information,\n\n391\n00:21:04.160 --> 00:21:05.910\na schema, information schema.\n\n392\n00:21:05.910 --> 00:21:10.060\nIt's metadata, information about\ninformation or data about data.\n\n393\n00:21:10.060 --> 00:21:15.020\nAnd the information schema in\na database tells you about, hey,\n\n394\n00:21:15.020 --> 00:21:17.630\nwhat tables exist within this database?\n\n395\n00:21:17.630 --> 00:21:20.530\nWhat columns exist within those tables?\n\n396\n00:21:20.530 --> 00:21:23.120\nWhat are the data types\nset on those columns?\n\n397\n00:21:23.120 --> 00:21:24.740\nWhat are the allowed values?\n\n398\n00:21:24.740 --> 00:21:26.080\nAre there constraints?\n\n399\n00:21:26.080 --> 00:21:29.890\nAll that stuff gets stored\nin this information schema.\n\n400\n00:21:29.890 --> 00:21:34.460\nSo by querying it, I can return\ninformation about the database.\n\n401\n00:21:34.460 --> 00:21:36.680\nI can see what other tables are in there.\n\n402\n00:21:36.680 --> 00:21:37.560\nAnd let's see if it works.\n\n403\n00:21:37.560 --> 00:21:40.730\nSo I'm just gonna copy this to save\nyou guys from watching my typing.\n\n404\n00:21:42.390 --> 00:21:46.600\nJump back over to that webpage\nif I can find my browser.\n\n405\n00:21:46.600 --> 00:21:49.140\nThere we go, and let's do this again.\n\n406\n00:21:49.140 --> 00:21:52.940\nLet's say 1 or 1 equals 1.\n\n407\n00:21:52.940 --> 00:21:55.590\nWe're gonna take out the pound symbol.\n\n408\n00:21:57.210 --> 00:22:00.740\nAnd I'm gonna paste that\nstatement in there.\n\n409\n00:22:00.740 --> 00:22:04.280\nSo we're gonna pull back from\nthe information schema.tables and\n\n410\n00:22:04.280 --> 00:22:08.250\nclick Submit, and\nlet's see what we get with this one.\n\n411\n00:22:08.250 --> 00:22:11.672\nIf I scroll down, there's all the users\nbecause one always equals one.\n\n412\n00:22:11.672 --> 00:22:14.660\nAnd then it runs the second SQL statement.\n\n413\n00:22:14.660 --> 00:22:15.580\nAnd look at that.\n\n414\n00:22:15.580 --> 00:22:18.250\nI'm seeing, hey,\nthere's a table called character sets.\n\n415\n00:22:18.250 --> 00:22:20.230\nThere's a table called collation.\n\n416\n00:22:20.230 --> 00:22:21.910\nThere's a table called columns.\n\n417\n00:22:21.910 --> 00:22:23.520\nThat might prove interesting.\n\n418\n00:22:23.520 --> 00:22:26.280\nYou can see it's listing out every table.\n\n419\n00:22:26.280 --> 00:22:28.960\nNow, the ones with these all caps for\n\n420\n00:22:28.960 --> 00:22:33.880\ntheir names, those are most likely\nsystem tables that are built by MySQL.\n\n421\n00:22:33.880 --> 00:22:38.536\nSo when you create constraints, they're\nstored in here and things like that.\n\n422\n00:22:38.536 --> 00:22:44.680\nBut as we go down we'll start seeing\nhere's a table called guest book.\n\n423\n00:22:44.680 --> 00:22:46.418\nHere's a table called users.\n\n424\n00:22:46.418 --> 00:22:51.860\nThose might be interesting, and\nthe list goes on, and on, and on.\n\n425\n00:22:51.860 --> 00:22:56.310\nSo, there are a lot of tables in there,\nbut as a bad guy this is fantastic.\n\n426\n00:22:56.310 --> 00:23:00.275\nThis is what we're talking about when\nwe're trying to discover information or\n\n427\n00:23:00.275 --> 00:23:01.702\ndoing our reconnaissance.\n\n428\n00:23:01.702 --> 00:23:04.580\nThey're trying to discover\nwhat information is out there.\n\n429\n00:23:04.580 --> 00:23:07.170\nWhat tables do you have, all right.\n\n430\n00:23:07.170 --> 00:23:10.170\nWe could shorten that list just for\ngiggles.\n\n431\n00:23:10.170 --> 00:23:12.140\nWe could actually change\nthat up a little bit.\n\n432\n00:23:12.140 --> 00:23:17.820\nIf I go back to my file,\ninstead of just doing all tables,\n\n433\n00:23:17.820 --> 00:23:20.630\nSelect table name from\ninformation schema tables.\n\n434\n00:23:20.630 --> 00:23:25.790\nI could add a WHERE clause to that\nwhere table name like user percent,\n\n435\n00:23:25.790 --> 00:23:27.070\npercent is a wildcard.\n\n436\n00:23:27.070 --> 00:23:32.255\nHey, anything with user something behind\nit because if you're the bad guy or\n\n437\n00:23:32.255 --> 00:23:35.980\nif you're pen testing you're trying\nto find good information and\n\n438\n00:23:35.980 --> 00:23:37.940\nthink about tables you might look for.\n\n439\n00:23:37.940 --> 00:23:40.710\nMost of the time you're going\nto have tables like users.\n\n440\n00:23:40.710 --> 00:23:42.800\nThat's gonna contain user information.\n\n441\n00:23:42.800 --> 00:23:45.250\nProbably names, addresses, phone numbers,\n\n442\n00:23:45.250 --> 00:23:48.810\ncredit card information,\npasswords, things like that.\n\n443\n00:23:48.810 --> 00:23:52.512\nOr I might look for tables named accounts.\n\n444\n00:23:52.512 --> 00:23:55.662\nThat might be another one,\ndepends on who designed that database.\n\n445\n00:23:55.662 --> 00:23:59.513\nThink of what you might call a table that\nwould have information you'd look in there\n\n446\n00:23:59.513 --> 00:24:00.732\nand do a search like this.\n\n447\n00:24:00.732 --> 00:24:04.019\nSo let's go ahead, we'll dump this one in.\n\n448\n00:24:04.019 --> 00:24:04.865\nLet me copy all that out and\nwe`ll flip back over\n\n449\n00:24:04.865 --> 00:24:05.659\nto our web page and\nwe`ll do the same thing.\n\n450\n00:24:05.659 --> 00:24:11.122\nAnd it's just going to give\n\n451\n00:24:11.122 --> 00:24:18.965\nme a shorter list is all it's gonna do.\n\n452\n00:24:18.965 --> 00:24:20.640\nSo we`ll put that in there.\n\n453\n00:24:22.430 --> 00:24:25.780\nSo name like user percent\nwill click submit.\n\n454\n00:24:25.780 --> 00:24:29.800\nAnd I get the same results, but this time\nthe only tables I get are user privileges,\n\n455\n00:24:29.800 --> 00:24:31.970\nusers, and user.\n\n456\n00:24:33.110 --> 00:24:36.632\nSo just showing you that to kind of\ngive you a little bit of a shortcut.\n\n457\n00:24:36.632 --> 00:24:38.820\nAll right, so\nwe know there is a table called users.\n\n458\n00:24:38.820 --> 00:24:40.120\nThat sounds interesting.\n\n459\n00:24:40.120 --> 00:24:43.860\nLet's see what information we can\nfind out of that user's table.\n\n460\n00:24:45.570 --> 00:24:49.070\nThis time, now that I know the table name,\n\n461\n00:24:49.070 --> 00:24:52.610\nlet's see if we can figure out\nwhat columns are in that table.\n\n462\n00:24:52.610 --> 00:24:56.339\nSo I'm gonna do another union,\nselect null and\n\n463\n00:24:56.339 --> 00:25:01.197\nthen select column name from\ninformationschema.columns.\n\n464\n00:25:01.197 --> 00:25:05.420\nWe got table name from\nthe information schema tables.\n\n465\n00:25:05.420 --> 00:25:08.360\nWe're gonna get column names\nfrom information schema columns.\n\n466\n00:25:08.360 --> 00:25:12.860\nAnother system table that stores\ninformation about what columns exist\n\n467\n00:25:12.860 --> 00:25:15.340\nin the different tables in this database.\n\n468\n00:25:15.340 --> 00:25:19.630\nI'm gonna grab that copy it,\nflip back over.\n\n469\n00:25:19.630 --> 00:25:20.720\nDo the same thing.\n\n470\n00:25:20.720 --> 00:25:25.196\nOne, or one equals one, and\nthen we'll get rid of that pound,\n\n471\n00:25:25.196 --> 00:25:27.660\npaste our new statement in there.\n\n472\n00:25:27.660 --> 00:25:30.120\nAnd I think I got the right one.\n\n473\n00:25:30.120 --> 00:25:34.240\nYeah, or two [INAUDIBLE] it's\nnot the right one actually.\n\n474\n00:25:34.240 --> 00:25:34.920\nLet's do that again.\n\n475\n00:25:34.920 --> 00:25:38.110\nI don't think I successfully\ncopied that command.\n\n476\n00:25:38.110 --> 00:25:39.999\nThat's going to get the table,\nno that was right.\n\n477\n00:25:41.440 --> 00:25:42.170\nMy bad.\n\n478\n00:25:42.170 --> 00:25:44.520\nWe'll click submit and\nlet's see what we get.\n\n479\n00:25:44.520 --> 00:25:46.892\nSo there I've got the users again,\neverything's good.\n\n480\n00:25:46.892 --> 00:25:49.900\nAnd then here I see\nthe results of my second query.\n\n481\n00:25:49.900 --> 00:25:52.540\nAgain, first name is blank, the last name.\n\n482\n00:25:52.540 --> 00:26:00.020\nHere's the name of the columns,\nuser ID, first name, last name, user.\n\n483\n00:26:00.020 --> 00:26:04.070\nPassword, I like that, and avatar.\n\n484\n00:26:04.070 --> 00:26:05.852\nNot so worried about that.\n\n485\n00:26:05.852 --> 00:26:09.880\n[LAUGH]\nI´m thinking to myself,\n\n486\n00:26:09.880 --> 00:26:13.930\nwell, I would love to get a hold of the\nusernames and passwords because then I can\n\n487\n00:26:13.930 --> 00:26:16.940\nlog on as these other users and\nsee what they can access.\n\n488\n00:26:16.940 --> 00:26:20.830\nOr maybe they use that password to\nlog on to their machine at work, or\n\n489\n00:26:20.830 --> 00:26:22.040\nto their bank account.\n\n490\n00:26:22.040 --> 00:26:24.290\nThings like what the bad\nguys are thinking, right?\n\n491\n00:26:24.290 --> 00:26:26.238\nOr as a pen tester, this is what you want.\n\n492\n00:26:26.238 --> 00:26:29.410\nYou want credentials so that you can\nthen try to log into the systems\n\n493\n00:26:29.410 --> 00:26:33.998\nat the office you're doing the testing at\nand then try to, maybe you got lucky and\n\n494\n00:26:33.998 --> 00:26:37.950\ngot an admin account or maybe you now\nneed to escalate your credentials, but\n\n495\n00:26:37.950 --> 00:26:40.550\neither way,\nyou now have access to the system.\n\n496\n00:26:40.550 --> 00:26:43.740\nCuz users like to do that,\nright, we all do it.\n\n497\n00:26:43.740 --> 00:26:48.110\nWe reuse passwords in more than one place\neven though we know it's a bad thing.\n\n498\n00:26:48.110 --> 00:26:51.350\nAll right, so now that we know\nthe name of the columns that I want,\n\n499\n00:26:51.350 --> 00:26:56.920\nI want the user field and the password\nfield out of that users table.\n\n500\n00:26:56.920 --> 00:26:58.520\nLet's see if we can get that.\n\n501\n00:26:58.520 --> 00:27:02.250\nBack over to my cheat-sheet so\nyou don't have to watch me type this.\n\n502\n00:27:02.250 --> 00:27:04.252\nI'm going to use this\nstatement right here.\n\n503\n00:27:04.252 --> 00:27:06.210\nNow we are going to do\nsomething a little new.\n\n504\n00:27:06.210 --> 00:27:08.440\nAgain, we aren't here to learn\nTransact-SQL but just so\n\n505\n00:27:08.440 --> 00:27:09.900\nthat you understand what I'm doing.\n\n506\n00:27:09.900 --> 00:27:13.820\nConcat is just a way to take multiple\nvalues and plug them together.\n\n507\n00:27:13.820 --> 00:27:16.790\nConcatenate or\nconcatenation is what we are doing.\n\n508\n00:27:16.790 --> 00:27:23.030\nThe zero X / zero A is a line break or\na carriage return.\n\n509\n00:27:23.030 --> 00:27:27.150\nSo that's gonna give me a new line\nis basically a new line character.\n\n510\n00:27:27.150 --> 00:27:31.130\nSo I'm trying to make it, cuz otherwise it\nwould print out, where it says surname,\n\n511\n00:27:31.130 --> 00:27:34.650\nit'd print out the user and\nthen the password all stuck together,\n\n512\n00:27:34.650 --> 00:27:38.390\nwhich isn't gonna be very readable, so\nI'm gonna try to make it pretty for us.\n\n513\n00:27:38.390 --> 00:27:42.080\nHey, we're stealing data, but\nI might as well make it pretty.\n\n514\n00:27:42.080 --> 00:27:44.570\nSo I'm gonna put the user and\nthen a blank line and\n\n515\n00:27:44.570 --> 00:27:48.740\nthen the password from that user's table,\nall right.\n\n516\n00:27:48.740 --> 00:27:51.150\nAnd we're doing this because we\nknow the name of the columns now.\n\n517\n00:27:51.150 --> 00:27:53.390\nThe user column and the password column.\n\n518\n00:27:54.470 --> 00:28:00.660\nSo I'm going to select this statement,\nflip back over to our browser.\n\n519\n00:28:00.660 --> 00:28:05.570\nAnd I'm going to go back up and\ndo our same thing, or one equals one.\n\n520\n00:28:06.710 --> 00:28:11.000\nAnd then we're going to\nadd our union statement.\n\n521\n00:28:11.000 --> 00:28:14.060\nThat's pulling the user name and\npasswords from the user's table.\n\n522\n00:28:14.060 --> 00:28:17.276\nWe'll click submit and drumroll please.\n\n523\n00:28:17.276 --> 00:28:20.700\nLet's see what we got, uh-oh.\n\n524\n00:28:20.700 --> 00:28:22.240\nThere we go.\n\n525\n00:28:22.240 --> 00:28:26.110\nUser name is admin and\nthere's their password, right there.\n\n526\n00:28:26.110 --> 00:28:27.770\n&gt;&gt; All right, Mike,\nI'm gonna jump in here.\n\n527\n00:28:27.770 --> 00:28:30.214\nCuz I recognize some of that\nstring of characters right there.\n\n528\n00:28:30.214 --> 00:28:32.470\nAnd that looks like a hash\nvalue of a password.\n\n529\n00:28:32.470 --> 00:28:35.670\nSo, seems like all you\nwould need to do here is to\n\n530\n00:28:35.670 --> 00:28:40.320\nperform some kind of collision attack\non that password and you might be in.\n\n531\n00:28:40.320 --> 00:28:41.230\n&gt;&gt; Yeah, absolutely.\n\n532\n00:28:41.230 --> 00:28:45.760\nI mean, with this, once a bad guy\ngets the hash value for the password,\n\n533\n00:28:45.760 --> 00:28:46.740\nit's just a matter of time.\n\n534\n00:28:46.740 --> 00:28:49.700\nNow, we're gonna throw\nsome tools against it and\n\n535\n00:28:49.700 --> 00:28:51.350\nwe're gonna try to crack those passwords.\n\n536\n00:28:51.350 --> 00:28:54.470\nIn fact, Wes, we could do it even though\nit's not really part of the SQL injection,\n\n537\n00:28:54.470 --> 00:28:56.100\nif you wanna see it,\n&gt;&gt; Absolutely.\n\n538\n00:28:56.100 --> 00:28:58.113\n&gt;&gt; This is what the bad\nguys are going to do.\n\n539\n00:28:58.113 --> 00:29:03.932\nLet's go back over here to lift that and\ncreate a new file.\n\n540\n00:29:06.890 --> 00:29:14.040\nAnd let's do this.\n\n541\n00:29:14.040 --> 00:29:16.800\nI'm gonna use a tool\ncalled John the Ripper.\n\n542\n00:29:16.800 --> 00:29:19.350\nAnd John the Ripper likes its values.\n\n543\n00:29:19.350 --> 00:29:20.770\nAnd let's bump this over here.\n\n544\n00:29:22.150 --> 00:29:27.250\nIt's gonna like it in the format of user,\ncolon, and then hash.\n\n545\n00:29:28.990 --> 00:29:32.600\nSo, we'll do something like this,\nand we'll go get Gordon.\n\n546\n00:29:34.620 --> 00:29:40.850\nOops, forgot to add a new line there,\nwe'll paste that in there, add a colon.\n\n547\n00:29:40.850 --> 00:29:42.240\nWe'll grab Gordon's.\n\n548\n00:29:44.900 --> 00:29:46.850\nAnd I could just go on and on.\n\n549\n00:29:49.680 --> 00:29:52.036\nAdding Mr. Leet here.\n\n550\n00:29:52.036 --> 00:29:54.031\nI'm sure he's got a pretty cool password.\n\n551\n00:29:54.031 --> 00:29:55.808\nWe might not get that one.\n\n552\n00:29:55.808 --> 00:29:58.538\nI've got Pablo.\n\n553\n00:30:00.873 --> 00:30:03.350\nWe'll get his hash,\nmight as well do all of them.\n\n554\n00:30:03.350 --> 00:30:07.420\nI know this is a little bit tedious\nright here because we're retrieving\n\n555\n00:30:07.420 --> 00:30:11.080\nthe information and it's being\ndisplayed right there in the web page.\n\n556\n00:30:11.080 --> 00:30:15.810\nIt doesn't make it easy to work with in\nour case, but nonetheless, I'm okay with\n\n557\n00:30:15.810 --> 00:30:20.558\ntaking a little bit of time, if I'm gonna\nget a bunch of usernames and passwords.\n\n558\n00:30:20.558 --> 00:30:22.690\nI'm okay with that.\n\n559\n00:30:22.690 --> 00:30:24.650\nAll right, so\nonce we get all those copied over.\n\n560\n00:30:24.650 --> 00:30:28.328\nAnd just so you see,\nI put in the format of username colon,\n\n561\n00:30:28.328 --> 00:30:29.915\nand then the hash value.\n\n562\n00:30:29.915 --> 00:30:34.690\nWe'll go ahead and save that file,\nwhich looks like I already did.\n\n563\n00:30:34.690 --> 00:30:38.490\nAnd then we'll jump out to my term.\n\n564\n00:30:39.600 --> 00:30:45.180\nAnd we're gonna do John and tell it\nwhere the file is with those hashes.\n\n565\n00:30:45.180 --> 00:30:47.500\nAnd you gotta tell it what the format is.\n\n566\n00:30:47.500 --> 00:30:51.610\nNow in this case, I happen to know that\nthe database or the website is choosing\n\n567\n00:30:51.610 --> 00:30:55.590\nto use MD5 as their hashing\nalgorithm to store the passwords.\n\n568\n00:30:55.590 --> 00:30:58.640\nThis is something you could\ndetermine by doing a little research\n\n569\n00:30:58.640 --> 00:31:00.130\non the hash itself.\n\n570\n00:31:00.130 --> 00:31:02.510\nCounting it up,\nhow many bits are in there.\n\n571\n00:31:02.510 --> 00:31:06.720\nOkay it's 256 that means it could be\n[INAUDIBLE] you would use something like\n\n572\n00:31:06.720 --> 00:31:08.840\nthat to try figure out what it was.\n\n573\n00:31:08.840 --> 00:31:11.720\nOr just try a couple ones and\nsee if they work or not.\n\n574\n00:31:11.720 --> 00:31:16.603\nWe're going to do format equals,\nin my case,\n\n575\n00:31:16.603 --> 00:31:21.800\nraw-md5 and\nthen we'll hit Enter and, whew.\n\n576\n00:31:21.800 --> 00:31:23.380\nIt took forever, didn't it?\n\n577\n00:31:23.380 --> 00:31:27.460\nAnd let's bump that font size up so\nwe can see that just a little bit.\n\n578\n00:31:27.460 --> 00:31:30.838\nNo, no, no, that's not how you do it Mike.\n\n579\n00:31:30.838 --> 00:31:31.766\nThere we go.\n\n580\n00:31:31.766 --> 00:31:35.500\nAnd there you can see it has taken\nthose hashes and cracked them.\n\n581\n00:31:35.500 --> 00:31:37.620\nSo Admin has a password of password.\n\n582\n00:31:37.620 --> 00:31:39.352\nSmithy is using password.\n\n583\n00:31:39.352 --> 00:31:40.731\nWhere's old Mr. Leet?\n\n584\n00:31:40.731 --> 00:31:44.760\nMr. Leet was using he has a cooler\nuser name then he does password,\n\n585\n00:31:44.760 --> 00:31:46.570\nhow about that.\n\n586\n00:31:46.570 --> 00:31:49.446\nPablo's using let me in,\nI always like that on there.\n\n587\n00:31:49.446 --> 00:31:52.137\nThat's not the point of this episode,\nright,\n\n588\n00:31:52.137 --> 00:31:54.300\nthe point was the SQL injection part.\n\n589\n00:31:54.300 --> 00:31:59.180\nThe fact that I was able to go to\nthat webpage that had a simple dialog\n\n590\n00:31:59.180 --> 00:32:02.350\nbox where I can put my user ID on,\nclick Submit.\n\n591\n00:32:02.350 --> 00:32:07.470\nAnd was able to retrieve this information\nout of your data base, rather\n\n592\n00:32:07.470 --> 00:32:11.810\nthe back-end database for the web site,\nthat is what SQL injection is all about.\n\n593\n00:32:11.810 --> 00:32:14.430\nNow I know, Wes,\nwe're getting short on time but\n\n594\n00:32:14.430 --> 00:32:17.690\nthere is one more thing I want to show\nyou, cuz I told you at the beginning,\n\n595\n00:32:17.690 --> 00:32:22.180\nI tell you how to prevent this and\nit's extremely easy.\n\n596\n00:32:22.180 --> 00:32:26.066\nThe only thing the coder who ever wrote\nthis web page, whoever wrote that script,\n\n597\n00:32:26.066 --> 00:32:26.924\nwould have to do.\n\n598\n00:32:26.924 --> 00:32:32.750\nThat phb script is do a check on what's\nbeing submitted before it gets hit.\n\n599\n00:32:32.750 --> 00:32:37.710\nWhen I click submit, the code behind\nthe scenes should look at what I've\n\n600\n00:32:37.710 --> 00:32:42.140\ntyped in before it builds that SQL\nstatement and sends it to the back.\n\n601\n00:32:42.140 --> 00:32:46.610\nAnd if there's crazy things in there\nlike slashes and ampersands or\n\n602\n00:32:46.610 --> 00:32:50.830\npound symbols and things like that,\nthose probably don't belong.\n\n603\n00:32:50.830 --> 00:32:55.127\nThere's no user IDs that include\na pound symbol, so why allow it?\n\n604\n00:32:55.127 --> 00:32:59.390\nAnd if you take that away,\nyou'd kill the entire SQL injection.\n\n605\n00:32:59.390 --> 00:33:03.600\nI cannot do a SQL injection\nif I can't use quotes and\n\n606\n00:33:03.600 --> 00:33:07.050\nif I can't use pound symbols and\nthings like that.\n\n607\n00:33:07.050 --> 00:33:08.750\nYou've just killed it completely.\n\n608\n00:33:08.750 --> 00:33:14.610\nSo one simple little script in\nthe background to do a little checking or\n\n609\n00:33:14.610 --> 00:33:18.875\ninput validation on that field\nwill prevent all of this.\n\n610\n00:33:18.875 --> 00:33:21.125\nSo it's that easy to\nstop this type of attack.\n\n611\n00:33:21.125 --> 00:33:22.585\n&gt;&gt; Mike,\nthat's a lot of great information.\n\n612\n00:33:22.585 --> 00:33:24.235\nIt's been fun, and it's been scary.\n\n613\n00:33:24.235 --> 00:33:26.127\nIt's kind of like being scary fun.\n\n614\n00:33:26.127 --> 00:33:26.639\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n615\n00:33:26.639 --> 00:33:27.849\n&gt;&gt; As I take Mike's advice,\n\n616\n00:33:27.849 --> 00:33:30.710\nremember that if your database\nis expecting certain values,\n\n617\n00:33:30.710 --> 00:33:33.120\nmake sure that's the only\nvalues it will accept.\n\n618\n00:33:33.120 --> 00:33:36.405\nNow Mike, I know that we've pretty much\ncome to the end of another episode.\n\n619\n00:33:36.405 --> 00:33:41.009\nAny final words that you would like to\nimpart to our viewers before we close this\n\n620\n00:33:41.009 --> 00:33:41.584\none off?\n\n621\n00:33:41.584 --> 00:33:43.244\n&gt;&gt; No, other than like I said.\n\n622\n00:33:43.244 --> 00:33:45.160\nHave your code to do some code review.\n\n623\n00:33:45.160 --> 00:33:49.567\nMake sure you get permission,\ntest your websites out,\n\n624\n00:33:49.567 --> 00:33:52.860\ndo it in a staging area, try some of this.\n\n625\n00:33:52.860 --> 00:33:55.730\nBut the main thing is just do code review,\nand ask your developers,\n\n626\n00:33:55.730 --> 00:34:00.560\nhey, are we doing any type of input\nvalidation on what we're allowing?\n\n627\n00:34:00.560 --> 00:34:04.450\nAnytime you're collecting user input or\nallowing a visitor to type in and\n\n628\n00:34:04.450 --> 00:34:06.790\nsubmit, you need to do input validation.\n\n629\n00:34:06.790 --> 00:34:08.660\n&gt;&gt; Words of wisdom from Mr.\nRodrick, as always.\n\n630\n00:34:08.660 --> 00:34:11.800\nWe appreciate having you here, Mike and\nwe appreciate you, the viewer watching.\n\n631\n00:34:11.800 --> 00:34:14.760\nSigning out for ITProTV,\nI've been your host, Wes Bryan.\n\n632\n00:34:14.760 --> 00:34:15.740\n&gt;&gt; And I'm Mike Rodrick.\n\n633\n00:34:15.740 --> 00:34:17.111\n&gt;&gt; We'll see you next time.\n\n634\n00:34:17.111 --> 00:34:23.973\n[MUSIC]\n\n635\n00:34:23.973 --> 00:34:26.115\n&gt;&gt; Thank you for watching ITProTV\n\n",
          "vimeoId": "223628137"
        },
        {
          "description": "In this episode, Wes and Mike talk about a way to automate a very common attack performed on a great many websites and databases known as SQL injection. They dive into a technology known as sqlmap that helps to perform some steps to perform the attack.",
          "length": "1674",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-5-2-sqlmap-062717-PGM.00_27_39_26.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-5-2-sqlmap-062717-PGM.00_27_39_26.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-5-2-sqlmap-062717-PGM.00_27_39_26.Still001-sm.jpg",
          "title": "sqlmap",
          "transcript": "WEBVTT\n\n1\n00:00:00.220 --> 00:00:02.865\nWelcome to ITProTV, I'm your host.\n\n2\n00:00:02.865 --> 00:00:08.299\n&gt;&gt; Coming to you live from San Francisco,\nCalifornia.\n\n3\n00:00:08.299 --> 00:00:12.076\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.076 --> 00:00:15.078\n&gt;&gt; Hello and welcome to another\ngreat episode here at ITProTV.\n\n5\n00:00:15.078 --> 00:00:16.410\nI'm your host Wes Bryan.\n\n6\n00:00:16.410 --> 00:00:18.230\nAnd in today's episode, what are we doing?\n\n7\n00:00:18.230 --> 00:00:20.950\nWe are continuing through our\nseries in security tech skills and\n\n8\n00:00:20.950 --> 00:00:22.530\njoining us back in the studios for\n\n9\n00:00:22.530 --> 00:00:26.440\nthis very endeavor is ITProTV's own\nsecurity guru, Mr. Mike Rodrick.\n\n10\n00:00:26.440 --> 00:00:27.880\nMike, how are you doing today, sir?\n\n11\n00:00:27.880 --> 00:00:28.550\n&gt;&gt; Doing great, Wes.\n\n12\n00:00:28.550 --> 00:00:29.400\nThanks for having me back.\n\n13\n00:00:29.400 --> 00:00:31.240\nExcited as always to be here.\n\n14\n00:00:31.240 --> 00:00:34.690\nIn this episode, we're gonna be taking\na look at doing some SQL injection.\n\n15\n00:00:34.690 --> 00:00:37.262\nWe're gonna be using\na utility called Sqlmap.\n\n16\n00:00:37.262 --> 00:00:39.720\nAnd Sqlmap is a way that we can kinda\n\n17\n00:00:39.720 --> 00:00:42.260\nautomate some of the process\nof doing a SQL injection.\n\n18\n00:00:42.260 --> 00:00:44.310\nIt does a lot of the heavy lifting for us.\n\n19\n00:00:44.310 --> 00:00:47.580\nIf you watched our previous episode,\nwe did some SQL injection, but\n\n20\n00:00:47.580 --> 00:00:52.300\nwe did it very manually, where I was\ntyping into the form and clicking submit.\n\n21\n00:00:52.300 --> 00:00:55.250\nAnd trying to slowly build up,\nour SQL statement.\n\n22\n00:00:55.250 --> 00:00:58.063\nHad to determine if it was\nvulnerable to SQL injection, and\n\n23\n00:00:58.063 --> 00:00:59.760\nwe made some assumptions, right?\n\n24\n00:00:59.760 --> 00:01:03.437\nI already knew that it was\na MySQL database on the back end,\n\n25\n00:01:03.437 --> 00:01:07.940\nwhich was a big help, because I knew\nwhat the comments character was for\n\n26\n00:01:07.940 --> 00:01:12.210\nexample, which helped me be\nsuccessful in my SQL injection.\n\n27\n00:01:12.210 --> 00:01:15.990\nBut many times, if you're doing\na penetration test, if you're doing some\n\n28\n00:01:15.990 --> 00:01:19.190\nkind of black box testing,\nyou might not know that information.\n\n29\n00:01:19.190 --> 00:01:22.900\nBut I still need to find out,\nif this server is vulnerable, or\n\n30\n00:01:22.900 --> 00:01:25.160\nif this website is\nvulnerable to SQL injection.\n\n31\n00:01:25.160 --> 00:01:29.610\nAnd that's where tools like Sqlmap,\nand several others come in to play.\n\n32\n00:01:29.610 --> 00:01:31.757\nSo that's what we're gonna\nlook at in this one.\n\n33\n00:01:31.757 --> 00:01:34.650\nSo let's take a look at my screen,\nand we'll dive right in it.\n\n34\n00:01:35.700 --> 00:01:37.200\nWhat we're gonna do is we're going to,\n\n35\n00:01:37.200 --> 00:01:40.540\nI've got my darn vulnerable\nweb application up.\n\n36\n00:01:40.540 --> 00:01:45.207\nI'm on the SQL injection tab,\nI've got my security set to low so\n\n37\n00:01:45.207 --> 00:01:49.363\nthat we'll have some success\ndoing that SQL injection.\n\n38\n00:01:49.363 --> 00:01:52.548\nAnd what I need to do,\nif we're gonna do this,\n\n39\n00:01:52.548 --> 00:01:55.020\nI need to be able to see the traffic.\n\n40\n00:01:55.020 --> 00:01:57.940\nI need to see what's being submitted,\nright?\n\n41\n00:01:57.940 --> 00:02:02.210\nBack to that back end and then what's\nthe responses back from that server.\n\n42\n00:02:02.210 --> 00:02:05.190\nSo we're going to use a tool that we've\nalready taken a look at in a previous\n\n43\n00:02:05.190 --> 00:02:07.080\nepisode known as Burp Suite, right?\n\n44\n00:02:07.080 --> 00:02:11.440\nThat's those intercept proxies or\nattack proxies that will allow me to\n\n45\n00:02:11.440 --> 00:02:14.760\nbasically sit between my web browser and\nthe server.\n\n46\n00:02:14.760 --> 00:02:19.540\nAnd pause the traffic and let me look\nat it, even modify it if I need to.\n\n47\n00:02:19.540 --> 00:02:20.830\nSo, let's get that set up.\n\n48\n00:02:20.830 --> 00:02:22.080\nI'm gonna launch Burp Suite.\n\n49\n00:02:22.080 --> 00:02:26.150\nActually, before I do that, I'll go\nahead and configure my proxy settings.\n\n50\n00:02:26.150 --> 00:02:29.100\nSo, I'm going to go into\npreferences on my browser and\n\n51\n00:02:29.100 --> 00:02:30.610\nI'm gonna go down to my advance settings.\n\n52\n00:02:30.610 --> 00:02:32.730\nEach browser will be\na little bit different.\n\n53\n00:02:32.730 --> 00:02:34.220\nThis one is Firefox.\n\n54\n00:02:34.220 --> 00:02:36.830\nGoing into network connections settings.\n\n55\n00:02:36.830 --> 00:02:40.144\nAnd I'm going to set my\nproxy settings to port 8080.\n\n56\n00:02:40.144 --> 00:02:43.580\nWe already know that's what Burp Suite is\ngonna be listening on, but we'll verify.\n\n57\n00:02:43.580 --> 00:02:45.250\nWe'll go ahead and double check that.\n\n58\n00:02:45.250 --> 00:02:45.910\nWe'll click okay.\n\n59\n00:02:47.010 --> 00:02:49.013\nI'll close that tab.\n\n60\n00:02:49.013 --> 00:02:50.632\nAnd then we're gonna launch up Burp Suite.\n\n61\n00:02:52.789 --> 00:02:56.377\nThat comes pre-installed on my Kali,\nthe 2017 version.\n\n62\n00:02:56.377 --> 00:02:59.870\nIt is the free version, so\nI can't do any type of permanent projects.\n\n63\n00:02:59.870 --> 00:03:04.458\nSo I'll do temporary, Next, Startup and\nwe'll just get this running.\n\n64\n00:03:04.458 --> 00:03:06.595\nThen we'll go in and we'll take a look and\n\n65\n00:03:06.595 --> 00:03:09.425\nmake sure we're on\nthe right proxy settings.\n\n66\n00:03:09.425 --> 00:03:12.495\nSo I'm going to go to, and\nyou know it's difficult to see in here.\n\n67\n00:03:12.495 --> 00:03:14.475\nLet me zoom in real quick for you.\n\n68\n00:03:14.475 --> 00:03:18.258\nSo I'm going to go to that proxy tab.\n\n69\n00:03:18.258 --> 00:03:21.015\nAnd it likes to lock up right here\nat this point for some reason.\n\n70\n00:03:21.015 --> 00:03:24.105\nBut I think it's the zoom\nthat's causing the problems.\n\n71\n00:03:24.105 --> 00:03:25.315\nSo I'll go to my proxy tab.\n\n72\n00:03:25.315 --> 00:03:26.639\nThen I'm going to go over to my options.\n\n73\n00:03:28.180 --> 00:03:29.940\nAnd there we go, sure enough,\nit's listening on 8080, so\n\n74\n00:03:29.940 --> 00:03:32.170\nwe're good to go there.\n\n75\n00:03:32.170 --> 00:03:35.380\nI go to my Intercept tab,\nand intercept is on,\n\n76\n00:03:35.380 --> 00:03:39.260\nwhich means it is ready to go\nlooking at my browser traffic.\n\n77\n00:03:40.530 --> 00:03:44.860\nGo back over to my browser, and I'm\nsimply gonna just type in a user ID and\n\n78\n00:03:44.860 --> 00:03:46.220\nsee what happens.\n\n79\n00:03:46.220 --> 00:03:48.280\nSo I'll do a user ID of 1.\n\n80\n00:03:48.280 --> 00:03:49.920\nAnd I'll click Submit.\n\n81\n00:03:49.920 --> 00:03:53.077\nNow nothing happens because\nBurp Suite has stopped that traffic,\n\n82\n00:03:53.077 --> 00:03:55.623\ngiving me a chance to see it\nbefore I allow it to go off.\n\n83\n00:03:55.623 --> 00:04:00.242\nSo we'll flip back over to Burp Suite and\nI'll zoom in for you so\n\n84\n00:04:00.242 --> 00:04:04.090\nyou can see what we've got and\nthere's my request.\n\n85\n00:04:04.090 --> 00:04:07.340\nAnd if we look at that first line,\nthere's the URL\n\n86\n00:04:07.340 --> 00:04:11.539\nthat is going to slash vulnerabilities\nslash sqli slash question mark.\n\n87\n00:04:11.539 --> 00:04:18.738\nAnd then there's it's submitting what\nI typed in, ID=1 and submit=submit.\n\n88\n00:04:18.738 --> 00:04:19.770\nSo that's my button.\n\n89\n00:04:19.770 --> 00:04:25.110\nBut it's also got some other information\nhere that I'm gonna need to use Sqlmap.\n\n90\n00:04:25.110 --> 00:04:29.300\nIt's got my PHP session ID,\nthis is part of the cookie\n\n91\n00:04:29.300 --> 00:04:34.780\nthat's being put on my computer by this\nwebsite, and security is equal to low.\n\n92\n00:04:34.780 --> 00:04:36.990\nIn a previous episode,\nwhen we were doing SQL injection,\n\n93\n00:04:36.990 --> 00:04:38.780\nI was using the actual web page, right?\n\n94\n00:04:38.780 --> 00:04:42.670\nSo it was generating this information,\nit had access to the cookie, all was good,\n\n95\n00:04:42.670 --> 00:04:44.440\nI didn't have to worry about that.\n\n96\n00:04:44.440 --> 00:04:48.230\nSqlmap we're gonna be\nrunning from myShell, and\n\n97\n00:04:48.230 --> 00:04:51.760\nso I'm gonna need that session\ninformation, the cookie information,\n\n98\n00:04:51.760 --> 00:04:54.470\nbasically, so\nthat's really what we use Burp Suite for.\n\n99\n00:04:54.470 --> 00:04:58.110\nI'm gonna go ahead and forward that\npacket on, let it go to the website and\n\n100\n00:04:58.110 --> 00:04:59.640\nI'm just gonna turn Intercept off.\n\n101\n00:04:59.640 --> 00:05:00.800\nBecause we don't need it anymore.\n\n102\n00:05:02.030 --> 00:05:06.590\nAnd I can go to my HTTP history and\nI can look at that packet again.\n\n103\n00:05:06.590 --> 00:05:08.440\nAnd I'll zoom back out.\n\n104\n00:05:08.440 --> 00:05:12.410\nAnd there's that information right down\nthere that I'm gonna need later on.\n\n105\n00:05:12.410 --> 00:05:15.140\nAll right, so we used Burp Suite\njust to capture that traffic.\n\n106\n00:05:15.140 --> 00:05:17.970\nSo I could get that cookie information.\n\n107\n00:05:17.970 --> 00:05:21.820\nNow we're going to go ahead and\nlaunch up our shell, and\n\n108\n00:05:21.820 --> 00:05:24.760\nwe will see what we can do with Sqlmap.\n\n109\n00:05:24.760 --> 00:05:29.399\nSo Sqlmap, it comes pre-installed on Kali\nLinux, but you can always go ahead and\n\n110\n00:05:29.399 --> 00:05:31.770\ndownload it, free utility.\n\n111\n00:05:31.770 --> 00:05:34.970\nIt runs on Linux, and\nif I just type in Sqlmap,\n\n112\n00:05:34.970 --> 00:05:39.190\nI can see some of the options\nthat are used with this command.\n\n113\n00:05:39.190 --> 00:05:44.485\nWe can also do an Sqlmap dash h for help,\n\n114\n00:05:44.485 --> 00:05:49.624\nyou can do a dash hh for extended help.\n\n115\n00:05:49.624 --> 00:05:53.560\nAnd it's going to show me all\nof the different parameters or\n\n116\n00:05:53.560 --> 00:05:55.939\noptions that I can use with Sqlmap.\n\n117\n00:05:55.939 --> 00:05:59.140\nBut I'm gonna just kinda\nkeep it basic here.\n\n118\n00:05:59.140 --> 00:06:02.140\nAnd I'll explain the commands\nas we type them out.\n\n119\n00:06:02.140 --> 00:06:03.825\nSo let me clear up my screen.\n\n120\n00:06:03.825 --> 00:06:06.670\nAnd I'm actually going to bump that up.\n\n121\n00:06:06.670 --> 00:06:09.421\nMaybe that's a little too big there.\n\n122\n00:06:09.421 --> 00:06:11.042\nGet that big enough for\neverybody to see out there.\n\n123\n00:06:11.042 --> 00:06:14.500\nAll right, now that we got that\ninformation from Burp Suite,\n\n124\n00:06:14.500 --> 00:06:16.690\nwe are ready to start up Sqlmap.\n\n125\n00:06:16.690 --> 00:06:18.780\nWe'll type in Sqlmap.\n\n126\n00:06:18.780 --> 00:06:21.610\nAnd then we're gonna do a dash u for URL.\n\n127\n00:06:21.610 --> 00:06:23.810\nAnd we'll put in our quotes.\n\n128\n00:06:23.810 --> 00:06:26.670\nAnd then we'll come over here and\nwe'll just kind of copy and paste so\n\n129\n00:06:26.670 --> 00:06:29.180\nthat I don't have to try to type this.\n\n130\n00:06:29.180 --> 00:06:31.880\nAlthough my copy and\npaste skills aren't the best either.\n\n131\n00:06:33.020 --> 00:06:35.610\nSwitch over there, we'll paste that in.\n\n132\n00:06:35.610 --> 00:06:38.390\nAnd then we're gonna go up here and\nget the rest of that URL.\n\n133\n00:06:39.470 --> 00:06:43.530\nI'm going to miss that question mark so\nI'm going to be careful there.\n\n134\n00:06:43.530 --> 00:06:45.700\nNeed all of that.\n\n135\n00:06:45.700 --> 00:06:47.480\nCopy that out.\n\n136\n00:06:47.480 --> 00:06:48.400\nPaste it in there.\n\n137\n00:06:49.400 --> 00:06:52.720\nAll right, we'll double check and\nmake sure our URL looks correct.\n\n138\n00:06:52.720 --> 00:06:53.600\nWe are good to go there.\n\n139\n00:06:53.600 --> 00:06:55.110\nWe'll end that quote.\n\n140\n00:06:55.110 --> 00:07:01.180\nAnd then it's going to be a dash, dash,\ncookie equals, and this goes in quotes\n\n141\n00:07:01.180 --> 00:07:05.800\nas well, back over to Burp Suite, and\nget the rest of the information we need.\n\n142\n00:07:05.800 --> 00:07:07.440\nSo I`ll grab that.\n\n143\n00:07:07.440 --> 00:07:10.430\nI missed a p, but\nthat`s okay, we can fix that.\n\n144\n00:07:10.430 --> 00:07:15.242\nGo back over to myShell, we`ll add that\nlittle p and we`ll paste that in there and\n\n145\n00:07:15.242 --> 00:07:16.939\nthen we`ll end our quotes.\n\n146\n00:07:16.939 --> 00:07:22.100\nAnd then we`ll hit enter and\nsee what Sqlmap has to say about this URL.\n\n147\n00:07:22.100 --> 00:07:22.630\nLet it go.\n\n148\n00:07:23.940 --> 00:07:26.710\nAll right, and it starts up and\nit's got a bunch of scripts.\n\n149\n00:07:26.710 --> 00:07:29.180\nIt's doing all the heavy lifting for\nus in the background.\n\n150\n00:07:29.180 --> 00:07:32.710\nIt's got some scripts it's executing and\nwe can see here at the bottom of myShell.\n\n151\n00:07:32.710 --> 00:07:35.759\nIt looks like the back\nend database is MySQL.\n\n152\n00:07:35.759 --> 00:07:41.810\nDo you want to skip test payloads for\nother database management systems?\n\n153\n00:07:41.810 --> 00:07:42.650\nWell yeah, right.\n\n154\n00:07:42.650 --> 00:07:46.452\nBecause it has scripts that\nwill test Oracle databases and\n\n155\n00:07:46.452 --> 00:07:49.320\nMSSql databases and things like that.\n\n156\n00:07:49.320 --> 00:07:53.000\nIf you telling me its MySQL, then yeah\ngo ahead and skip the rest of the test.\n\n157\n00:07:53.000 --> 00:07:56.069\n&gt;&gt; And Mike, if I understand this right,\nin the other episode that you did and\n\n158\n00:07:56.069 --> 00:07:59.061\nyou showed us the very manual process\nwhen it`s running those scripts.\n\n159\n00:07:59.061 --> 00:08:02.357\nIt`s kind of filling in that field for you\nin the background rather than you having\n\n160\n00:08:02.357 --> 00:08:04.200\nto do that work and do all the guess work.\n\n161\n00:08:04.200 --> 00:08:04.734\n&gt;&gt; Yep, exactly right.\n\n162\n00:08:04.734 --> 00:08:07.430\nIt saves me a whole lot of time and\neffort.\n\n163\n00:08:07.430 --> 00:08:10.023\nSo we'll say yes,\nwe wanna skip those other ones.\n\n164\n00:08:10.023 --> 00:08:14.638\nAnd then it says, for the remaining tests,\ndo you wanna include all tests from MySQL\n\n165\n00:08:14.638 --> 00:08:17.430\nextending provided level 1 and\nrisk 1 values?\n\n166\n00:08:17.430 --> 00:08:21.700\nAnd we'll say yes, we just say\nwe know that it's this as MySQL.\n\n167\n00:08:21.700 --> 00:08:24.550\nLet's go ahead and run, throw\neverything but the kitchen sink at it.\n\n168\n00:08:24.550 --> 00:08:25.970\nWe'll hit yes and we'll let it go.\n\n169\n00:08:27.430 --> 00:08:32.070\nAnd it's going to whir and grind and\nit's running through all these different\n\n170\n00:08:32.070 --> 00:08:37.100\ntests a combination of things that\nwe can put in that field and submit.\n\n171\n00:08:37.100 --> 00:08:40.480\nAnd seeing what we get back to\ndetermine if there is a way to\n\n172\n00:08:40.480 --> 00:08:42.920\nbuild our own SQL statement in there.\n\n173\n00:08:42.920 --> 00:08:47.750\nAll right, and there we go, it says\nthe get parameter ID is vulnerable.\n\n174\n00:08:47.750 --> 00:08:50.610\nDo you wanna keep testing others, if any?\n\n175\n00:08:50.610 --> 00:08:54.170\nNow in my case, we used Burt suite and\nwe saw what it submitted.\n\n176\n00:08:54.170 --> 00:08:58.370\nAnd the only parameter that\nit was submitting was ID, so\n\n177\n00:08:58.370 --> 00:08:59.540\nthere's really no point.\n\n178\n00:08:59.540 --> 00:09:03.110\nIt's got a word list, and\nit'll try other things, but\n\n179\n00:09:03.110 --> 00:09:05.080\nin this case, it's not gonna do any good.\n\n180\n00:09:05.080 --> 00:09:07.820\nSo I'm gonna say yes,\nlet's go ahead and skip.\n\n181\n00:09:07.820 --> 00:09:12.417\nOr I'll say no to not keep\ntesting the others, so n.\n\n182\n00:09:15.184 --> 00:09:16.990\nAnd there we go.\n\n183\n00:09:16.990 --> 00:09:17.810\nSo now let's take a look.\n\n184\n00:09:17.810 --> 00:09:21.040\nLet me blow this up and\nwe'll show you what we've got.\n\n185\n00:09:21.040 --> 00:09:24.000\nSo it started going through here and\nsaid look, I can use an or\n\n186\n00:09:24.000 --> 00:09:29.280\nstatement, kinda like we did in\nother episode and we can do that.\n\n187\n00:09:29.280 --> 00:09:30.460\nOr we can do an or not.\n\n188\n00:09:30.460 --> 00:09:35.292\nIt also says we can do a SQL\ninjection based on an an statement.\n\n189\n00:09:35.292 --> 00:09:38.817\nRight, here`s the payload,\nhere`s what it`s saying worked.\n\n190\n00:09:38.817 --> 00:09:41.960\nIt`s already tested this,\nit knows that it works.\n\n191\n00:09:41.960 --> 00:09:45.830\nWe can do an and or combination down here.\n\n192\n00:09:45.830 --> 00:09:48.620\nWe can do a union with another query.\n\n193\n00:09:48.620 --> 00:09:52.200\nSo it`s found all this for me and it`s\nsaid, hey, here you go, you`re vulnerable,\n\n194\n00:09:52.200 --> 00:09:53.985\nor the site you`re testing is vulnerable,\n\n195\n00:09:53.985 --> 00:09:56.610\nhere`s the things we can do,\nwhich is great.\n\n196\n00:09:57.730 --> 00:09:59.990\nAgain, save me a lot of work.\n\n197\n00:09:59.990 --> 00:10:04.160\nBut we're not done,\nSQL map will do everything, right?\n\n198\n00:10:04.160 --> 00:10:08.020\nNow what we want to do, let's see, in our\nother episode where we were doing this\n\n199\n00:10:08.020 --> 00:10:12.220\nmanually, one of the first things we tried\nto do is list out all the databases.\n\n200\n00:10:12.220 --> 00:10:16.490\nIf I find a server that is\nvulnerable to SQL injection.\n\n201\n00:10:16.490 --> 00:10:17.980\nFirst, I wanna try to map everything out.\n\n202\n00:10:17.980 --> 00:10:22.670\nI wanna see what's going on on that\nSQ:Server, in this case a MySQL server.\n\n203\n00:10:22.670 --> 00:10:25.640\nSo, let's try to find out\nwhat database exists.\n\n204\n00:10:25.640 --> 00:10:33.280\nSo I'm simply gonna bring that last\ncommand back and I'm gonna add a -- DVS.\n\n205\n00:10:33.280 --> 00:10:37.670\nDVS will run the script that's\ngoing to generate the queries\n\n206\n00:10:37.670 --> 00:10:41.490\nto hit that information schema table,\nto list out all the databases.\n\n207\n00:10:41.490 --> 00:10:43.270\nSo we'll hit enter, see what it does.\n\n208\n00:10:44.680 --> 00:10:46.305\nAnd there we go.\n\n209\n00:10:46.305 --> 00:10:50.987\nIt found these are all the databases that\nare on, that particular MySQL Server.\n\n210\n00:10:50.987 --> 00:10:51.710\n&gt;&gt; All right Mike,\n\n211\n00:10:51.710 --> 00:10:54.990\nI got a gaming reference here so I'm sure\nwe have a couple of gamers out there.\n\n212\n00:10:54.990 --> 00:10:57.830\nKind of seems like in a game where you're\ngoing through the, you know the dark\n\n213\n00:10:57.830 --> 00:11:01.080\nroom right and you're lighting up a piece\nand you don't know what's beyond that.\n\n214\n00:11:01.080 --> 00:11:04.770\nBut just lie you said, the manual process\nyou're, you're opening these doorways, and\n\n215\n00:11:04.770 --> 00:11:09.000\nyou're kinda illuminating this, what's\nin this database, kinda piece by piece,\n\n216\n00:11:09.000 --> 00:11:11.870\nuntil you get to, let's say,\nthe proverbial gold mine.\n\n217\n00:11:11.870 --> 00:11:12.970\n&gt;&gt; Yeah, absolutely, right?\n\n218\n00:11:12.970 --> 00:11:15.750\nWe now know the databases that exist.\n\n219\n00:11:15.750 --> 00:11:19.750\nSo I'm gonna look at those, and go,\nhmm, now what ones look interesting?\n\n220\n00:11:19.750 --> 00:11:23.930\nNow, in this case,\nI'm gonna use that DVWA database.\n\n221\n00:11:25.570 --> 00:11:30.470\nIf I saw a database called,\nI don't know, users or a database called\n\n222\n00:11:30.470 --> 00:11:34.160\ncustomer info, I might think, ooh, maybe\nthere's credit card information in there,\n\n223\n00:11:34.160 --> 00:11:37.340\nor passwords in there and\nthat might be where I wanna start.\n\n224\n00:11:37.340 --> 00:11:41.750\nI might go through each of these databases\none at a time, to see what's inside them.\n\n225\n00:11:41.750 --> 00:11:45.350\nBut you can imagine, I didn't know\nanything about the SQL Server, right.\n\n226\n00:11:45.350 --> 00:11:47.130\nNow I know what databases exists.\n\n227\n00:11:47.130 --> 00:11:49.190\nSo I can take one database at a time, and\n\n228\n00:11:49.190 --> 00:11:52.450\ndo some further reconnaissance\non each one of those databases.\n\n229\n00:11:52.450 --> 00:11:54.240\nSo let's see what SQL map can do for us.\n\n230\n00:11:54.240 --> 00:11:57.660\nNow that we know the database,\nI'm gonna bring that last command back.\n\n231\n00:11:57.660 --> 00:12:03.990\nI'm just gonna take out the DVS script and\nI'm gonna add a capital D switch.\n\n232\n00:12:03.990 --> 00:12:06.600\nAnd I'll put the name of the database\nthat I wanna hit, right?\n\n233\n00:12:07.760 --> 00:12:12.670\nAnd then I'm saying, okay, well,\nwithin that database, what tables exist?\n\n234\n00:12:12.670 --> 00:12:17.450\nSo I'll do a --tables,\nbecause SQL map has a script\n\n235\n00:12:17.450 --> 00:12:20.960\ncalled tables that'll interrogate that\ndatabase, figure out what tables.\n\n236\n00:12:20.960 --> 00:12:23.620\nIt's really just hitting\nthe information schema table again.\n\n237\n00:12:23.620 --> 00:12:26.060\nWe'll hit enter [COUGH].\n\n238\n00:12:26.060 --> 00:12:30.270\nAnd within that database, there are two\ntables, one called guest book, and\n\n239\n00:12:30.270 --> 00:12:31.670\none called users.\n\n240\n00:12:31.670 --> 00:12:34.020\nUsers that's going to be a good one,\nright?\n\n241\n00:12:34.020 --> 00:12:36.435\nI'm thinking at least user name and\npassword's in there.\n\n242\n00:12:36.435 --> 00:12:39.001\nAll right, if I'm sitting on\nthe sideline kinda like a parade,\n\n243\n00:12:39.001 --> 00:12:41.392\nI might not be able to see all\nthe way at the end of the parade.\n\n244\n00:12:41.392 --> 00:12:44.360\nBut in the other episode\nyou did on SQL injection,\n\n245\n00:12:44.360 --> 00:12:49.164\nthe next thing I would be thinking is now\nyou know that database or the table in it,\n\n246\n00:12:49.164 --> 00:12:53.060\nI would say the next thing is gonna\nbe a column if I guess right?\n\n247\n00:12:53.060 --> 00:12:54.790\n&gt;&gt; Yeah,\nlet's see what information they're storing\n\n248\n00:12:54.790 --> 00:12:56.420\nin that table called users.\n\n249\n00:12:56.420 --> 00:12:58.090\nSo I'm gonna bring that last command back.\n\n250\n00:12:58.090 --> 00:13:01.530\nI'm gonna say, all right, we don't\nneed to run the table script anymore.\n\n251\n00:13:01.530 --> 00:13:03.440\nI know what table I wanna hit.\n\n252\n00:13:03.440 --> 00:13:09.070\nSo -d is still there to tell it what\ndatabase we're hitting, -t is gonna be\n\n253\n00:13:09.070 --> 00:13:15.250\nusers, and then, you probably guessed,\nthere's a script to look for columns.\n\n254\n00:13:15.250 --> 00:13:17.950\nSo we'll do a -- columns and\nwe'll hit enter.\n\n255\n00:13:19.500 --> 00:13:22.260\nAnd there we go, there are the columns\nthose will gives me the names of\n\n256\n00:13:22.260 --> 00:13:24.320\nthe column as well as the data type.\n\n257\n00:13:24.320 --> 00:13:27.680\nWhat type of information is being\nstored within those columns.\n\n258\n00:13:27.680 --> 00:13:32.940\nSo you see we're just slowly work on our\nway down to the actual values, all right.\n\n259\n00:13:32.940 --> 00:13:36.890\nSo now we know the columns that exist,\nnow there's user avatar, first name,\n\n260\n00:13:36.890 --> 00:13:39.750\nlast name, password, user id.\n\n261\n00:13:39.750 --> 00:13:42.850\nAvatar, I don't care about that.\n\n262\n00:13:42.850 --> 00:13:45.100\nFirst name, last name, that's just,\nthose are display names,\n\n263\n00:13:45.100 --> 00:13:46.660\nnot too worried about that.\n\n264\n00:13:46.660 --> 00:13:50.630\nUser id is probably used internally\nto make the records unique.\n\n265\n00:13:50.630 --> 00:13:53.120\nSo that's probably any\ngood outside of this.\n\n266\n00:13:53.120 --> 00:13:54.570\nI don't know, we might want to get it.\n\n267\n00:13:54.570 --> 00:13:58.540\nBut I definitely like user column and\nI like that password column.\n\n268\n00:13:58.540 --> 00:14:01.370\nThose are gonna be the two that\nI'm gonna focus in on here.\n\n269\n00:14:01.370 --> 00:14:03.867\n&gt;&gt; Now Mike, you're kind of\nseeing what the structure is,\n\n270\n00:14:03.867 --> 00:14:05.540\nyou're seeing now what's in there.\n\n271\n00:14:05.540 --> 00:14:08.560\nHow could we actually collect\ninformation in those components,\n\n272\n00:14:08.560 --> 00:14:10.660\nobjects that you're looking at now?\n\n273\n00:14:10.660 --> 00:14:14.430\nHow can we actually get the information\nthat might be within those fields?\n\n274\n00:14:14.430 --> 00:14:17.750\n&gt;&gt; Guess what, SQL map has a script for\nthat as well, right?\n\n275\n00:14:17.750 --> 00:14:19.240\nSo we can automate this process.\n\n276\n00:14:19.240 --> 00:14:23.600\nSimply going to bring that last command\nback, take out the column script,\n\n277\n00:14:23.600 --> 00:14:26.400\nwe don't need that any more\nI know what columns I want.\n\n278\n00:14:26.400 --> 00:14:33.150\nSo we'll do a dash, capital C and I want\nthe user column and the password column.\n\n279\n00:14:33.150 --> 00:14:37.080\nAll right and\nthen another script, -- dump.\n\n280\n00:14:37.080 --> 00:14:38.550\nThis is what tells it okay,\n\n281\n00:14:38.550 --> 00:14:41.930\ngo get that information from\nthose columns dump it out now.\n\n282\n00:14:41.930 --> 00:14:44.810\nAnd this is where the power\nof SQL map comes into play.\n\n283\n00:14:44.810 --> 00:14:49.370\nI'm just gonna go ahead and submit this\nand let you guys see what it's gonna do.\n\n284\n00:14:49.370 --> 00:14:49.929\nI'll hit enter.\n\n285\n00:14:52.493 --> 00:14:55.200\nAll right, and\nit went in there and dumped.\n\n286\n00:14:55.200 --> 00:15:00.470\nIn fact you can see the green\ntext here retrieved and\n\n287\n00:15:00.470 --> 00:15:04.670\nthese are users,\n1337admin, gordonB, Pablo,\n\n288\n00:15:04.670 --> 00:15:09.460\nSmithy, and then here's their\npasswords right there next to them.\n\n289\n00:15:09.460 --> 00:15:11.540\nThat's pulling that information back out.\n\n290\n00:15:11.540 --> 00:15:13.438\nNow these passwords are hash right.\n\n291\n00:15:13.438 --> 00:15:17.600\nMost databases [LAUGH] if they're\nworth anything are at least gonna hash\n\n292\n00:15:17.600 --> 00:15:21.705\nthe passwords before they store\nthem to slow us down a little bit.\n\n293\n00:15:21.705 --> 00:15:24.840\n[COUGH] But\nif you take a look at that last line.\n\n294\n00:15:24.840 --> 00:15:27.100\nDo you wanna store the hashes\nto a temporary file for\n\n295\n00:15:27.100 --> 00:15:30.080\neventual further processing\nwith other tools?\n\n296\n00:15:30.080 --> 00:15:33.060\n&gt;&gt; Mike I think that's kinda interesting,\nthat's a very cordial way of saying,\n\n297\n00:15:33.060 --> 00:15:34.890\nyou're sitting here\nattacking this website, and\n\n298\n00:15:34.890 --> 00:15:37.040\nit's saying do you want this for\nfurther processing?\n\n299\n00:15:37.040 --> 00:15:37.755\nThat's really nice.\n\n300\n00:15:37.755 --> 00:15:39.920\n[LAUGHS]\n&gt;&gt; Yeah, isn't it nice of it?\n\n301\n00:15:39.920 --> 00:15:44.960\nAnd of course we do, we might take those\nhashes and take them to another tool and\n\n302\n00:15:44.960 --> 00:15:47.300\nstart working on those hashes.\n\n303\n00:15:47.300 --> 00:15:48.370\nOr should we?\n\n304\n00:15:48.370 --> 00:15:50.690\nBecause guess what SQL Map\nis going to do for us?\n\n305\n00:15:50.690 --> 00:15:55.330\nWatch, alright, so yes,\nI want to dump these out to a file for\n\n306\n00:15:55.330 --> 00:15:56.230\nfurther processing.\n\n307\n00:15:56.230 --> 00:15:56.730\nI'll hit enter.\n\n308\n00:15:56.730 --> 00:16:01.506\nIt says okay, great, here's where I stored\nthat file if you want to go get it.\n\n309\n00:16:01.506 --> 00:16:03.340\nHere's the name and the location.\n\n310\n00:16:03.340 --> 00:16:08.112\nBut then it says, do you want to crack\nthem via dictionary based attack?\n\n311\n00:16:08.112 --> 00:16:10.190\nWell yes, yes I do, right.\n\n312\n00:16:10.190 --> 00:16:14.050\nSo I hit a y for that, yes,\nand let's see what it's doing.\n\n313\n00:16:14.050 --> 00:16:16.680\nIt says,\nwhat dictionary do you want to use?\n\n314\n00:16:16.680 --> 00:16:22.000\nNow it has a default dictionary file for\nSQL Map, it's called wordlist.zip.\n\n315\n00:16:22.000 --> 00:16:27.560\nNine times out of ten you're gonna\nhave a custom Word lists that you use,\n\n316\n00:16:27.560 --> 00:16:31.840\nthat you have built over time,\nor have gotten from the web.\n\n317\n00:16:32.990 --> 00:16:38.630\nMaybe there's words that are specific to\nyour organization that people like to use.\n\n318\n00:16:38.630 --> 00:16:41.990\nOr there are certain words that you want\nto make sure people aren't using, so\n\n319\n00:16:41.990 --> 00:16:43.840\nyou're testing to see if\nthey've used any of those.\n\n320\n00:16:43.840 --> 00:16:46.960\nSo you might have a list of\nwords that you want to test.\n\n321\n00:16:46.960 --> 00:16:49.890\nYou can do an option number two,\ncustom dictionary file.\n\n322\n00:16:49.890 --> 00:16:52.840\nYou can do a file with\na list of dictionary files.\n\n323\n00:16:52.840 --> 00:16:56.610\nSo you might have several dictionary\nfiles that you wanna rifle through.\n\n324\n00:16:56.610 --> 00:16:58.430\nIn my case,\nI'm just gonna use the default ones.\n\n325\n00:16:58.430 --> 00:17:01.870\nI'll type the number one and\nhit Enter and let it go.\n\n326\n00:17:02.890 --> 00:17:06.270\nThen it asks me, do you want to\nuse common password suffixes?\n\n327\n00:17:06.270 --> 00:17:08.620\nAnd then it says in parenthesis, slow.\n\n328\n00:17:08.620 --> 00:17:12.300\nAll right, now we haven't done any\npassword cracking episodes yet.\n\n329\n00:17:12.300 --> 00:17:15.470\nBut when we go through a dictionary\nfile [COUGH] Excuse me,\n\n330\n00:17:15.470 --> 00:17:18.340\nit's just a list of words,\none word on each line.\n\n331\n00:17:18.340 --> 00:17:19.970\nAnd it's gonna attempt to use those.\n\n332\n00:17:19.970 --> 00:17:23.370\nBasically in this case,\nit's gonna hash each one of those words,\n\n333\n00:17:23.370 --> 00:17:26.410\ncopy it to the hash that we've\nretrieved from this database.\n\n334\n00:17:26.410 --> 00:17:29.900\nAnd if they match,\nthen it knows what the password is.\n\n335\n00:17:29.900 --> 00:17:34.210\nIf we're talking about adding suffixes,\nthat's like doing a hybrid attack,\n\n336\n00:17:34.210 --> 00:17:38.810\nwhere we're combing a dictionary attack\nwith kind of a brute force attack,\n\n337\n00:17:38.810 --> 00:17:42.760\nwhere we might, a very common thing\nthat users do is, hey it's time to\n\n338\n00:17:42.760 --> 00:17:46.120\nchange my password, I'm gonna put\na one at the end of my old password.\n\n339\n00:17:46.120 --> 00:17:48.270\nOr I'm gonna change it to a two,\nall right?\n\n340\n00:17:48.270 --> 00:17:50.010\nThey love to put numbers or,\n\n341\n00:17:50.010 --> 00:17:53.760\nI'm gonna just add an exclamation point\nto the end of my last password, and\n\n342\n00:17:53.760 --> 00:17:57.420\nthat way it'll think I’ve changed it and\nit’s still easy for me to remember.\n\n343\n00:17:57.420 --> 00:18:01.660\nWell this cracker will do that as well,\nit'll go through my dictionary file once.\n\n344\n00:18:01.660 --> 00:18:05.560\nThen it will go through the dictionary\nfile again with a number one appended\n\n345\n00:18:05.560 --> 00:18:06.800\nto each one of them.\n\n346\n00:18:06.800 --> 00:18:10.710\nAnd then with an exclamation point\nappended to each one of those, and so\n\n347\n00:18:10.710 --> 00:18:12.540\non and so on.\n\n348\n00:18:12.540 --> 00:18:15.240\nIn the real world,\nI would most likely want to do this.\n\n349\n00:18:15.240 --> 00:18:19.950\nIn here, I know these passwords cuz we've\nrun through these exercises before.\n\n350\n00:18:19.950 --> 00:18:22.190\nSo I'm gonna keep it short and\nsweet for the show.\n\n351\n00:18:22.190 --> 00:18:24.740\nLet me say, no,\ndon't worry about appending anything.\n\n352\n00:18:24.740 --> 00:18:29.619\nSo I'll say no and hit Enter,\nand there it goes.\n\n353\n00:18:30.910 --> 00:18:35.430\nOne, two, three, and four,\nand five, and we are done.\n\n354\n00:18:35.430 --> 00:18:39.040\nAnd there I can see the user name,\nthe password,\n\n355\n00:18:40.540 --> 00:18:44.370\nhash version of the password I should say,\nand then the actual password.\n\n356\n00:18:44.370 --> 00:18:46.390\nAnd that's it.\n\n357\n00:18:46.390 --> 00:18:50.240\nAll done from a few\ncommands using sequel map.\n\n358\n00:18:50.240 --> 00:18:53.620\n&gt;&gt; You know, Mike in the last episode with\nthe manual process you were talking about\n\n359\n00:18:53.620 --> 00:18:58.210\nthere are some things that we can\ndo in order to kind of stop this.\n\n360\n00:18:58.210 --> 00:19:01.400\nOr at least mitigate\nthe risk of this happening.\n\n361\n00:19:01.400 --> 00:19:03.610\nCan you remind us our viewers out there.\n\n362\n00:19:03.610 --> 00:19:04.860\nKind of what you mentioned.\n\n363\n00:19:04.860 --> 00:19:08.200\nMaybe even show us an example\nof how we can make these\n\n364\n00:19:08.200 --> 00:19:10.950\na little bit more secure when\nit comes to attacks like this.\n\n365\n00:19:10.950 --> 00:19:11.460\n&gt;&gt; Absolutely.\n\n366\n00:19:11.460 --> 00:19:12.610\nLet's flip over the web page.\n\n367\n00:19:12.610 --> 00:19:15.840\nRemember we had that security set on low,\nso that we could\n\n368\n00:19:15.840 --> 00:19:20.300\npractice sequel injection techniques and\nwork with tools that do sequel injection.\n\n369\n00:19:20.300 --> 00:19:23.510\nThat's what this DVWA is for.\n\n370\n00:19:23.510 --> 00:19:27.690\nIf we take a look down at the bottom\nof this page, there's a view source.\n\n371\n00:19:27.690 --> 00:19:32.870\nAll right and I\"m gonna make this a little\nbit bigger so that everybody can see this.\n\n372\n00:19:32.870 --> 00:19:34.620\nAll right and this is what it's like.\n\n373\n00:19:34.620 --> 00:19:38.310\nThis is the code when we've\ngot that drop down set to low\n\n374\n00:19:38.310 --> 00:19:41.510\nwhere it's just taking the id,\nwhatever you've typed in.\n\n375\n00:19:41.510 --> 00:19:44.660\nAnd building that SQL statement\nwith no checks at all.\n\n376\n00:19:44.660 --> 00:19:50.840\nNow if we go to this compare button,\nwe'll see, let's start with the mediums.\n\n377\n00:19:50.840 --> 00:19:53.870\nSo low is down here,\nthis is what we were working with.\n\n378\n00:19:53.870 --> 00:19:56.560\nMedium, has an extra line in here.\n\n379\n00:19:56.560 --> 00:20:02.380\nFirst it takes what I typed in, in the ID\nfield and stores it in a variable,\n\n380\n00:20:02.380 --> 00:20:07.290\nbut then it takes that variable and\nruns it through a little script here.\n\n381\n00:20:07.290 --> 00:20:09.772\nAnd what that's doing real escape string,\n\n382\n00:20:09.772 --> 00:20:14.370\nit means that I'm going to have to\nstart escaping out certain characters.\n\n383\n00:20:14.370 --> 00:20:19.150\nLike the single quote mark, backslashes,\npound symbols, things like that.\n\n384\n00:20:19.150 --> 00:20:23.710\nAnd that's gonna make it much more\ndifficult to do sequel injection.\n\n385\n00:20:23.710 --> 00:20:29.410\nI will tell you, in this case,\nnot too much, because for the most part,\n\n386\n00:20:29.410 --> 00:20:32.300\nwe could have typed our sequel commands\nlike we did in the previous episode, and\n\n387\n00:20:32.300 --> 00:20:34.960\nwhat's SQL is doing and\nwhat SQL maps is doing in the background.\n\n388\n00:20:34.960 --> 00:20:38.580\nWe could have done it without the quotes\nbecause there were no spaces in our names\n\n389\n00:20:38.580 --> 00:20:40.040\nand things like that.\n\n390\n00:20:40.040 --> 00:20:45.390\nWe look up at high It's running two\nscripts, it's running one that's pulling,\n\n391\n00:20:45.390 --> 00:20:51.110\nit's making its escape, and then it's\ngot one that's doing a strip slashes.\n\n392\n00:20:51.110 --> 00:20:56.470\nSo it's taking away my ability to use\ncertain characters in that field saying,\n\n393\n00:20:56.470 --> 00:20:59.840\nhey, if somebody types in this character,\ndon't accept it.\n\n394\n00:20:59.840 --> 00:21:03.670\nDon't allow that submission to go back and\n\n395\n00:21:03.670 --> 00:21:05.870\nbe processed against\nthat back end database.\n\n396\n00:21:05.870 --> 00:21:09.160\nAnd I'll tell you with this thing set\non high, we're not gonna be able to,\n\n397\n00:21:09.160 --> 00:21:10.260\nin fact we can try it if we want.\n\n398\n00:21:10.260 --> 00:21:11.960\n&gt;&gt; You know, Mike,\nI was just gonna ask a question.\n\n399\n00:21:11.960 --> 00:21:13.675\nThere's been times when\nI I've gone to a forum.\n\n400\n00:21:13.675 --> 00:21:16.295\nThe web application, like you've\nmentioned is on the front end here.\n\n401\n00:21:16.295 --> 00:21:18.855\nAnd I've gone to enter\nsomething into a field.\n\n402\n00:21:18.855 --> 00:21:21.525\nAnd the first thing I get is like\nthis little thought bubble that says,\n\n403\n00:21:21.525 --> 00:21:23.215\nthese are characters you cannot use.\n\n404\n00:21:23.215 --> 00:21:25.225\nThis is how you have to\nenter into that field.\n\n405\n00:21:25.225 --> 00:21:28.075\nIs this an example of\nwhere on the backend,\n\n406\n00:21:28.075 --> 00:21:30.125\nthey're doing exactly what you're showing,\nand on the front end,\n\n407\n00:21:30.125 --> 00:21:32.145\nthey're kinda showing us, hey,\nyou're not allowed to do that?\n\n408\n00:21:32.145 --> 00:21:34.425\n&gt;&gt; Yeah,\nthere's just doing input validation.\n\n409\n00:21:34.425 --> 00:21:36.650\nIt's simple, it's easy.\n\n410\n00:21:36.650 --> 00:21:40.370\nIt's something that should be done\nanytime you're accepting user input.\n\n411\n00:21:40.370 --> 00:21:43.700\nWhether that's a field like this\nwhere you're typing in a user ID,\n\n412\n00:21:43.700 --> 00:21:49.400\nwhether it's a reply option on a blog,\nanytime you accept user input you\n\n413\n00:21:49.400 --> 00:21:53.380\nneed to sanitize it, you need to make sure\nit's being checked for certain things.\n\n414\n00:21:53.380 --> 00:21:57.840\nAnd that means just talking to the coders,\nwhoever is developing it, cuz again it's\n\n415\n00:21:57.840 --> 00:22:01.480\nnot a problem with the SQL server or\nthe MySQL server or whatever it is.\n\n416\n00:22:01.480 --> 00:22:05.490\nIt's doing exacting what it's supposed\nto do it's processing SQL statements.\n\n417\n00:22:05.490 --> 00:22:09.150\nThe problem is we shouldn't be\nable to type in SQL statements and\n\n418\n00:22:09.150 --> 00:22:10.410\nclick submit, all right.\n\n419\n00:22:10.410 --> 00:22:12.410\nThat's where the issue lies.\n\n420\n00:22:12.410 --> 00:22:15.720\nAnd that's why you know one this\nhas been on this type of attack\n\n421\n00:22:15.720 --> 00:22:20.030\nhas been on the OWASP top 10 for\na long time.\n\n422\n00:22:20.030 --> 00:22:23.260\nAnd it's because we get sloppy as coders.\n\n423\n00:22:23.260 --> 00:22:27.780\nAnd a lot of times it's people that\nmaybe aren't as experienced writing\n\n424\n00:22:27.780 --> 00:22:30.270\ncode are tasked with creating a webpage.\n\n425\n00:22:30.270 --> 00:22:35.630\nAnd so they're copying pasting stuff from\nsites trying to figure out how to build\n\n426\n00:22:35.630 --> 00:22:38.310\nan input box and a submit button and\n\n427\n00:22:38.310 --> 00:22:42.230\na security is nowhere on\ntheir list of things to do.\n\n428\n00:22:42.230 --> 00:22:46.170\nSo as a security professional,\nif you're testing for your organization,\n\n429\n00:22:46.170 --> 00:22:49.080\nif you're doing pin tests,\nthis is the kind of thing we're gonna do.\n\n430\n00:22:49.080 --> 00:22:51.840\nWe're gonna test that code,\nwe're gonna find out if we're vulnerable.\n\n431\n00:22:51.840 --> 00:22:53.420\nWe go back and we talk to the Dev people,\n\n432\n00:22:53.420 --> 00:22:57.960\nor the coders, and\nget them to fix this kind of thing.\n\n433\n00:22:57.960 --> 00:22:59.770\nSo let's see what happens if we drop this.\n\n434\n00:22:59.770 --> 00:23:01.410\nWe'll go down to security.\n\n435\n00:23:01.410 --> 00:23:05.300\nWe'll set this on high and\nwe'll submit that.\n\n436\n00:23:05.300 --> 00:23:11.770\nAll right, so now the Input that we\nare submitting is being validated.\n\n437\n00:23:11.770 --> 00:23:13.950\nIt's going through Input checks.\n\n438\n00:23:13.950 --> 00:23:18.600\nGo back over to my Prompt, I do need\nto flush out my session information\n\n439\n00:23:19.650 --> 00:23:24.915\nfor see if that confide,\nI know I did that recently.\n\n440\n00:23:24.915 --> 00:23:28.760\nThere we go, I'm going to flush out my\nsession info, because we just ran that\n\n441\n00:23:28.760 --> 00:23:33.480\ncommand against that, and\nno I don't want to get redirected.\n\n442\n00:23:33.480 --> 00:23:36.410\nAnd it's going to kind of fail here,\nand then we'll run it again for real.\n\n443\n00:23:36.410 --> 00:23:41.710\nAll right so that worked, so now we're\ngoing to go back to the beginning.\n\n444\n00:23:41.710 --> 00:23:43.850\nSo this is the original\ncommand that we did,\n\n445\n00:23:43.850 --> 00:23:47.370\nwhere we discovered that was\nMySQL database on the back-end.\n\n446\n00:23:47.370 --> 00:23:48.250\nI'll go ahead and hit Enter.\n\n447\n00:23:48.250 --> 00:23:54.300\nRemember, told us, that hey, the IDE\nvariable is susceptible to injection.\n\n448\n00:23:54.300 --> 00:23:58.070\nSo it is able to tell me that the back-end\nis MySQL, so we hit yes and hit Enter.\n\n449\n00:23:59.560 --> 00:24:02.407\nAnd it tells me that I can\nskip the other tests, right?\n\n450\n00:24:02.407 --> 00:24:06.140\nWe did that earlier, so\nit was a do you want to include all test?\n\n451\n00:24:06.140 --> 00:24:08.408\nAlways have to make sure that yes or\nno that I wanna hit, yes.\n\n452\n00:24:08.408 --> 00:24:09.684\nAll right.\n\n453\n00:24:12.951 --> 00:24:16.766\nAnd it's running and it's trying all of\nthese different options just like before.\n\n454\n00:24:19.472 --> 00:24:21.480\nIt's kinda stuck, though.\n\n455\n00:24:21.480 --> 00:24:25.110\nSomething is, yeah,\nit says it is vulnerable.\n\n456\n00:24:25.110 --> 00:24:28.460\nInteresting, let's say yes, or no,\nwe don't want to keep running.\n\n457\n00:24:28.460 --> 00:24:29.911\nOthers, we'll see.\n\n458\n00:24:29.911 --> 00:24:31.295\nYou know what?\n\n459\n00:24:31.295 --> 00:24:34.510\nsqlmap might have beaten the,\nlet's find out.\n\n460\n00:24:34.510 --> 00:24:36.057\nLet's see if we can list\nthose databases out.\n\n461\n00:24:41.238 --> 00:24:45.680\nInteresting, all right so\nthat worked but I forgot something here.\n\n462\n00:24:45.680 --> 00:24:49.310\nI went and changed the security\non the webpage to high.\n\n463\n00:24:49.310 --> 00:24:50.320\nThat drop down list.\n\n464\n00:24:51.520 --> 00:24:56.620\nBut then remember, I'm using sqlmap and I\ngot the cookie information submitting it.\n\n465\n00:24:56.620 --> 00:24:58.870\nAnd the cookie,\nthe security was set to low.\n\n466\n00:24:58.870 --> 00:25:02.060\nSo even though the website is set to high,\nsecurity was set to low on my cookie.\n\n467\n00:25:02.060 --> 00:25:05.740\nSo let's do that one more time\njust to prove to ourselves\n\n468\n00:25:05.740 --> 00:25:09.000\nthat doing input validation\nstops SQL injection.\n\n469\n00:25:09.000 --> 00:25:12.639\nSo what I'm gonna do is flush out\nmy session information again.\n\n470\n00:25:12.639 --> 00:25:15.668\nAnd no,\nI don't wanna follow the link there.\n\n471\n00:25:18.438 --> 00:25:21.581\nAll right, and then we're gonna\nbring that original command back,\n\n472\n00:25:21.581 --> 00:25:23.870\nwhere we didn't know\nanything about the server.\n\n473\n00:25:23.870 --> 00:25:27.298\nI'm gonna assume that it's high.\n\n474\n00:25:27.298 --> 00:25:31.721\nWhat I would really need to do is fire\nup Burp Suite again with a website set\n\n475\n00:25:31.721 --> 00:25:33.450\nto high, and see.\n\n476\n00:25:33.450 --> 00:25:37.240\nNow I'm gonna assume that since low\nis low, high should be high and\n\n477\n00:25:37.240 --> 00:25:38.126\nwe'll see what happens.\n\n478\n00:25:38.126 --> 00:25:40.684\nAll right, so we'll let it run.\n\n479\n00:25:43.426 --> 00:25:45.239\nAnd there you go it never came back and\n\n480\n00:25:45.239 --> 00:25:48.996\nsaid hey it's a MySQL database you want\nto skip all the other tests, right?\n\n481\n00:25:48.996 --> 00:25:50.677\nIt wasn't able to find anything.\n\n482\n00:25:50.677 --> 00:25:55.740\nIt went through all these tests and\nthen it says all tested parameters appear\n\n483\n00:25:55.740 --> 00:26:00.352\nto be not injectable, try to increase\nthe level and the risk values.\n\n484\n00:26:00.352 --> 00:26:02.713\nAll right, basically saying, I can't.\n\n485\n00:26:02.713 --> 00:26:05.380\nIt's not vulnerable to SQL injection.\n\n486\n00:26:05.380 --> 00:26:10.378\nSo simply adding a couple of scripts to\nyour code to validate that user input and\n\n487\n00:26:10.378 --> 00:26:14.860\nto make sure that there's no\ncharacters that shouldn't be allowed.\n\n488\n00:26:14.860 --> 00:26:18.840\nI mean, is a pound symbol, should\na pound symbol be part of a user ID?\n\n489\n00:26:18.840 --> 00:26:20.840\nNo, then don't allow it, right?\n\n490\n00:26:20.840 --> 00:26:22.700\nThat's the whole trick there.\n\n491\n00:26:22.700 --> 00:26:24.970\nIt's that easy to stop SQL injection.\n\n492\n00:26:24.970 --> 00:26:27.208\nBut now at least you guys\nknow what SQL injection is.\n\n493\n00:26:27.208 --> 00:26:32.028\nAnd you've got a tool in your tool\nkit that you can use to test out with\n\n494\n00:26:32.028 --> 00:26:36.870\npermission from the owner in\nwriting your database packets.\n\n495\n00:26:36.870 --> 00:26:39.860\n&gt;&gt; And you know Mike, with the popularity\nof this type of an attack, you would\n\n496\n00:26:39.860 --> 00:26:43.850\nimagine that it's definitely common if\nOWASP is putting that up on their website.\n\n497\n00:26:43.850 --> 00:26:46.220\nAnd you, know we talk about\nprogrammers getting sloppy.\n\n498\n00:26:46.220 --> 00:26:46.877\nIt could be the lifecycle, right?\n\n499\n00:26:46.877 --> 00:26:50.370\nMaybe your SLD is like a waterfall, and\nvery late into the deployment phase.\n\n500\n00:26:50.370 --> 00:26:52.748\nYou're almost done and\nit's very hard to go back.\n\n501\n00:26:52.748 --> 00:26:55.774\nAnd maybe you need more of an agile or\niterative approach,\n\n502\n00:26:55.774 --> 00:26:58.013\nif I can actually iterate that word there.\n\n503\n00:26:58.013 --> 00:27:01.310\nMike it does look like we 're coming\nto the end of another great episode.\n\n504\n00:27:01.310 --> 00:27:01.932\nBut before we do,\n\n505\n00:27:01.932 --> 00:27:04.588\ndo you have any final words when it comes\nto just some of the things that people\n\n506\n00:27:04.588 --> 00:27:07.345\nneed to think about, when it comes to\nbeing at risk for a SQL injection attack.\n\n507\n00:27:07.345 --> 00:27:12.262\n&gt;&gt; You know, as a pentester or\nsecurity personnel for your organisation,\n\n508\n00:27:12.262 --> 00:27:14.590\nvery important that you test.\n\n509\n00:27:14.590 --> 00:27:18.480\nTalk to your developers, talk to your\ncoders, whoever is developing the web page\n\n510\n00:27:18.480 --> 00:27:21.700\nand simply ask them,\nhey are we doing input validation?\n\n511\n00:27:21.700 --> 00:27:24.320\nThat should be the first\nthing you ask them.\n\n512\n00:27:24.320 --> 00:27:26.570\nAnd then use a tool like\nthis to test it and\n\n513\n00:27:26.570 --> 00:27:29.090\nmake sure you're not\nable to do SQL injection.\n\n514\n00:27:29.090 --> 00:27:31.430\n&gt;&gt; All right Mike words of\nwisdom there thanks for that.\n\n515\n00:27:31.430 --> 00:27:33.190\nAnd we do appreciate you being here and\n\n516\n00:27:33.190 --> 00:27:35.460\nwe appreciate you the viewer\nout there watching.\n\n517\n00:27:35.460 --> 00:27:38.890\nAs always signing out for ITProTV,\nI've been your host Wes Bryan.\n\n518\n00:27:38.890 --> 00:27:39.660\n&gt;&gt; And I'm Mike Rodrick.\n\n519\n00:27:39.660 --> 00:27:40.164\n&gt;&gt; And we'll see you next time.\n\n520\n00:27:40.164 --> 00:27:47.933\n[MUSIC]\n\n521\n00:27:47.933 --> 00:27:50.557\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "223607095"
        },
        {
          "description": "In this episode, Wes and Mike talk about the basics surrounding password cracking. They will discuss were we can look to find passwords, such as the SAM file in Windows local account, NTDS.dit for Active Directory accounts and /etc/shadow for Linux systems. The types of attacks that can be performed on passwords such as dictionary attacks, the CPU intensive brute force attack, and the hybrid attack. They will also dive into the software used to crack passwords.",
          "length": "1951",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-6-1-password_cracking_basics-063017-PGM.00_32_15_15.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-6-1-password_cracking_basics-063017-PGM.00_32_15_15.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-6-1-password_cracking_basics-063017-PGM.00_32_15_15.Still001-sm.jpg",
          "title": "Password Cracking Basics",
          "transcript": "WEBVTT\n\n1\n00:00:00.220 --> 00:00:02.346\nWelcome to ITProTV, I'm your host Don.\n\n2\n00:00:02.346 --> 00:00:08.179\n[CROSSTALK]\n\n3\n00:00:08.179 --> 00:00:11.873\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:11.873 --> 00:00:14.859\n&gt;&gt; Hello and welcome to another\ngreat episode here at ITProTV,\n\n5\n00:00:14.859 --> 00:00:16.155\nI'm your host Wes Bryan.\n\n6\n00:00:16.155 --> 00:00:20.060\nAnd in today's episode, well, we're moving\nthrough our security tech skills and\n\n7\n00:00:20.060 --> 00:00:22.930\nwe're gonna be looking at well,\npassword cracking basics.\n\n8\n00:00:22.930 --> 00:00:27.130\nSo pop you a bag of popcorn there, put on\nyour tinfoil hat and help me welcome Mr.\n\n9\n00:00:27.130 --> 00:00:27.750\nMike Rodrick.\n\n10\n00:00:27.750 --> 00:00:28.940\nMike, how you doing sir?\n\n11\n00:00:28.940 --> 00:00:29.680\n&gt;&gt; I'm going good.\n\n12\n00:00:29.680 --> 00:00:32.460\nActually hungry now,\nthanks for mentioning popcorn.\n\n13\n00:00:32.460 --> 00:00:33.692\nDoing great though, glad to be here.\n\n14\n00:00:33.692 --> 00:00:36.460\nAnd yeah, we're gonna take a look at\nsome password cracking techniques.\n\n15\n00:00:36.460 --> 00:00:39.368\nAnd in this episode really just\nwanna focus in on some concepts.\n\n16\n00:00:39.368 --> 00:00:43.621\nAnd then as we progress through these\nepisodes we'll do some demonstrations,\n\n17\n00:00:43.621 --> 00:00:46.158\ntake a look at a couple of\ntools that we can use and\n\n18\n00:00:46.158 --> 00:00:48.325\nput some of these techniques into play.\n\n19\n00:00:48.325 --> 00:00:52.473\nBut as a pen tester, as a security\nprofessional for your organization,\n\n20\n00:00:52.473 --> 00:00:56.757\nthere are gonna be times when you might\nneed to try to break some passwords.\n\n21\n00:00:56.757 --> 00:01:00.319\nEither because somebody\nhas lost a password,\n\n22\n00:01:00.319 --> 00:01:04.805\nwe need to get access to something,\nor I just wanna audit.\n\n23\n00:01:04.805 --> 00:01:09.052\nAs a pen tester or security professional\nyou might need to audit your password.\n\n24\n00:01:09.052 --> 00:01:13.000\nWhere I'm not actually trying to\nreally break anybody's passwords, but\n\n25\n00:01:13.000 --> 00:01:17.324\nwanna make sure that nobody's using\npassword, or password123, or blue, or\n\n26\n00:01:17.324 --> 00:01:19.470\nsomething like that as their password.\n\n27\n00:01:19.470 --> 00:01:22.560\nAnd we would do that by\nattempting to crack them,\n\n28\n00:01:22.560 --> 00:01:24.590\nand just using a very simple word list.\n\n29\n00:01:24.590 --> 00:01:26.381\nI'm gonna have a list, and\nI'll talk about word lists and everything.\n\n30\n00:01:26.381 --> 00:01:29.544\nBut we've got some words that we don't\nwant people using as passwords and\n\n31\n00:01:29.544 --> 00:01:31.680\nwe can make sure they're\nnot using those words.\n\n32\n00:01:31.680 --> 00:01:33.906\nSo that's what we're\ngonna try to do today.\n\n33\n00:01:33.906 --> 00:01:37.938\n&gt;&gt; Mike, I could imagine that if I'm going\nto be a pen tester and I need to well,\n\n34\n00:01:37.938 --> 00:01:40.901\ncorrect the passwords,\nI need to audit the passwords,\n\n35\n00:01:40.901 --> 00:01:45.016\nfirst of all probably gonna have to know\nwhere do I even find those passwords?\n\n36\n00:01:45.016 --> 00:01:46.889\nSo can you help us out with that?\n\n37\n00:01:46.889 --> 00:01:50.343\n&gt;&gt; Absolutely, and that step number 1,\nwhere do I find these passwords?\n\n38\n00:01:50.343 --> 00:01:54.043\nAnd really we gotta think about\nit in a couple different ways,\n\n39\n00:01:54.043 --> 00:01:58.186\nwe need to kinda separate,\noffline attacks versus online attacks.\n\n40\n00:01:58.186 --> 00:02:02.173\nWhere is that password stored and\nwhat are we trying to do?\n\n41\n00:02:02.173 --> 00:02:06.125\nFor example, if l am trying to get\na password off of a Linux system,\n\n42\n00:02:06.125 --> 00:02:09.270\nwell those passwords are stored\non that Linux system.\n\n43\n00:02:09.270 --> 00:02:13.654\nSo, l need to know where they are, and how\nto retrieve them, and what I need to be,\n\n44\n00:02:13.654 --> 00:02:15.386\nor rights I need to get to those.\n\n45\n00:02:15.386 --> 00:02:19.110\nIn a Windows system, those are gonna be\nstored where local accounts are stored on\n\n46\n00:02:19.110 --> 00:02:21.246\ntheir local Windows system\nin that SAM file and\n\n47\n00:02:21.246 --> 00:02:23.019\nwe'll talk a little more about that.\n\n48\n00:02:23.019 --> 00:02:25.969\nIf it's an Active Directory account,\nthen they're gonna\n\n49\n00:02:25.969 --> 00:02:29.815\nbe stored in the Domain Controller\nin the Active Directory database.\n\n50\n00:02:29.815 --> 00:02:34.774\nBut if it's an online thing, what if it's\na web form that I'm trying to access?\n\n51\n00:02:34.774 --> 00:02:37.762\nThat's gonna be a completely\ndifferent type of attack.\n\n52\n00:02:37.762 --> 00:02:40.402\nThose passwords, are gonna be stored up,\non a web server somewhere, or\n\n53\n00:02:40.402 --> 00:02:41.932\ntheir back end database.\n\n54\n00:02:41.932 --> 00:02:46.792\nSo we'll have to go about, cracking those\npasswords potentially, in a different way.\n\n55\n00:02:46.792 --> 00:02:48.952\nAlthough, it depends,\nwe could compromise, that web server,\n\n56\n00:02:48.952 --> 00:02:53.082\nget access to the database and now we're\nback to doing, an almost, offline attack.\n\n57\n00:02:53.082 --> 00:02:58.602\nBut offline attacks are when you have the\npasswords, that you're trying to break.\n\n58\n00:02:58.602 --> 00:03:01.910\nAnd when I say, have the passwords\nunderstand that it's like well, wait,\n\n59\n00:03:01.910 --> 00:03:04.360\nMike, if you have the password\nwhat are you trying to break?\n\n60\n00:03:04.360 --> 00:03:08.220\nWhen I say have the password,\nI mean have the hash value\n\n61\n00:03:08.220 --> 00:03:13.380\nof the password because passwords are\nalmost always stored in encrypted forms,\n\n62\n00:03:13.380 --> 00:03:15.200\nwe don't store them in plain text.\n\n63\n00:03:15.200 --> 00:03:19.750\nNot to say that they're not sometimes,\nbut that would be incredibly insecure.\n\n64\n00:03:19.750 --> 00:03:24.750\nYou'll find that maybe on\npoorly developed blog sites, or\n\n65\n00:03:24.750 --> 00:03:26.560\nwebsites, or something like that.\n\n66\n00:03:26.560 --> 00:03:30.700\nBut just about everybody knows better\nthan storing plain text passwords.\n\n67\n00:03:30.700 --> 00:03:32.500\nWe're gonna try to slow the bad guys down,\nright?\n\n68\n00:03:32.500 --> 00:03:35.250\nIf they get access to\nthat store of passwords,\n\n69\n00:03:35.250 --> 00:03:36.900\nI don't want them to just\nbe able to read them.\n\n70\n00:03:36.900 --> 00:03:38.220\nLook, there's MIke's password.\n\n71\n00:03:39.220 --> 00:03:41.950\nSo, they're encrypted\nbefore they're stored.\n\n72\n00:03:41.950 --> 00:03:45.980\nAnd usually that's done with\nsome type of hashing algorithm.\n\n73\n00:03:45.980 --> 00:03:53.230\nWe think back to our Security 101, hashing\nalgorithms are one way encryptions.\n\n74\n00:03:53.230 --> 00:03:55.821\nWe take a value, a plain text,\n\n75\n00:03:55.821 --> 00:04:00.617\nwe run it through a hashing\nalgorithm like MD 5 or SHA 1.\n\n76\n00:04:00.617 --> 00:04:06.832\nAnd it runs it through those algorithms\nand it outputs a fixed length string and\n\n77\n00:04:06.832 --> 00:04:11.555\nthat is the encrypted form of\nwhatever plain text we fed in.\n\n78\n00:04:11.555 --> 00:04:15.978\nAnd what I mean one way encryption that\nmeans that I cannot take that encrypted\n\n79\n00:04:15.978 --> 00:04:19.992\nform run it back through the algorithm and\nget the plain text back out,\n\n80\n00:04:19.992 --> 00:04:22.941\nwhich was what we normally\nthink with encryption.\n\n81\n00:04:22.941 --> 00:04:27.281\nIf I encrypt a file well, that's good,\nI've encrypted it, nobody can get access\n\n82\n00:04:27.281 --> 00:04:30.637\nto it, but I need to be able to get\nit back out if I need it, right?\n\n83\n00:04:30.637 --> 00:04:34.080\nI didn't encrypt it so\nthat I can never get into it again.\n\n84\n00:04:34.080 --> 00:04:37.320\nSo when we think of normal encryption,\nsymmetric key encryption,\n\n85\n00:04:37.320 --> 00:04:40.680\nasymmetric key encryption,\nthat kind of things, those are reversible.\n\n86\n00:04:40.680 --> 00:04:43.250\nWe have a key that we can\nuse to encrypt it and\n\n87\n00:04:43.250 --> 00:04:47.140\nthen we also have a key that we can use to\ndecrypt it to get the plain text back out.\n\n88\n00:04:47.140 --> 00:04:48.970\nNot so with hashing algorithms.\n\n89\n00:04:48.970 --> 00:04:51.312\n&gt;&gt; And Mike, help me out there,\n\n90\n00:04:51.312 --> 00:04:57.038\ndoes it depend on what kind of\nauthentication mechanism you're using?\n\n91\n00:04:57.038 --> 00:05:01.096\nAnd I mean that relative to like the bit\nstrength of a hashing algorithm can\n\n92\n00:05:01.096 --> 00:05:05.677\ndictate whether it's easier to crack a\npassword versus whether it's gonna be more\n\n93\n00:05:05.677 --> 00:05:06.414\ndifficult.\n\n94\n00:05:06.414 --> 00:05:07.586\n&gt;&gt; Yeah, absolutely.\n\n95\n00:05:07.586 --> 00:05:11.545\nWhen we look at password cracking and\nwhen we have the hash values,\n\n96\n00:05:11.545 --> 00:05:15.500\nbecause it's a one way encryption\nit's a fixed length string, so\n\n97\n00:05:15.500 --> 00:05:21.000\nthere's no way to get the original text\nback out, by reversing that encryption.\n\n98\n00:05:21.000 --> 00:05:24.080\nBut what we can do is try to find\n\n99\n00:05:24.080 --> 00:05:26.620\nsomething that generates\nthat same hash value.\n\n100\n00:05:26.620 --> 00:05:29.710\nCuz the cool thing about hashing\nalgorithms, is if you feed the same\n\n101\n00:05:29.710 --> 00:05:34.530\nthing into it over and over again, it will\nalways generate the exact same output.\n\n102\n00:05:34.530 --> 00:05:39.310\nSo if I can find something, let's say I've\ngot your hash value for your password.\n\n103\n00:05:39.310 --> 00:05:42.090\nIf I can find something that I\ncan feed into the algorithm and\n\n104\n00:05:42.090 --> 00:05:45.220\nit generates the exact same\nhash value as what's stored for\n\n105\n00:05:45.220 --> 00:05:48.270\nyour password,\nthen I know your password, right?\n\n106\n00:05:48.270 --> 00:05:50.720\nBecause it always\ngenerates the same output.\n\n107\n00:05:50.720 --> 00:05:54.240\nThat's not completely\ntrue because of the fact\n\n108\n00:05:54.240 --> 00:05:58.760\nthat its a fixed link string we can\nend up with what we call, collisions.\n\n109\n00:05:58.760 --> 00:06:04.097\nThere can be more than one input\nthat generates the same output.\n\n110\n00:06:04.097 --> 00:06:07.040\nBecause there's only so\nmany outputs I can create, but\n\n111\n00:06:07.040 --> 00:06:10.960\nthere's an almost infinite number\nof plain text that I can feed in.\n\n112\n00:06:10.960 --> 00:06:15.000\nSo there's going to be some times when\ntwo different things fed into that same\n\n113\n00:06:15.000 --> 00:06:18.590\nalgorithm generate the same output and\nthat's known as a collision.\n\n114\n00:06:18.590 --> 00:06:22.750\nAnd when you look at those hashing\nalgorithms, we look at the bit length of\n\n115\n00:06:22.750 --> 00:06:28.620\nthe hash value or the message digest or\nthe output of that hashing algorithm.\n\n116\n00:06:28.620 --> 00:06:34.410\nIf it's only putting out 128 bit string,\nthen there's not that many possibilities.\n\n117\n00:06:34.410 --> 00:06:37.240\nIt's a big number to humans,\nbut there's only so\n\n118\n00:06:37.240 --> 00:06:40.900\nmany possibilities that you can\ncome up with with 128 bits.\n\n119\n00:06:40.900 --> 00:06:47.310\nSo the possibility of a collision is\ngreater than if I had a 256 bit output,\n\n120\n00:06:47.310 --> 00:06:51.630\nnow there's many,\nmany more possibilities of outputs, so\n\n121\n00:06:51.630 --> 00:06:54.830\nthere's less of a chance of a collision.\n\n122\n00:06:54.830 --> 00:06:59.646\nLonger that output, the less chance of\na collision, so then you could say,\n\n123\n00:06:59.646 --> 00:07:02.141\nthe stronger that hashing algorithm.\n\n124\n00:07:02.141 --> 00:07:07.896\nIf it only puts out two bits for example,\nwell you've only got four possibilities,\n\n125\n00:07:07.896 --> 00:07:11.080\n0 1 1 1, 1 0 0 0, if I got that right.\n\n126\n00:07:11.080 --> 00:07:12.234\nSo I think you get the idea there.\n\n127\n00:07:12.234 --> 00:07:16.730\nSo yes, the hashing algorithms,\nthe longer that output is,\n\n128\n00:07:16.730 --> 00:07:20.710\nthen the less likelihood of a collision.\n\n129\n00:07:20.710 --> 00:07:22.430\n&gt;&gt; Mike, help me out on this too.\n\n130\n00:07:22.430 --> 00:07:26.550\nDoes that mean that if we get those two\nlike outcomes, the collisions that you're\n\n131\n00:07:26.550 --> 00:07:29.160\ntalking about, then essentially\nI don't need the password,\n\n132\n00:07:29.160 --> 00:07:30.620\nI don't need the original password.\n\n133\n00:07:30.620 --> 00:07:34.380\nI can present to the authentication\nmechanism that duplicate that I've come up\n\n134\n00:07:34.380 --> 00:07:39.120\nwith, and there's no difference in it or\nit's ability to tell the difference?\n\n135\n00:07:39.120 --> 00:07:41.340\n&gt;&gt; Correct, yes,\nthat would be a better way to say it.\n\n136\n00:07:41.340 --> 00:07:44.968\nIt's ability to tell the difference\nbecause it's stored a hash value.\n\n137\n00:07:44.968 --> 00:07:49.236\nAnd when you use an authentication\nmechanism you type in your password\n\n138\n00:07:49.236 --> 00:07:53.156\nthat gets hashed, and\nit's the hash value that gets sent over.\n\n139\n00:07:53.156 --> 00:07:56.681\nIt doesn't know what you typed in, it\njust knows the output of the hashing and\n\n140\n00:07:56.681 --> 00:07:59.680\nit compares that hash value with\nwhat's stored in the database.\n\n141\n00:07:59.680 --> 00:08:02.113\nAnd if they match, it assumes.\n\n142\n00:08:02.113 --> 00:08:03.680\nThat you typed in the correct password,\nright?\n\n143\n00:08:03.680 --> 00:08:08.388\nSo if you happen to find something that\ngenerates the same hash value even if\n\n144\n00:08:08.388 --> 00:08:12.960\nit's not the actual password that\nthey set, it doesn't matter.\n\n145\n00:08:12.960 --> 00:08:16.560\nIt generates the same output, therefore\nthe computer system is most likely gonna\n\n146\n00:08:16.560 --> 00:08:19.390\nthink you typed in the right password,\nand everything is good.\n\n147\n00:08:19.390 --> 00:08:21.030\nNow it gets more complex.\n\n148\n00:08:21.030 --> 00:08:23.650\nWe are trying to keep\nthis relatively simple.\n\n149\n00:08:23.650 --> 00:08:28.200\nWe're not bringing in salting and things\nlike that when we talk about this process.\n\n150\n00:08:28.200 --> 00:08:32.761\nBut just so you have a basic understanding\nof what's involved in cracking passwords.\n\n151\n00:08:32.761 --> 00:08:34.199\n&gt;&gt; Well, that's probably a good thing,\n\n152\n00:08:34.199 --> 00:08:36.284\nbecause the doctor told me I\nshould stay away from salt.\n\n153\n00:08:36.284 --> 00:08:36.910\n&gt;&gt; [LAUGH]\n&gt;&gt; So, you know,\n\n154\n00:08:36.910 --> 00:08:38.660\nyou mentioned those storage locations.\n\n155\n00:08:38.660 --> 00:08:41.695\nCan we get an idea of where we might\nbe able to find some of those?\n\n156\n00:08:41.695 --> 00:08:42.432\n&gt;&gt; Yep, absolutely.\n\n157\n00:08:42.432 --> 00:08:46.498\nWhen we look at Windows systems,\nif we're talking about a local account,\n\n158\n00:08:46.498 --> 00:08:49.336\nan account that only has\naccess to the local system,\n\n159\n00:08:49.336 --> 00:08:53.741\nthere's a security account manager file or\na SAM file located on the hard drive.\n\n160\n00:08:53.741 --> 00:08:58.252\nSecurity Account Manager, SAM for short,\nand that's where your local admin account\n\n161\n00:08:58.252 --> 00:09:02.670\nis gonna be and all of the other local\naccounts that you create on that system.\n\n162\n00:09:02.670 --> 00:09:04.650\nSo they'll be on that hard drive locally.\n\n163\n00:09:04.650 --> 00:09:09.850\nIf it's a domain account, then those\naccounts are created in Active Directory\n\n164\n00:09:09.850 --> 00:09:16.670\nand they're gonna be stored in that Active\nDirectory database which is NTDS.DIT on\n\n165\n00:09:16.670 --> 00:09:21.620\ndomain controllers, on our Windows Servers\nthat are acting as domain controllers.\n\n166\n00:09:21.620 --> 00:09:23.040\nThat's where my domain\naccounts are gonna be.\n\n167\n00:09:23.040 --> 00:09:24.280\nNow there are other places we can look,\nright?\n\n168\n00:09:24.280 --> 00:09:29.723\nI'm just saying where they're stored,\nbut we can scrape them out of memory,\n\n169\n00:09:29.723 --> 00:09:33.525\nwe can capture them as they\ntravel across the network.\n\n170\n00:09:33.525 --> 00:09:36.760\nThey can be cached on a local machine.\n\n171\n00:09:36.760 --> 00:09:39.620\nDomain accounts, for example, so I'm not\nsaying that's the only place you can\n\n172\n00:09:39.620 --> 00:09:42.580\nfind them I'm just saying as far\nas where they're stored in general\n\n173\n00:09:42.580 --> 00:09:45.240\nthat's where you're gonna find\nthem in a Windows system.\n\n174\n00:09:45.240 --> 00:09:49.560\nFor Linux I think every\ndistro now they used to be\n\n175\n00:09:49.560 --> 00:09:54.134\nin a file called passwd or P-A-S-S-W-D.\n\n176\n00:09:54.134 --> 00:09:58.480\nI think every Linux distro, I can't think\nof any that doesn't do this anymore,has\n\n177\n00:09:58.480 --> 00:10:03.460\nnow uses what's called a shadow file\nwhere the password is actually removed\n\n178\n00:10:03.460 --> 00:10:08.540\nfrom that passwd file and\nit's kept separate in a shadow file.\n\n179\n00:10:10.312 --> 00:10:15.170\nAnd so your passwd has your user account\nand information about your account and\n\n180\n00:10:15.170 --> 00:10:16.650\nhome directory and things like that.\n\n181\n00:10:16.650 --> 00:10:19.060\nBut the actual password,\nthe hash value for the password,\n\n182\n00:10:19.060 --> 00:10:25.210\nis stored in this other\nfile called shadow, right?\n\n183\n00:10:25.210 --> 00:10:31.646\nSo those are where those hashes\nare going to be located.\n\n184\n00:10:31.646 --> 00:10:35.090\nThese locations are very protected for\nobvious reasons.\n\n185\n00:10:35.090 --> 00:10:39.526\nIt's not like I can just open up file\nexplorer and navigate to that SAM file and\n\n186\n00:10:39.526 --> 00:10:42.200\ndouble-click on it, and open it up, right?\n\n187\n00:10:42.200 --> 00:10:45.796\nIt's locked while the Windows\nsystem is in use and\n\n188\n00:10:45.796 --> 00:10:49.570\nit's gonna be very difficult\nto get access to that.\n\n189\n00:10:50.880 --> 00:10:54.130\nAnd they're protected with rights or\npermissions so\n\n190\n00:10:54.130 --> 00:10:56.924\nthat only certainly people\ncan get access to that.\n\n191\n00:10:56.924 --> 00:10:59.720\nWhen you look at domain password,\n\n192\n00:10:59.720 --> 00:11:05.040\nActive Directory account, those passwords\nare stored in that Ntds.dit database.\n\n193\n00:11:05.040 --> 00:11:06.654\nEven as a domain admin,\n\n194\n00:11:06.654 --> 00:11:10.781\nI cannot access those through\nnormal channels I should say.\n\n195\n00:11:10.781 --> 00:11:15.989\n[LAUGH] You can go look at, you could\nsearch, you could go talk to Microsoft and\n\n196\n00:11:15.989 --> 00:11:20.399\nthey'll tell you that the attribute\nthat stores the hash value,\n\n197\n00:11:20.399 --> 00:11:24.280\nthe only permission on there is change,\nno read.\n\n198\n00:11:24.280 --> 00:11:27.560\nSo even as an admin I\ncannot go in there and\n\n199\n00:11:27.560 --> 00:11:30.860\nsee those hash values\nthrough normal means.\n\n200\n00:11:30.860 --> 00:11:33.960\nI can't go in and\nturn on my advanced view or\n\n201\n00:11:33.960 --> 00:11:37.280\nanything like that to go\nsee those hash values.\n\n202\n00:11:37.280 --> 00:11:40.350\nThe change permission is there, so\na user can change their password and\n\n203\n00:11:40.350 --> 00:11:42.820\nthey can write to it, but there's no read.\n\n204\n00:11:42.820 --> 00:11:48.900\nAnd there's really no good reason I guess\nin the mind of the Windows developers for\n\n205\n00:11:48.900 --> 00:11:50.440\nanybody to see those hashes.\n\n206\n00:11:50.440 --> 00:11:53.483\nThey're used internally,\nbehind the scenes to authenticate and\n\n207\n00:11:53.483 --> 00:11:54.687\nwe wanna keep those safe.\n\n208\n00:11:54.687 --> 00:11:58.091\nAnd if they're easy to get,\nthen I'm gonna be able to crack them and\n\n209\n00:11:58.091 --> 00:11:59.720\naccess somebody's password.\n\n210\n00:11:59.720 --> 00:12:01.050\nSo they're very protective.\n\n211\n00:12:01.050 --> 00:12:04.740\nThe shadow file in Linux,\nif you don't have root permissions or\n\n212\n00:12:04.740 --> 00:12:11.590\nif you're not in the sudo group, you're\nnot gonna get access to that shadow file.\n\n213\n00:12:11.590 --> 00:12:12.799\n[SOUND] Excuse me.\nSo very, very protected.\n\n214\n00:12:12.799 --> 00:12:17.686\nWe're going to have to make sure we\nhave the right credentials to get\n\n215\n00:12:17.686 --> 00:12:19.756\naccess to that, all right?\n\n216\n00:12:19.756 --> 00:12:23.079\nNow what we're looking at doing here,\n\n217\n00:12:23.079 --> 00:12:29.121\nwe're gonna be tracking passwords,\nbut we're gonna be doing it for,\n\n218\n00:12:29.121 --> 00:12:33.972\ncan we say, legitimate reasons or\nbeneficial reasons.\n\n219\n00:12:33.972 --> 00:12:35.316\n&gt;&gt; I was gonna say, the one I like\nto say is password recovery, right?\n\n220\n00:12:35.316 --> 00:12:36.436\n&gt;&gt; Yes.\n\n221\n00:12:36.436 --> 00:12:39.110\n[LAUGH]\n&gt;&gt; It's not really to crack and it's to\n\n222\n00:12:39.110 --> 00:12:43.202\nhelp somebody back into their computer\nwho legitimately owns that computer,\n\n223\n00:12:43.202 --> 00:12:43.890\nif you will.\n\n224\n00:12:43.890 --> 00:12:46.990\nNow when it comes to a text,\nMike is it a one size fits all?\n\n225\n00:12:46.990 --> 00:12:51.060\nDo we have just a single attack that\nwere gonna run in every situation or\n\n226\n00:12:51.060 --> 00:12:52.055\ndo we have options here?\n\n227\n00:12:52.055 --> 00:12:55.060\n&gt;&gt; We definitely have options, lots of\nthings that were going to try to do.\n\n228\n00:12:55.060 --> 00:12:58.690\nAnd you know, like I said,\nwhat we're really doing as a sys admin,\n\n229\n00:12:58.690 --> 00:13:02.810\nas a network professional,\nsecurity professional, as a pen tester,\n\n230\n00:13:02.810 --> 00:13:06.720\nwe might be cracking in to gain access\nto something maybe as a pen tester.\n\n231\n00:13:06.720 --> 00:13:11.030\nBut as a network security person,\nyou might be auditing.\n\n232\n00:13:11.030 --> 00:13:15.450\nAnd that's really what we're usually\ndoing at as far as white hats go,\n\n233\n00:13:15.450 --> 00:13:17.820\nis auditing like I said earlier.\n\n234\n00:13:17.820 --> 00:13:19.720\nIt's not that we wanna\ncrack everybody's password.\n\n235\n00:13:19.720 --> 00:13:22.570\nI don't want to know my user's passwords.\n\n236\n00:13:22.570 --> 00:13:27.550\nThat is their password to keep their\ninformation private to themselves.\n\n237\n00:13:27.550 --> 00:13:28.770\nI shouldn't have access to that.\n\n238\n00:13:28.770 --> 00:13:31.490\nThis is why we let users\nset their own passwords.\n\n239\n00:13:31.490 --> 00:13:32.680\nI don't set their password and\n\n240\n00:13:32.680 --> 00:13:35.600\ntell them what it is,\nbecause then I would know their password.\n\n241\n00:13:35.600 --> 00:13:38.760\nAnd I could log on as them, and\nnow there's no accountability.\n\n242\n00:13:38.760 --> 00:13:41.440\nThey could always say, well,\nMike knows my password, maybe it was him.\n\n243\n00:13:41.440 --> 00:13:43.130\nI swear I didn't do it, right?\n\n244\n00:13:43.130 --> 00:13:44.470\nI don't wanna know your password.\n\n245\n00:13:45.530 --> 00:13:48.800\nBut I do need to make sure everybody's\nusing good, strong passwords.\n\n246\n00:13:48.800 --> 00:13:51.270\nAnd they're not using\nthings like password, and\n\n247\n00:13:51.270 --> 00:13:55.540\nthen next month password1,\nthen password2, and so on, and so forth.\n\n248\n00:13:55.540 --> 00:14:01.640\nSo that's really what we try to do is we\nhave these lists of known bad passwords or\n\n249\n00:14:01.640 --> 00:14:05.980\neasily cracked passwords and\nwe try to crack your password using that.\n\n250\n00:14:05.980 --> 00:14:09.990\nAnd if I can't, using that simple list,\nI'm not gonna go any further.\n\n251\n00:14:09.990 --> 00:14:14.820\nI'm gonna say, okay your password passes\nour audit test I can prove to my,\n\n252\n00:14:14.820 --> 00:14:17.270\nmaybe we're getting audited\nby outside sources or\n\n253\n00:14:17.270 --> 00:14:21.860\nwe gotta be in compliance with some kind\nof industry or government regulation.\n\n254\n00:14:21.860 --> 00:14:24.760\nAnd I can show that we've audit\npassword and we've passed, right?\n\n255\n00:14:24.760 --> 00:14:29.470\nI'm not actually gonna continue the\nprocess and break everybody's password.\n\n256\n00:14:29.470 --> 00:14:32.091\n&gt;&gt; And I've seen you and I,\nlike our other host Don,\n\n257\n00:14:32.091 --> 00:14:36.213\nanther place that we've worked before,\nrun some of these audit type tests and\n\n258\n00:14:36.213 --> 00:14:40.231\nI thought, not knowing coming into\nsecurity saying this is gonna be fun.\n\n259\n00:14:40.231 --> 00:14:42.243\nI'm gonna watch somebody crack a test.\n\n260\n00:14:42.243 --> 00:14:43.700\n&gt;&gt; [LAUGH]\n&gt;&gt; And all I sat there and\n\n261\n00:14:43.700 --> 00:14:46.408\nwatched you guys do is stare at\na progress bar for a long time.\n\n262\n00:14:46.408 --> 00:14:47.999\n&gt;&gt; [LAUGH] Yeah.\n&gt;&gt; So, I understand that for\n\n263\n00:14:47.999 --> 00:14:51.595\nauditing purposes it's not that\nmission impossible excitement.\n\n264\n00:14:51.595 --> 00:14:56.410\nSometimes it can take hours and you might\njust be staring at a progress bar, right?\n\n265\n00:14:56.410 --> 00:15:00.160\n&gt;&gt; Yes.\nHours, days, months I mean it depends on\n\n266\n00:15:00.160 --> 00:15:02.600\nhow strong those passwords are and\nhow bad you want them.\n\n267\n00:15:02.600 --> 00:15:06.410\nAnd then that's why I was saying\nas a security professional,\n\n268\n00:15:06.410 --> 00:15:10.696\nas a pen tester, if we're not really\ntrying to crack them we can run through it\n\n269\n00:15:10.696 --> 00:15:14.990\nrelatively quick with a good list of\ncommon bad passwords and be done with it.\n\n270\n00:15:14.990 --> 00:15:19.228\nIf we're a doing a pen test where we\nreally need to break that password or\n\n271\n00:15:19.228 --> 00:15:23.962\nif you're the black cats out there that\nare doing mischievous and up to no good,\n\n272\n00:15:23.962 --> 00:15:27.447\nthey can spend days and\nmonths trying to crack passwords.\n\n273\n00:15:27.447 --> 00:15:31.498\nSo it's a start it up as a background\ntask and let it run, right?\n\n274\n00:15:31.498 --> 00:15:35.580\nAnd you're right, it's not exciting\nlike they make it in the movies.\n\n275\n00:15:35.580 --> 00:15:40.930\nIt's not quite like that,\nit doesn't crack it on the third try.\n\n276\n00:15:40.930 --> 00:15:44.375\nYou might get lucky, I mean,\nthere's always that hope, but\n\n277\n00:15:44.375 --> 00:15:47.205\nusually it's just a hurry up and\nwait type thing.\n\n278\n00:15:47.205 --> 00:15:49.792\nJust let it go, and you get excited\nat the end when it comes back and\n\n279\n00:15:49.792 --> 00:15:51.640\nsays hey I found these credentials.\n\n280\n00:15:51.640 --> 00:15:55.070\nYou're like woohoo, but other than that,\nno it's not all that exciting.\n\n281\n00:15:55.070 --> 00:15:57.543\n[COUGH] All right, so back to Wes.\n\n282\n00:15:57.543 --> 00:16:01.098\nYour question before I get\noff on that tangent there,\n\n283\n00:16:01.098 --> 00:16:06.718\nlet's talk about the types of a text that\nwe might do against Passwords, all right?\n\n284\n00:16:06.718 --> 00:16:10.730\nThe first one, and probably\nthe simplest one, and the quickest one,\n\n285\n00:16:10.730 --> 00:16:14.410\nis gonna be what's known as\na dictionary attack, right?\n\n286\n00:16:14.410 --> 00:16:18.100\nIn a dictionary attack, we have\nwhat's known as a dictionary file, or\n\n287\n00:16:18.100 --> 00:16:19.430\na word list.\n\n288\n00:16:19.430 --> 00:16:21.460\nThe two terms are interchangeable there.\n\n289\n00:16:21.460 --> 00:16:26.480\nWhich is simply a list of words,\none word on each line.\n\n290\n00:16:26.480 --> 00:16:31.344\nAnd you feed it into whatever it is you're\nusing to try to crack these passwords, and\n\n291\n00:16:31.344 --> 00:16:34.232\nit simply tries each word,\none at a time, right.\n\n292\n00:16:34.232 --> 00:16:35.402\nNow you can do password guessing.\n\n293\n00:16:35.402 --> 00:16:36.751\nI didn't put that one on there.\n\n294\n00:16:36.751 --> 00:16:41.499\nThat would be a very manual human process,\nme going to a login dialogue box and\n\n295\n00:16:41.499 --> 00:16:46.210\ntyping in what I thought your password\nmight be, right, and guessing it.\n\n296\n00:16:46.210 --> 00:16:49.480\nAnd having it say no, and then trying\nanother one and trying another one and\n\n297\n00:16:49.480 --> 00:16:50.560\nme just typing over and over.\n\n298\n00:16:50.560 --> 00:16:53.610\n&gt;&gt; Would social engineering potentially\nfall under this category, too, as a type\n\n299\n00:16:53.610 --> 00:16:57.360\nof password attack as well, or do you\nthink that kinda blurs the line there?\n\n300\n00:16:57.360 --> 00:16:58.302\n&gt;&gt; Maybe it blurs it, but\n\n301\n00:16:58.302 --> 00:17:01.288\nit can definitely be a technique that\nI can use to assist in the process.\n\n302\n00:17:01.288 --> 00:17:04.260\n&gt;&gt; Gotcha.\n&gt;&gt; If I go into my boss' office, and\n\n303\n00:17:04.260 --> 00:17:07.700\nI see the Tim Tebow signed\njersey on the wall and\n\n304\n00:17:07.700 --> 00:17:11.580\nthe Tim Tebow football and\nthe dog is named Tebow.\n\n305\n00:17:12.830 --> 00:17:16.860\nIf I'm gonna do a password guessing, I'm\ngonna start doing things like Gators and\n\n306\n00:17:16.860 --> 00:17:21.100\nTebow and I love Tebow and\nthings like that, right?\n\n307\n00:17:21.100 --> 00:17:24.780\nSo that might help me narrow my list down,\nbut\n\n308\n00:17:24.780 --> 00:17:29.240\nit's still gonna be the same process of\nguessing and trying to go through those.\n\n309\n00:17:29.240 --> 00:17:31.270\nAnd with the dictionary,\nin fact, let me pull it up.\n\n310\n00:17:31.270 --> 00:17:34.280\nI've got my Kali box up here.\n\n311\n00:17:34.280 --> 00:17:36.930\nAnd let me bump that font size up one.\n\n312\n00:17:38.380 --> 00:17:39.730\nLet's see where we're at.\n\n313\n00:17:39.730 --> 00:17:46.020\nWe are in, if I can remember,\nuser share word lists.\n\n314\n00:17:46.020 --> 00:17:49.100\nAll right, so this Kali Linux\ncancel a whole bunch of word list.\n\n315\n00:17:49.100 --> 00:17:51.500\nA lot of the tools come\nwith their own word list,\n\n316\n00:17:51.500 --> 00:17:53.490\nlike John the Ripper\nhas a basic word list.\n\n317\n00:17:54.680 --> 00:17:56.675\nSQL Map has a basic word list.\n\n318\n00:17:56.675 --> 00:17:59.716\nNmap has a basic word list, DNS Map.\n\n319\n00:17:59.716 --> 00:18:02.110\nDirBuster has a word list.\n\n320\n00:18:02.110 --> 00:18:05.470\nThere's also a lot of word lists\nyou could go out and get online,\n\n321\n00:18:05.470 --> 00:18:10.100\nwhere you can download them and use those.\n\n322\n00:18:10.100 --> 00:18:11.700\nLet me just put one up real quick for you.\n\n323\n00:18:11.700 --> 00:18:15.670\nI'll do that fast track, right?\n\n324\n00:18:15.670 --> 00:18:20.070\nAnd if you look,\nthis is simply a list of words, right?\n\n325\n00:18:20.070 --> 00:18:22.998\nThese are possible passwords\nthat we wanna try.\n\n326\n00:18:22.998 --> 00:18:25.240\nAnd like I said, it's nothing special.\n\n327\n00:18:25.240 --> 00:18:26.370\nIt's just a list of words.\n\n328\n00:18:26.370 --> 00:18:30.530\nIf I wanna edit this, because I\nknow that my boss likes Tebow and\n\n329\n00:18:30.530 --> 00:18:32.840\nthe Gators football team,\nI can come in here and\n\n330\n00:18:32.840 --> 00:18:35.530\nadd some words to the bottom of this\nlist that maybe aren't in there already.\n\n331\n00:18:35.530 --> 00:18:37.500\nI can add Gators, I can add Tebow.\n\n332\n00:18:37.500 --> 00:18:40.720\nIt's simply just one word on each line,\nall right?\n\n333\n00:18:40.720 --> 00:18:42.830\nAnd you can make them as long as you want.\n\n334\n00:18:42.830 --> 00:18:46.709\nYou can go out there and\nget word lists that are huge.\n\n335\n00:18:46.709 --> 00:18:48.566\nl mean, they are monstrous.\n\n336\n00:18:48.566 --> 00:18:51.318\nUnderstand that that'll take\na long time to go through.\n\n337\n00:18:51.318 --> 00:18:56.305\nThe idea is we wanna narrow that\nword list down as much as possible,\n\n338\n00:18:56.305 --> 00:18:58.277\nand we also wanna sort it.\n\n339\n00:18:58.277 --> 00:19:04.134\nNow these are advanced techniques that\nwe're probably not gonna get into here.\n\n340\n00:19:04.134 --> 00:19:08.700\nBut we wanna sort word lists by common\npasswords versus uncommon passwords.\n\n341\n00:19:08.700 --> 00:19:10.110\nI wanna try all the common ones first.\n\n342\n00:19:10.110 --> 00:19:13.625\nWhy save the most common password for\nthe very last one I try?\n\n343\n00:19:13.625 --> 00:19:15.260\nI wanna try those first.\n\n344\n00:19:15.260 --> 00:19:16.890\nI can also sort it by numbers.\n\n345\n00:19:16.890 --> 00:19:21.010\nIf I know your password policy says\nthat you've got to use at least\n\n346\n00:19:21.010 --> 00:19:24.320\nan eight-character password,\nI can eliminate all the four character,\n\n347\n00:19:24.320 --> 00:19:27.690\nfive character, six character, and\nseven character words from my list.\n\n348\n00:19:27.690 --> 00:19:28.990\nWhy bother trying them?\n\n349\n00:19:28.990 --> 00:19:32.160\nI know that your password policy would\nprevent you from setting one of those in\n\n350\n00:19:32.160 --> 00:19:33.390\nthe first place.\n\n351\n00:19:33.390 --> 00:19:34.810\nIf I know your password policy,\n\n352\n00:19:34.810 --> 00:19:37.990\nI could also figure out what\ncharacter sets you've gotta use.\n\n353\n00:19:37.990 --> 00:19:42.550\nAnd that can help me generate a word\nlist that would be appropriate.\n\n354\n00:19:42.550 --> 00:19:46.380\nThere's many tools out there that I\ncan use that can generate word lists.\n\n355\n00:19:46.380 --> 00:19:48.860\nI can scour your website, and\n\n356\n00:19:48.860 --> 00:19:53.630\npull any words that are larger than\nseven characters off of your website.\n\n357\n00:19:53.630 --> 00:19:54.810\nAnd why?\n\n358\n00:19:54.810 --> 00:19:59.850\nBecause I can get industry specific\nterms off of your website, right?\n\n359\n00:19:59.850 --> 00:20:02.840\nThese are terms that maybe you\nknow how your users like to use\n\n360\n00:20:02.840 --> 00:20:04.740\nwords that are easy to remember.\n\n361\n00:20:04.740 --> 00:20:06.720\nI work in a printing press, and so\n\n362\n00:20:06.720 --> 00:20:09.890\nmy password might be,\nI don't know, FJ printer.\n\n363\n00:20:09.890 --> 00:20:14.080\nOr what is the name of some big printer\nmodel that you use or something like that,\n\n364\n00:20:14.080 --> 00:20:15.540\nor medical terms?\n\n365\n00:20:15.540 --> 00:20:17.850\nSo there's lots of ways\nto generate these lists.\n\n366\n00:20:17.850 --> 00:20:21.510\nAgain, you can go out online and\nyou can do a search for word lists and\n\n367\n00:20:21.510 --> 00:20:23.390\nyou can find them there as well.\n\n368\n00:20:23.390 --> 00:20:26.480\n&gt;&gt; Mike, I've seen across some of\nsecurity feeds that I have and\n\n369\n00:20:26.480 --> 00:20:27.800\nsome are just computing feeds.\n\n370\n00:20:27.800 --> 00:20:32.540\nAnd one of the things I know is that\nsome of these attacks are very, very,\n\n371\n00:20:32.540 --> 00:20:36.570\ncan be CPU intensive if you're saying this\none's like quick and fast and simplistic.\n\n372\n00:20:36.570 --> 00:20:39.620\nOf course, you've mentioned\nthat it can get CPU intensive.\n\n373\n00:20:39.620 --> 00:20:42.980\nThey're stringing GPUs together\nin Crossfire and SLI solutions,\n\n374\n00:20:42.980 --> 00:20:45.860\nmaking these things that\nare just dedicated to rifle off\n\n375\n00:20:45.860 --> 00:20:47.940\njust hundreds of thousands of passwords.\n\n376\n00:20:47.940 --> 00:20:51.030\nWhat kind of attack would\nwe have that is gonna need\n\n377\n00:20:51.030 --> 00:20:52.730\na little bit more beefy hardware?\n\n378\n00:20:52.730 --> 00:20:55.410\n&gt;&gt; Well,\nthe dictionary attack is not too bad.\n\n379\n00:20:55.410 --> 00:21:00.266\nIt is, like I said, is really quick,\nis really easy, and it doesn't take a lot\n\n380\n00:21:00.266 --> 00:21:04.268\nof power cuz it's just sending one\nword at a time out of this list.\n\n381\n00:21:04.268 --> 00:21:08.220\nSo that's why I say it's easy and\nit's fast.\n\n382\n00:21:08.220 --> 00:21:12.730\nBut another type of attack\nwould be a brute force attack.\n\n383\n00:21:12.730 --> 00:21:18.490\nAnd a brute force attack is where we\ntry every single possible combination.\n\n384\n00:21:18.490 --> 00:21:22.800\nSo rather than going through a list\nof words that might be your password,\n\n385\n00:21:22.800 --> 00:21:24.600\nwe're just gonna try everything.\n\n386\n00:21:24.600 --> 00:21:30.140\nWe'll try aaa, aab,\naac all the way up to zzz if we're talking\n\n387\n00:21:30.140 --> 00:21:34.590\nabout three character passwords that are\njust alphabetical and no numbers, right?\n\n388\n00:21:34.590 --> 00:21:37.700\nThat's the idea behind a brute\nforce password attack.\n\n389\n00:21:37.700 --> 00:21:42.530\nAnd when you think about it,\nin the end all passwords are crackable.\n\n390\n00:21:42.530 --> 00:21:48.419\nEven if you have a 25-character password,\nit is crackable because it\n\n391\n00:21:48.419 --> 00:21:54.322\nis just a combination of characters\nthat you can input on this keyboard.\n\n392\n00:21:54.322 --> 00:21:57.936\nSo my brute force program will try every\npossible combination of characters,\n\n393\n00:21:57.936 --> 00:22:00.500\nso eventually I will get that password.\n\n394\n00:22:00.500 --> 00:22:04.620\nIt might be in an hour,\nit might be in 10,000 years, and\n\n395\n00:22:04.620 --> 00:22:05.760\nI'm not making that number up.\n\n396\n00:22:05.760 --> 00:22:10.670\nI mean, if your password's 25 characters\nlong and I'm using a single processor, and\n\n397\n00:22:10.670 --> 00:22:15.090\nwe've got potentially up to 15 characters,\nwhat did I say, 20?\n\n398\n00:22:15.090 --> 00:22:17.460\nIf there's that many characters,\nhow many possibilities is that?\n\n399\n00:22:17.460 --> 00:22:21.116\nThat's in the quadrazillions,\nI don't know,.\n\n400\n00:22:21.116 --> 00:22:24.551\nBut that's going to take a long time\nto go through every single possibility.\n\n401\n00:22:24.551 --> 00:22:26.240\nSo it could be 10,000 years, right?\n\n402\n00:22:26.240 --> 00:22:29.740\nAnd obviously I don't even know if\nthe Earth will be here that much from now.\n\n403\n00:22:29.740 --> 00:22:33.980\nSo when I say everything is crackable,\nthat doesn't mean everything is\n\n404\n00:22:33.980 --> 00:22:39.110\nfeasibly crackable, or\nwhat they would say is, yeah, feasible.\n\n405\n00:22:39.110 --> 00:22:41.060\nIt probably would not be.\n\n406\n00:22:41.060 --> 00:22:45.820\nBut keep in mind, there's no guarantee\nthat I don't get it on the second guess.\n\n407\n00:22:45.820 --> 00:22:49.520\nIf I'm trying every possible combination,\nI might get lucky and\n\n408\n00:22:49.520 --> 00:22:54.750\nget it on the fourth try, instead of\nthe 400 quadrillionth try, right?\n\n409\n00:22:54.750 --> 00:22:56.565\nSo it's not a guarantee, but\n\n410\n00:22:56.565 --> 00:23:00.935\nit is a good assurance that it'll take\nthem a long time to crack the password.\n\n411\n00:23:00.935 --> 00:23:03.635\n&gt;&gt; Is there something that's kinda\nthe middle of the ground, right?\n\n412\n00:23:03.635 --> 00:23:06.485\nIf we have one that is just so intensive.\n\n413\n00:23:06.485 --> 00:23:08.715\nOne that's just fairly fast.\n\n414\n00:23:08.715 --> 00:23:11.655\nDo we have something that can\nmaybe help a sister CPU there, and\n\n415\n00:23:11.655 --> 00:23:12.795\nkinda meet in the middle?\n\n416\n00:23:12.795 --> 00:23:13.455\n&gt;&gt; Yeah, absolutely.\n\n417\n00:23:13.455 --> 00:23:17.785\nAnd I think what you're referring to\nis gonna be rainbow tables, right?\n\n418\n00:23:17.785 --> 00:23:22.882\nRainbow tables, this is a term that now\nlet me just pre, I can't even talk today.\n\n419\n00:23:22.882 --> 00:23:26.678\n[LAUGH] I'm having trouble getting\nthe words out of my mouth.\n\n420\n00:23:26.678 --> 00:23:28.659\nBut let me prepend this with,\n\n421\n00:23:28.659 --> 00:23:32.710\nI'm not gonna go into the inner\nworkings of rainbow tables.\n\n422\n00:23:32.710 --> 00:23:36.748\nAnd I know that they are complex, and\nyou can go out even on Wikipedia and\n\n423\n00:23:36.748 --> 00:23:40.333\nyou can see the algorithms are used and\nhow this process works.\n\n424\n00:23:40.333 --> 00:23:41.762\nWe're gonna make it really simple.\n\n425\n00:23:41.762 --> 00:23:46.590\nWe're gonna say what a rainbow table is,\nis when I take words that I think might be\n\n426\n00:23:46.590 --> 00:23:50.220\npasswords and I just start\ngenerating hash values for them.\n\n427\n00:23:50.220 --> 00:23:53.350\nI take my dictionary file and I just go\nahead and start hashing every single one\n\n428\n00:23:53.350 --> 00:23:58.720\nof those words in my dictionary file, and\nkeep the results in a table, all right?\n\n429\n00:23:58.720 --> 00:24:01.258\nNow what I could do is\nI could do a lookup.\n\n430\n00:24:01.258 --> 00:24:02.934\nIf I know your hash value,\n\n431\n00:24:02.934 --> 00:24:06.908\nI can look in my pre-computed table for\nthat same hash value.\n\n432\n00:24:06.908 --> 00:24:10.576\nOnce I find a match, I see what I use to\ngenerate that hash value in the first\n\n433\n00:24:10.576 --> 00:24:12.720\nplace and I've got your password.\n\n434\n00:24:12.720 --> 00:24:17.200\nOr something that will generate the same\nhash value as your password, right?\n\n435\n00:24:17.200 --> 00:24:19.930\nSo you might be thinking, well,\nwhy will I always do this?\n\n436\n00:24:19.930 --> 00:24:21.510\nOr what's the problem?\n\n437\n00:24:21.510 --> 00:24:26.900\nThose rainbow tables can get huge\nterabytes and terabytes in size.\n\n438\n00:24:26.900 --> 00:24:30.560\nIf we're talking about anything\nover an eight character password,\n\n439\n00:24:30.560 --> 00:24:33.480\nthe number of possibilities\nis just tremendous.\n\n440\n00:24:33.480 --> 00:24:38.790\nAnd so, it becomes a very,\nwhat's a good way to say it?\n\n441\n00:24:38.790 --> 00:24:45.050\nJust a huge file and very CPU intensive\nand resource intensive to use it.\n\n442\n00:24:45.050 --> 00:24:48.040\nThere are rainbow tables out there\nonline though that you can get that this\n\n443\n00:24:48.040 --> 00:24:48.710\nis what people do.\n\n444\n00:24:48.710 --> 00:24:51.640\nThat's all they do is just hash words and\n\n445\n00:24:51.640 --> 00:24:54.440\nthey have to think about\nthe hashing algorithm, right?\n\n446\n00:24:54.440 --> 00:24:57.300\nActive Directory might use\none hashing algorithm but\n\n447\n00:24:57.300 --> 00:24:59.650\non that Linux system they\nmight use a different one.\n\n448\n00:24:59.650 --> 00:25:02.465\nSo now I've got to have rainbow tables for\nthe different hashing algorithms.\n\n449\n00:25:02.465 --> 00:25:06.274\nSo it's not quite as easy as I'll just\ngo ahead and precomputed everything,\n\n450\n00:25:06.274 --> 00:25:10.038\nhave a nice table, look it up, and\nI can crack your password just like that.\n\n451\n00:25:10.038 --> 00:25:13.866\n&gt;&gt; So, Mike, what are the benefits of\nthe precomputation of that table itself,\n\n452\n00:25:13.866 --> 00:25:17.404\ncompared to doing a brute force where\nyou're doing all of the guessing,\n\n453\n00:25:17.404 --> 00:25:19.790\nwhat are some of the benefits?\n\n454\n00:25:19.790 --> 00:25:23.882\n&gt;&gt; Really the biggest benefit is let\nsomebody else do the work of generating\n\n455\n00:25:23.882 --> 00:25:25.299\nframe tables, I think.\n\n456\n00:25:25.299 --> 00:25:30.480\nThere's online services that you can\nsay hey I need these password track.\n\n457\n00:25:30.480 --> 00:25:32.580\nAnd they'll tell you hey\nsend us the hash value.\n\n458\n00:25:32.580 --> 00:25:36.040\nWe'll look it up in our tables, and\nwe can tell you what the password is.\n\n459\n00:25:37.530 --> 00:25:40.870\nBut you can go out and\nyou can find rainbow tables,\n\n460\n00:25:40.870 --> 00:25:44.990\nyou can generate your own rainbow tables,\nit's nothing secret about it.\n\n461\n00:25:44.990 --> 00:25:50.205\nBut it is just a lot of work and\nmassive file, so it's very CPU intensive.\n\n462\n00:25:50.205 --> 00:25:54.849\nIt's still takes a long time to go\nthrough that table because it is so big.\n\n463\n00:25:54.849 --> 00:25:59.180\nAnd the values we are looking at\nare typically pretty big as well.\n\n464\n00:25:59.180 --> 00:26:04.346\nSo it can take a long time and\nit can be very,very intensive, all right?\n\n465\n00:26:04.346 --> 00:26:08.080\nLet's see what else we wanna talk about.\n\n466\n00:26:08.080 --> 00:26:11.540\nThe last one I wanna talk about is we\ntalked about dictionaries, rainbows,\n\n467\n00:26:11.540 --> 00:26:16.282\nblue force and\nthen hybrid will be the last one.\n\n468\n00:26:16.282 --> 00:26:21.610\nIn a hybrid attacks are very common to\ndo as well is really when we combine\n\n469\n00:26:21.610 --> 00:26:24.900\ndictionary based attacks and\ngroup force attacks.\n\n470\n00:26:24.900 --> 00:26:30.090\nBecause a common technique you people use\nto generate new passwords is to prepend or\n\n471\n00:26:30.090 --> 00:26:32.870\nappend something to\ntheir original password.\n\n472\n00:26:32.870 --> 00:26:37.190\nIf my password was password,\nnext month when I gotta change it,\n\n473\n00:26:37.190 --> 00:26:38.690\nit's gonna be password one.\n\n474\n00:26:38.690 --> 00:26:41.589\nOr password explanation point or\none password, right?\n\n475\n00:26:41.589 --> 00:26:46.480\nAnd people think they're getting away with\nsomething but the bad guys know that.\n\n476\n00:26:46.480 --> 00:26:48.830\nWe know that as security professional,\nit's what they're doing.\n\n477\n00:26:48.830 --> 00:26:52.867\nSo many tools that I have will allow you\nto start with the dictionary file and\n\n478\n00:26:52.867 --> 00:26:56.841\nthen mangle it, which means they can\neither, depending on the program,\n\n479\n00:26:56.841 --> 00:27:00.709\nit might allow you to pre-pin characters,\npin characters to the end.\n\n480\n00:27:00.709 --> 00:27:05.170\nMangle the word itself,\nchange that first letter to an uppercase,\n\n481\n00:27:05.170 --> 00:27:07.290\nchange the word all uppercase.\n\n482\n00:27:07.290 --> 00:27:09.220\nSo just go to the dictionary again,\n\n483\n00:27:09.220 --> 00:27:13.200\ngo through the entire dictionary file\nnothing worked, go through the dictionary\n\n484\n00:27:13.200 --> 00:27:16.350\nfile again with an exclamation point\nat the end of every single word.\n\n485\n00:27:16.350 --> 00:27:21.100\nGo through it again, with the first letter\ncapitalized, every single word, all right.\n\n486\n00:27:21.100 --> 00:27:23.050\nAnd you might think what,\nit's gonna take forever and\n\n487\n00:27:23.050 --> 00:27:27.650\nliterally your PC depending on your\nCPU and what you're trying to do,\n\n488\n00:27:27.650 --> 00:27:31.700\nyou can do hundreds of thousands\nof guesses per second.\n\n489\n00:27:31.700 --> 00:27:35.900\nSo we can rifle through a dictionary\nfile pretty darn quick.\n\n490\n00:27:35.900 --> 00:27:36.752\n&gt;&gt; So Mike, would that be the reason?\n\n491\n00:27:36.752 --> 00:27:40.438\nComing across my feed\nthere I see those four of\n\n492\n00:27:40.438 --> 00:27:44.615\nthose high end graphics\ncard with two GPUs a piece.\n\n493\n00:27:44.615 --> 00:27:47.065\nThey're putting a lot of hardware in them,\n\n494\n00:27:47.065 --> 00:27:51.373\nit's because the stronger the device\nthe more computational power it has and\n\n495\n00:27:51.373 --> 00:27:55.730\nthe faster it can rifle through all\nof these millions of possibilities.\n\n496\n00:27:55.730 --> 00:28:00.830\n&gt;&gt; Yes, the GPUs are very good\nat doing this kind of work.\n\n497\n00:28:00.830 --> 00:28:04.800\nSo a lot of these program software will\nallow you to offload that work to the GPU.\n\n498\n00:28:04.800 --> 00:28:07.910\nNow when we say GPU,\nI don't know if we've mentioned that Wes.\n\n499\n00:28:07.910 --> 00:28:13.000\nGPU being your graphics\nprocessing unit versus your CPU,\n\n500\n00:28:13.000 --> 00:28:14.630\nthe main brains of your computer.\n\n501\n00:28:14.630 --> 00:28:16.737\nSo we can offload it onto that,\nand as you said,\n\n502\n00:28:16.737 --> 00:28:20.236\nwe can put a couple of those together and\njust really increase the horsepower.\n\n503\n00:28:20.236 --> 00:28:24.892\nThere are engines or hardware devices that\nyou can offload some of these too as well\n\n504\n00:28:24.892 --> 00:28:26.454\nif you're really in that.\n\n505\n00:28:26.454 --> 00:28:29.660\nYou're job was pane testing,\nor something like that.\n\n506\n00:28:29.660 --> 00:28:32.142\nYou can get hardware accelerators\nto do some of this as well.\n\n507\n00:28:32.142 --> 00:28:34.214\n&gt;&gt; Mike,\nI'm looking at this episode here and\n\n508\n00:28:34.214 --> 00:28:37.630\nI still don't know that you got a bunch\nof goodies to talk about cuz we're\n\n509\n00:28:37.630 --> 00:28:40.330\ntalking about a lot of\nthe theory in this episode.\n\n510\n00:28:40.330 --> 00:28:43.894\nBut we haven't even mentioned some of the\nsoftware that's out there to actually move\n\n511\n00:28:43.894 --> 00:28:45.986\ninto, while performing\nthe password cracking.\n\n512\n00:28:45.986 --> 00:28:49.562\nBut again,we're flexing the muscles\non the clock here Mike, so\n\n513\n00:28:49.562 --> 00:28:52.830\nwhat do you say maybe we'll go\ninto a part two on this one?\n\n514\n00:28:52.830 --> 00:28:56.551\n&gt;&gt; We should, we will, I think what I'd\nlike to do is go ahead and list something\n\n515\n00:28:56.551 --> 00:29:00.130\ncuz we're not gonna go through each one\nof these as far as trying them out.\n\n516\n00:29:00.130 --> 00:29:04.150\nWe'll show you one or two to give you\nkind of an idea of how they work.\n\n517\n00:29:04.150 --> 00:29:08.520\nBut some of the common software that\nyou'll see and this is by no means,\n\n518\n00:29:08.520 --> 00:29:12.050\nan exclusive list or\nan all inclusive list.\n\n519\n00:29:12.050 --> 00:29:14.750\nI think one of the most popular\nones is John the Ripper.\n\n520\n00:29:14.750 --> 00:29:18.949\nJohn the Ripper is a really good one,\nit will do the different types of attacks,\n\n521\n00:29:18.949 --> 00:29:22.164\ndictionary, combine dictionary,\nhybrid, brute force.\n\n522\n00:29:22.164 --> 00:29:28.660\nIt's a command line only tool although\nthere's now a GUI for John the Ripper.\n\n523\n00:29:28.660 --> 00:29:32.390\nI just saw it the other day,\nI don't know how new it is but\n\n524\n00:29:32.390 --> 00:29:33.710\nI think it's been out for a little while.\n\n525\n00:29:33.710 --> 00:29:36.140\nBut there's a graphical\nuser interface now for it.\n\n526\n00:29:36.140 --> 00:29:39.610\nIt's called Johnnie,\nI think it does the same thing but\n\n527\n00:29:39.610 --> 00:29:42.190\nit's gonna come may as a graph\ncalled user interface.\n\n528\n00:29:42.190 --> 00:29:48.090\nAnother one might be Ophcrack O-P-H crack,\nit uses rainbow tables, all right,\n\n529\n00:29:48.090 --> 00:29:53.970\nthat you can do locally\nLoft Crack is a paid service.\n\n530\n00:29:53.970 --> 00:29:59.460\nIt's rather expensive too, not to say\nit's not a great product and well worth\n\n531\n00:29:59.460 --> 00:30:04.380\nthe money, but a lot of times when you\nfind those paid ones, they're not cheap.\n\n532\n00:30:04.380 --> 00:30:05.870\nAnd there's a couple of reasons for it.\n\n533\n00:30:05.870 --> 00:30:09.640\nOne, it's good software there's\na lot of work in developing it and\n\n534\n00:30:09.640 --> 00:30:11.200\nit's very valuable stuff.\n\n535\n00:30:11.200 --> 00:30:15.280\nAnd two, if it's too inexpensive I\nthink the bad guys would use it too\n\n536\n00:30:15.280 --> 00:30:19.892\nmuch of course, if it was a true black cat\nthey'd probably just steal a copy anyway.\n\n537\n00:30:19.892 --> 00:30:21.488\nLoft Crack is a good one,\n\n538\n00:30:21.488 --> 00:30:26.670\nwhat's another one cane enable is one that\nwe is a very commonly used on Windows.\n\n539\n00:30:26.670 --> 00:30:30.863\nIs got a graphical use of interface,\n[COUGH] does a dictionary, rainbow,\n\n540\n00:30:30.863 --> 00:30:35.397\nblue ,force, cane enable, actually does\na lot more and a lot of these password\n\n541\n00:30:35.397 --> 00:30:40.090\npacking tools you will see do a lot\nmore than just crack the password.\n\n542\n00:30:40.090 --> 00:30:41.800\nNow we got the password,\nwhat do you wanna do.\n\n543\n00:30:41.800 --> 00:30:46.230\nWe can do math on the middle attacks or\npass the hashes.\n\n544\n00:30:46.230 --> 00:30:48.600\nTHC Hydro, one of my personal faves.\n\n545\n00:30:48.600 --> 00:30:51.030\nIf you're doing online password cracking.\n\n546\n00:30:51.030 --> 00:30:55.630\nLike you scan a machine and you see that\nit's running MySQL is listening on port I\n\n547\n00:30:55.630 --> 00:31:00.368\ndont know, 33 or six, and you can start\nhitting that port doing brute forcing or\n\n548\n00:31:00.368 --> 00:31:03.063\ndictionary based attacks\nagainst that port.\n\n549\n00:31:03.063 --> 00:31:08.379\nTrying to connect to that service or\nonline form that's using http get or\n\n550\n00:31:08.379 --> 00:31:13.694\nhttp post, Brutus is another one that\nare run on both Linux and Windows,\n\n551\n00:31:13.694 --> 00:31:19.000\none of the faster password trackers,\nHydro is up there as far as fast.\n\n552\n00:31:19.000 --> 00:31:23.350\nThen there's things like Aircrack-ng,\nwhich I can use to crack WiFi passwords.\n\n553\n00:31:23.350 --> 00:31:27.545\nIf I wanna get your WEP key or\nyour WPA or WPA2 key,\n\n554\n00:31:27.545 --> 00:31:30.850\nAircrack-ng, is probably\none of the most populars.\n\n555\n00:31:30.850 --> 00:31:34.345\nAnd it does one of the most, popular, I\ndon't know if populars is an actual word,\n\n556\n00:31:34.345 --> 00:31:35.319\nbut hey we'll add it.\n\n557\n00:31:35.319 --> 00:31:39.951\n[COUGH] Aircrack-ng also does\nthings like creating evil twins or\n\n558\n00:31:39.951 --> 00:31:44.923\na soft access point to a assist in\nthe cracking and the post-attack or\n\n559\n00:31:44.923 --> 00:31:49.890\nthe post-cracking part of the attack,\nthe exploitation phase.\n\n560\n00:31:49.890 --> 00:31:51.770\nSo, a lot of good software out there,\nlike I said,\n\n561\n00:31:51.770 --> 00:31:54.900\nwe'll take a look at a couple of them\nto give you an idea of how they work.\n\n562\n00:31:54.900 --> 00:31:56.890\n&gt;&gt; All right,\na lot of great information there and\n\n563\n00:31:56.890 --> 00:31:59.590\nI know I look forward to\nseeing these in action.\n\n564\n00:31:59.590 --> 00:32:01.500\nMike, great job putting all that in there.\n\n565\n00:32:02.830 --> 00:32:05.270\nAs we know it is time for\nus to wrap this one up.\n\n566\n00:32:05.270 --> 00:32:07.290\nSo we'll go ahead and\nwe'll go into a part two.\n\n567\n00:32:07.290 --> 00:32:09.840\nMike, as always we appreciate\nhaving you here in the studios and\n\n568\n00:32:09.840 --> 00:32:11.880\nwe appreciate you to be watching.\n\n569\n00:32:11.880 --> 00:32:14.640\nSigning out for ITProTV,\nI've been your host Wes Bryan.\n\n570\n00:32:14.640 --> 00:32:15.400\n&gt;&gt; And I'm Mike Rodrick.\n\n571\n00:32:15.400 --> 00:32:23.513\n&gt;&gt; We'll see you next time.\n[MUSIC]\n\n572\n00:32:23.513 --> 00:32:26.420\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "224339053"
        },
        {
          "description": "In this episode, Wes and Mike talk about a popular free password cracking software known as hash cat. They discuss the major features of hash cat as well as summarizing the algorithms and attack types. They explore the basics behind the interface with a live demonstration to help the viewers with a hands-on approach.",
          "length": "1016",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-6-2-hashcat-063017-PGM.00_16_39_29.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-6-2-hashcat-063017-PGM.00_16_39_29.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-securitytechskills-2017/techskills-securitytechskills-6-2-hashcat-063017-PGM.00_16_39_29.Still001-sm.jpg",
          "title": "Hashcat",
          "transcript": "WEBVTT\n\n1\n00:00:00.250 --> 00:00:01.407\nWelcome to ITProTV.\n\n2\n00:00:01.407 --> 00:00:02.954\nI'm your host, Don Pezet.\n\n3\n00:00:02.954 --> 00:00:06.597\n[CROSSTALK]\n\n4\n00:00:06.597 --> 00:00:08.218\n[MUSIC]\n\n5\n00:00:08.218 --> 00:00:11.950\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:11.950 --> 00:00:15.325\n&gt;&gt; Hello, and welcome to another\ngreat episode here at ITProTV.\n\n7\n00:00:15.325 --> 00:00:17.725\nI'm your host, Wes Bryan, and\nin today's episode, well,\n\n8\n00:00:17.725 --> 00:00:20.245\nwe're continuing through our\nseries in security tech skills.\n\n9\n00:00:20.245 --> 00:00:23.445\nAnd joining us back in the studios\nis a man that needs no introduction.\n\n10\n00:00:23.445 --> 00:00:27.062\nThat is ITProTV's very own security guru,\nMr. Mike Rodrick.\n\n11\n00:00:27.062 --> 00:00:28.172\nMike, how you doing, sir?\n\n12\n00:00:28.172 --> 00:00:28.892\n&gt;&gt; I'm doing great, Wes.\n\n13\n00:00:28.892 --> 00:00:29.642\nThanks for having me back.\n\n14\n00:00:29.642 --> 00:00:31.792\nExcited to be here as always.\n\n15\n00:00:31.792 --> 00:00:33.289\nAll right, so in this episode,\n\n16\n00:00:33.289 --> 00:00:36.592\nwe're gonna continue our thought\nprocess on password cracking.\n\n17\n00:00:36.592 --> 00:00:39.410\nAnd if you missed the previous episode,\nmake sure you go and check it out.\n\n18\n00:00:39.410 --> 00:00:42.270\nWe talked a little bit about,\nmore about the theory side, right?\n\n19\n00:00:42.270 --> 00:00:43.730\nSome password cracking basics,\n\n20\n00:00:43.730 --> 00:00:48.690\ndifferent techniques we can use, different\ntools we can use and things like that.\n\n21\n00:00:48.690 --> 00:00:52.596\nSo in this episode, we're gonna actually\ntry to implement some of that, and\n\n22\n00:00:52.596 --> 00:00:54.470\ndo some password cracking.\n\n23\n00:00:54.470 --> 00:00:57.740\nAnd as you probably determined\nfrom the title of the show,\n\n24\n00:00:57.740 --> 00:01:00.780\nwe will be using a tool called hashcat.\n\n25\n00:01:00.780 --> 00:01:04.560\nI'm gonna demo a few different ones,\nand hashcat is gonna be first.\n\n26\n00:01:04.560 --> 00:01:06.360\nSo let's take a look at my screen here.\n\n27\n00:01:06.360 --> 00:01:10.018\nWhat I've done first is just pulled\nup hashcat.net, their website, so\n\n28\n00:01:10.018 --> 00:01:12.673\nwe can get a little bit of\ninformation about hashcat.\n\n29\n00:01:12.673 --> 00:01:15.730\nI'm gonna try to zoom in,\ncuz it's awfully tiny there.\n\n30\n00:01:15.730 --> 00:01:18.730\nBut hashcat is an advanced\npassword recovery tool.\n\n31\n00:01:20.590 --> 00:01:23.180\nOne of the cool things you\nsee right off the top is this\n\n32\n00:01:23.180 --> 00:01:25.490\nGPU driver requirements, right?\n\n33\n00:01:25.490 --> 00:01:29.660\nWe had talked about how some utilities\nwill allow you to offload this onto your\n\n34\n00:01:29.660 --> 00:01:33.170\nGPU, or GPUs, and\nreally speed up the process.\n\n35\n00:01:33.170 --> 00:01:34.598\nAnd this is one of them.\n\n36\n00:01:34.598 --> 00:01:38.905\nAnd they tout themselves as being\nthe world's fastest password cracker,\n\n37\n00:01:38.905 --> 00:01:42.540\nworld's first and\nonly in kernel rule engine.\n\n38\n00:01:42.540 --> 00:01:47.320\nAnd I really like this part, it is free,\nall right, which is always a good thing.\n\n39\n00:01:47.320 --> 00:01:50.020\nIt's an open source,\nthe MIT license is what they're following.\n\n40\n00:01:50.020 --> 00:01:53.890\nAnd another cool thing about\nthis one Linux, Windows and OSX.\n\n41\n00:01:53.890 --> 00:01:56.510\nSo it'll actually run on multiple\nplatforms, which is nice.\n\n42\n00:01:56.510 --> 00:01:59.850\nDepending on what you're using for\nyour pen test platform,\n\n43\n00:01:59.850 --> 00:02:03.489\nor your everyday driver, if you're\nthat security professional in your\n\n44\n00:02:03.489 --> 00:02:05.810\norganization, you might not\nhave a Linux box handy.\n\n45\n00:02:05.810 --> 00:02:07.960\nMaybe you use Windows\nas your daily driver.\n\n46\n00:02:07.960 --> 00:02:10.050\nThis is a tool that you could run on that,\nright, or\n\n47\n00:02:10.050 --> 00:02:12.540\nyou could throw it on a Linux VM or\nwhat have you.\n\n48\n00:02:12.540 --> 00:02:13.890\nSo very cool there.\n\n49\n00:02:13.890 --> 00:02:18.370\nJust incredibly powerful,\nas you go through this list, multi hashes,\n\n50\n00:02:18.370 --> 00:02:20.680\ncracking multiple hashes at the same time,\n\n51\n00:02:20.680 --> 00:02:25.830\nmultiple devices,\nsupports distributed cracking networks.\n\n52\n00:02:25.830 --> 00:02:30.300\nSo I can even get more power by\ndistributing jobs across devices.\n\n53\n00:02:30.300 --> 00:02:32.370\nSupport sessions, which is really nice,\n\n54\n00:02:32.370 --> 00:02:35.390\ntoo, because remember,\nwe were talking about the password theory.\n\n55\n00:02:35.390 --> 00:02:39.140\nIt might be minutes, hours,\ndays, months, longer.\n\n56\n00:02:40.190 --> 00:02:44.450\nSo this is something where I might have to\nstop it, and pick it back up tomorrow and\n\n57\n00:02:44.450 --> 00:02:46.230\nI don't want it to start over, right?\n\n58\n00:02:46.230 --> 00:02:52.400\nSo it does support sessions and restores,\nhas some automatic performance tuning.\n\n59\n00:02:52.400 --> 00:02:58.230\nAnd another one that I liked down here,\nintegrated thermal watchdog, what?\n\n60\n00:02:59.320 --> 00:03:02.470\nThat's because, like we said,\nthis is very CPU or\n\n61\n00:03:02.470 --> 00:03:07.620\ncan be very resource intensive and\nyou can end up overheating your machines.\n\n62\n00:03:07.620 --> 00:03:12.740\nI've done some on my NVMs and\non my physical machine and\n\n63\n00:03:12.740 --> 00:03:19.540\nyou'll hear the fans ramp up and\nit can definitely melt your system, right?\n\n64\n00:03:19.540 --> 00:03:23.430\nSo it's got some thermal warnings and\nthermal shutdowns in there where it can\n\n65\n00:03:23.430 --> 00:03:27.780\ntake little breaks, let things cool\nback down before it kicks back in.\n\n66\n00:03:27.780 --> 00:03:28.685\nAnd so that's great.\n\n67\n00:03:28.685 --> 00:03:33.850\n2200+ hash types is another big thing.\n\n68\n00:03:33.850 --> 00:03:35.640\nAnd as we scroll down through here,\n\n69\n00:03:35.640 --> 00:03:39.430\nwe look at all the different\nalgorithms that it supports.\n\n70\n00:03:39.430 --> 00:03:43.231\nThe list is pretty\nextensive which is nice.\n\n71\n00:03:43.231 --> 00:03:48.940\nThat's one tool that I can use no\nmatter what hashing algorithm they use.\n\n72\n00:03:48.940 --> 00:03:53.920\nI can do a straight combination brute\nforce, hyperdictionary with masks,\n\n73\n00:03:53.920 --> 00:03:56.770\naccepts rules so\nyou can do some manipulation of the words,\n\n74\n00:03:56.770 --> 00:04:00.590\nsome mangling of the words,\nvery, very cool little utility.\n\n75\n00:04:00.590 --> 00:04:04.370\n&gt;&gt; All right, Mike, great, we got to see\nsome of the major features, right, a lot\n\n76\n00:04:04.370 --> 00:04:07.570\nof summarization of the algorithms, if you\nwill, and even some of the attack types.\n\n77\n00:04:07.570 --> 00:04:10.140\nNow what do you say we get\nour hands on this piece of\n\n78\n00:04:10.140 --> 00:04:11.530\nsoftware and see it in action?\n\n79\n00:04:11.530 --> 00:04:12.977\nAll right, let's do it, shall we?\n\n80\n00:04:12.977 --> 00:04:14.850\nAll right, so\nlet's take a look at my screen here.\n\n81\n00:04:14.850 --> 00:04:17.550\nI've got my Kali Linux 2017 box pulled up.\n\n82\n00:04:17.550 --> 00:04:21.700\nAnd we'll start with good old just\nhashcat, and I can't spell cat,\n\n83\n00:04:21.700 --> 00:04:22.815\nhow do you spell that?\n\n84\n00:04:22.815 --> 00:04:25.075\n-- help.\n\n85\n00:04:25.075 --> 00:04:27.745\nExtensive help in here,\na lot of great information.\n\n86\n00:04:27.745 --> 00:04:28.485\nIf it's not enough,\n\n87\n00:04:28.485 --> 00:04:31.625\nyou can always go to their website,\nthey've got good documentation there.\n\n88\n00:04:31.625 --> 00:04:33.445\nI'll talk about some of these options.\n\n89\n00:04:33.445 --> 00:04:37.305\nWe're gonna keep it pretty simple for\nthis particular demonstration.\n\n90\n00:04:37.305 --> 00:04:41.175\nI'll explain the options that\nI'm using as we go through.\n\n91\n00:04:41.175 --> 00:04:43.555\nSo if we are going to crack\nsome of these passwords,\n\n92\n00:04:43.555 --> 00:04:45.225\nI need those hash values, right?\n\n93\n00:04:45.225 --> 00:04:47.440\nWe talked about that in\nour previous episode.\n\n94\n00:04:47.440 --> 00:04:52.190\nWe said that an analytic system nowadays,\nthose are stored in the shadow file.\n\n95\n00:04:52.190 --> 00:04:54.221\nSo that's what we're going to do.\n\n96\n00:04:54.221 --> 00:04:55.809\nWe'll take a peek at that file.\n\n97\n00:04:55.809 --> 00:04:57.120\nIn fact, let's look at both of them.\n\n98\n00:04:57.120 --> 00:05:02.590\nLet me take a look at the,\nlet's see, Pass wd file.\n\n99\n00:05:02.590 --> 00:05:06.890\nRemember, this is where they used to\nbe stored a while ago on Linux systems,\n\n100\n00:05:06.890 --> 00:05:10.100\na long while ago, where you would have\nthe user name and the password and\n\n101\n00:05:10.100 --> 00:05:11.680\ntheir other information in here.\n\n102\n00:05:11.680 --> 00:05:15.460\nNow the pwd file or\npass wd file just has the user name,\n\n103\n00:05:15.460 --> 00:05:19.060\ninformation about the account,\ndefault shell, home directories.\n\n104\n00:05:19.060 --> 00:05:20.170\nThings like that.\n\n105\n00:05:20.170 --> 00:05:25.308\nThe file we really need Is going to be,\nlet's see,\n\n106\n00:05:25.308 --> 00:05:29.540\nshadow because this is the one\nthat has the passwords.\n\n107\n00:05:29.540 --> 00:05:32.340\nSo you can see here's an account for\nWes, and\n\n108\n00:05:32.340 --> 00:05:37.560\nwe can see that hash value,\nall right, for Wes's password.\n\n109\n00:05:37.560 --> 00:05:41.970\nAnd then some additional information here\nthat we're actually not going to need.\n\n110\n00:05:41.970 --> 00:05:42.690\nSo that's what I need.\n\n111\n00:05:42.690 --> 00:05:44.350\nI need to get those hash values out there,\n\n112\n00:05:44.350 --> 00:05:50.180\nget them into some kind of file that I can\npoint hashcat to and let it do its magic.\n\n113\n00:05:50.180 --> 00:05:53.680\nSo what I'm gonna do is I'm just\ngonna grab the last, I don't know,\n\n114\n00:05:53.680 --> 00:05:56.140\nwe'll just work on Ronnie,\nDaniel, and Wes.\n\n115\n00:05:56.140 --> 00:05:59.270\nAgain, remember I set up some of these\naccounts with words that I know are gonna\n\n116\n00:05:59.270 --> 00:06:03.660\nbe cracked relatively quickly just for\nour demonstration purposes.\n\n117\n00:06:03.660 --> 00:06:05.298\nSo I'm gonna do a little tail action here.\n\n118\n00:06:05.298 --> 00:06:09.389\nAnd we're gonna grab the last, say,\nthree entries off of that file.\n\n119\n00:06:12.479 --> 00:06:16.759\nAnd I'm gonna pipe that\nout into a file called,\n\n120\n00:06:16.759 --> 00:06:21.043\nlet's keep it simple, hashes.txt, right?\n\n121\n00:06:21.043 --> 00:06:26.073\nAnd if we cat that hashes.txt,\nyou'll see right\n\n122\n00:06:26.073 --> 00:06:33.514\nthere that I now have just those last\nthree entries from that shadow file.\n\n123\n00:06:33.514 --> 00:06:37.466\nAll right, now for hashcat, different\nprograms are gonna work different ways,\n\n124\n00:06:37.466 --> 00:06:39.640\nhave different input requirements.\n\n125\n00:06:39.640 --> 00:06:42.790\nHashcat just wants the hash value.\n\n126\n00:06:42.790 --> 00:06:47.420\nAnd you can see right there that there is\na username at the beginning of that line.\n\n127\n00:06:47.420 --> 00:06:49.470\nSo we're gonna get rid of that.\n\n128\n00:06:49.470 --> 00:06:51.945\nI'm gonna use Leafpad for\nthis demonstration just so\n\n129\n00:06:51.945 --> 00:06:55.690\nit'll make it a little bit easier for\neverybody to see out there what I'm doing.\n\n130\n00:06:58.730 --> 00:07:01.964\nBlow, cuz I can blow this up and\nmake that font nice and big,\n\n131\n00:07:01.964 --> 00:07:04.122\nnow you can really see that hash value.\n\n132\n00:07:04.122 --> 00:07:10.242\nAnd what I wanna do is I wanna\nget rid of the user name and\n\n133\n00:07:10.242 --> 00:07:14.595\nthat colon on each one of those lines.\n\n134\n00:07:14.595 --> 00:07:19.482\nNow at the end, I wanna take\neverything from that colon and\n\n135\n00:07:19.482 --> 00:07:24.150\nfollowing, and\nI wanna get rid of that as well.\n\n136\n00:07:24.150 --> 00:07:27.580\nDo be careful, like you might be\ntempted to grab that period there,\n\n137\n00:07:27.580 --> 00:07:29.410\nthinking, that's not part of the hash.\n\n138\n00:07:29.410 --> 00:07:32.770\nThat is part,\nthat is one of the bits they can use.\n\n139\n00:07:32.770 --> 00:07:37.230\nSo don't take that out or that trailing\nslash there, that is not a trailing slash,\n\n140\n00:07:37.230 --> 00:07:39.160\nthat is part of the hash value.\n\n141\n00:07:39.160 --> 00:07:43.450\nSo here I'm left with just the hash\nvalues that I wanna crack.\n\n142\n00:07:43.450 --> 00:07:47.250\nSo we'll go ahead and\nsave that and close that file.\n\n143\n00:07:47.250 --> 00:07:50.630\nSo now we have our input for hashcat.\n\n144\n00:07:50.630 --> 00:07:53.700\nNow we have to point it to it and\ngive it some options.\n\n145\n00:07:53.700 --> 00:07:58.670\nNow one of the options that we need\nis what algorithm is being used,\n\n146\n00:07:58.670 --> 00:07:59.860\nwhat hashing algorithm, right?\n\n147\n00:07:59.860 --> 00:08:01.703\nWhat are those hash values?\n\n148\n00:08:01.703 --> 00:08:05.290\nIs that MD5, is that SHA-1, what is that?\n\n149\n00:08:05.290 --> 00:08:09.690\nThere's a file in our Linux systems\ncalled login.defs where I can get\n\n150\n00:08:09.690 --> 00:08:10.590\nthat information.\n\n151\n00:08:10.590 --> 00:08:14.636\nSo let's go take a peek at that.\n\n152\n00:08:14.636 --> 00:08:16.830\nWell, we'll do it a couple different ways,\nif I just cat.\n\n153\n00:08:18.820 --> 00:08:19.600\nWhere is that guy?\n\n154\n00:08:19.600 --> 00:08:22.710\nIt's the login.defs.\n\n155\n00:08:22.710 --> 00:08:28.500\nIt's a pretty large file and I could\neventually scroll and scroll and scroll.\n\n156\n00:08:28.500 --> 00:08:30.510\nWhat I'm looking for is encrypt method.\n\n157\n00:08:31.600 --> 00:08:36.679\nAnd let's see, I'll show you\nan easier way to do this is just\n\n158\n00:08:36.679 --> 00:08:41.490\ngoing to be, Well, let's do it this way.\n\n159\n00:08:42.930 --> 00:08:48.740\nLet's say grep, I'll say, hey, give me\nabout 18 lines or so to fill up my screen.\n\n160\n00:08:48.740 --> 00:08:54.307\nAnd I'm looking for encrypt_method,\n\n161\n00:08:54.307 --> 00:08:58.420\nall right, in that etc.\n\n162\n00:08:58.420 --> 00:09:00.846\nOops, let's get rid of\nthat caps lock there.\n\n163\n00:09:00.846 --> 00:09:05.069\nThen /etc/login.defs.\n\n164\n00:09:08.473 --> 00:09:09.981\nAnd there we go.\n\n165\n00:09:09.981 --> 00:09:12.410\nAll right, so\nthat's the line I was looking for.\n\n166\n00:09:12.410 --> 00:09:14.210\nI probably scrolled right by it.\n\n167\n00:09:14.210 --> 00:09:16.880\nI'm not the most observant person\nsometimes when I'm scrolling around, so\n\n168\n00:09:16.880 --> 00:09:18.420\nthat's why I love good ole Grep.\n\n169\n00:09:18.420 --> 00:09:20.030\nBut that is what I'm looking for.\n\n170\n00:09:20.030 --> 00:09:23.600\nI can see now that it is SHA512.\n\n171\n00:09:23.600 --> 00:09:27.930\nThat is gonna be the hashing algorithm\nthat was used to generate those hashes.\n\n172\n00:09:27.930 --> 00:09:29.180\nNeed to know what that is so\n\n173\n00:09:29.180 --> 00:09:31.900\nthat my program will know\nhow to try to decrypt those.\n\n174\n00:09:33.230 --> 00:09:36.020\nSo now that we know that,\nlet's run hashcat, shall we?\n\n175\n00:09:36.020 --> 00:09:37.780\nWe're gonna type in hashcat.\n\n176\n00:09:37.780 --> 00:09:41.510\nAnd I'm gonna do a -m and 1800.\n\n177\n00:09:41.510 --> 00:09:46.130\nYou're like,\nwhere did you pull that out of?\n\n178\n00:09:46.130 --> 00:09:51.650\nThat's actually in the help file for\nhashcat.\n\n179\n00:09:51.650 --> 00:09:54.190\nNow let me show you how you can see that.\n\n180\n00:09:54.190 --> 00:10:00.250\nIf you just did hashcat --help,\nyou can scroll around the look for it.\n\n181\n00:10:00.250 --> 00:10:04.959\nAgain, I'm gonna use my handy dandy grep,\nand\n\n182\n00:10:04.959 --> 00:10:09.322\nlet's grep that for 1800, all right?\n\n183\n00:10:09.322 --> 00:10:12.530\nAnd that was the line I'm looking for\nright there.\n\n184\n00:10:12.530 --> 00:10:15.840\n1800 is sha512, right?\n\n185\n00:10:15.840 --> 00:10:18.284\nWith that salt of six dollar signs, and\n\n186\n00:10:18.284 --> 00:10:21.790\nyou saw that at the beginning\nat the hashes, all right?\n\n187\n00:10:21.790 --> 00:10:27.700\nThat's what we're looking for,\nsha512 for Unix based operating systems.\n\n188\n00:10:27.700 --> 00:10:28.830\nNow that's in the help, right?\n\n189\n00:10:28.830 --> 00:10:34.780\nIf I just do hashcat,\nreally having trouble typing today,\n\n190\n00:10:34.780 --> 00:10:39.240\n--help, I can find that,\nright, cuz it's in here.\n\n191\n00:10:39.240 --> 00:10:44.460\nI can look at all of\nthese numbers right here,\n\n192\n00:10:44.460 --> 00:10:48.180\nand it's telling me, hey,\nlook if you're trying crack a hash for\n\n193\n00:10:48.180 --> 00:10:53.610\n7 Zip archives, well,\nyou're doing to do a mode of 11600, right?\n\n194\n00:10:54.950 --> 00:10:58.800\nSomewhere in here I would find that 1800,\nbut\n\n195\n00:10:58.800 --> 00:11:01.310\nI took care of that before we got started.\n\n196\n00:11:01.310 --> 00:11:03.100\nSo we already know what we need.\n\n197\n00:11:03.100 --> 00:11:04.702\nYeah, Wes, let's take a look at this guy.\n\n198\n00:11:04.702 --> 00:11:09.250\nSo hashcat and\nthe command is gonna be a -m for\n\n199\n00:11:09.250 --> 00:11:13.310\nthe mode and\nthat is the 1,800 that we saw for\n\n200\n00:11:13.310 --> 00:11:19.790\nthe SHA 512 Unix systems and\nwe're gonna do a -a 0.\n\n201\n00:11:19.790 --> 00:11:24.490\nAnd this is telling me the attack type and\nI'm going to be doing a dictionary attack.\n\n202\n00:11:24.490 --> 00:11:26.150\nSo that's a type 0.\n\n203\n00:11:26.150 --> 00:11:29.640\nAgain, that's all in the help file for\nhashcat.\n\n204\n00:11:29.640 --> 00:11:33.350\nThen I'm gonna do a,\nlet's put cracked.txt.\n\n205\n00:11:33.350 --> 00:11:35.884\nThis is going to be my,\noops, you know what?\n\n206\n00:11:35.884 --> 00:11:40.180\nI almost forgot my -o for my output.\n\n207\n00:11:41.280 --> 00:11:47.140\nSo -a and a 0 for my dictionary attack,\n-o for my output and\n\n208\n00:11:47.140 --> 00:11:52.020\nthe name of the file I wanna store any\npasswords that I actually crack in there,\n\n209\n00:11:52.020 --> 00:11:53.330\nso we'll call that cracked.txt.\n\n210\n00:11:53.330 --> 00:11:56.470\nI'll do a --remove.\n\n211\n00:11:56.470 --> 00:12:00.496\nWhat this will do is if I've got a list\nof hash values that I'm trying to crack,\n\n212\n00:12:00.496 --> 00:12:03.668\nas it cracks them,\nit'll remove those hashes from the list,\n\n213\n00:12:03.668 --> 00:12:07.267\nbecause when I'm done there might\nbe some hashes that it didn't get.\n\n214\n00:12:07.267 --> 00:12:09.559\nAnd I don't wanna have to go\nthrough that list and figure out,\n\n215\n00:12:09.559 --> 00:12:11.850\nwhich ones did it crack,\nwhich ones didn't it crack.\n\n216\n00:12:11.850 --> 00:12:14.143\nIt will remove them for\nme, as it cracks them, so\n\n217\n00:12:14.143 --> 00:12:17.410\nthat my list in the end is just\nthe hashes that I haven't cracked yet.\n\n218\n00:12:17.410 --> 00:12:20.491\nAnd I can do further processing on those,\nall right?\n\n219\n00:12:20.491 --> 00:12:24.077\nAnd then I've got to give it an input,\nwhich is the hashes.text,\n\n220\n00:12:24.077 --> 00:12:27.791\nthat was where we removed the user name,\nand that trailing info, and\n\n221\n00:12:27.791 --> 00:12:30.210\nwe're left with just the hashes.\n\n222\n00:12:30.210 --> 00:12:32.520\nAnd then I've got to give\nit the dictionary, right?\n\n223\n00:12:32.520 --> 00:12:36.790\nWhat am I going to use as my input for\nthis?\n\n224\n00:12:36.790 --> 00:12:40.980\nNow I have one,\nlet's see where I've hid that guy.\n\n225\n00:12:40.980 --> 00:12:42.100\nThere's, actually, you know what?\n\n226\n00:12:42.100 --> 00:12:45.056\nI'll just use.\n\n227\n00:12:45.056 --> 00:12:46.465\nLet's\n\n228\n00:12:46.465 --> 00:12:56.096\ndo usr/share/wordlists/fasttrack.txt,\n\n229\n00:12:56.096 --> 00:12:57.744\nright?\n\n230\n00:12:57.744 --> 00:13:00.584\nAnd then I'm also gonna do a --force.\n\n231\n00:13:00.584 --> 00:13:03.340\nAnd let me show you what'll\nhappen if I don't do that.\n\n232\n00:13:03.340 --> 00:13:05.900\nIf I leave that off,\nit's gonna fire up and\n\n233\n00:13:05.900 --> 00:13:08.430\nit's telling me not a native\nIntel open CL runtime.\n\n234\n00:13:08.430 --> 00:13:13.437\nThis is my VM and\nthere is not quite the processing power.\n\n235\n00:13:13.437 --> 00:13:14.570\nIt had some issues with that.\n\n236\n00:13:15.600 --> 00:13:19.593\nI'm gonna do a --force and\nit will run it anyway.\n\n237\n00:13:19.593 --> 00:13:22.700\nIt's gonna say, I might melt your system,\nbut I'm gonna go ahead and run it.\n\n238\n00:13:22.700 --> 00:13:26.480\nSo I'll do a --force, and we'll let it go.\n\n239\n00:13:26.480 --> 00:13:27.480\nAnd it begins.\n\n240\n00:13:27.480 --> 00:13:30.150\nAnd it's telling me,\nyou see that part about watchdog,\n\n241\n00:13:30.150 --> 00:13:34.970\nit can't find the temperature aboard or\nanything like that.\n\n242\n00:13:34.970 --> 00:13:38.950\nSo say sorry, if your system melts,\nI tried to tell you.\n\n243\n00:13:38.950 --> 00:13:40.520\nAll right, and let's see what we get.\n\n244\n00:13:40.520 --> 00:13:42.780\nWe got status exhausted.\n\n245\n00:13:42.780 --> 00:13:45.620\nThat means it worked through\nthat entire word list.\n\n246\n00:13:45.620 --> 00:13:51.290\nNow there were 222 words\nin that word list and\n\n247\n00:13:51.290 --> 00:13:53.980\nthat took what, all of ten seconds?\n\n248\n00:13:53.980 --> 00:13:55.100\n&gt;&gt; Yeah, that wasn't much at all.\n\n249\n00:13:55.100 --> 00:13:57.960\n&gt;&gt; And that's a very, very,\nvery small word list, right?\n\n250\n00:13:59.720 --> 00:14:01.950\nShows me some summary of\ninformation that took,\n\n251\n00:14:01.950 --> 00:14:04.330\nin fact it took [LAUGH]\n0 seconds according to.\n\n252\n00:14:04.330 --> 00:14:08.320\nI think actually it took\na little bit longer than that.\n\n253\n00:14:08.320 --> 00:14:09.560\nLet's see if we found any.\n\n254\n00:14:09.560 --> 00:14:12.410\nLet's do an LS.\n\n255\n00:14:12.410 --> 00:14:16.756\nAnd there's my cracked.txt,\n\n256\n00:14:16.756 --> 00:14:23.390\ncracked.txt, let me make that a little\nbit bigger for you guys, and there we go.\n\n257\n00:14:23.390 --> 00:14:26.350\nThere is the first one.\n\n258\n00:14:26.350 --> 00:14:31.090\nIt came up, and there is what it found,\nprincess, all right?\n\n259\n00:14:31.090 --> 00:14:32.650\nThere's the second one.\n\n260\n00:14:32.650 --> 00:14:35.230\nAnd it was starwars, right?\n\n261\n00:14:35.230 --> 00:14:38.020\nSo it got two of the three passwords.\n\n262\n00:14:38.020 --> 00:14:39.910\nOne of them, it didn't get.\n\n263\n00:14:39.910 --> 00:14:41.800\nAnd that means it wasn't in my word list.\n\n264\n00:14:41.800 --> 00:14:43.801\nSo maybe I have to go back and\n\n265\n00:14:43.801 --> 00:14:49.100\ntry to crack that one with a different\nword list or whatever I wanna do.\n\n266\n00:14:49.100 --> 00:14:51.460\nAnd if we look at hashes.txt,\n\n267\n00:14:58.380 --> 00:15:04.016\nAnd let's see if I lost that file, yep.\n\n268\n00:15:06.284 --> 00:15:07.945\nAll right, there we go.\n\n269\n00:15:07.945 --> 00:15:10.535\nYou will see there is one\nhash value left in there.\n\n270\n00:15:10.535 --> 00:15:13.406\nSo the two that it cracked,\nit removed from the file.\n\n271\n00:15:13.406 --> 00:15:15.660\nThe one that it wasn't able to get,\nit left there.\n\n272\n00:15:15.660 --> 00:15:18.710\nSo now I can take that file, and\nI can do further processing on it.\n\n273\n00:15:18.710 --> 00:15:19.520\nSo you see,\n\n274\n00:15:19.520 --> 00:15:24.430\nhashcat is a pretty straightforward little\nutility as far as what we just did.\n\n275\n00:15:24.430 --> 00:15:26.520\nThere's a few options we had to know.\n\n276\n00:15:26.520 --> 00:15:30.010\nWe had to know what\nthe hashing algorithm was.\n\n277\n00:15:30.010 --> 00:15:33.710\nWe needed to know the way\nhashcat expected the input.\n\n278\n00:15:33.710 --> 00:15:37.210\nAnd that was simply one\nhash value per line.\n\n279\n00:15:37.210 --> 00:15:38.422\nWe fired it up.\n\n280\n00:15:38.422 --> 00:15:39.970\nAnd it rifles through that list.\n\n281\n00:15:41.335 --> 00:15:43.545\nAnd it just cracks those passwords.\n\n282\n00:15:43.545 --> 00:15:46.435\n&gt;&gt; It's good to see the hands-on, too,\nand get out some of the theoretical.\n\n283\n00:15:46.435 --> 00:15:49.435\nTheoretical is nice, because it sets the\nfoundation for what you're gonna be doing.\n\n284\n00:15:49.435 --> 00:15:52.085\nBut it's really nice when you\ncan see some of the hands-on.\n\n285\n00:15:52.085 --> 00:15:53.145\nMike, do me a favor?\n\n286\n00:15:53.145 --> 00:15:54.129\nDon't let anybody know that\n\n287\n00:15:54.129 --> 00:15:55.702\nmy password's actually princess\n&gt;&gt; [LAUGH]\n\n288\n00:15:55.702 --> 00:15:57.692\n&gt;&gt; We'll just keep that between you and\n\n289\n00:15:57.692 --> 00:15:59.012\nmyself and the Internet.\n\n290\n00:15:59.012 --> 00:16:01.492\nIt does look like we are coming\nto the end of another episode.\n\n291\n00:16:01.492 --> 00:16:04.742\nBut when it comes to using things like\nhashcat or just generally password\n\n292\n00:16:04.742 --> 00:16:07.600\ncracking, Mike, any additional words\nyou might like to tell the viewers?\n\n293\n00:16:07.600 --> 00:16:09.140\nYeah, play with a few different ones.\n\n294\n00:16:09.140 --> 00:16:12.434\nAll of them have different options,\ndifferent capabilities,\n\n295\n00:16:12.434 --> 00:16:13.962\nsome are faster than others.\n\n296\n00:16:13.962 --> 00:16:18.897\nReally, when it comes down to it, though,\nif you're doing a dictionary-based attack,\n\n297\n00:16:18.897 --> 00:16:21.730\nit's about your word list or\nyour dictionary file.\n\n298\n00:16:21.730 --> 00:16:23.924\nYou spend a lot of time building that,\n\n299\n00:16:23.924 --> 00:16:28.940\nfine tuning that word list to have what\nyou think those passwords might be.\n\n300\n00:16:28.940 --> 00:16:30.120\n&gt;&gt; Great information, Mike.\n\n301\n00:16:30.120 --> 00:16:31.520\nThank you for being here as always.\n\n302\n00:16:31.520 --> 00:16:34.750\nWe appreciate having you in the studios,\nand we appreciate you the viewers.\n\n303\n00:16:34.750 --> 00:16:36.370\nRemember, you're the reason that we exist.\n\n304\n00:16:36.370 --> 00:16:39.010\nSigning out for ITProTV,\nI've been your host, Wes Bryan.\n\n305\n00:16:39.010 --> 00:16:39.900\n&gt;&gt; And I'm Mike Rodrick.\n\n306\n00:16:39.900 --> 00:16:40.870\n&gt;&gt; And we'll see you next time.\n\n307\n00:16:40.870 --> 00:16:48.210\n[MUSIC]\n\n308\n00:16:48.210 --> 00:16:51.646\nThank you for watching ITProTV.\n\n",
          "vimeoId": "224338576"
        }
      ],
      "title": "Security Tech Skills"
    }
  ],
  "url": "security-tech-skills-2017",
  "vLab": false
}
